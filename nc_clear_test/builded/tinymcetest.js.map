{"version":3,"file":"tinymcetest.js","mappings":"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SAAUC,GAClC,OAAIF,EAAQE,GACH,GAAGlU,OAPM,SAAU8T,GAC5B,OAAOtR,EAAS6C,KAAKyO,GAAS,SAAUjU,GACtC,OAAOmU,EAAQnU,IAAyB,IAAhBA,EAAKI,UAKZkU,CAAcD,IAEL,mBAAjBA,EACFA,IAEF,IAgBLE,EAHe,SAAU1R,GAC3B,OAZkB,SAAUA,EAAQoR,GACpC,IAAIO,EAAclR,EAAoBT,GAClC2R,IACFP,EAAUG,EAAoBI,IAEhC,IAAIC,EAAoBnR,EAA0BT,GAClD,OAAI4R,EACK,GAAGtU,OAAO8T,GAAS9T,OAAOiU,EAAoBK,IAEhDR,EAGAS,CAAc7R,EArjCd,CACL,CACE,MACA,kBAEF,CACE,MACA,eAEF,CACE,KACA,kBAEF,CACE,MACA,aAEF,CACE,OACA,aAEF,CACE,MACA,cAEF,CACE,MACA,YAEF,CACE,MACA,kBAEF,CACE,MACA,mBAEF,CACE,OACA,mBAEF,CACE,OACA,kBAEF,CACE,MACA,cAEF,CACE,MACA,cAEF,CACE,OACA,UAEF,CACE,OACA,oBAEF,CACE,OACA,kBAEF,CACE,OACA,oBAEF,CACE,MACA,gBAEF,CACE,MACA,kBAEF,CACE,MACA,qBAEF,CACE,OACA,6CAEF,CACE,OACA,8CAEF,CACE,MACA,2BAEF,CACE,MACA,4BAEF,CACE,OACA,8BAEF,CACE,OACA,+BAEF,CACE,OACA,8BAEF,CACE,OACA,+BAEF,CACE,OACA,+BAEF,CACE,OACA,+BAEF,CACE,KACA,kBAEF,CACE,KACA,qBAEF,CACE,OACA,yBAEF,CACE,OACA,4BAEF,CACE,OACA,WAEF,CACE,OACA,WAEF,CACE,MACA,UAEF,CACE,OACA,YAEF,CACE,MACA,iBAEF,CACE,MACA,cAEF,CACE,MACA,aAEF,CACE,MACA,6BAEF,CACE,MACA,wBAEF,CACE,MACA,qBAEF,CACE,MACA,eAEF,CACE,MACA,eAEF,CACE,OACA,cAEF,CACE,MACA,mBAEF,CACE,MACA,iBAEF,CACE,OACA,kBAEF,CACE,MACA,uBAEF,CACE,MACA,mBAEF,CACE,MACA,mBAEF,CACE,MACA,qBAEF,CACE,MACA,wBAEF,CACE,MACA,qBAEF,CACE,MACA,2BAEF,CACE,MACA,qBAEF,CACE,OACA,YAEF,CACE,OACA,kBAEF,CACE,OACA,YAEF,CACE,OACA,eAEF,CACE,OACA,cAEF,CACE,OACA,0BAEF,CACE,OACA,mBAEF,CACE,OACA,gBAEF,CACE,OACA,gBAEF,CACE,OACA,cAEF,CACE,OACA,qBAEF,CACE,OACA,sBAEF,CACE,OACA,iBAEF,CACE,OACA,eAEF,CACE,OACA,cAEF,CACE,MACA,YAEF,CACE,OACA,gBAEF,CACE,OACA,SAEF,CACE,OACA,wBAEF,CACE,OACA,WAEF,CACE,OACA,gBAEF,CACE,OACA,YAEF,CACE,OACA,uBAEF,CACE,OACA,qBAEF,CACE,OACA,mBAEF,CACE,OACA,SAEF,CACE,MACA,gBAEF,CACE,MACA,WAEF,CACE,MACA,8BAEF,CACE,MACA,+BAEF,CACE,OACA,UAEF,CACE,OACA,iBAEF,CACE,MACA,aAEF,CACE,MACA,aAEF,CACE,MACA,kBAEF,CACE,MACA,aAEF,CACE,MACA,iBAEF,CACE,MACA,kBAEF,CACE,MACA,cAEF,CACE,MACA,eAEF,CACE,MACA,eAEF,CACE,MACA,aAEF,CACE,MACA,aAEF,CACE,MACA,kBAEF,CACE,MACA,iBAEF,CACE,MACA,cAEF,CACE,MACA,aAEF,CACE,MACA,aAEF,CACE,MACA,kBAEF,CACE,MACA,iBAEF,CACE,MACA,cAEF,CACE,MACA,OAEF,CACE,MACA,aAEF,CACE,MACA,aAEF,CACE,MACA,aAEF,CACE,MACA,kBAEF,CACE,MACA,aAEF,CACE,MACA,iBAEF,CACE,MACA,aAEF,CACE,MACA,cAEF,CACE,MACA,eAEF,CACE,MACA,aAEF,CACE,MACA,aAEF,CACE,MACA,aAEF,CACE,MACA,kBAEF,CACE,MACA,iBAEF,CACE,MACA,cAEF,CACE,MACA,aAEF,CACE,MACA,iBAEF,CACE,MACA,cAEF,CACE,MACA,SAEF,CACE,MACA,aAEF,CACE,MACA,aAEF,CACE,MACA,kBAEF,CACE,MACA,aAEF,CACE,MACA,iBAEF,CACE,MACA,kBAEF,CACE,MACA,cAEF,CACE,MACA,eAEF,CACE,MACA,eAEF,CACE,MACA,aAEF,CACE,MACA,aAEF,CACE,MACA,kBAEF,CACE,MACA,iBAEF,CACE,MACA,cAEF,CACE,MACA,aAEF,CACE,MACA,aAEF,CACE,MACA,kBAEF,CACE,MACA,iBAEF,CACE,MACA,cAEF,CACE,MACA,OAEF,CACE,MACA,aAEF,CACE,MACA,aAEF,CACE,MACA,aAEF,CACE,MACA,kBAEF,CACE,MACA,aAEF,CACE,MACA,iBAEF,CACE,MACA,WAEF,CACE,MACA,YAEF,CACE,MACA,eAEF,CACE,MACA,aAEF,CACE,MACA,aAEF,CACE,MACA,aAEF,CACE,MACA,kBAEF,CACE,MACA,iBAEF,CACE,MACA,cAEF,CACE,MACA,aAEF,CACE,MACA,SAEF,CACE,MACA,iBAEF,CACE,MACA,cAEF,CACE,MACA,SAEF,CACE,MACA,QAEF,CACE,MACA,SAEF,CACE,MACA,SAEF,CACE,MACA,WAEF,CACE,MACA,QAEF,CACE,MACA,OAEF,CACE,MACA,SAEF,CACE,MACA,QAEF,CACE,MACA,SAEF,CACE,MACA,UAEF,CACE,MACA,MAEF,CACE,MACA,MAEF,CACE,MACA,MAEF,CACE,MACA,WAEF,CACE,MACA,MAEF,CACE,MACA,OAEF,CACE,MACA,SAEF,CACE,MACA,OAEF,CACE,MACA,WAEF,CACE,MACA,OAEF,CACE,MACA,OAEF,CACE,MACA,OAEF,CACE,MACA,SAEF,CACE,MACA,SAEF,CACE,MACA,QAEF,CACE,MACA,SAEF,CACE,MACA,SAEF,CACE,MACA,WAEF,CACE,MACA,QAEF,CACE,MACA,OAEF,CACE,MACA,SAEF,CACE,MACA,QAEF,CACE,MACA,SAEF,CACE,MACA,UAEF,CACE,MACA,MAEF,CACE,MACA,MAEF,CACE,MACA,MAEF,CACE,MACA,WAEF,CACE,MACA,MAEF,CACE,MACA,OAEF,CACE,MACA,eAEF,CACE,MACA,SAEF,CACE,MACA,OAEF,CACE,MACA,WAEF,CACE,MACA,OAEF,CACE,MACA,OAEF,CACE,MACA,OAEF,CACE,MACA,SAEF,CACE,OACA,eAEF,CACE,MACA,aAEF,CACE,OACA,oBAEF,CACE,MACA,yBAEF,CACE,OACA,iBAEF,CACE,OACA,kBAEF,CACE,OACA,mBAEF,CACE,OACA,iBAEF,CACE,OACA,oBAEF,CACE,OACA,mBAEF,CACE,OACA,oBAEF,CACE,OACA,mBAEF,CACE,OACA,0BAEF,CACE,OACA,wBAEF,CACE,OACA,2BAEF,CACE,OACA,0BAEF,CACE,OACA,2BAEF,CACE,OACA,aAEF,CACE,OACA,aAEF,CACE,OACA,eAEF,CACE,OACA,mBAEF,CACE,OACA,yBAEF,CACE,OACA,2BAEF,CACE,OACA,gBAEF,CACE,OACA,iBAEF,CACE,OACA,iBAEF,CACE,OACA,gBAEF,CACE,OACA,gBAEF,CACE,OACA,iBAEF,CACE,OACA,cAEF,CACE,OACA,eAEF,CACE,OACA,+BAEF,CACE,OACA,gCAEF,CACE,OACA,WAEF,CACE,OACA,oBAEF,CACE,OACA,mBAEF,CACE,OACA,oBAEF,CACE,OACA,sBAEF,CACE,OACA,YAEF,CACE,OACA,YAEF,CACE,OACA,cAEF,CACE,OACA,yBAEF,CACE,OACA,qBAEF,CACE,OACA,sBAEF,CACE,OACA,yBA8CF8R,EAZM,SAAU9R,GAOlB,MAAO,CACL+R,WAPe,WACf,OAAOL,EAAmB1R,IAO1BgS,WALe,SAAUnQ,GACzB9B,EAAmBC,EAAQ6B,MAgC3BoQ,EAvBU,SAAUb,GACtB,IAAIc,EAAUC,EAAGC,EACbC,EAAQC,KAAKC,IAAInB,EAAQ7T,OAAQ,IACjCiV,EAASF,KAAKG,KAAKrB,EAAQ7T,OAAS8U,GAExC,IADAH,EAAW,yEACNE,EAAI,EAAGA,EAAII,EAAQJ,IAAK,CAE3B,IADAF,GAAY,OACPC,EAAI,EAAGA,EAAIE,EAAOF,IAAK,CAC1B,IAAI5P,EAAQ6P,EAAIC,EAAQF,EACxB,GAAI5P,EAAQ6O,EAAQ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,GAC/C,OAAOuO,EAAS9D,EAAQ37B,QAAQk7B,GAAShK,EAAMgK,EAAOoE,gBAI1D,SAASmB,EAAM9/B,EAAO+R,EAAKgd,GACzB,IAAIgR,EAA+B,iBAAV//B,EAAqBggC,WAAWhgC,GAASA,EAMlE,OALI+/B,EAAchR,EAChBgR,EAAchR,EACLgR,EAAchuB,IACvBguB,EAAchuB,GAETguB,EA+BT,IAAIE,EAAc,CAChB,EACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,EACA,KACA,KACA,KACA,KACA,IACA,KACA,KACA,KACA,KACA,IACA,KACA,KACA,KACA,KACA,IACA,KACA,EACA,KACA,KACA,KACA,IACA,KACA,KACA,KACA,EACA,IACA,IACA,IACA,IACA,EACA,IACA,IACA,IACA,EACA,IACA,EACA,IACA,IACA,EACA,IACA,IACA,IACA,EACA,IACA,IACA,EACA,IACA,IACA,IACA,IAEF,SAASC,EAASC,EAASC,GAIzB,IAHA,IAEI9D,EAFA+D,EAAM,GACNC,EAAM,IAAI3nB,MAAM,IAEX1b,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC1B,IAAK,IAAIgb,EAAI,EAAGA,EAAI,EAAGA,IACrBooB,EAAIpoB,GAAKmoB,EAAQnoB,EAAQ,EAAJhb,GAEvB,IAASgb,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC1BqkB,EAAM,EACN,IAAK,IAAI7+B,EAAI,EAAGA,EAAI,EAAGA,IACrB6+B,GAAO6D,EAAQloB,EAAQ,EAAJxa,GAAS4iC,EAAI5iC,GAElC6iC,EAAIroB,EAAQ,EAAJhb,GAASq/B,GAGrB,OAAOgE,EAET,SAASC,EAAOC,EAAQC,GAEtB,OADAA,EAAcX,EAAMW,EAAa,EAAG,GAC7BD,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X,IAwSI+lK,GAAeC,GAAcC,GAxK7BC,GAAa,SAAUjkK,GACzB,IAAImhC,EACJ,OAAO,SAAUpjC,GAEf,OADAojC,EAASA,GAnnJK,SAAUhY,EAAIR,GAE9B,IADA,IAAIzL,EAAI,GACCxiB,EAAI,EAAGgJ,EAAMylB,EAAG3uB,OAAQE,EAAIgJ,EAAKhJ,IAAK,CAC7C,IAAI0U,EAAI+Z,EAAGzuB,GACXwiB,EAAE5hB,OAAO8T,IAAMuZ,EAAEvZ,EAAG1U,GAEtB,OAAOwiB,EA6mJsBgnJ,CAAYlkK,EAAOiZ,GAAS,IAChDkoB,EAAOluB,eAAe1R,GAAKxD,MAGlComK,GAAYF,GA/BD,CACb,KACA,KACA,KACA,KACA,KACA,OA0BExkH,GAAUwkH,GAxID,CACX,UACA,QACA,UACA,MACA,KACA,aACA,SACA,OACA,WACA,SACA,SACA,OACA,OACA,MACA,UACA,UACA,OACA,IACA,KACA,WACA,KACA,SACA,UACA,SACA,aACA,KACA,KACA,KACA,KACA,KACA,KACA,UACA,MACA,MACA,YACA,OACA,MACA,KACA,KACA,KACA,KACA,QACA,QACA,QACA,QACA,KACA,KACA,KACA,YAwFExyB,GAAW,SAAU1zI,GACvB,OAAOysD,GAAUzsD,KAAU0hD,GAAQ1hD,IAEjCuhD,GAAO,SAAUvhD,GACnB,OAAOysD,GAAUzsD,IAAwB,OAAfwD,GAAKxD,IAE7BqmK,GAAcH,GAhED,CACf,KACA,KACA,KACA,KACA,KACA,KACA,IACA,MACA,UACA,MACA,OACA,aACA,SACA,MACA,WACA,SACA,SACA,UACA,UACA,SACA,QACA,MACA,WA0CE5hH,GAAS4hH,GA3BD,CACV,KACA,KACA,OAyBEx/D,GAAaw/D,GAjCD,CACd,KACA,KACA,OA+BEI,GAASJ,GA/FD,CACV,OACA,OACA,WACA,KACA,MACA,QACA,KACA,MACA,QACA,UACA,OACA,OACA,QACA,QACA,SACA,MACA,UA+EEK,GAAiBL,GAzED,CAClB,QACA,QACA,UAuEEM,GAAcN,GA9ED,CACf,KACA,OA6EEO,GAAsBP,GA3BT,CACf,MACA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","sources":["webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/codesample/css/prism.css","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/skins/lightgray/skin.min.css","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./src/namedComps/tinymcetest.vue?5c3b","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/css-loader/dist/runtime/api.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/css-loader/dist/runtime/getUrl.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/css-loader/dist/runtime/sourceMaps.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/advlist/index.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/advlist/plugin.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/anchor/index.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/anchor/plugin.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/autolink/index.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/autolink/plugin.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/autoresize/index.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/autoresize/plugin.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/autosave/index.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/autosave/plugin.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/bbcode/index.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/bbcode/plugin.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/charmap/index.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/charmap/plugin.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/code/index.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/code/plugin.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/codesample/index.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/codesample/plugin.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/colorpicker/index.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/colorpicker/plugin.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/contextmenu/index.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/contextmenu/plugin.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/directionality/index.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/directionality/plugin.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/emoticons/index.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/emoticons/plugin.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/fullpage/index.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/fullpage/plugin.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/fullscreen/index.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/fullscreen/plugin.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/help/index.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/help/plugin.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/hr/index.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/hr/plugin.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/image/index.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/image/plugin.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/imagetools/index.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/imagetools/plugin.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/importcss/index.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/importcss/plugin.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/insertdatetime/index.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/insertdatetime/plugin.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/legacyoutput/index.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/legacyoutput/plugin.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/link/index.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/link/plugin.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/lists/index.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/lists/plugin.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/media/index.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/media/plugin.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/nonbreaking/index.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/nonbreaking/plugin.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/noneditable/index.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/noneditable/plugin.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/pagebreak/index.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/pagebreak/plugin.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/paste/index.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/paste/plugin.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/preview/index.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/preview/plugin.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/print/index.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/print/plugin.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/save/index.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/save/plugin.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/searchreplace/index.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/searchreplace/plugin.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/spellchecker/index.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/spellchecker/plugin.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/tabfocus/index.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/tabfocus/plugin.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/table/index.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/table/plugin.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/template/index.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/template/plugin.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/textcolor/index.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/textcolor/plugin.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/textpattern/index.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/textpattern/plugin.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/toc/index.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/toc/plugin.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/visualblocks/index.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/visualblocks/plugin.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/visualchars/index.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/visualchars/plugin.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/wordcount/index.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/wordcount/plugin.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/themes/modern/theme.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/tinymce.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/vue-loader/lib/runtime/componentNormalizer.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/vue-style-loader/lib/listToStyles.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/vue-style-loader/lib/addStylesClient.js","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./src/namedComps/tinymcetest.vue?1021","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./src/external/TinymceVue.vue?8d7e","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/src/external/TinymceVue.vue","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./src/external/TinymceVue.vue?795e","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./src/external/TinymceVue.vue","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./src/namedComps/tinymcetest.vue?c1dd","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./src/namedComps/tinymcetest.vue?e260","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/plugins/codesample/css/prism.css?1b38","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./node_modules/tinymce/skins/lightgray/skin.min.css?e974","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./src/namedComps/tinymcetest.vue?e92f","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/webpack/bootstrap","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/webpack/runtime/compat get default export","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/webpack/runtime/define property getters","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/webpack/runtime/global","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/webpack/runtime/hasOwnProperty shorthand","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/webpack/runtime/make namespace object","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/webpack/runtime/jsonp chunk loading","webpack://(function dataCustomLoad(fileName) {\n    var self = this;\n    var currentScript = document.currentScript || Array.prototype.slice.call(document.scripts).find(function (item) { return item.src && item.src.indexOf(\"/\" + fileName) > -1; });\n    return function (moduleData) {\n        if (currentScript && currentScript[\"data-custom-onload\"]) {\n            currentScript[\"data-custom-onload\"](moduleData);\n        }\n        else {\n            (function webpackUniversalModuleDefinition(root, factory) {\n                if (typeof exports === 'object' && typeof module === 'object')\n                    module.exports = factory();\n                else if (typeof define === 'function' && define.amd)\n                    define([], factory);\n                else if (typeof exports === 'object')\n                    exports[\"components\"] = factory();\n                else\n                    root[\"components\"] = factory();\n            })(self, function () { return moduleData; });\n        }\n    };\n})('[name].js')/./src/namedComps/tinymcetest.vue"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"/* http://prismjs.com/download.html?themes=prism&languages=markup+css+clike+javascript */\\n/**\\n * prism.js default theme for JavaScript, CSS and HTML\\n * Based on dabblet (http://dabblet.com)\\n * @author Lea Verou\\n */\\n\\ncode[class*=\\\"language-\\\"],\\npre[class*=\\\"language-\\\"] {\\n  color: black;\\n  text-shadow: 0 1px white;\\n  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;\\n  direction: ltr;\\n  text-align: left;\\n  white-space: pre;\\n  word-spacing: normal;\\n  word-break: normal;\\n  word-wrap: normal;\\n  line-height: 1.5;\\n\\n  -moz-tab-size: 4;\\n  -o-tab-size: 4;\\n  tab-size: 4;\\n\\n  -webkit-hyphens: none;\\n  -moz-hyphens: none;\\n  -ms-hyphens: none;\\n  hyphens: none;\\n}\\n\\npre[class*=\\\"language-\\\"]::-moz-selection, pre[class*=\\\"language-\\\"] ::-moz-selection,\\ncode[class*=\\\"language-\\\"]::-moz-selection, code[class*=\\\"language-\\\"] ::-moz-selection {\\n  text-shadow: none;\\n  background: #b3d4fc;\\n}\\n\\npre[class*=\\\"language-\\\"]::selection, pre[class*=\\\"language-\\\"] ::selection,\\ncode[class*=\\\"language-\\\"]::selection, code[class*=\\\"language-\\\"] ::selection {\\n  text-shadow: none;\\n  background: #b3d4fc;\\n}\\n\\n@media print {\\n  code[class*=\\\"language-\\\"],\\n  pre[class*=\\\"language-\\\"] {\\n    text-shadow: none;\\n  }\\n}\\n\\n/* Code blocks */\\npre[class*=\\\"language-\\\"] {\\n  padding: 1em;\\n  margin: .5em 0;\\n  overflow: auto;\\n}\\n\\n:not(pre) > code[class*=\\\"language-\\\"],\\npre[class*=\\\"language-\\\"] {\\n  background: #f5f2f0;\\n}\\n\\n/* Inline code */\\n:not(pre) > code[class*=\\\"language-\\\"] {\\n  padding: .1em;\\n  border-radius: .3em;\\n}\\n\\n.token.comment,\\n.token.prolog,\\n.token.doctype,\\n.token.cdata {\\n  color: slategray;\\n}\\n\\n.token.punctuation {\\n  color: #999;\\n}\\n\\n.namespace {\\n  opacity: .7;\\n}\\n\\n.token.property,\\n.token.tag,\\n.token.boolean,\\n.token.number,\\n.token.constant,\\n.token.symbol,\\n.token.deleted {\\n  color: #905;\\n}\\n\\n.token.selector,\\n.token.attr-name,\\n.token.string,\\n.token.char,\\n.token.builtin,\\n.token.inserted {\\n  color: #690;\\n}\\n\\n.token.operator,\\n.token.entity,\\n.token.url,\\n.language-css .token.string,\\n.style .token.string {\\n  color: #a67f59;\\n  background: hsla(0, 0%, 100%, .5);\\n}\\n\\n.token.atrule,\\n.token.attr-value,\\n.token.keyword {\\n  color: #07a;\\n}\\n\\n.token.function {\\n  color: #DD4A68;\\n}\\n\\n.token.regex,\\n.token.important,\\n.token.variable {\\n  color: #e90;\\n}\\n\\n.token.important,\\n.token.bold {\\n  font-weight: bold;\\n}\\n.token.italic {\\n  font-style: italic;\\n}\\n\\n.token.entity {\\n  cursor: help;\\n}\\n\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./node_modules/tinymce/plugins/codesample/css/prism.css\"],\"names\":[],\"mappings\":\"AAAA,wFAAwF;AACxF;;;;EAIE;;AAEF;;EAEE,YAAY;EACZ,wBAAwB;EACxB,sEAAsE;EACtE,cAAc;EACd,gBAAgB;EAChB,gBAAgB;EAChB,oBAAoB;EACpB,kBAAkB;EAClB,iBAAiB;EACjB,gBAAgB;;EAEhB,gBAAgB;EAChB,cAAc;EACd,WAAW;;EAEX,qBAAqB;EACrB,kBAAkB;EAClB,iBAAiB;EACjB,aAAa;AACf;;AAEA;;EAEE,iBAAiB;EACjB,mBAAmB;AACrB;;AAEA;;EAEE,iBAAiB;EACjB,mBAAmB;AACrB;;AAEA;EACE;;IAEE,iBAAiB;EACnB;AACF;;AAEA,gBAAgB;AAChB;EACE,YAAY;EACZ,cAAc;EACd,cAAc;AAChB;;AAEA;;EAEE,mBAAmB;AACrB;;AAEA,gBAAgB;AAChB;EACE,aAAa;EACb,mBAAmB;AACrB;;AAEA;;;;EAIE,gBAAgB;AAClB;;AAEA;EACE,WAAW;AACb;;AAEA;EACE,WAAW;AACb;;AAEA;;;;;;;EAOE,WAAW;AACb;;AAEA;;;;;;EAME,WAAW;AACb;;AAEA;;;;;EAKE,cAAc;EACd,iCAAiC;AACnC;;AAEA;;;EAGE,WAAW;AACb;;AAEA;EACE,cAAc;AAChB;;AAEA;;;EAGE,WAAW;AACb;;AAEA;;EAEE,iBAAiB;AACnB;AACA;EACE,kBAAkB;AACpB;;AAEA;EACE,YAAY;AACd\",\"sourcesContent\":[\"/* http://prismjs.com/download.html?themes=prism&languages=markup+css+clike+javascript */\\n/**\\n * prism.js default theme for JavaScript, CSS and HTML\\n * Based on dabblet (http://dabblet.com)\\n * @author Lea Verou\\n */\\n\\ncode[class*=\\\"language-\\\"],\\npre[class*=\\\"language-\\\"] {\\n  color: black;\\n  text-shadow: 0 1px white;\\n  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;\\n  direction: ltr;\\n  text-align: left;\\n  white-space: pre;\\n  word-spacing: normal;\\n  word-break: normal;\\n  word-wrap: normal;\\n  line-height: 1.5;\\n\\n  -moz-tab-size: 4;\\n  -o-tab-size: 4;\\n  tab-size: 4;\\n\\n  -webkit-hyphens: none;\\n  -moz-hyphens: none;\\n  -ms-hyphens: none;\\n  hyphens: none;\\n}\\n\\npre[class*=\\\"language-\\\"]::-moz-selection, pre[class*=\\\"language-\\\"] ::-moz-selection,\\ncode[class*=\\\"language-\\\"]::-moz-selection, code[class*=\\\"language-\\\"] ::-moz-selection {\\n  text-shadow: none;\\n  background: #b3d4fc;\\n}\\n\\npre[class*=\\\"language-\\\"]::selection, pre[class*=\\\"language-\\\"] ::selection,\\ncode[class*=\\\"language-\\\"]::selection, code[class*=\\\"language-\\\"] ::selection {\\n  text-shadow: none;\\n  background: #b3d4fc;\\n}\\n\\n@media print {\\n  code[class*=\\\"language-\\\"],\\n  pre[class*=\\\"language-\\\"] {\\n    text-shadow: none;\\n  }\\n}\\n\\n/* Code blocks */\\npre[class*=\\\"language-\\\"] {\\n  padding: 1em;\\n  margin: .5em 0;\\n  overflow: auto;\\n}\\n\\n:not(pre) > code[class*=\\\"language-\\\"],\\npre[class*=\\\"language-\\\"] {\\n  background: #f5f2f0;\\n}\\n\\n/* Inline code */\\n:not(pre) > code[class*=\\\"language-\\\"] {\\n  padding: .1em;\\n  border-radius: .3em;\\n}\\n\\n.token.comment,\\n.token.prolog,\\n.token.doctype,\\n.token.cdata {\\n  color: slategray;\\n}\\n\\n.token.punctuation {\\n  color: #999;\\n}\\n\\n.namespace {\\n  opacity: .7;\\n}\\n\\n.token.property,\\n.token.tag,\\n.token.boolean,\\n.token.number,\\n.token.constant,\\n.token.symbol,\\n.token.deleted {\\n  color: #905;\\n}\\n\\n.token.selector,\\n.token.attr-name,\\n.token.string,\\n.token.char,\\n.token.builtin,\\n.token.inserted {\\n  color: #690;\\n}\\n\\n.token.operator,\\n.token.entity,\\n.token.url,\\n.language-css .token.string,\\n.style .token.string {\\n  color: #a67f59;\\n  background: hsla(0, 0%, 100%, .5);\\n}\\n\\n.token.atrule,\\n.token.attr-value,\\n.token.keyword {\\n  color: #07a;\\n}\\n\\n.token.function {\\n  color: #DD4A68;\\n}\\n\\n.token.regex,\\n.token.important,\\n.token.variable {\\n  color: #e90;\\n}\\n\\n.token.important,\\n.token.bold {\\n  font-weight: bold;\\n}\\n.token.italic {\\n  font-style: italic;\\n}\\n\\n.token.entity {\\n  cursor: help;\\n}\\n\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_GET_URL_IMPORT___ from \"../../../css-loader/dist/runtime/getUrl.js\";\nvar ___CSS_LOADER_URL_IMPORT_0___ = new URL(\"data:image/gif;base64,R0lGODdhDAAMAIABAMzMzP///ywAAAAADAAMAAACFoQfqYeabNyDMkBQb81Uat85nxguUAEAOw==\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_1___ = new URL(\"img/loader.gif\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_2___ = new URL(\"fonts/tinymce.eot\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_3___ = new URL(\"fonts/tinymce.woff\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_4___ = new URL(\"fonts/tinymce.ttf\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_5___ = new URL(\"fonts/tinymce.svg\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_6___ = new URL(\"fonts/tinymce-small.eot\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_7___ = new URL(\"fonts/tinymce-small.woff\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_8___ = new URL(\"fonts/tinymce-small.ttf\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_9___ = new URL(\"fonts/tinymce-small.svg\", import.meta.url);\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\nvar ___CSS_LOADER_URL_REPLACEMENT_1___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_1___);\nvar ___CSS_LOADER_URL_REPLACEMENT_2___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_2___);\nvar ___CSS_LOADER_URL_REPLACEMENT_3___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_2___, { hash: \"?#iefix\" });\nvar ___CSS_LOADER_URL_REPLACEMENT_4___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_3___);\nvar ___CSS_LOADER_URL_REPLACEMENT_5___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_4___);\nvar ___CSS_LOADER_URL_REPLACEMENT_6___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_5___, { hash: \"#tinymce\" });\nvar ___CSS_LOADER_URL_REPLACEMENT_7___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_6___);\nvar ___CSS_LOADER_URL_REPLACEMENT_8___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_6___, { hash: \"?#iefix\" });\nvar ___CSS_LOADER_URL_REPLACEMENT_9___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_7___);\nvar ___CSS_LOADER_URL_REPLACEMENT_10___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_8___);\nvar ___CSS_LOADER_URL_REPLACEMENT_11___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_9___, { hash: \"#tinymce\" });\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".mce-container,.mce-container *,.mce-widget,.mce-widget *,.mce-reset{margin:0;padding:0;border:0;outline:0;vertical-align:top;background:transparent;text-decoration:none;color:#595959;font-family:\\\"Helvetica Neue\\\",Helvetica,Arial,sans-serif;font-size:14px;text-shadow:none;float:none;position:static;width:auto;height:auto;white-space:nowrap;cursor:inherit;-webkit-tap-highlight-color:transparent;line-height:normal;font-weight:normal;text-align:left;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box;direction:ltr;max-width:none}.mce-widget button{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}.mce-container *[unselectable]{-moz-user-select:none;-webkit-user-select:none;-o-user-select:none;user-select:none}.word-wrap{word-wrap:break-word;-ms-word-break:break-all;word-break:break-all;word-break:break-word;-ms-hyphens:auto;-moz-hyphens:auto;-webkit-hyphens:auto;hyphens:auto}.mce-fade{opacity:0;-webkit-transition:opacity .15s linear;transition:opacity .15s linear}.mce-fade.mce-in{opacity:1}.mce-tinymce{visibility:inherit !important;position:relative}.mce-fullscreen{border:0;padding:0;margin:0;overflow:hidden;height:100%;z-index:100}div.mce-fullscreen{position:fixed;top:0;left:0;width:100%;height:auto}.mce-tinymce{display:block;-webkit-box-shadow:0 1px 2px rgba(0, 0, 0, 0.2);-moz-box-shadow:0 1px 2px rgba(0, 0, 0, 0.2);box-shadow:0 1px 2px rgba(0, 0, 0, 0.2)}.mce-statusbar>.mce-container-body{display:flex;padding-right:16px}.mce-statusbar>.mce-container-body .mce-path{flex:1}.mce-wordcount{font-size:inherit;text-transform:uppercase;padding:8px 0}div.mce-edit-area{background:#FFF;filter:none}.mce-statusbar{position:relative}.mce-statusbar .mce-container-body{position:relative;font-size:11px}.mce-fullscreen .mce-resizehandle{display:none}.mce-statusbar .mce-flow-layout-item{margin:0}.mce-charmap{border-collapse:collapse}.mce-charmap td{cursor:default;border:1px solid #c5c5c5;width:20px;height:20px;line-height:20px;text-align:center;vertical-align:middle;padding:2px}.mce-charmap td div{text-align:center}.mce-charmap td:hover{background:white}.mce-grid td.mce-grid-cell div{border:1px solid #c5c5c5;width:15px;height:15px;margin:0;cursor:pointer}.mce-grid td.mce-grid-cell div:focus{border-color:#91bbe9}.mce-grid td.mce-grid-cell div[disabled]{cursor:not-allowed}.mce-grid{border-spacing:2px;border-collapse:separate}.mce-grid a{display:block;border:1px solid transparent}.mce-grid a:hover,.mce-grid a:focus{border-color:#91bbe9}.mce-grid-border{margin:0 4px 0 4px}.mce-grid-border a{border-color:#c5c5c5;width:13px;height:13px}.mce-grid-border a:hover,.mce-grid-border a.mce-active{border-color:#91bbe9;background:#bdd6f2}.mce-text-center{text-align:center}div.mce-tinymce-inline{width:100%}.mce-colorbtn-trans div{text-align:center;vertical-align:middle;font-weight:bold;font-size:20px;line-height:16px;color:#8b8b8b}.mce-monospace{font-family:\\\"Courier New\\\",Courier,monospace}.mce-toolbar-grp .mce-flow-layout-item{margin-bottom:0}.mce-container b{font-weight:bold}.mce-container p{margin-bottom:5px}.mce-container a{cursor:pointer;color:#2276d2}.mce-container a:hover{text-decoration:underline}.mce-container ul{margin-left:15px}.mce-container .mce-table-striped{border-collapse:collapse;margin:10px}.mce-container .mce-table-striped thead>tr{background-color:#fafafa}.mce-container .mce-table-striped thead>tr th{font-weight:bold}.mce-container .mce-table-striped td,.mce-container .mce-table-striped th{padding:5px}.mce-container .mce-table-striped tr:nth-child(even){background-color:#fafafa}.mce-container .mce-table-striped tbody>tr:hover{background-color:#e1e1e1}.mce-branding{font-size:inherit;text-transform:uppercase;white-space:pre;padding:8px 0}.mce-branding a{font-size:inherit;color:inherit}.mce-top-part{position:relative}.mce-top-part::before{content:'';position:absolute;-webkit-box-shadow:0 1px 2px rgba(0, 0, 0, 0.2);-moz-box-shadow:0 1px 2px rgba(0, 0, 0, 0.2);box-shadow:0 1px 2px rgba(0, 0, 0, 0.2);top:0;right:0;bottom:0;left:0;pointer-events:none}.mce-rtl .mce-wordcount{left:0;right:auto}.mce-rtl .mce-statusbar>.mce-container-body>*:last-child{padding-right:0;padding-left:10px}.mce-rtl .mce-path{text-align:right;padding-right:16px}.mce-croprect-container{position:absolute;top:0;left:0}.mce-croprect-handle{position:absolute;top:0;left:0;width:20px;height:20px;border:2px solid white}.mce-croprect-handle-nw{border-width:2px 0 0 2px;margin:-2px 0 0 -2px;cursor:nw-resize;top:100px;left:100px}.mce-croprect-handle-ne{border-width:2px 2px 0 0;margin:-2px 0 0 -20px;cursor:ne-resize;top:100px;left:200px}.mce-croprect-handle-sw{border-width:0 0 2px 2px;margin:-20px 2px 0 -2px;cursor:sw-resize;top:200px;left:100px}.mce-croprect-handle-se{border-width:0 2px 2px 0;margin:-20px 0 0 -20px;cursor:se-resize;top:200px;left:200px}.mce-croprect-handle-move{position:absolute;cursor:move;border:0}.mce-croprect-block{opacity:.5;filter:alpha(opacity=50);zoom:1;position:absolute;background:black}.mce-croprect-handle:focus{border-color:#2276d2}.mce-croprect-handle-move:focus{outline:1px solid #2276d2}.mce-imagepanel{overflow:auto;background:black}.mce-imagepanel-bg{position:absolute;background:url(\" + ___CSS_LOADER_URL_REPLACEMENT_0___ + \")}.mce-imagepanel img{position:absolute}.mce-imagetool.mce-btn .mce-ico{display:block;width:20px;height:20px;text-align:center;line-height:20px;font-size:20px;padding:5px}.mce-arrow-up{margin-top:12px}.mce-arrow-down{margin-top:-12px}.mce-arrow:before,.mce-arrow:after{position:absolute;left:50%;display:block;width:0;height:0;border-style:solid;border-color:transparent;content:\\\"\\\"}.mce-arrow.mce-arrow-up:before{top:-9px;border-bottom-color:#c5c5c5;border-width:0 9px 9px;margin-left:-9px}.mce-arrow.mce-arrow-down:before{bottom:-9px;border-top-color:#c5c5c5;border-width:9px 9px 0;margin-left:-9px}.mce-arrow.mce-arrow-up:after{top:-8px;border-bottom-color:#fff;border-width:0 8px 8px;margin-left:-8px}.mce-arrow.mce-arrow-down:after{bottom:-8px;border-top-color:#fff;border-width:8px 8px 0;margin-left:-8px}.mce-arrow.mce-arrow-left:before,.mce-arrow.mce-arrow-left:after{margin:0}.mce-arrow.mce-arrow-left:before{left:8px}.mce-arrow.mce-arrow-left:after{left:9px}.mce-arrow.mce-arrow-right:before,.mce-arrow.mce-arrow-right:after{left:auto;margin:0}.mce-arrow.mce-arrow-right:before{right:8px}.mce-arrow.mce-arrow-right:after{right:9px}.mce-arrow.mce-arrow-center.mce-arrow.mce-arrow-left:before{left:-9px;top:50%;border-right-color:#c5c5c5;border-width:9px 9px 9px 0;margin-top:-9px}.mce-arrow.mce-arrow-center.mce-arrow.mce-arrow-left:after{left:-8px;top:50%;border-right-color:#fff;border-width:8px 8px 8px 0;margin-top:-8px}.mce-arrow.mce-arrow-center.mce-arrow.mce-arrow-left{margin-left:12px}.mce-arrow.mce-arrow-center.mce-arrow.mce-arrow-right:before{right:-9px;top:50%;border-left-color:#c5c5c5;border-width:9px 0 9px 9px;margin-top:-9px}.mce-arrow.mce-arrow-center.mce-arrow.mce-arrow-right:after{right:-8px;top:50%;border-left-color:#fff;border-width:8px 0 8px 8px;margin-top:-8px}.mce-arrow.mce-arrow-center.mce-arrow.mce-arrow-right{margin-left:-14px}.mce-edit-aria-container>.mce-container-body{display:flex}.mce-edit-aria-container>.mce-container-body .mce-edit-area{flex:1}.mce-edit-aria-container>.mce-container-body .mce-sidebar>.mce-container-body{display:flex;align-items:stretch;height:100%}.mce-edit-aria-container>.mce-container-body .mce-sidebar-panel{min-width:250px;max-width:250px;position:relative}.mce-edit-aria-container>.mce-container-body .mce-sidebar-panel>.mce-container-body{position:absolute;width:100%;height:100%;overflow:auto;top:0;left:0}.mce-sidebar-toolbar{border:0 solid #c5c5c5;border-left-width:1px}.mce-sidebar-toolbar .mce-btn{border-left:0;border-right:0}.mce-sidebar-toolbar .mce-btn.mce-active,.mce-sidebar-toolbar .mce-btn.mce-active:hover{background-color:#555c66}.mce-sidebar-toolbar .mce-btn.mce-active button,.mce-sidebar-toolbar .mce-btn.mce-active:hover button,.mce-sidebar-toolbar .mce-btn.mce-active button i,.mce-sidebar-toolbar .mce-btn.mce-active:hover button i{color:white;text-shadow:1px 1px none}.mce-sidebar-panel{border:0 solid #c5c5c5;border-left-width:1px}.mce-container,.mce-container-body{display:block}.mce-autoscroll{overflow:hidden}.mce-scrollbar{position:absolute;width:7px;height:100%;top:2px;right:2px;opacity:.4;filter:alpha(opacity=40);zoom:1}.mce-scrollbar-h{top:auto;right:auto;left:2px;bottom:2px;width:100%;height:7px}.mce-scrollbar-thumb{position:absolute;background-color:#000;border:1px solid #888;border-color:rgba(85,85,85,0.6);width:5px;height:100%}.mce-scrollbar-h .mce-scrollbar-thumb{width:100%;height:5px}.mce-scrollbar:hover,.mce-scrollbar.mce-active{background-color:#AAA;opacity:.6;filter:alpha(opacity=60);zoom:1}.mce-scroll{position:relative}.mce-panel{border:0 solid #f3f3f3;border:0 solid #c5c5c5;background-color:#fff}.mce-floatpanel{position:absolute;-webkit-box-shadow:0 1px 2px rgba(0, 0, 0, 0.2);-moz-box-shadow:0 1px 2px rgba(0, 0, 0, 0.2);box-shadow:0 1px 2px rgba(0, 0, 0, 0.2)}.mce-floatpanel.mce-fixed{position:fixed}.mce-floatpanel .mce-arrow,.mce-floatpanel .mce-arrow:after{position:absolute;display:block;width:0;height:0;border-color:transparent;border-style:solid}.mce-floatpanel .mce-arrow{border-width:11px}.mce-floatpanel .mce-arrow:after{border-width:10px;content:\\\"\\\"}.mce-floatpanel.mce-popover{filter:progid:DXImageTransform.Microsoft.gradient(enabled = false);background:transparent;-webkit-box-shadow:0 1px 2px rgba(0, 0, 0, 0.2);-moz-box-shadow:0 1px 2px rgba(0, 0, 0, 0.2);box-shadow:0 1px 2px rgba(0, 0, 0, 0.2);top:0;left:0;background:#FFF;border:1px solid #c5c5c5;border:1px solid rgba(0,0,0,0.25)}.mce-floatpanel.mce-popover.mce-bottom{margin-top:10px;*margin-top:0}.mce-floatpanel.mce-popover.mce-bottom>.mce-arrow{left:50%;margin-left:-11px;border-top-width:0;border-bottom-color:#c5c5c5;border-bottom-color:rgba(0,0,0,0.25);top:-11px}.mce-floatpanel.mce-popover.mce-bottom>.mce-arrow:after{top:1px;margin-left:-10px;border-top-width:0;border-bottom-color:#FFF}.mce-floatpanel.mce-popover.mce-top{margin-top:-10px;*margin-top:0}.mce-floatpanel.mce-popover.mce-top>.mce-arrow{left:50%;margin-left:-11px;border-bottom-width:0;border-top-color:#c5c5c5;top:auto;bottom:-11px}.mce-floatpanel.mce-popover.mce-top>.mce-arrow:after{bottom:1px;margin-left:-10px;border-bottom-width:0;border-top-color:#FFF}.mce-floatpanel.mce-popover.mce-bottom.mce-start,.mce-floatpanel.mce-popover.mce-top.mce-start{margin-left:-22px}.mce-floatpanel.mce-popover.mce-bottom.mce-start>.mce-arrow,.mce-floatpanel.mce-popover.mce-top.mce-start>.mce-arrow{left:20px}.mce-floatpanel.mce-popover.mce-bottom.mce-end,.mce-floatpanel.mce-popover.mce-top.mce-end{margin-left:22px}.mce-floatpanel.mce-popover.mce-bottom.mce-end>.mce-arrow,.mce-floatpanel.mce-popover.mce-top.mce-end>.mce-arrow{right:10px;left:auto}.mce-fullscreen{border:0;padding:0;margin:0;overflow:hidden;height:100%}div.mce-fullscreen{position:fixed;top:0;left:0}#mce-modal-block{opacity:0;filter:alpha(opacity=0);zoom:1;position:fixed;left:0;top:0;width:100%;height:100%;background:#FFF}#mce-modal-block.mce-in{opacity:.5;filter:alpha(opacity=50);zoom:1}.mce-window-move{cursor:move}.mce-window{-webkit-box-shadow:0 3px 7px rgba(0, 0, 0, 0.3);-moz-box-shadow:0 3px 7px rgba(0, 0, 0, 0.3);box-shadow:0 3px 7px rgba(0, 0, 0, 0.3);filter:progid:DXImageTransform.Microsoft.gradient(enabled = false);background:transparent;background:#FFF;position:fixed;top:0;left:0;opacity:0;transform:scale(.1);transition:transform 100ms ease-in,opacity 150ms ease-in}.mce-window.mce-in{transform:scale(1);opacity:1}.mce-window-head{padding:9px 15px;border-bottom:1px solid #c5c5c5;position:relative}.mce-window-head .mce-close{position:absolute;right:0;top:0;height:38px;width:38px;text-align:center;cursor:pointer}.mce-window-head .mce-close i{color:#9b9b9b}.mce-close:hover i{color:#bdbdbd}.mce-window-head .mce-title{line-height:20px;font-size:20px;font-weight:bold;text-rendering:optimizelegibility;padding-right:20px}.mce-window .mce-container-body{display:block}.mce-foot{display:block;background-color:#FFF;border-top:1px solid #c5c5c5}.mce-window-head .mce-dragh{position:absolute;top:0;left:0;cursor:move;width:90%;height:100%}.mce-window iframe{width:100%;height:100%}.mce-window-body .mce-listbox{border-color:#e2e4e7}.mce-window .mce-btn:hover{border-color:#c5c5c5}.mce-window .mce-btn:focus{border-color:#2276d2}.mce-window-body .mce-btn,.mce-foot .mce-btn{border-color:#c5c5c5}.mce-foot .mce-btn.mce-primary{border-color:transparent}.mce-rtl .mce-window-head .mce-close{position:absolute;right:auto;left:0}.mce-rtl .mce-window-head .mce-dragh{left:auto;right:0}.mce-rtl .mce-window-head .mce-title{direction:rtl;text-align:right;padding-right:0;padding-left:20px}.mce-tooltip{position:absolute;padding:5px;opacity:.8;filter:alpha(opacity=80);zoom:1;margin-top:1px}.mce-tooltip-inner{font-size:11px;background-color:#000;color:white;max-width:200px;padding:5px 8px 4px 8px;text-align:center;white-space:normal}.mce-tooltip-inner{-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none}.mce-tooltip-arrow{position:absolute;width:0;height:0;line-height:0;border:5px dashed #000}.mce-tooltip-arrow-n{border-bottom-color:#000}.mce-tooltip-arrow-s{border-top-color:#000}.mce-tooltip-arrow-e{border-left-color:#000}.mce-tooltip-arrow-w{border-right-color:#000}.mce-tooltip-nw,.mce-tooltip-sw{margin-left:-14px}.mce-tooltip-ne,.mce-tooltip-se{margin-left:14px}.mce-tooltip-n .mce-tooltip-arrow{top:0;left:50%;margin-left:-5px;border-bottom-style:solid;border-top:none;border-left-color:transparent;border-right-color:transparent}.mce-tooltip-nw .mce-tooltip-arrow{top:0;left:10px;border-bottom-style:solid;border-top:none;border-left-color:transparent;border-right-color:transparent}.mce-tooltip-ne .mce-tooltip-arrow{top:0;right:10px;border-bottom-style:solid;border-top:none;border-left-color:transparent;border-right-color:transparent}.mce-tooltip-s .mce-tooltip-arrow{bottom:0;left:50%;margin-left:-5px;border-top-style:solid;border-bottom:none;border-left-color:transparent;border-right-color:transparent}.mce-tooltip-sw .mce-tooltip-arrow{bottom:0;left:10px;border-top-style:solid;border-bottom:none;border-left-color:transparent;border-right-color:transparent}.mce-tooltip-se .mce-tooltip-arrow{bottom:0;right:10px;border-top-style:solid;border-bottom:none;border-left-color:transparent;border-right-color:transparent}.mce-tooltip-e .mce-tooltip-arrow{right:0;top:50%;margin-top:-5px;border-left-style:solid;border-right:none;border-top-color:transparent;border-bottom-color:transparent}.mce-tooltip-w .mce-tooltip-arrow{left:0;top:50%;margin-top:-5px;border-right-style:solid;border-left:none;border-top-color:transparent;border-bottom-color:transparent}.mce-progress{display:inline-block;position:relative;height:20px}.mce-progress .mce-bar-container{display:inline-block;width:100px;height:100%;margin-right:8px;border:1px solid #ccc;overflow:hidden}.mce-progress .mce-text{display:inline-block;margin-top:auto;margin-bottom:auto;font-size:14px;width:40px;color:#595959}.mce-bar{display:block;width:0;height:100%;background-color:#dfdfdf;-webkit-transition:width .2s ease;transition:width .2s ease}.mce-notification{position:absolute;background-color:#fff;padding:5px;margin-top:5px;border-width:1px;border-style:solid;border-color:#c5c5c5;transition:transform 100ms ease-in,opacity 150ms ease-in;opacity:0;box-sizing:border-box}.mce-notification.mce-in{opacity:1}.mce-notification-success{background-color:#dff0d8;border-color:#d6e9c6}.mce-notification-info{background-color:#d9edf7;border-color:#779ECB}.mce-notification-warning{background-color:#fcf8e3;border-color:#faebcc}.mce-notification-error{background-color:#f2dede;border-color:#ebccd1}.mce-notification.mce-has-close{padding-right:15px}.mce-notification .mce-ico{margin-top:5px}.mce-notification-inner{word-wrap:break-word;-ms-word-break:break-all;word-break:break-all;word-break:break-word;-ms-hyphens:auto;-moz-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;display:inline-block;font-size:14px;margin:5px 8px 4px 8px;text-align:center;white-space:normal;color:#31708f}.mce-notification-inner a{text-decoration:underline;cursor:pointer}.mce-notification .mce-progress{margin-right:8px}.mce-notification .mce-progress .mce-text{margin-top:5px}.mce-notification *,.mce-notification .mce-progress .mce-text{color:#595959}.mce-notification .mce-progress .mce-bar-container{border-color:#c5c5c5}.mce-notification .mce-progress .mce-bar-container .mce-bar{background-color:#595959}.mce-notification-success *,.mce-notification-success .mce-progress .mce-text{color:#3c763d}.mce-notification-success .mce-progress .mce-bar-container{border-color:#d6e9c6}.mce-notification-success .mce-progress .mce-bar-container .mce-bar{background-color:#3c763d}.mce-notification-info *,.mce-notification-info .mce-progress .mce-text{color:#31708f}.mce-notification-info .mce-progress .mce-bar-container{border-color:#779ECB}.mce-notification-info .mce-progress .mce-bar-container .mce-bar{background-color:#31708f}.mce-notification-warning *,.mce-notification-warning .mce-progress .mce-text{color:#8a6d3b}.mce-notification-warning .mce-progress .mce-bar-container{border-color:#faebcc}.mce-notification-warning .mce-progress .mce-bar-container .mce-bar{background-color:#8a6d3b}.mce-notification-error *,.mce-notification-error .mce-progress .mce-text{color:#a94442}.mce-notification-error .mce-progress .mce-bar-container{border-color:#ebccd1}.mce-notification-error .mce-progress .mce-bar-container .mce-bar{background-color:#a94442}.mce-notification .mce-close{position:absolute;top:6px;right:8px;font-size:20px;font-weight:bold;line-height:20px;color:#9b9b9b;cursor:pointer}.mce-abs-layout{position:relative}html .mce-abs-layout-item,.mce-abs-end{position:absolute}.mce-abs-end{width:1px;height:1px}.mce-container-body.mce-abs-layout{overflow:hidden}.mce-btn{border:1px solid #b3b3b3;border-color:transparent transparent transparent transparent;position:relative;text-shadow:0 1px 1px rgba(255,255,255,0.75);background:white;display:inline-block;*display:inline;*zoom:1;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none}.mce-btn:hover,.mce-btn:active{background:white;color:#595959;border-color:#e2e4e7}.mce-btn:focus{background:white;color:#595959;border-color:#e2e4e7}.mce-btn.mce-disabled button,.mce-btn.mce-disabled:hover button{cursor:default;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none;opacity:.4;filter:alpha(opacity=40);zoom:1}.mce-btn.mce-active,.mce-btn.mce-active:hover,.mce-btn.mce-active:focus,.mce-btn.mce-active:active{-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none;background:#555c66;color:white;border-color:transparent}.mce-btn.mce-active button,.mce-btn.mce-active:hover button,.mce-btn.mce-active i,.mce-btn.mce-active:hover i{color:white}.mce-btn:hover .mce-caret{border-top-color:#b5bcc2}.mce-btn.mce-active .mce-caret,.mce-btn.mce-active:hover .mce-caret{border-top-color:white}.mce-btn button{padding:4px 6px;font-size:14px;line-height:20px;*line-height:16px;cursor:pointer;color:#595959;text-align:center;overflow:visible;-webkit-appearance:none}.mce-btn button::-moz-focus-inner{border:0;padding:0}.mce-btn i{text-shadow:1px 1px none}.mce-primary.mce-btn-has-text{min-width:50px}.mce-primary{color:white;border:1px solid transparent;border-color:transparent;background-color:#2276d2}.mce-primary:hover,.mce-primary:focus{background-color:#1e6abc;border-color:transparent}.mce-primary.mce-disabled button,.mce-primary.mce-disabled:hover button{cursor:default;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none;opacity:.4;filter:alpha(opacity=40);zoom:1}.mce-primary.mce-active,.mce-primary.mce-active:hover,.mce-primary:not(.mce-disabled):active{background-color:#1e6abc;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none}.mce-primary button,.mce-primary button i{color:white;text-shadow:1px 1px none}.mce-btn .mce-txt{font-size:inherit;line-height:inherit;color:inherit}.mce-btn-large button{padding:9px 14px;font-size:16px;line-height:normal}.mce-btn-large i{margin-top:2px}.mce-btn-small button{padding:1px 5px;font-size:12px;*padding-bottom:2px}.mce-btn-small i{line-height:20px;vertical-align:top;*line-height:18px}.mce-btn .mce-caret{margin-top:8px;margin-left:0}.mce-btn-small .mce-caret{margin-top:8px;margin-left:0}.mce-caret{display:inline-block;*display:inline;*zoom:1;width:0;height:0;vertical-align:top;border-top:4px solid #b5bcc2;border-right:4px solid transparent;border-left:4px solid transparent;content:\\\"\\\"}.mce-disabled .mce-caret{border-top-color:#aaa}.mce-caret.mce-up{border-bottom:4px solid #b5bcc2;border-top:0}.mce-btn-flat{border:0;background:transparent;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none;filter:none}.mce-btn-flat:hover,.mce-btn-flat.mce-active,.mce-btn-flat:focus,.mce-btn-flat:active{border:0;background:#e6e6e6;filter:none;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none}.mce-btn-has-text .mce-ico{padding-right:5px}.mce-rtl .mce-btn button{direction:rtl}.mce-toolbar .mce-btn-group{margin:0;padding:2px 0}.mce-btn-group .mce-btn{border-width:1px;margin:0;margin-left:2px}.mce-btn-group:not(:first-child){border-left:1px solid #d9d9d9;padding-left:0;margin-left:2px}.mce-btn-group{margin-left:2px}.mce-btn-group .mce-btn.mce-flow-layout-item{margin:0}.mce-rtl .mce-btn-group .mce-btn{margin-left:0;margin-right:2px}.mce-rtl .mce-btn-group .mce-first{margin-right:0}.mce-rtl .mce-btn-group:not(:first-child){border-left:none;border-right:1px solid #d9d9d9;padding-right:4px;margin-right:4px}.mce-checkbox{cursor:pointer}i.mce-i-checkbox{margin:0 3px 0 0;border:1px solid #c5c5c5;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none;background-color:white;text-indent:-10em;overflow:hidden}.mce-checked i.mce-i-checkbox{color:#595959;font-size:16px;line-height:16px;text-indent:0}.mce-checkbox:focus i.mce-i-checkbox,.mce-checkbox.mce-focus i.mce-i-checkbox{border:1px solid #2276d2;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none}.mce-checkbox.mce-disabled .mce-label,.mce-checkbox.mce-disabled i.mce-i-checkbox{color:#bdbdbd}.mce-checkbox .mce-label{vertical-align:middle}.mce-rtl .mce-checkbox{direction:rtl;text-align:right}.mce-rtl i.mce-i-checkbox{margin:0 0 0 3px}.mce-combobox{position:relative;display:inline-block;*display:inline;*zoom:1;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none;*height:32px}.mce-combobox input{border:1px solid #c5c5c5;border-right-color:#c5c5c5;height:28px}.mce-combobox.mce-disabled input{color:#bdbdbd}.mce-combobox .mce-btn{border:1px solid #c5c5c5;border-left:0;margin:0}.mce-combobox button{padding-right:8px;padding-left:8px}.mce-combobox.mce-disabled .mce-btn button{cursor:default;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none;opacity:.4;filter:alpha(opacity=40);zoom:1}.mce-combobox .mce-status{position:absolute;right:2px;top:50%;line-height:16px;margin-top:-8px;font-size:12px;width:15px;height:15px;text-align:center;cursor:pointer}.mce-combobox.mce-has-status input{padding-right:20px}.mce-combobox.mce-has-open .mce-status{right:37px}.mce-combobox .mce-status.mce-i-warning{color:#c09853}.mce-combobox .mce-status.mce-i-checkmark{color:#468847}.mce-menu.mce-combobox-menu{border-top:0;margin-top:0;max-height:200px}.mce-menu.mce-combobox-menu .mce-menu-item{padding:4px 6px 4px 4px;font-size:11px}.mce-menu.mce-combobox-menu .mce-menu-item-sep{padding:0}.mce-menu.mce-combobox-menu .mce-text,.mce-menu.mce-combobox-menu .mce-text b{font-size:11px}.mce-menu.mce-combobox-menu .mce-menu-item-link,.mce-menu.mce-combobox-menu .mce-menu-item-link b{font-size:11px}.mce-colorbox i{border:1px solid #c5c5c5;width:14px;height:14px}.mce-colorbutton .mce-ico{position:relative}.mce-colorbutton-grid{margin:4px}.mce-colorbutton .mce-preview{padding-right:3px;display:block;position:absolute;left:50%;top:50%;margin-left:-17px;margin-top:7px;background:gray;width:13px;height:2px;overflow:hidden}.mce-colorbutton.mce-btn-small .mce-preview{margin-left:-16px;padding-right:0;width:16px}.mce-rtl .mce-colorbutton{direction:rtl}.mce-rtl .mce-colorbutton .mce-preview{margin-left:0;padding-right:0;padding-left:3px}.mce-rtl .mce-colorbutton.mce-btn-small .mce-preview{margin-left:0;padding-right:0;padding-left:2px}.mce-rtl .mce-colorbutton .mce-open{padding-left:4px;padding-right:4px;border-left:0}.mce-colorpicker{position:relative;width:250px;height:220px}.mce-colorpicker-sv{position:absolute;top:0;left:0;width:90%;height:100%;border:1px solid #c5c5c5;cursor:crosshair;overflow:hidden}.mce-colorpicker-h-chunk{width:100%}.mce-colorpicker-overlay1,.mce-colorpicker-overlay2{width:100%;height:100%;position:absolute;top:0;left:0}.mce-colorpicker-overlay1{filter:progid:DXImageTransform.Microsoft.gradient(GradientType=1, startColorstr='#ffffff', endColorstr='#00ffffff');-ms-filter:\\\"progid:DXImageTransform.Microsoft.gradient(GradientType=1,startColorstr='#ffffff', endColorstr='#00ffffff')\\\";background:linear-gradient(to right, #fff, rgba(255,255,255,0))}.mce-colorpicker-overlay2{filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0, startColorstr='#00000000', endColorstr='#000000');-ms-filter:\\\"progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr='#00000000', endColorstr='#000000')\\\";background:linear-gradient(to bottom, rgba(0,0,0,0), #000)}.mce-colorpicker-selector1{background:none;position:absolute;width:12px;height:12px;margin:-8px 0 0 -8px;border:1px solid black;border-radius:50%}.mce-colorpicker-selector2{position:absolute;width:10px;height:10px;border:1px solid white;border-radius:50%}.mce-colorpicker-h{position:absolute;top:0;right:0;width:6.5%;height:100%;border:1px solid #c5c5c5;cursor:crosshair}.mce-colorpicker-h-marker{margin-top:-4px;position:absolute;top:0;left:-1px;width:100%;border:1px solid black;background:white;height:4px;z-index:100}.mce-path{display:inline-block;*display:inline;*zoom:1;padding:8px;white-space:normal;font-size:inherit}.mce-path .mce-txt{display:inline-block;padding-right:3px}.mce-path .mce-path-body{display:inline-block}.mce-path-item{display:inline-block;*display:inline;*zoom:1;cursor:pointer;color:#595959;font-size:inherit;text-transform:uppercase}.mce-path-item:hover{text-decoration:underline}.mce-path-item:focus{background:#555c66;color:white}.mce-path .mce-divider{display:inline;font-size:inherit}.mce-disabled .mce-path-item{color:#aaa}.mce-rtl .mce-path{direction:rtl}.mce-fieldset{border:0 solid #9E9E9E}.mce-fieldset>.mce-container-body{margin-top:-15px}.mce-fieldset-title{margin-left:5px;padding:0 5px 0 5px}.mce-fit-layout{display:inline-block;*display:inline;*zoom:1}.mce-fit-layout-item{position:absolute}.mce-flow-layout-item{display:inline-block;*display:inline;*zoom:1}.mce-flow-layout-item{margin:2px 0 2px 2px}.mce-flow-layout-item.mce-last{margin-right:2px}.mce-flow-layout{white-space:normal}.mce-tinymce-inline .mce-flow-layout{white-space:nowrap}.mce-rtl .mce-flow-layout{text-align:right;direction:rtl}.mce-rtl .mce-flow-layout-item{margin:2px 2px 2px 0}.mce-rtl .mce-flow-layout-item.mce-last{margin-left:2px}.mce-iframe{border:0 solid #c5c5c5;width:100%;height:100%}.mce-infobox{display:inline-block;*display:inline;*zoom:1;text-shadow:0 1px 1px rgba(255,255,255,0.75);overflow:hidden;border:1px solid red}.mce-infobox div{display:block;margin:5px}.mce-infobox div button{position:absolute;top:50%;right:4px;cursor:pointer;margin-top:-8px;display:none}.mce-infobox div button:focus{outline:2px solid #e2e4e7}.mce-infobox.mce-has-help div{margin-right:25px}.mce-infobox.mce-has-help button{display:block}.mce-infobox.mce-success{background:#dff0d8;border-color:#d6e9c6}.mce-infobox.mce-success div{color:#3c763d}.mce-infobox.mce-warning{background:#fcf8e3;border-color:#faebcc}.mce-infobox.mce-warning div{color:#8a6d3b}.mce-infobox.mce-error{background:#f2dede;border-color:#ebccd1}.mce-infobox.mce-error div{color:#a94442}.mce-rtl .mce-infobox div{text-align:right;direction:rtl}.mce-label{display:inline-block;*display:inline;*zoom:1;text-shadow:0 1px 1px rgba(255,255,255,0.75);overflow:hidden}.mce-label.mce-autoscroll{overflow:auto}.mce-label.mce-disabled{color:#aaa}.mce-label.mce-multiline{white-space:pre-wrap}.mce-label.mce-success{color:#468847}.mce-label.mce-warning{color:#c09853}.mce-label.mce-error{color:#b94a48}.mce-rtl .mce-label{text-align:right;direction:rtl}.mce-menubar{border:1px solid #e2e4e7}.mce-menubar .mce-menubtn{border-color:transparent;background:transparent;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none;filter:none}.mce-menubar .mce-menubtn button span{color:#595959}.mce-menubar .mce-caret{border-top-color:#b5bcc2}.mce-menubar .mce-active .mce-caret,.mce-menubar .mce-menubtn:hover .mce-caret{border-top-color:#b5bcc2}.mce-menubar .mce-menubtn:hover,.mce-menubar .mce-menubtn.mce-active,.mce-menubar .mce-menubtn:focus{border-color:#e2e4e7;background:white;filter:none;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none}.mce-menubar .mce-menubtn.mce-active{border-bottom:none;z-index:65537}div.mce-menubtn.mce-opened{border-bottom-color:white;z-index:65537}div.mce-menubtn.mce-opened.mce-opened-under{z-index:0}.mce-menubtn button{color:#595959}.mce-menubtn.mce-btn-small span{font-size:12px}.mce-menubtn.mce-fixed-width span{display:inline-block;overflow-x:hidden;text-overflow:ellipsis;width:90px}.mce-menubtn.mce-fixed-width.mce-btn-small span{width:70px}.mce-menubtn .mce-caret{*margin-top:6px}.mce-rtl .mce-menubtn button{direction:rtl;text-align:right}.mce-rtl .mce-menubtn.mce-fixed-width span{direction:rtl;text-align:right}.mce-menu-item{display:block;padding:6px 4px 6px 4px;clear:both;font-weight:normal;line-height:20px;color:#595959;white-space:nowrap;cursor:pointer;line-height:normal;border-left:4px solid transparent;margin-bottom:1px}.mce-menu-item .mce-text,.mce-menu-item .mce-text b{line-height:1;vertical-align:initial}.mce-menu-item .mce-caret{margin-top:4px;margin-right:6px;border-top:4px solid transparent;border-bottom:4px solid transparent;border-left:4px solid #595959}.mce-menu-item .mce-menu-shortcut{display:inline-block;padding:0 10px 0 20px;color:#aaa}.mce-menu-item .mce-ico{padding-right:4px}.mce-menu-item:hover,.mce-menu-item:focus{background:#ededee}.mce-menu-item:hover .mce-menu-shortcut,.mce-menu-item:focus .mce-menu-shortcut{color:#aaa}.mce-menu-item:hover .mce-text,.mce-menu-item:focus .mce-text,.mce-menu-item:hover .mce-ico,.mce-menu-item:focus .mce-ico{color:#595959}.mce-menu-item.mce-selected{background:#ededee}.mce-menu-item.mce-selected .mce-text,.mce-menu-item.mce-selected .mce-ico{color:#595959}.mce-menu-item.mce-active.mce-menu-item-normal{background:#555c66}.mce-menu-item.mce-active.mce-menu-item-normal .mce-text,.mce-menu-item.mce-active.mce-menu-item-normal .mce-ico{color:white}.mce-menu-item.mce-active.mce-menu-item-checkbox .mce-ico{visibility:visible}.mce-menu-item.mce-disabled,.mce-menu-item.mce-disabled:hover{background:white}.mce-menu-item.mce-disabled:focus,.mce-menu-item.mce-disabled:hover:focus{background:#ededee}.mce-menu-item.mce-disabled .mce-text,.mce-menu-item.mce-disabled:hover .mce-text,.mce-menu-item.mce-disabled .mce-ico,.mce-menu-item.mce-disabled:hover .mce-ico{color:#aaa}.mce-menu-item.mce-menu-item-preview.mce-active{border-left:5px solid #555c66;background:white}.mce-menu-item.mce-menu-item-preview.mce-active .mce-text,.mce-menu-item.mce-menu-item-preview.mce-active .mce-ico{color:#595959}.mce-menu-item.mce-menu-item-preview.mce-active:hover{background:#ededee}.mce-menu-item-link{color:#093;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mce-menu-item-link b{color:#093}.mce-menu-item-ellipsis{display:block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mce-menu-item:hover *,.mce-menu-item.mce-selected *,.mce-menu-item:focus *{color:#595959}div.mce-menu .mce-menu-item-sep,.mce-menu-item-sep:hover{border:0;padding:0;height:1px;margin:9px 1px;overflow:hidden;background:transparent;border-bottom:1px solid rgba(0,0,0,0.1);cursor:default;filter:none}div.mce-menu .mce-menu-item b{font-weight:bold}.mce-menu-item-indent-1{padding-left:20px}.mce-menu-item-indent-2{padding-left:35px}.mce-menu-item-indent-2{padding-left:35px}.mce-menu-item-indent-3{padding-left:40px}.mce-menu-item-indent-4{padding-left:45px}.mce-menu-item-indent-5{padding-left:50px}.mce-menu-item-indent-6{padding-left:55px}.mce-menu.mce-rtl{direction:rtl}.mce-rtl .mce-menu-item{text-align:right;direction:rtl;padding:6px 12px 6px 15px}.mce-rtl .mce-menu-item .mce-caret{margin-left:6px;margin-right:0;border-right:4px solid #595959;border-left:0}.mce-rtl .mce-menu-item.mce-selected .mce-caret,.mce-rtl .mce-menu-item:focus .mce-caret,.mce-rtl .mce-menu-item:hover .mce-caret{border-left-color:transparent;border-right-color:#595959}.mce-rtl .mce-menu-item .mce-ico{padding-right:0;padding-left:4px}.mce-throbber{position:absolute;top:0;left:0;width:100%;height:100%;opacity:.6;filter:alpha(opacity=60);zoom:1;background:#fff url(\" + ___CSS_LOADER_URL_REPLACEMENT_1___ + \") no-repeat center center}.mce-throbber-inline{position:static;height:50px}.mce-menu .mce-throbber-inline{height:25px;background-size:contain}.mce-menu{position:absolute;left:0;top:0;filter:progid:DXImageTransform.Microsoft.gradient(enabled = false);background:transparent;z-index:1000;padding:5px 0 5px 0;margin:-1px 0 0;min-width:180px;background:white;border:1px solid #c5c9cf;border:1px solid #e2e4e7;z-index:1002;-webkit-box-shadow:0 1px 2px rgba(0, 0, 0, 0.2);-moz-box-shadow:0 1px 2px rgba(0, 0, 0, 0.2);box-shadow:0 1px 2px rgba(0, 0, 0, 0.2);max-height:500px;overflow:auto;overflow-x:hidden}.mce-menu.mce-animate{opacity:.01;transform:rotateY(10deg) rotateX(-10deg);transform-origin:left top}.mce-menu.mce-menu-align .mce-menu-shortcut,.mce-menu.mce-menu-align .mce-caret{position:absolute;right:0}.mce-menu i{display:none}.mce-menu-has-icons i{display:inline-block}.mce-menu.mce-in.mce-animate{opacity:1;transform:rotateY(0) rotateX(0);transition:opacity .075s ease,transform .1s ease}.mce-menu-sub-tr-tl{margin:-6px 0 0 -1px}.mce-menu-sub-br-bl{margin:6px 0 0 -1px}.mce-menu-sub-tl-tr{margin:-6px 0 0 1px}.mce-menu-sub-bl-br{margin:6px 0 0 1px}.mce-rtl .mce-menu-item .mce-ico{padding-right:0;padding-left:4px}.mce-rtl.mce-menu-align .mce-caret,.mce-rtl .mce-menu-shortcut{right:auto;left:0}.mce-listbox button{text-align:left;padding-right:20px;position:relative}.mce-listbox .mce-caret{position:absolute;margin-top:-2px;right:8px;top:50%}.mce-rtl .mce-listbox .mce-caret{right:auto;left:8px}.mce-rtl .mce-listbox button{padding-right:10px;padding-left:20px}.mce-container-body .mce-resizehandle{position:absolute;right:0;bottom:0;width:16px;height:16px;visibility:visible;cursor:s-resize;margin:0}.mce-container-body .mce-resizehandle-both{cursor:se-resize}i.mce-i-resize{color:#595959}.mce-selectbox{background:#fff;border:1px solid #c5c5c5}.mce-slider{border:1px solid #c5c5c5;background:#fff;width:100px;height:10px;position:relative;display:block}.mce-slider.mce-vertical{width:10px;height:100px}.mce-slider-handle{border:1px solid #c5c5c5;background:#e6e6e6;display:block;width:13px;height:13px;position:absolute;top:0;left:0;margin-left:-1px;margin-top:-2px}.mce-slider-handle:focus{border-color:#2276d2}.mce-spacer{visibility:hidden}.mce-splitbtn:hover .mce-open{border-left:1px solid #e2e4e7}.mce-splitbtn .mce-open{border-left:1px solid transparent;padding-right:4px;padding-left:4px}.mce-splitbtn .mce-open:focus{border-left:1px solid #e2e4e7}.mce-splitbtn .mce-open:hover,.mce-splitbtn .mce-open:active{border-left:1px solid #e2e4e7}.mce-splitbtn.mce-active:hover .mce-open{border-left:1px solid white}.mce-splitbtn.mce-opened{border-color:#e2e4e7}.mce-splitbtn.mce-btn-small .mce-open{padding:0 3px 0 3px}.mce-rtl .mce-splitbtn{direction:rtl;text-align:right}.mce-rtl .mce-splitbtn button{padding-right:4px;padding-left:4px}.mce-rtl .mce-splitbtn .mce-open{border-left:0}.mce-stack-layout-item{display:block}.mce-tabs{display:block;border-bottom:1px solid #c5c5c5}.mce-tabs,.mce-tabs+.mce-container-body{background:#fff}.mce-tab{display:inline-block;*display:inline;*zoom:1;border:1px solid #c5c5c5;border-width:0 1px 0 0;background:#fff;padding:8px 15px;text-shadow:0 1px 1px rgba(255,255,255,0.75);height:13px;cursor:pointer}.mce-tab:hover{background:#FDFDFD}.mce-tab.mce-active{background:#FDFDFD;border-bottom-color:transparent;margin-bottom:-1px;height:14px}.mce-tab:focus{color:#2276d2}.mce-rtl .mce-tabs{text-align:right;direction:rtl}.mce-rtl .mce-tab{border-width:0 0 0 1px}.mce-textbox{background:#fff;border:1px solid #c5c5c5;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none;display:inline-block;-webkit-transition:border linear .2s, box-shadow linear .2s;transition:border linear .2s, box-shadow linear .2s;height:28px;resize:none;padding:0 4px 0 4px;white-space:pre-wrap;*white-space:pre;color:#595959}.mce-textbox:focus,.mce-textbox.mce-focus{border-color:#2276d2;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none}.mce-placeholder .mce-textbox{color:#aaa}.mce-textbox.mce-multiline{padding:4px;height:auto}.mce-textbox.mce-disabled{color:#bdbdbd}.mce-rtl .mce-textbox{text-align:right;direction:rtl}.mce-dropzone{border:3px dashed gray;text-align:center}.mce-dropzone span{text-transform:uppercase;display:inline-block;vertical-align:middle}.mce-dropzone:after{content:\\\"\\\";height:100%;display:inline-block;vertical-align:middle}.mce-dropzone.mce-disabled{opacity:.4;filter:alpha(opacity=40);zoom:1}.mce-dropzone.mce-disabled.mce-dragenter{cursor:not-allowed}.mce-browsebutton{position:relative;overflow:hidden}.mce-browsebutton button{position:relative;z-index:1}.mce-browsebutton input{opacity:0;filter:alpha(opacity=0);zoom:1;position:absolute;top:0;left:0;width:100%;height:100%;z-index:0}@font-face{font-family:'tinymce';src:url(\" + ___CSS_LOADER_URL_REPLACEMENT_2___ + \");src:url(\" + ___CSS_LOADER_URL_REPLACEMENT_3___ + \") format('embedded-opentype'),url(\" + ___CSS_LOADER_URL_REPLACEMENT_4___ + \") format('woff'),url(\" + ___CSS_LOADER_URL_REPLACEMENT_5___ + \") format('truetype'),url(\" + ___CSS_LOADER_URL_REPLACEMENT_6___ + \") format('svg');font-weight:normal;font-style:normal}@font-face{font-family:'tinymce-small';src:url(\" + ___CSS_LOADER_URL_REPLACEMENT_7___ + \");src:url(\" + ___CSS_LOADER_URL_REPLACEMENT_8___ + \") format('embedded-opentype'),url(\" + ___CSS_LOADER_URL_REPLACEMENT_9___ + \") format('woff'),url(\" + ___CSS_LOADER_URL_REPLACEMENT_10___ + \") format('truetype'),url(\" + ___CSS_LOADER_URL_REPLACEMENT_11___ + \") format('svg');font-weight:normal;font-style:normal}.mce-ico{font-family:'tinymce',Arial !important;font-style:normal;font-weight:normal;font-variant:normal;font-size:16px;line-height:16px;speak:none;vertical-align:text-top;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;background:transparent center center;background-size:cover;width:16px;height:16px;color:#595959}.mce-btn-small .mce-ico{font-family:'tinymce-small',Arial !important}.mce-i-save:before{content:\\\"\\\\e000\\\"}.mce-i-newdocument:before{content:\\\"\\\\e001\\\"}.mce-i-fullpage:before{content:\\\"\\\\e002\\\"}.mce-i-alignleft:before{content:\\\"\\\\e003\\\"}.mce-i-aligncenter:before{content:\\\"\\\\e004\\\"}.mce-i-alignright:before{content:\\\"\\\\e005\\\"}.mce-i-alignjustify:before{content:\\\"\\\\e006\\\"}.mce-i-alignnone:before{content:\\\"\\\\e003\\\"}.mce-i-cut:before{content:\\\"\\\\e007\\\"}.mce-i-paste:before{content:\\\"\\\\e008\\\"}.mce-i-searchreplace:before{content:\\\"\\\\e009\\\"}.mce-i-bullist:before{content:\\\"\\\\e00a\\\"}.mce-i-numlist:before{content:\\\"\\\\e00b\\\"}.mce-i-indent:before{content:\\\"\\\\e00c\\\"}.mce-i-outdent:before{content:\\\"\\\\e00d\\\"}.mce-i-blockquote:before{content:\\\"\\\\e00e\\\"}.mce-i-undo:before{content:\\\"\\\\e00f\\\"}.mce-i-redo:before{content:\\\"\\\\e010\\\"}.mce-i-link:before{content:\\\"\\\\e011\\\"}.mce-i-unlink:before{content:\\\"\\\\e012\\\"}.mce-i-anchor:before{content:\\\"\\\\e013\\\"}.mce-i-image:before{content:\\\"\\\\e014\\\"}.mce-i-media:before{content:\\\"\\\\e015\\\"}.mce-i-help:before{content:\\\"\\\\e016\\\"}.mce-i-code:before{content:\\\"\\\\e017\\\"}.mce-i-insertdatetime:before{content:\\\"\\\\e018\\\"}.mce-i-preview:before{content:\\\"\\\\e019\\\"}.mce-i-forecolor:before{content:\\\"\\\\e01a\\\"}.mce-i-backcolor:before{content:\\\"\\\\e01a\\\"}.mce-i-table:before{content:\\\"\\\\e01b\\\"}.mce-i-hr:before{content:\\\"\\\\e01c\\\"}.mce-i-removeformat:before{content:\\\"\\\\e01d\\\"}.mce-i-subscript:before{content:\\\"\\\\e01e\\\"}.mce-i-superscript:before{content:\\\"\\\\e01f\\\"}.mce-i-charmap:before{content:\\\"\\\\e020\\\"}.mce-i-emoticons:before{content:\\\"\\\\e021\\\"}.mce-i-print:before{content:\\\"\\\\e022\\\"}.mce-i-fullscreen:before{content:\\\"\\\\e023\\\"}.mce-i-spellchecker:before{content:\\\"\\\\e024\\\"}.mce-i-nonbreaking:before{content:\\\"\\\\e025\\\"}.mce-i-template:before{content:\\\"\\\\e026\\\"}.mce-i-pagebreak:before{content:\\\"\\\\e027\\\"}.mce-i-restoredraft:before{content:\\\"\\\\e028\\\"}.mce-i-bold:before{content:\\\"\\\\e02a\\\"}.mce-i-italic:before{content:\\\"\\\\e02b\\\"}.mce-i-underline:before{content:\\\"\\\\e02c\\\"}.mce-i-strikethrough:before{content:\\\"\\\\e02d\\\"}.mce-i-visualchars:before{content:\\\"\\\\e02e\\\"}.mce-i-visualblocks:before{content:\\\"\\\\e02e\\\"}.mce-i-ltr:before{content:\\\"\\\\e02f\\\"}.mce-i-rtl:before{content:\\\"\\\\e030\\\"}.mce-i-copy:before{content:\\\"\\\\e031\\\"}.mce-i-resize:before{content:\\\"\\\\e032\\\"}.mce-i-browse:before{content:\\\"\\\\e034\\\"}.mce-i-pastetext:before{content:\\\"\\\\e035\\\"}.mce-i-rotateleft:before{content:\\\"\\\\eaa8\\\"}.mce-i-rotateright:before{content:\\\"\\\\eaa9\\\"}.mce-i-crop:before{content:\\\"\\\\ee78\\\"}.mce-i-editimage:before{content:\\\"\\\\e915\\\"}.mce-i-options:before{content:\\\"\\\\ec6a\\\"}.mce-i-flipv:before{content:\\\"\\\\eaaa\\\"}.mce-i-fliph:before{content:\\\"\\\\eaac\\\"}.mce-i-zoomin:before{content:\\\"\\\\eb35\\\"}.mce-i-zoomout:before{content:\\\"\\\\eb36\\\"}.mce-i-sun:before{content:\\\"\\\\eccc\\\"}.mce-i-moon:before{content:\\\"\\\\eccd\\\"}.mce-i-arrowleft:before{content:\\\"\\\\edc0\\\"}.mce-i-arrowright:before{content:\\\"\\\\e93c\\\"}.mce-i-drop:before{content:\\\"\\\\e935\\\"}.mce-i-contrast:before{content:\\\"\\\\ecd4\\\"}.mce-i-sharpen:before{content:\\\"\\\\eba7\\\"}.mce-i-resize2:before{content:\\\"\\\\edf9\\\"}.mce-i-orientation:before{content:\\\"\\\\e601\\\"}.mce-i-invert:before{content:\\\"\\\\e602\\\"}.mce-i-gamma:before{content:\\\"\\\\e600\\\"}.mce-i-remove:before{content:\\\"\\\\ed6a\\\"}.mce-i-tablerowprops:before{content:\\\"\\\\e604\\\"}.mce-i-tablecellprops:before{content:\\\"\\\\e605\\\"}.mce-i-table2:before{content:\\\"\\\\e606\\\"}.mce-i-tablemergecells:before{content:\\\"\\\\e607\\\"}.mce-i-tableinsertcolbefore:before{content:\\\"\\\\e608\\\"}.mce-i-tableinsertcolafter:before{content:\\\"\\\\e609\\\"}.mce-i-tableinsertrowbefore:before{content:\\\"\\\\e60a\\\"}.mce-i-tableinsertrowafter:before{content:\\\"\\\\e60b\\\"}.mce-i-tablesplitcells:before{content:\\\"\\\\e60d\\\"}.mce-i-tabledelete:before{content:\\\"\\\\e60e\\\"}.mce-i-tableleftheader:before{content:\\\"\\\\e62a\\\"}.mce-i-tabletopheader:before{content:\\\"\\\\e62b\\\"}.mce-i-tabledeleterow:before{content:\\\"\\\\e800\\\"}.mce-i-tabledeletecol:before{content:\\\"\\\\e801\\\"}.mce-i-codesample:before{content:\\\"\\\\e603\\\"}.mce-i-fill:before{content:\\\"\\\\e902\\\"}.mce-i-borderwidth:before{content:\\\"\\\\e903\\\"}.mce-i-line:before{content:\\\"\\\\e904\\\"}.mce-i-count:before{content:\\\"\\\\e905\\\"}.mce-i-translate:before{content:\\\"\\\\e907\\\"}.mce-i-drag:before{content:\\\"\\\\e908\\\"}.mce-i-home:before{content:\\\"\\\\e90b\\\"}.mce-i-upload:before{content:\\\"\\\\e914\\\"}.mce-i-bubble:before{content:\\\"\\\\e91c\\\"}.mce-i-user:before{content:\\\"\\\\e91d\\\"}.mce-i-lock:before{content:\\\"\\\\e926\\\"}.mce-i-unlock:before{content:\\\"\\\\e927\\\"}.mce-i-settings:before{content:\\\"\\\\e928\\\"}.mce-i-remove2:before{content:\\\"\\\\e92a\\\"}.mce-i-menu:before{content:\\\"\\\\e92d\\\"}.mce-i-warning:before{content:\\\"\\\\e930\\\"}.mce-i-question:before{content:\\\"\\\\e931\\\"}.mce-i-pluscircle:before{content:\\\"\\\\e932\\\"}.mce-i-info:before{content:\\\"\\\\e933\\\"}.mce-i-notice:before{content:\\\"\\\\e934\\\"}.mce-i-arrowup:before{content:\\\"\\\\e93b\\\"}.mce-i-arrowdown:before{content:\\\"\\\\e93d\\\"}.mce-i-arrowup2:before{content:\\\"\\\\e93f\\\"}.mce-i-arrowdown2:before{content:\\\"\\\\e940\\\"}.mce-i-menu2:before{content:\\\"\\\\e941\\\"}.mce-i-newtab:before{content:\\\"\\\\e961\\\"}.mce-i-a11y:before{content:\\\"\\\\e900\\\"}.mce-i-plus:before{content:\\\"\\\\e93a\\\"}.mce-i-insert:before{content:\\\"\\\\e93a\\\"}.mce-i-minus:before{content:\\\"\\\\e939\\\"}.mce-i-books:before{content:\\\"\\\\e911\\\"}.mce-i-reload:before{content:\\\"\\\\e906\\\"}.mce-i-toc:before{content:\\\"\\\\e901\\\"}.mce-i-checkmark:before{content:\\\"\\\\e033\\\"}.mce-i-format-painter:before{content:\\\"\\\\e909\\\"}.mce-i-checkbox:before,.mce-i-selected:before{content:\\\"\\\\e033\\\"}.mce-i-insert{font-size:14px}.mce-i-selected{visibility:hidden}i.mce-i-backcolor{text-shadow:none;background:#BBB}.mce-rtl .mce-filepicker input{direction:ltr}/*# sourceMappingURL=skin.min.css.map */\", \"\",{\"version\":3,\"sources\":[\"webpack://./node_modules/tinymce/skins/lightgray/skin.min.css\"],\"names\":[],\"mappings\":\"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\",\"sourcesContent\":[\".mce-container,.mce-container *,.mce-widget,.mce-widget *,.mce-reset{margin:0;padding:0;border:0;outline:0;vertical-align:top;background:transparent;text-decoration:none;color:#595959;font-family:\\\"Helvetica Neue\\\",Helvetica,Arial,sans-serif;font-size:14px;text-shadow:none;float:none;position:static;width:auto;height:auto;white-space:nowrap;cursor:inherit;-webkit-tap-highlight-color:transparent;line-height:normal;font-weight:normal;text-align:left;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box;direction:ltr;max-width:none}.mce-widget button{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}.mce-container *[unselectable]{-moz-user-select:none;-webkit-user-select:none;-o-user-select:none;user-select:none}.word-wrap{word-wrap:break-word;-ms-word-break:break-all;word-break:break-all;word-break:break-word;-ms-hyphens:auto;-moz-hyphens:auto;-webkit-hyphens:auto;hyphens:auto}.mce-fade{opacity:0;-webkit-transition:opacity .15s linear;transition:opacity .15s linear}.mce-fade.mce-in{opacity:1}.mce-tinymce{visibility:inherit !important;position:relative}.mce-fullscreen{border:0;padding:0;margin:0;overflow:hidden;height:100%;z-index:100}div.mce-fullscreen{position:fixed;top:0;left:0;width:100%;height:auto}.mce-tinymce{display:block;-webkit-box-shadow:0 1px 2px rgba(0, 0, 0, 0.2);-moz-box-shadow:0 1px 2px rgba(0, 0, 0, 0.2);box-shadow:0 1px 2px rgba(0, 0, 0, 0.2)}.mce-statusbar>.mce-container-body{display:flex;padding-right:16px}.mce-statusbar>.mce-container-body .mce-path{flex:1}.mce-wordcount{font-size:inherit;text-transform:uppercase;padding:8px 0}div.mce-edit-area{background:#FFF;filter:none}.mce-statusbar{position:relative}.mce-statusbar .mce-container-body{position:relative;font-size:11px}.mce-fullscreen .mce-resizehandle{display:none}.mce-statusbar .mce-flow-layout-item{margin:0}.mce-charmap{border-collapse:collapse}.mce-charmap td{cursor:default;border:1px solid #c5c5c5;width:20px;height:20px;line-height:20px;text-align:center;vertical-align:middle;padding:2px}.mce-charmap td div{text-align:center}.mce-charmap td:hover{background:white}.mce-grid td.mce-grid-cell div{border:1px solid #c5c5c5;width:15px;height:15px;margin:0;cursor:pointer}.mce-grid td.mce-grid-cell div:focus{border-color:#91bbe9}.mce-grid td.mce-grid-cell div[disabled]{cursor:not-allowed}.mce-grid{border-spacing:2px;border-collapse:separate}.mce-grid a{display:block;border:1px solid transparent}.mce-grid a:hover,.mce-grid a:focus{border-color:#91bbe9}.mce-grid-border{margin:0 4px 0 4px}.mce-grid-border a{border-color:#c5c5c5;width:13px;height:13px}.mce-grid-border a:hover,.mce-grid-border a.mce-active{border-color:#91bbe9;background:#bdd6f2}.mce-text-center{text-align:center}div.mce-tinymce-inline{width:100%}.mce-colorbtn-trans div{text-align:center;vertical-align:middle;font-weight:bold;font-size:20px;line-height:16px;color:#8b8b8b}.mce-monospace{font-family:\\\"Courier New\\\",Courier,monospace}.mce-toolbar-grp .mce-flow-layout-item{margin-bottom:0}.mce-container b{font-weight:bold}.mce-container p{margin-bottom:5px}.mce-container a{cursor:pointer;color:#2276d2}.mce-container a:hover{text-decoration:underline}.mce-container ul{margin-left:15px}.mce-container .mce-table-striped{border-collapse:collapse;margin:10px}.mce-container .mce-table-striped thead>tr{background-color:#fafafa}.mce-container .mce-table-striped thead>tr th{font-weight:bold}.mce-container .mce-table-striped td,.mce-container .mce-table-striped th{padding:5px}.mce-container .mce-table-striped tr:nth-child(even){background-color:#fafafa}.mce-container .mce-table-striped tbody>tr:hover{background-color:#e1e1e1}.mce-branding{font-size:inherit;text-transform:uppercase;white-space:pre;padding:8px 0}.mce-branding a{font-size:inherit;color:inherit}.mce-top-part{position:relative}.mce-top-part::before{content:'';position:absolute;-webkit-box-shadow:0 1px 2px rgba(0, 0, 0, 0.2);-moz-box-shadow:0 1px 2px rgba(0, 0, 0, 0.2);box-shadow:0 1px 2px rgba(0, 0, 0, 0.2);top:0;right:0;bottom:0;left:0;pointer-events:none}.mce-rtl .mce-wordcount{left:0;right:auto}.mce-rtl .mce-statusbar>.mce-container-body>*:last-child{padding-right:0;padding-left:10px}.mce-rtl .mce-path{text-align:right;padding-right:16px}.mce-croprect-container{position:absolute;top:0;left:0}.mce-croprect-handle{position:absolute;top:0;left:0;width:20px;height:20px;border:2px solid white}.mce-croprect-handle-nw{border-width:2px 0 0 2px;margin:-2px 0 0 -2px;cursor:nw-resize;top:100px;left:100px}.mce-croprect-handle-ne{border-width:2px 2px 0 0;margin:-2px 0 0 -20px;cursor:ne-resize;top:100px;left:200px}.mce-croprect-handle-sw{border-width:0 0 2px 2px;margin:-20px 2px 0 -2px;cursor:sw-resize;top:200px;left:100px}.mce-croprect-handle-se{border-width:0 2px 2px 0;margin:-20px 0 0 -20px;cursor:se-resize;top:200px;left:200px}.mce-croprect-handle-move{position:absolute;cursor:move;border:0}.mce-croprect-block{opacity:.5;filter:alpha(opacity=50);zoom:1;position:absolute;background:black}.mce-croprect-handle:focus{border-color:#2276d2}.mce-croprect-handle-move:focus{outline:1px solid #2276d2}.mce-imagepanel{overflow:auto;background:black}.mce-imagepanel-bg{position:absolute;background:url('data:image/gif;base64,R0lGODdhDAAMAIABAMzMzP///ywAAAAADAAMAAACFoQfqYeabNyDMkBQb81Uat85nxguUAEAOw==')}.mce-imagepanel img{position:absolute}.mce-imagetool.mce-btn .mce-ico{display:block;width:20px;height:20px;text-align:center;line-height:20px;font-size:20px;padding:5px}.mce-arrow-up{margin-top:12px}.mce-arrow-down{margin-top:-12px}.mce-arrow:before,.mce-arrow:after{position:absolute;left:50%;display:block;width:0;height:0;border-style:solid;border-color:transparent;content:\\\"\\\"}.mce-arrow.mce-arrow-up:before{top:-9px;border-bottom-color:#c5c5c5;border-width:0 9px 9px;margin-left:-9px}.mce-arrow.mce-arrow-down:before{bottom:-9px;border-top-color:#c5c5c5;border-width:9px 9px 0;margin-left:-9px}.mce-arrow.mce-arrow-up:after{top:-8px;border-bottom-color:#fff;border-width:0 8px 8px;margin-left:-8px}.mce-arrow.mce-arrow-down:after{bottom:-8px;border-top-color:#fff;border-width:8px 8px 0;margin-left:-8px}.mce-arrow.mce-arrow-left:before,.mce-arrow.mce-arrow-left:after{margin:0}.mce-arrow.mce-arrow-left:before{left:8px}.mce-arrow.mce-arrow-left:after{left:9px}.mce-arrow.mce-arrow-right:before,.mce-arrow.mce-arrow-right:after{left:auto;margin:0}.mce-arrow.mce-arrow-right:before{right:8px}.mce-arrow.mce-arrow-right:after{right:9px}.mce-arrow.mce-arrow-center.mce-arrow.mce-arrow-left:before{left:-9px;top:50%;border-right-color:#c5c5c5;border-width:9px 9px 9px 0;margin-top:-9px}.mce-arrow.mce-arrow-center.mce-arrow.mce-arrow-left:after{left:-8px;top:50%;border-right-color:#fff;border-width:8px 8px 8px 0;margin-top:-8px}.mce-arrow.mce-arrow-center.mce-arrow.mce-arrow-left{margin-left:12px}.mce-arrow.mce-arrow-center.mce-arrow.mce-arrow-right:before{right:-9px;top:50%;border-left-color:#c5c5c5;border-width:9px 0 9px 9px;margin-top:-9px}.mce-arrow.mce-arrow-center.mce-arrow.mce-arrow-right:after{right:-8px;top:50%;border-left-color:#fff;border-width:8px 0 8px 8px;margin-top:-8px}.mce-arrow.mce-arrow-center.mce-arrow.mce-arrow-right{margin-left:-14px}.mce-edit-aria-container>.mce-container-body{display:flex}.mce-edit-aria-container>.mce-container-body .mce-edit-area{flex:1}.mce-edit-aria-container>.mce-container-body .mce-sidebar>.mce-container-body{display:flex;align-items:stretch;height:100%}.mce-edit-aria-container>.mce-container-body .mce-sidebar-panel{min-width:250px;max-width:250px;position:relative}.mce-edit-aria-container>.mce-container-body .mce-sidebar-panel>.mce-container-body{position:absolute;width:100%;height:100%;overflow:auto;top:0;left:0}.mce-sidebar-toolbar{border:0 solid #c5c5c5;border-left-width:1px}.mce-sidebar-toolbar .mce-btn{border-left:0;border-right:0}.mce-sidebar-toolbar .mce-btn.mce-active,.mce-sidebar-toolbar .mce-btn.mce-active:hover{background-color:#555c66}.mce-sidebar-toolbar .mce-btn.mce-active button,.mce-sidebar-toolbar .mce-btn.mce-active:hover button,.mce-sidebar-toolbar .mce-btn.mce-active button i,.mce-sidebar-toolbar .mce-btn.mce-active:hover button i{color:white;text-shadow:1px 1px none}.mce-sidebar-panel{border:0 solid #c5c5c5;border-left-width:1px}.mce-container,.mce-container-body{display:block}.mce-autoscroll{overflow:hidden}.mce-scrollbar{position:absolute;width:7px;height:100%;top:2px;right:2px;opacity:.4;filter:alpha(opacity=40);zoom:1}.mce-scrollbar-h{top:auto;right:auto;left:2px;bottom:2px;width:100%;height:7px}.mce-scrollbar-thumb{position:absolute;background-color:#000;border:1px solid #888;border-color:rgba(85,85,85,0.6);width:5px;height:100%}.mce-scrollbar-h .mce-scrollbar-thumb{width:100%;height:5px}.mce-scrollbar:hover,.mce-scrollbar.mce-active{background-color:#AAA;opacity:.6;filter:alpha(opacity=60);zoom:1}.mce-scroll{position:relative}.mce-panel{border:0 solid #f3f3f3;border:0 solid #c5c5c5;background-color:#fff}.mce-floatpanel{position:absolute;-webkit-box-shadow:0 1px 2px rgba(0, 0, 0, 0.2);-moz-box-shadow:0 1px 2px rgba(0, 0, 0, 0.2);box-shadow:0 1px 2px rgba(0, 0, 0, 0.2)}.mce-floatpanel.mce-fixed{position:fixed}.mce-floatpanel .mce-arrow,.mce-floatpanel .mce-arrow:after{position:absolute;display:block;width:0;height:0;border-color:transparent;border-style:solid}.mce-floatpanel .mce-arrow{border-width:11px}.mce-floatpanel .mce-arrow:after{border-width:10px;content:\\\"\\\"}.mce-floatpanel.mce-popover{filter:progid:DXImageTransform.Microsoft.gradient(enabled = false);background:transparent;-webkit-box-shadow:0 1px 2px rgba(0, 0, 0, 0.2);-moz-box-shadow:0 1px 2px rgba(0, 0, 0, 0.2);box-shadow:0 1px 2px rgba(0, 0, 0, 0.2);top:0;left:0;background:#FFF;border:1px solid #c5c5c5;border:1px solid rgba(0,0,0,0.25)}.mce-floatpanel.mce-popover.mce-bottom{margin-top:10px;*margin-top:0}.mce-floatpanel.mce-popover.mce-bottom>.mce-arrow{left:50%;margin-left:-11px;border-top-width:0;border-bottom-color:#c5c5c5;border-bottom-color:rgba(0,0,0,0.25);top:-11px}.mce-floatpanel.mce-popover.mce-bottom>.mce-arrow:after{top:1px;margin-left:-10px;border-top-width:0;border-bottom-color:#FFF}.mce-floatpanel.mce-popover.mce-top{margin-top:-10px;*margin-top:0}.mce-floatpanel.mce-popover.mce-top>.mce-arrow{left:50%;margin-left:-11px;border-bottom-width:0;border-top-color:#c5c5c5;top:auto;bottom:-11px}.mce-floatpanel.mce-popover.mce-top>.mce-arrow:after{bottom:1px;margin-left:-10px;border-bottom-width:0;border-top-color:#FFF}.mce-floatpanel.mce-popover.mce-bottom.mce-start,.mce-floatpanel.mce-popover.mce-top.mce-start{margin-left:-22px}.mce-floatpanel.mce-popover.mce-bottom.mce-start>.mce-arrow,.mce-floatpanel.mce-popover.mce-top.mce-start>.mce-arrow{left:20px}.mce-floatpanel.mce-popover.mce-bottom.mce-end,.mce-floatpanel.mce-popover.mce-top.mce-end{margin-left:22px}.mce-floatpanel.mce-popover.mce-bottom.mce-end>.mce-arrow,.mce-floatpanel.mce-popover.mce-top.mce-end>.mce-arrow{right:10px;left:auto}.mce-fullscreen{border:0;padding:0;margin:0;overflow:hidden;height:100%}div.mce-fullscreen{position:fixed;top:0;left:0}#mce-modal-block{opacity:0;filter:alpha(opacity=0);zoom:1;position:fixed;left:0;top:0;width:100%;height:100%;background:#FFF}#mce-modal-block.mce-in{opacity:.5;filter:alpha(opacity=50);zoom:1}.mce-window-move{cursor:move}.mce-window{-webkit-box-shadow:0 3px 7px rgba(0, 0, 0, 0.3);-moz-box-shadow:0 3px 7px rgba(0, 0, 0, 0.3);box-shadow:0 3px 7px rgba(0, 0, 0, 0.3);filter:progid:DXImageTransform.Microsoft.gradient(enabled = false);background:transparent;background:#FFF;position:fixed;top:0;left:0;opacity:0;transform:scale(.1);transition:transform 100ms ease-in,opacity 150ms ease-in}.mce-window.mce-in{transform:scale(1);opacity:1}.mce-window-head{padding:9px 15px;border-bottom:1px solid #c5c5c5;position:relative}.mce-window-head .mce-close{position:absolute;right:0;top:0;height:38px;width:38px;text-align:center;cursor:pointer}.mce-window-head .mce-close i{color:#9b9b9b}.mce-close:hover i{color:#bdbdbd}.mce-window-head .mce-title{line-height:20px;font-size:20px;font-weight:bold;text-rendering:optimizelegibility;padding-right:20px}.mce-window .mce-container-body{display:block}.mce-foot{display:block;background-color:#FFF;border-top:1px solid #c5c5c5}.mce-window-head .mce-dragh{position:absolute;top:0;left:0;cursor:move;width:90%;height:100%}.mce-window iframe{width:100%;height:100%}.mce-window-body .mce-listbox{border-color:#e2e4e7}.mce-window .mce-btn:hover{border-color:#c5c5c5}.mce-window .mce-btn:focus{border-color:#2276d2}.mce-window-body .mce-btn,.mce-foot .mce-btn{border-color:#c5c5c5}.mce-foot .mce-btn.mce-primary{border-color:transparent}.mce-rtl .mce-window-head .mce-close{position:absolute;right:auto;left:0}.mce-rtl .mce-window-head .mce-dragh{left:auto;right:0}.mce-rtl .mce-window-head .mce-title{direction:rtl;text-align:right;padding-right:0;padding-left:20px}.mce-tooltip{position:absolute;padding:5px;opacity:.8;filter:alpha(opacity=80);zoom:1;margin-top:1px}.mce-tooltip-inner{font-size:11px;background-color:#000;color:white;max-width:200px;padding:5px 8px 4px 8px;text-align:center;white-space:normal}.mce-tooltip-inner{-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none}.mce-tooltip-arrow{position:absolute;width:0;height:0;line-height:0;border:5px dashed #000}.mce-tooltip-arrow-n{border-bottom-color:#000}.mce-tooltip-arrow-s{border-top-color:#000}.mce-tooltip-arrow-e{border-left-color:#000}.mce-tooltip-arrow-w{border-right-color:#000}.mce-tooltip-nw,.mce-tooltip-sw{margin-left:-14px}.mce-tooltip-ne,.mce-tooltip-se{margin-left:14px}.mce-tooltip-n .mce-tooltip-arrow{top:0;left:50%;margin-left:-5px;border-bottom-style:solid;border-top:none;border-left-color:transparent;border-right-color:transparent}.mce-tooltip-nw .mce-tooltip-arrow{top:0;left:10px;border-bottom-style:solid;border-top:none;border-left-color:transparent;border-right-color:transparent}.mce-tooltip-ne .mce-tooltip-arrow{top:0;right:10px;border-bottom-style:solid;border-top:none;border-left-color:transparent;border-right-color:transparent}.mce-tooltip-s .mce-tooltip-arrow{bottom:0;left:50%;margin-left:-5px;border-top-style:solid;border-bottom:none;border-left-color:transparent;border-right-color:transparent}.mce-tooltip-sw .mce-tooltip-arrow{bottom:0;left:10px;border-top-style:solid;border-bottom:none;border-left-color:transparent;border-right-color:transparent}.mce-tooltip-se .mce-tooltip-arrow{bottom:0;right:10px;border-top-style:solid;border-bottom:none;border-left-color:transparent;border-right-color:transparent}.mce-tooltip-e .mce-tooltip-arrow{right:0;top:50%;margin-top:-5px;border-left-style:solid;border-right:none;border-top-color:transparent;border-bottom-color:transparent}.mce-tooltip-w .mce-tooltip-arrow{left:0;top:50%;margin-top:-5px;border-right-style:solid;border-left:none;border-top-color:transparent;border-bottom-color:transparent}.mce-progress{display:inline-block;position:relative;height:20px}.mce-progress .mce-bar-container{display:inline-block;width:100px;height:100%;margin-right:8px;border:1px solid #ccc;overflow:hidden}.mce-progress .mce-text{display:inline-block;margin-top:auto;margin-bottom:auto;font-size:14px;width:40px;color:#595959}.mce-bar{display:block;width:0;height:100%;background-color:#dfdfdf;-webkit-transition:width .2s ease;transition:width .2s ease}.mce-notification{position:absolute;background-color:#fff;padding:5px;margin-top:5px;border-width:1px;border-style:solid;border-color:#c5c5c5;transition:transform 100ms ease-in,opacity 150ms ease-in;opacity:0;box-sizing:border-box}.mce-notification.mce-in{opacity:1}.mce-notification-success{background-color:#dff0d8;border-color:#d6e9c6}.mce-notification-info{background-color:#d9edf7;border-color:#779ECB}.mce-notification-warning{background-color:#fcf8e3;border-color:#faebcc}.mce-notification-error{background-color:#f2dede;border-color:#ebccd1}.mce-notification.mce-has-close{padding-right:15px}.mce-notification .mce-ico{margin-top:5px}.mce-notification-inner{word-wrap:break-word;-ms-word-break:break-all;word-break:break-all;word-break:break-word;-ms-hyphens:auto;-moz-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;display:inline-block;font-size:14px;margin:5px 8px 4px 8px;text-align:center;white-space:normal;color:#31708f}.mce-notification-inner a{text-decoration:underline;cursor:pointer}.mce-notification .mce-progress{margin-right:8px}.mce-notification .mce-progress .mce-text{margin-top:5px}.mce-notification *,.mce-notification .mce-progress .mce-text{color:#595959}.mce-notification .mce-progress .mce-bar-container{border-color:#c5c5c5}.mce-notification .mce-progress .mce-bar-container .mce-bar{background-color:#595959}.mce-notification-success *,.mce-notification-success .mce-progress .mce-text{color:#3c763d}.mce-notification-success .mce-progress .mce-bar-container{border-color:#d6e9c6}.mce-notification-success .mce-progress .mce-bar-container .mce-bar{background-color:#3c763d}.mce-notification-info *,.mce-notification-info .mce-progress .mce-text{color:#31708f}.mce-notification-info .mce-progress .mce-bar-container{border-color:#779ECB}.mce-notification-info .mce-progress .mce-bar-container .mce-bar{background-color:#31708f}.mce-notification-warning *,.mce-notification-warning .mce-progress .mce-text{color:#8a6d3b}.mce-notification-warning .mce-progress .mce-bar-container{border-color:#faebcc}.mce-notification-warning .mce-progress .mce-bar-container .mce-bar{background-color:#8a6d3b}.mce-notification-error *,.mce-notification-error .mce-progress .mce-text{color:#a94442}.mce-notification-error .mce-progress .mce-bar-container{border-color:#ebccd1}.mce-notification-error .mce-progress .mce-bar-container .mce-bar{background-color:#a94442}.mce-notification .mce-close{position:absolute;top:6px;right:8px;font-size:20px;font-weight:bold;line-height:20px;color:#9b9b9b;cursor:pointer}.mce-abs-layout{position:relative}html .mce-abs-layout-item,.mce-abs-end{position:absolute}.mce-abs-end{width:1px;height:1px}.mce-container-body.mce-abs-layout{overflow:hidden}.mce-btn{border:1px solid #b3b3b3;border-color:transparent transparent transparent transparent;position:relative;text-shadow:0 1px 1px rgba(255,255,255,0.75);background:white;display:inline-block;*display:inline;*zoom:1;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none}.mce-btn:hover,.mce-btn:active{background:white;color:#595959;border-color:#e2e4e7}.mce-btn:focus{background:white;color:#595959;border-color:#e2e4e7}.mce-btn.mce-disabled button,.mce-btn.mce-disabled:hover button{cursor:default;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none;opacity:.4;filter:alpha(opacity=40);zoom:1}.mce-btn.mce-active,.mce-btn.mce-active:hover,.mce-btn.mce-active:focus,.mce-btn.mce-active:active{-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none;background:#555c66;color:white;border-color:transparent}.mce-btn.mce-active button,.mce-btn.mce-active:hover button,.mce-btn.mce-active i,.mce-btn.mce-active:hover i{color:white}.mce-btn:hover .mce-caret{border-top-color:#b5bcc2}.mce-btn.mce-active .mce-caret,.mce-btn.mce-active:hover .mce-caret{border-top-color:white}.mce-btn button{padding:4px 6px;font-size:14px;line-height:20px;*line-height:16px;cursor:pointer;color:#595959;text-align:center;overflow:visible;-webkit-appearance:none}.mce-btn button::-moz-focus-inner{border:0;padding:0}.mce-btn i{text-shadow:1px 1px none}.mce-primary.mce-btn-has-text{min-width:50px}.mce-primary{color:white;border:1px solid transparent;border-color:transparent;background-color:#2276d2}.mce-primary:hover,.mce-primary:focus{background-color:#1e6abc;border-color:transparent}.mce-primary.mce-disabled button,.mce-primary.mce-disabled:hover button{cursor:default;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none;opacity:.4;filter:alpha(opacity=40);zoom:1}.mce-primary.mce-active,.mce-primary.mce-active:hover,.mce-primary:not(.mce-disabled):active{background-color:#1e6abc;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none}.mce-primary button,.mce-primary button i{color:white;text-shadow:1px 1px none}.mce-btn .mce-txt{font-size:inherit;line-height:inherit;color:inherit}.mce-btn-large button{padding:9px 14px;font-size:16px;line-height:normal}.mce-btn-large i{margin-top:2px}.mce-btn-small button{padding:1px 5px;font-size:12px;*padding-bottom:2px}.mce-btn-small i{line-height:20px;vertical-align:top;*line-height:18px}.mce-btn .mce-caret{margin-top:8px;margin-left:0}.mce-btn-small .mce-caret{margin-top:8px;margin-left:0}.mce-caret{display:inline-block;*display:inline;*zoom:1;width:0;height:0;vertical-align:top;border-top:4px solid #b5bcc2;border-right:4px solid transparent;border-left:4px solid transparent;content:\\\"\\\"}.mce-disabled .mce-caret{border-top-color:#aaa}.mce-caret.mce-up{border-bottom:4px solid #b5bcc2;border-top:0}.mce-btn-flat{border:0;background:transparent;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none;filter:none}.mce-btn-flat:hover,.mce-btn-flat.mce-active,.mce-btn-flat:focus,.mce-btn-flat:active{border:0;background:#e6e6e6;filter:none;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none}.mce-btn-has-text .mce-ico{padding-right:5px}.mce-rtl .mce-btn button{direction:rtl}.mce-toolbar .mce-btn-group{margin:0;padding:2px 0}.mce-btn-group .mce-btn{border-width:1px;margin:0;margin-left:2px}.mce-btn-group:not(:first-child){border-left:1px solid #d9d9d9;padding-left:0;margin-left:2px}.mce-btn-group{margin-left:2px}.mce-btn-group .mce-btn.mce-flow-layout-item{margin:0}.mce-rtl .mce-btn-group .mce-btn{margin-left:0;margin-right:2px}.mce-rtl .mce-btn-group .mce-first{margin-right:0}.mce-rtl .mce-btn-group:not(:first-child){border-left:none;border-right:1px solid #d9d9d9;padding-right:4px;margin-right:4px}.mce-checkbox{cursor:pointer}i.mce-i-checkbox{margin:0 3px 0 0;border:1px solid #c5c5c5;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none;background-color:white;text-indent:-10em;overflow:hidden}.mce-checked i.mce-i-checkbox{color:#595959;font-size:16px;line-height:16px;text-indent:0}.mce-checkbox:focus i.mce-i-checkbox,.mce-checkbox.mce-focus i.mce-i-checkbox{border:1px solid #2276d2;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none}.mce-checkbox.mce-disabled .mce-label,.mce-checkbox.mce-disabled i.mce-i-checkbox{color:#bdbdbd}.mce-checkbox .mce-label{vertical-align:middle}.mce-rtl .mce-checkbox{direction:rtl;text-align:right}.mce-rtl i.mce-i-checkbox{margin:0 0 0 3px}.mce-combobox{position:relative;display:inline-block;*display:inline;*zoom:1;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none;*height:32px}.mce-combobox input{border:1px solid #c5c5c5;border-right-color:#c5c5c5;height:28px}.mce-combobox.mce-disabled input{color:#bdbdbd}.mce-combobox .mce-btn{border:1px solid #c5c5c5;border-left:0;margin:0}.mce-combobox button{padding-right:8px;padding-left:8px}.mce-combobox.mce-disabled .mce-btn button{cursor:default;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none;opacity:.4;filter:alpha(opacity=40);zoom:1}.mce-combobox .mce-status{position:absolute;right:2px;top:50%;line-height:16px;margin-top:-8px;font-size:12px;width:15px;height:15px;text-align:center;cursor:pointer}.mce-combobox.mce-has-status input{padding-right:20px}.mce-combobox.mce-has-open .mce-status{right:37px}.mce-combobox .mce-status.mce-i-warning{color:#c09853}.mce-combobox .mce-status.mce-i-checkmark{color:#468847}.mce-menu.mce-combobox-menu{border-top:0;margin-top:0;max-height:200px}.mce-menu.mce-combobox-menu .mce-menu-item{padding:4px 6px 4px 4px;font-size:11px}.mce-menu.mce-combobox-menu .mce-menu-item-sep{padding:0}.mce-menu.mce-combobox-menu .mce-text,.mce-menu.mce-combobox-menu .mce-text b{font-size:11px}.mce-menu.mce-combobox-menu .mce-menu-item-link,.mce-menu.mce-combobox-menu .mce-menu-item-link b{font-size:11px}.mce-colorbox i{border:1px solid #c5c5c5;width:14px;height:14px}.mce-colorbutton .mce-ico{position:relative}.mce-colorbutton-grid{margin:4px}.mce-colorbutton .mce-preview{padding-right:3px;display:block;position:absolute;left:50%;top:50%;margin-left:-17px;margin-top:7px;background:gray;width:13px;height:2px;overflow:hidden}.mce-colorbutton.mce-btn-small .mce-preview{margin-left:-16px;padding-right:0;width:16px}.mce-rtl .mce-colorbutton{direction:rtl}.mce-rtl .mce-colorbutton .mce-preview{margin-left:0;padding-right:0;padding-left:3px}.mce-rtl .mce-colorbutton.mce-btn-small .mce-preview{margin-left:0;padding-right:0;padding-left:2px}.mce-rtl .mce-colorbutton .mce-open{padding-left:4px;padding-right:4px;border-left:0}.mce-colorpicker{position:relative;width:250px;height:220px}.mce-colorpicker-sv{position:absolute;top:0;left:0;width:90%;height:100%;border:1px solid #c5c5c5;cursor:crosshair;overflow:hidden}.mce-colorpicker-h-chunk{width:100%}.mce-colorpicker-overlay1,.mce-colorpicker-overlay2{width:100%;height:100%;position:absolute;top:0;left:0}.mce-colorpicker-overlay1{filter:progid:DXImageTransform.Microsoft.gradient(GradientType=1, startColorstr='#ffffff', endColorstr='#00ffffff');-ms-filter:\\\"progid:DXImageTransform.Microsoft.gradient(GradientType=1,startColorstr='#ffffff', endColorstr='#00ffffff')\\\";background:linear-gradient(to right, #fff, rgba(255,255,255,0))}.mce-colorpicker-overlay2{filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0, startColorstr='#00000000', endColorstr='#000000');-ms-filter:\\\"progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr='#00000000', endColorstr='#000000')\\\";background:linear-gradient(to bottom, rgba(0,0,0,0), #000)}.mce-colorpicker-selector1{background:none;position:absolute;width:12px;height:12px;margin:-8px 0 0 -8px;border:1px solid black;border-radius:50%}.mce-colorpicker-selector2{position:absolute;width:10px;height:10px;border:1px solid white;border-radius:50%}.mce-colorpicker-h{position:absolute;top:0;right:0;width:6.5%;height:100%;border:1px solid #c5c5c5;cursor:crosshair}.mce-colorpicker-h-marker{margin-top:-4px;position:absolute;top:0;left:-1px;width:100%;border:1px solid black;background:white;height:4px;z-index:100}.mce-path{display:inline-block;*display:inline;*zoom:1;padding:8px;white-space:normal;font-size:inherit}.mce-path .mce-txt{display:inline-block;padding-right:3px}.mce-path .mce-path-body{display:inline-block}.mce-path-item{display:inline-block;*display:inline;*zoom:1;cursor:pointer;color:#595959;font-size:inherit;text-transform:uppercase}.mce-path-item:hover{text-decoration:underline}.mce-path-item:focus{background:#555c66;color:white}.mce-path .mce-divider{display:inline;font-size:inherit}.mce-disabled .mce-path-item{color:#aaa}.mce-rtl .mce-path{direction:rtl}.mce-fieldset{border:0 solid #9E9E9E}.mce-fieldset>.mce-container-body{margin-top:-15px}.mce-fieldset-title{margin-left:5px;padding:0 5px 0 5px}.mce-fit-layout{display:inline-block;*display:inline;*zoom:1}.mce-fit-layout-item{position:absolute}.mce-flow-layout-item{display:inline-block;*display:inline;*zoom:1}.mce-flow-layout-item{margin:2px 0 2px 2px}.mce-flow-layout-item.mce-last{margin-right:2px}.mce-flow-layout{white-space:normal}.mce-tinymce-inline .mce-flow-layout{white-space:nowrap}.mce-rtl .mce-flow-layout{text-align:right;direction:rtl}.mce-rtl .mce-flow-layout-item{margin:2px 2px 2px 0}.mce-rtl .mce-flow-layout-item.mce-last{margin-left:2px}.mce-iframe{border:0 solid #c5c5c5;width:100%;height:100%}.mce-infobox{display:inline-block;*display:inline;*zoom:1;text-shadow:0 1px 1px rgba(255,255,255,0.75);overflow:hidden;border:1px solid red}.mce-infobox div{display:block;margin:5px}.mce-infobox div button{position:absolute;top:50%;right:4px;cursor:pointer;margin-top:-8px;display:none}.mce-infobox div button:focus{outline:2px solid #e2e4e7}.mce-infobox.mce-has-help div{margin-right:25px}.mce-infobox.mce-has-help button{display:block}.mce-infobox.mce-success{background:#dff0d8;border-color:#d6e9c6}.mce-infobox.mce-success div{color:#3c763d}.mce-infobox.mce-warning{background:#fcf8e3;border-color:#faebcc}.mce-infobox.mce-warning div{color:#8a6d3b}.mce-infobox.mce-error{background:#f2dede;border-color:#ebccd1}.mce-infobox.mce-error div{color:#a94442}.mce-rtl .mce-infobox div{text-align:right;direction:rtl}.mce-label{display:inline-block;*display:inline;*zoom:1;text-shadow:0 1px 1px rgba(255,255,255,0.75);overflow:hidden}.mce-label.mce-autoscroll{overflow:auto}.mce-label.mce-disabled{color:#aaa}.mce-label.mce-multiline{white-space:pre-wrap}.mce-label.mce-success{color:#468847}.mce-label.mce-warning{color:#c09853}.mce-label.mce-error{color:#b94a48}.mce-rtl .mce-label{text-align:right;direction:rtl}.mce-menubar{border:1px solid #e2e4e7}.mce-menubar .mce-menubtn{border-color:transparent;background:transparent;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none;filter:none}.mce-menubar .mce-menubtn button span{color:#595959}.mce-menubar .mce-caret{border-top-color:#b5bcc2}.mce-menubar .mce-active .mce-caret,.mce-menubar .mce-menubtn:hover .mce-caret{border-top-color:#b5bcc2}.mce-menubar .mce-menubtn:hover,.mce-menubar .mce-menubtn.mce-active,.mce-menubar .mce-menubtn:focus{border-color:#e2e4e7;background:white;filter:none;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none}.mce-menubar .mce-menubtn.mce-active{border-bottom:none;z-index:65537}div.mce-menubtn.mce-opened{border-bottom-color:white;z-index:65537}div.mce-menubtn.mce-opened.mce-opened-under{z-index:0}.mce-menubtn button{color:#595959}.mce-menubtn.mce-btn-small span{font-size:12px}.mce-menubtn.mce-fixed-width span{display:inline-block;overflow-x:hidden;text-overflow:ellipsis;width:90px}.mce-menubtn.mce-fixed-width.mce-btn-small span{width:70px}.mce-menubtn .mce-caret{*margin-top:6px}.mce-rtl .mce-menubtn button{direction:rtl;text-align:right}.mce-rtl .mce-menubtn.mce-fixed-width span{direction:rtl;text-align:right}.mce-menu-item{display:block;padding:6px 4px 6px 4px;clear:both;font-weight:normal;line-height:20px;color:#595959;white-space:nowrap;cursor:pointer;line-height:normal;border-left:4px solid transparent;margin-bottom:1px}.mce-menu-item .mce-text,.mce-menu-item .mce-text b{line-height:1;vertical-align:initial}.mce-menu-item .mce-caret{margin-top:4px;margin-right:6px;border-top:4px solid transparent;border-bottom:4px solid transparent;border-left:4px solid #595959}.mce-menu-item .mce-menu-shortcut{display:inline-block;padding:0 10px 0 20px;color:#aaa}.mce-menu-item .mce-ico{padding-right:4px}.mce-menu-item:hover,.mce-menu-item:focus{background:#ededee}.mce-menu-item:hover .mce-menu-shortcut,.mce-menu-item:focus .mce-menu-shortcut{color:#aaa}.mce-menu-item:hover .mce-text,.mce-menu-item:focus .mce-text,.mce-menu-item:hover .mce-ico,.mce-menu-item:focus .mce-ico{color:#595959}.mce-menu-item.mce-selected{background:#ededee}.mce-menu-item.mce-selected .mce-text,.mce-menu-item.mce-selected .mce-ico{color:#595959}.mce-menu-item.mce-active.mce-menu-item-normal{background:#555c66}.mce-menu-item.mce-active.mce-menu-item-normal .mce-text,.mce-menu-item.mce-active.mce-menu-item-normal .mce-ico{color:white}.mce-menu-item.mce-active.mce-menu-item-checkbox .mce-ico{visibility:visible}.mce-menu-item.mce-disabled,.mce-menu-item.mce-disabled:hover{background:white}.mce-menu-item.mce-disabled:focus,.mce-menu-item.mce-disabled:hover:focus{background:#ededee}.mce-menu-item.mce-disabled .mce-text,.mce-menu-item.mce-disabled:hover .mce-text,.mce-menu-item.mce-disabled .mce-ico,.mce-menu-item.mce-disabled:hover .mce-ico{color:#aaa}.mce-menu-item.mce-menu-item-preview.mce-active{border-left:5px solid #555c66;background:white}.mce-menu-item.mce-menu-item-preview.mce-active .mce-text,.mce-menu-item.mce-menu-item-preview.mce-active .mce-ico{color:#595959}.mce-menu-item.mce-menu-item-preview.mce-active:hover{background:#ededee}.mce-menu-item-link{color:#093;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mce-menu-item-link b{color:#093}.mce-menu-item-ellipsis{display:block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mce-menu-item:hover *,.mce-menu-item.mce-selected *,.mce-menu-item:focus *{color:#595959}div.mce-menu .mce-menu-item-sep,.mce-menu-item-sep:hover{border:0;padding:0;height:1px;margin:9px 1px;overflow:hidden;background:transparent;border-bottom:1px solid rgba(0,0,0,0.1);cursor:default;filter:none}div.mce-menu .mce-menu-item b{font-weight:bold}.mce-menu-item-indent-1{padding-left:20px}.mce-menu-item-indent-2{padding-left:35px}.mce-menu-item-indent-2{padding-left:35px}.mce-menu-item-indent-3{padding-left:40px}.mce-menu-item-indent-4{padding-left:45px}.mce-menu-item-indent-5{padding-left:50px}.mce-menu-item-indent-6{padding-left:55px}.mce-menu.mce-rtl{direction:rtl}.mce-rtl .mce-menu-item{text-align:right;direction:rtl;padding:6px 12px 6px 15px}.mce-rtl .mce-menu-item .mce-caret{margin-left:6px;margin-right:0;border-right:4px solid #595959;border-left:0}.mce-rtl .mce-menu-item.mce-selected .mce-caret,.mce-rtl .mce-menu-item:focus .mce-caret,.mce-rtl .mce-menu-item:hover .mce-caret{border-left-color:transparent;border-right-color:#595959}.mce-rtl .mce-menu-item .mce-ico{padding-right:0;padding-left:4px}.mce-throbber{position:absolute;top:0;left:0;width:100%;height:100%;opacity:.6;filter:alpha(opacity=60);zoom:1;background:#fff url('img/loader.gif') no-repeat center center}.mce-throbber-inline{position:static;height:50px}.mce-menu .mce-throbber-inline{height:25px;background-size:contain}.mce-menu{position:absolute;left:0;top:0;filter:progid:DXImageTransform.Microsoft.gradient(enabled = false);background:transparent;z-index:1000;padding:5px 0 5px 0;margin:-1px 0 0;min-width:180px;background:white;border:1px solid #c5c9cf;border:1px solid #e2e4e7;z-index:1002;-webkit-box-shadow:0 1px 2px rgba(0, 0, 0, 0.2);-moz-box-shadow:0 1px 2px rgba(0, 0, 0, 0.2);box-shadow:0 1px 2px rgba(0, 0, 0, 0.2);max-height:500px;overflow:auto;overflow-x:hidden}.mce-menu.mce-animate{opacity:.01;transform:rotateY(10deg) rotateX(-10deg);transform-origin:left top}.mce-menu.mce-menu-align .mce-menu-shortcut,.mce-menu.mce-menu-align .mce-caret{position:absolute;right:0}.mce-menu i{display:none}.mce-menu-has-icons i{display:inline-block}.mce-menu.mce-in.mce-animate{opacity:1;transform:rotateY(0) rotateX(0);transition:opacity .075s ease,transform .1s ease}.mce-menu-sub-tr-tl{margin:-6px 0 0 -1px}.mce-menu-sub-br-bl{margin:6px 0 0 -1px}.mce-menu-sub-tl-tr{margin:-6px 0 0 1px}.mce-menu-sub-bl-br{margin:6px 0 0 1px}.mce-rtl .mce-menu-item .mce-ico{padding-right:0;padding-left:4px}.mce-rtl.mce-menu-align .mce-caret,.mce-rtl .mce-menu-shortcut{right:auto;left:0}.mce-listbox button{text-align:left;padding-right:20px;position:relative}.mce-listbox .mce-caret{position:absolute;margin-top:-2px;right:8px;top:50%}.mce-rtl .mce-listbox .mce-caret{right:auto;left:8px}.mce-rtl .mce-listbox button{padding-right:10px;padding-left:20px}.mce-container-body .mce-resizehandle{position:absolute;right:0;bottom:0;width:16px;height:16px;visibility:visible;cursor:s-resize;margin:0}.mce-container-body .mce-resizehandle-both{cursor:se-resize}i.mce-i-resize{color:#595959}.mce-selectbox{background:#fff;border:1px solid #c5c5c5}.mce-slider{border:1px solid #c5c5c5;background:#fff;width:100px;height:10px;position:relative;display:block}.mce-slider.mce-vertical{width:10px;height:100px}.mce-slider-handle{border:1px solid #c5c5c5;background:#e6e6e6;display:block;width:13px;height:13px;position:absolute;top:0;left:0;margin-left:-1px;margin-top:-2px}.mce-slider-handle:focus{border-color:#2276d2}.mce-spacer{visibility:hidden}.mce-splitbtn:hover .mce-open{border-left:1px solid #e2e4e7}.mce-splitbtn .mce-open{border-left:1px solid transparent;padding-right:4px;padding-left:4px}.mce-splitbtn .mce-open:focus{border-left:1px solid #e2e4e7}.mce-splitbtn .mce-open:hover,.mce-splitbtn .mce-open:active{border-left:1px solid #e2e4e7}.mce-splitbtn.mce-active:hover .mce-open{border-left:1px solid white}.mce-splitbtn.mce-opened{border-color:#e2e4e7}.mce-splitbtn.mce-btn-small .mce-open{padding:0 3px 0 3px}.mce-rtl .mce-splitbtn{direction:rtl;text-align:right}.mce-rtl .mce-splitbtn button{padding-right:4px;padding-left:4px}.mce-rtl .mce-splitbtn .mce-open{border-left:0}.mce-stack-layout-item{display:block}.mce-tabs{display:block;border-bottom:1px solid #c5c5c5}.mce-tabs,.mce-tabs+.mce-container-body{background:#fff}.mce-tab{display:inline-block;*display:inline;*zoom:1;border:1px solid #c5c5c5;border-width:0 1px 0 0;background:#fff;padding:8px 15px;text-shadow:0 1px 1px rgba(255,255,255,0.75);height:13px;cursor:pointer}.mce-tab:hover{background:#FDFDFD}.mce-tab.mce-active{background:#FDFDFD;border-bottom-color:transparent;margin-bottom:-1px;height:14px}.mce-tab:focus{color:#2276d2}.mce-rtl .mce-tabs{text-align:right;direction:rtl}.mce-rtl .mce-tab{border-width:0 0 0 1px}.mce-textbox{background:#fff;border:1px solid #c5c5c5;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none;display:inline-block;-webkit-transition:border linear .2s, box-shadow linear .2s;transition:border linear .2s, box-shadow linear .2s;height:28px;resize:none;padding:0 4px 0 4px;white-space:pre-wrap;*white-space:pre;color:#595959}.mce-textbox:focus,.mce-textbox.mce-focus{border-color:#2276d2;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none}.mce-placeholder .mce-textbox{color:#aaa}.mce-textbox.mce-multiline{padding:4px;height:auto}.mce-textbox.mce-disabled{color:#bdbdbd}.mce-rtl .mce-textbox{text-align:right;direction:rtl}.mce-dropzone{border:3px dashed gray;text-align:center}.mce-dropzone span{text-transform:uppercase;display:inline-block;vertical-align:middle}.mce-dropzone:after{content:\\\"\\\";height:100%;display:inline-block;vertical-align:middle}.mce-dropzone.mce-disabled{opacity:.4;filter:alpha(opacity=40);zoom:1}.mce-dropzone.mce-disabled.mce-dragenter{cursor:not-allowed}.mce-browsebutton{position:relative;overflow:hidden}.mce-browsebutton button{position:relative;z-index:1}.mce-browsebutton input{opacity:0;filter:alpha(opacity=0);zoom:1;position:absolute;top:0;left:0;width:100%;height:100%;z-index:0}@font-face{font-family:'tinymce';src:url('fonts/tinymce.eot');src:url('fonts/tinymce.eot?#iefix') format('embedded-opentype'),url('fonts/tinymce.woff') format('woff'),url('fonts/tinymce.ttf') format('truetype'),url('fonts/tinymce.svg#tinymce') format('svg');font-weight:normal;font-style:normal}@font-face{font-family:'tinymce-small';src:url('fonts/tinymce-small.eot');src:url('fonts/tinymce-small.eot?#iefix') format('embedded-opentype'),url('fonts/tinymce-small.woff') format('woff'),url('fonts/tinymce-small.ttf') format('truetype'),url('fonts/tinymce-small.svg#tinymce') format('svg');font-weight:normal;font-style:normal}.mce-ico{font-family:'tinymce',Arial !important;font-style:normal;font-weight:normal;font-variant:normal;font-size:16px;line-height:16px;speak:none;vertical-align:text-top;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;background:transparent center center;background-size:cover;width:16px;height:16px;color:#595959}.mce-btn-small .mce-ico{font-family:'tinymce-small',Arial !important}.mce-i-save:before{content:\\\"\\\\e000\\\"}.mce-i-newdocument:before{content:\\\"\\\\e001\\\"}.mce-i-fullpage:before{content:\\\"\\\\e002\\\"}.mce-i-alignleft:before{content:\\\"\\\\e003\\\"}.mce-i-aligncenter:before{content:\\\"\\\\e004\\\"}.mce-i-alignright:before{content:\\\"\\\\e005\\\"}.mce-i-alignjustify:before{content:\\\"\\\\e006\\\"}.mce-i-alignnone:before{content:\\\"\\\\e003\\\"}.mce-i-cut:before{content:\\\"\\\\e007\\\"}.mce-i-paste:before{content:\\\"\\\\e008\\\"}.mce-i-searchreplace:before{content:\\\"\\\\e009\\\"}.mce-i-bullist:before{content:\\\"\\\\e00a\\\"}.mce-i-numlist:before{content:\\\"\\\\e00b\\\"}.mce-i-indent:before{content:\\\"\\\\e00c\\\"}.mce-i-outdent:before{content:\\\"\\\\e00d\\\"}.mce-i-blockquote:before{content:\\\"\\\\e00e\\\"}.mce-i-undo:before{content:\\\"\\\\e00f\\\"}.mce-i-redo:before{content:\\\"\\\\e010\\\"}.mce-i-link:before{content:\\\"\\\\e011\\\"}.mce-i-unlink:before{content:\\\"\\\\e012\\\"}.mce-i-anchor:before{content:\\\"\\\\e013\\\"}.mce-i-image:before{content:\\\"\\\\e014\\\"}.mce-i-media:before{content:\\\"\\\\e015\\\"}.mce-i-help:before{content:\\\"\\\\e016\\\"}.mce-i-code:before{content:\\\"\\\\e017\\\"}.mce-i-insertdatetime:before{content:\\\"\\\\e018\\\"}.mce-i-preview:before{content:\\\"\\\\e019\\\"}.mce-i-forecolor:before{content:\\\"\\\\e01a\\\"}.mce-i-backcolor:before{content:\\\"\\\\e01a\\\"}.mce-i-table:before{content:\\\"\\\\e01b\\\"}.mce-i-hr:before{content:\\\"\\\\e01c\\\"}.mce-i-removeformat:before{content:\\\"\\\\e01d\\\"}.mce-i-subscript:before{content:\\\"\\\\e01e\\\"}.mce-i-superscript:before{content:\\\"\\\\e01f\\\"}.mce-i-charmap:before{content:\\\"\\\\e020\\\"}.mce-i-emoticons:before{content:\\\"\\\\e021\\\"}.mce-i-print:before{content:\\\"\\\\e022\\\"}.mce-i-fullscreen:before{content:\\\"\\\\e023\\\"}.mce-i-spellchecker:before{content:\\\"\\\\e024\\\"}.mce-i-nonbreaking:before{content:\\\"\\\\e025\\\"}.mce-i-template:before{content:\\\"\\\\e026\\\"}.mce-i-pagebreak:before{content:\\\"\\\\e027\\\"}.mce-i-restoredraft:before{content:\\\"\\\\e028\\\"}.mce-i-bold:before{content:\\\"\\\\e02a\\\"}.mce-i-italic:before{content:\\\"\\\\e02b\\\"}.mce-i-underline:before{content:\\\"\\\\e02c\\\"}.mce-i-strikethrough:before{content:\\\"\\\\e02d\\\"}.mce-i-visualchars:before{content:\\\"\\\\e02e\\\"}.mce-i-visualblocks:before{content:\\\"\\\\e02e\\\"}.mce-i-ltr:before{content:\\\"\\\\e02f\\\"}.mce-i-rtl:before{content:\\\"\\\\e030\\\"}.mce-i-copy:before{content:\\\"\\\\e031\\\"}.mce-i-resize:before{content:\\\"\\\\e032\\\"}.mce-i-browse:before{content:\\\"\\\\e034\\\"}.mce-i-pastetext:before{content:\\\"\\\\e035\\\"}.mce-i-rotateleft:before{content:\\\"\\\\eaa8\\\"}.mce-i-rotateright:before{content:\\\"\\\\eaa9\\\"}.mce-i-crop:before{content:\\\"\\\\ee78\\\"}.mce-i-editimage:before{content:\\\"\\\\e915\\\"}.mce-i-options:before{content:\\\"\\\\ec6a\\\"}.mce-i-flipv:before{content:\\\"\\\\eaaa\\\"}.mce-i-fliph:before{content:\\\"\\\\eaac\\\"}.mce-i-zoomin:before{content:\\\"\\\\eb35\\\"}.mce-i-zoomout:before{content:\\\"\\\\eb36\\\"}.mce-i-sun:before{content:\\\"\\\\eccc\\\"}.mce-i-moon:before{content:\\\"\\\\eccd\\\"}.mce-i-arrowleft:before{content:\\\"\\\\edc0\\\"}.mce-i-arrowright:before{content:\\\"\\\\e93c\\\"}.mce-i-drop:before{content:\\\"\\\\e935\\\"}.mce-i-contrast:before{content:\\\"\\\\ecd4\\\"}.mce-i-sharpen:before{content:\\\"\\\\eba7\\\"}.mce-i-resize2:before{content:\\\"\\\\edf9\\\"}.mce-i-orientation:before{content:\\\"\\\\e601\\\"}.mce-i-invert:before{content:\\\"\\\\e602\\\"}.mce-i-gamma:before{content:\\\"\\\\e600\\\"}.mce-i-remove:before{content:\\\"\\\\ed6a\\\"}.mce-i-tablerowprops:before{content:\\\"\\\\e604\\\"}.mce-i-tablecellprops:before{content:\\\"\\\\e605\\\"}.mce-i-table2:before{content:\\\"\\\\e606\\\"}.mce-i-tablemergecells:before{content:\\\"\\\\e607\\\"}.mce-i-tableinsertcolbefore:before{content:\\\"\\\\e608\\\"}.mce-i-tableinsertcolafter:before{content:\\\"\\\\e609\\\"}.mce-i-tableinsertrowbefore:before{content:\\\"\\\\e60a\\\"}.mce-i-tableinsertrowafter:before{content:\\\"\\\\e60b\\\"}.mce-i-tablesplitcells:before{content:\\\"\\\\e60d\\\"}.mce-i-tabledelete:before{content:\\\"\\\\e60e\\\"}.mce-i-tableleftheader:before{content:\\\"\\\\e62a\\\"}.mce-i-tabletopheader:before{content:\\\"\\\\e62b\\\"}.mce-i-tabledeleterow:before{content:\\\"\\\\e800\\\"}.mce-i-tabledeletecol:before{content:\\\"\\\\e801\\\"}.mce-i-codesample:before{content:\\\"\\\\e603\\\"}.mce-i-fill:before{content:\\\"\\\\e902\\\"}.mce-i-borderwidth:before{content:\\\"\\\\e903\\\"}.mce-i-line:before{content:\\\"\\\\e904\\\"}.mce-i-count:before{content:\\\"\\\\e905\\\"}.mce-i-translate:before{content:\\\"\\\\e907\\\"}.mce-i-drag:before{content:\\\"\\\\e908\\\"}.mce-i-home:before{content:\\\"\\\\e90b\\\"}.mce-i-upload:before{content:\\\"\\\\e914\\\"}.mce-i-bubble:before{content:\\\"\\\\e91c\\\"}.mce-i-user:before{content:\\\"\\\\e91d\\\"}.mce-i-lock:before{content:\\\"\\\\e926\\\"}.mce-i-unlock:before{content:\\\"\\\\e927\\\"}.mce-i-settings:before{content:\\\"\\\\e928\\\"}.mce-i-remove2:before{content:\\\"\\\\e92a\\\"}.mce-i-menu:before{content:\\\"\\\\e92d\\\"}.mce-i-warning:before{content:\\\"\\\\e930\\\"}.mce-i-question:before{content:\\\"\\\\e931\\\"}.mce-i-pluscircle:before{content:\\\"\\\\e932\\\"}.mce-i-info:before{content:\\\"\\\\e933\\\"}.mce-i-notice:before{content:\\\"\\\\e934\\\"}.mce-i-arrowup:before{content:\\\"\\\\e93b\\\"}.mce-i-arrowdown:before{content:\\\"\\\\e93d\\\"}.mce-i-arrowup2:before{content:\\\"\\\\e93f\\\"}.mce-i-arrowdown2:before{content:\\\"\\\\e940\\\"}.mce-i-menu2:before{content:\\\"\\\\e941\\\"}.mce-i-newtab:before{content:\\\"\\\\e961\\\"}.mce-i-a11y:before{content:\\\"\\\\e900\\\"}.mce-i-plus:before{content:\\\"\\\\e93a\\\"}.mce-i-insert:before{content:\\\"\\\\e93a\\\"}.mce-i-minus:before{content:\\\"\\\\e939\\\"}.mce-i-books:before{content:\\\"\\\\e911\\\"}.mce-i-reload:before{content:\\\"\\\\e906\\\"}.mce-i-toc:before{content:\\\"\\\\e901\\\"}.mce-i-checkmark:before{content:\\\"\\\\e033\\\"}.mce-i-format-painter:before{content:\\\"\\\\e909\\\"}.mce-i-checkbox:before,.mce-i-selected:before{content:\\\"\\\\e033\\\"}.mce-i-insert{font-size:14px}.mce-i-selected{visibility:hidden}i.mce-i-backcolor{text-shadow:none;background:#BBB}.mce-rtl .mce-filepicker input{direction:ltr}/*# sourceMappingURL=skin.min.css.map */\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\\np[data-v-9d7cc094] {\\n  font-size: 2em;\\n  text-align: center;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/namedComps/tinymcetest.vue\"],\"names\":[],\"mappings\":\";AA+CA;EACA,cAAA;EACA,kBAAA;AACA\",\"sourcesContent\":[\"<template>\\n  <div>\\n    <tinymce id=\\\"d1\\\" v-model=\\\"data\\\"></tinymce>\\n    <button type=\\\"button\\\" @click=\\\"resetClickHandler\\\">Reset</button>\\n    <button type=\\\"button\\\" @click=\\\"contentClickHandler\\\">SetContent</button>\\n    <div>{{ data }}</div>\\n  </div>\\n</template>\\n\\n\\n<script lang=\\\"ts\\\">\\nimport { Vue } from \\\"vue/types/vue\\\";\\nimport { ThisTypedComponentOptionsWithRecordProps } from \\\"vue/types/options\\\";\\nimport tinymce from '../external/TinymceVue.vue'\\nconst intellisense: <D, M, C, P>(\\n  x: ThisTypedComponentOptionsWithRecordProps<Vue, D, M, C, P>\\n) => void = (x) => x;\\n\\nexport default intellisense({\\n  name: \\\"tinymcetest\\\",\\n  components: {\\n    tinymce\\n  },\\n  data() {\\n    return {\\n          data : '',\\n      };\\n  },\\n  methods: {\\n    resetClickHandler(){\\n      console.log(\\\"before reset: \\\", this.data)\\n      this.data = \\\"\\\";        \\n    },\\n    contentClickHandler(){\\n      // this.data += \\\" asdasdasdasdas\\\";\\n      // console.log(this.data)\\n      // let obj = {\\n      //   data: \\\"ilker\\\"\\n      // };\\n      this.data = \\\"hello\\\"\\n      this.$emit(\\\"testEvent\\\", this.data)\\n    }\\n  }\\n});\\n</script>\\n\\n<style scoped>\\np {\\n  font-size: 2em;\\n  text-align: center;\\n}\\n</style>\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = \"\";\n      var needLayer = typeof item[5] !== \"undefined\";\n\n      if (item[4]) {\n        content += \"@supports (\".concat(item[4], \") {\");\n      }\n\n      if (item[2]) {\n        content += \"@media \".concat(item[2], \" {\");\n      }\n\n      if (needLayer) {\n        content += \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\");\n      }\n\n      content += cssWithMappingToString(item);\n\n      if (needLayer) {\n        content += \"}\";\n      }\n\n      if (item[2]) {\n        content += \"}\";\n      }\n\n      if (item[4]) {\n        content += \"}\";\n      }\n\n      return content;\n    }).join(\"\");\n  }; // import a list of modules into the list\n\n\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === \"string\") {\n      modules = [[null, modules, undefined]];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var k = 0; k < this.length; k++) {\n        var id = this[k][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _k = 0; _k < modules.length; _k++) {\n      var item = [].concat(modules[_k]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n\n      if (typeof layer !== \"undefined\") {\n        if (typeof item[5] === \"undefined\") {\n          item[5] = layer;\n        } else {\n          item[1] = \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\").concat(item[1], \"}\");\n          item[5] = layer;\n        }\n      }\n\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = \"@media \".concat(item[2], \" {\").concat(item[1], \"}\");\n          item[2] = media;\n        }\n      }\n\n      if (supports) {\n        if (!item[4]) {\n          item[4] = \"\".concat(supports);\n        } else {\n          item[1] = \"@supports (\".concat(item[4], \") {\").concat(item[1], \"}\");\n          item[4] = supports;\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};","\"use strict\";\n\nmodule.exports = function (url, options) {\n  if (!options) {\n    options = {};\n  }\n\n  if (!url) {\n    return url;\n  }\n\n  url = String(url.__esModule ? url.default : url); // If url is already wrapped in quotes, remove them\n\n  if (/^['\"].*['\"]$/.test(url)) {\n    url = url.slice(1, -1);\n  }\n\n  if (options.hash) {\n    url += options.hash;\n  } // Should url be wrapped?\n  // See https://drafts.csswg.org/css-values-3/#urls\n\n\n  if (/[\"'() \\t\\n]|(%20)/.test(url) || options.needQuotes) {\n    return \"\\\"\".concat(url.replace(/\"/g, '\\\\\"').replace(/\\n/g, \"\\\\n\"), \"\\\"\");\n  }\n\n  return url;\n};","\"use strict\";\n\nmodule.exports = function (item) {\n  var content = item[1];\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (typeof btoa === \"function\") {\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));\n    var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n    var sourceMapping = \"/*# \".concat(data, \" */\");\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || \"\").concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join(\"\\n\");\n  }\n\n  return [content].join(\"\\n\");\n};","// Exports the \"advlist\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/advlist')\n//   ES2015:\n//     import 'tinymce/plugins/advlist'\nrequire('./plugin.js');","(function () {\nvar advlist = (function () {\n    'use strict';\n\n    var global = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var applyListFormat = function (editor, listName, styleValue) {\n      var cmd = listName === 'UL' ? 'InsertUnorderedList' : 'InsertOrderedList';\n      editor.execCommand(cmd, false, styleValue === false ? null : { 'list-style-type': styleValue });\n    };\n    var Actions = { applyListFormat: applyListFormat };\n\n    var register = function (editor) {\n      editor.addCommand('ApplyUnorderedListStyle', function (ui, value) {\n        Actions.applyListFormat(editor, 'UL', value['list-style-type']);\n      });\n      editor.addCommand('ApplyOrderedListStyle', function (ui, value) {\n        Actions.applyListFormat(editor, 'OL', value['list-style-type']);\n      });\n    };\n    var Commands = { register: register };\n\n    var getNumberStyles = function (editor) {\n      var styles = editor.getParam('advlist_number_styles', 'default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman');\n      return styles ? styles.split(/[ ,]/) : [];\n    };\n    var getBulletStyles = function (editor) {\n      var styles = editor.getParam('advlist_bullet_styles', 'default,circle,disc,square');\n      return styles ? styles.split(/[ ,]/) : [];\n    };\n    var Settings = {\n      getNumberStyles: getNumberStyles,\n      getBulletStyles: getBulletStyles\n    };\n\n    var isChildOfBody = function (editor, elm) {\n      return editor.$.contains(editor.getBody(), elm);\n    };\n    var isTableCellNode = function (node) {\n      return node && /^(TH|TD)$/.test(node.nodeName);\n    };\n    var isListNode = function (editor) {\n      return function (node) {\n        return node && /^(OL|UL|DL)$/.test(node.nodeName) && isChildOfBody(editor, node);\n      };\n    };\n    var getSelectedStyleType = function (editor) {\n      var listElm = editor.dom.getParent(editor.selection.getNode(), 'ol,ul');\n      return editor.dom.getStyle(listElm, 'listStyleType') || '';\n    };\n    var ListUtils = {\n      isTableCellNode: isTableCellNode,\n      isListNode: isListNode,\n      getSelectedStyleType: getSelectedStyleType\n    };\n\n    var styleValueToText = function (styleValue) {\n      return styleValue.replace(/\\-/g, ' ').replace(/\\b\\w/g, function (chr) {\n        return chr.toUpperCase();\n      });\n    };\n    var toMenuItems = function (styles) {\n      return global$1.map(styles, function (styleValue) {\n        var text = styleValueToText(styleValue);\n        var data = styleValue === 'default' ? '' : styleValue;\n        return {\n          text: text,\n          data: data\n        };\n      });\n    };\n    var ListStyles = { toMenuItems: toMenuItems };\n\n    var findIndex = function (list, predicate) {\n      for (var index = 0; index < list.length; index++) {\n        var element = list[index];\n        if (predicate(element)) {\n          return index;\n        }\n      }\n      return -1;\n    };\n    var listState = function (editor, listName) {\n      return function (e) {\n        var ctrl = e.control;\n        editor.on('NodeChange', function (e) {\n          var tableCellIndex = findIndex(e.parents, ListUtils.isTableCellNode);\n          var parents = tableCellIndex !== -1 ? e.parents.slice(0, tableCellIndex) : e.parents;\n          var lists = global$1.grep(parents, ListUtils.isListNode(editor));\n          ctrl.active(lists.length > 0 && lists[0].nodeName === listName);\n        });\n      };\n    };\n    var updateSelection = function (editor) {\n      return function (e) {\n        var listStyleType = ListUtils.getSelectedStyleType(editor);\n        e.control.items().each(function (ctrl) {\n          ctrl.active(ctrl.settings.data === listStyleType);\n        });\n      };\n    };\n    var addSplitButton = function (editor, id, tooltip, cmd, nodeName, styles) {\n      editor.addButton(id, {\n        active: false,\n        type: 'splitbutton',\n        tooltip: tooltip,\n        menu: ListStyles.toMenuItems(styles),\n        onPostRender: listState(editor, nodeName),\n        onshow: updateSelection(editor),\n        onselect: function (e) {\n          Actions.applyListFormat(editor, nodeName, e.control.settings.data);\n        },\n        onclick: function () {\n          editor.execCommand(cmd);\n        }\n      });\n    };\n    var addButton = function (editor, id, tooltip, cmd, nodeName, styles) {\n      editor.addButton(id, {\n        active: false,\n        type: 'button',\n        tooltip: tooltip,\n        onPostRender: listState(editor, nodeName),\n        onclick: function () {\n          editor.execCommand(cmd);\n        }\n      });\n    };\n    var addControl = function (editor, id, tooltip, cmd, nodeName, styles) {\n      if (styles.length > 0) {\n        addSplitButton(editor, id, tooltip, cmd, nodeName, styles);\n      } else {\n        addButton(editor, id, tooltip, cmd, nodeName);\n      }\n    };\n    var register$1 = function (editor) {\n      addControl(editor, 'numlist', 'Numbered list', 'InsertOrderedList', 'OL', Settings.getNumberStyles(editor));\n      addControl(editor, 'bullist', 'Bullet list', 'InsertUnorderedList', 'UL', Settings.getBulletStyles(editor));\n    };\n    var Buttons = { register: register$1 };\n\n    global.add('advlist', function (editor) {\n      var hasPlugin = function (editor, plugin) {\n        var plugins = editor.settings.plugins ? editor.settings.plugins : '';\n        return global$1.inArray(plugins.split(/[ ,]/), plugin) !== -1;\n      };\n      if (hasPlugin(editor, 'lists')) {\n        Buttons.register(editor);\n        Commands.register(editor);\n      }\n    });\n    function Plugin () {\n    }\n\n    return Plugin;\n\n}());\n})();\n","// Exports the \"anchor\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/anchor')\n//   ES2015:\n//     import 'tinymce/plugins/anchor'\nrequire('./plugin.js');","(function () {\nvar anchor = (function () {\n    'use strict';\n\n    var global = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var isValidId = function (id) {\n      return /^[A-Za-z][A-Za-z0-9\\-:._]*$/.test(id);\n    };\n    var getId = function (editor) {\n      var selectedNode = editor.selection.getNode();\n      var isAnchor = selectedNode.tagName === 'A' && editor.dom.getAttrib(selectedNode, 'href') === '';\n      return isAnchor ? selectedNode.id || selectedNode.name : '';\n    };\n    var insert = function (editor, id) {\n      var selectedNode = editor.selection.getNode();\n      var isAnchor = selectedNode.tagName === 'A' && editor.dom.getAttrib(selectedNode, 'href') === '';\n      if (isAnchor) {\n        selectedNode.removeAttribute('name');\n        selectedNode.id = id;\n        editor.undoManager.add();\n      } else {\n        editor.focus();\n        editor.selection.collapse(true);\n        editor.execCommand('mceInsertContent', false, editor.dom.createHTML('a', { id: id }));\n      }\n    };\n    var Anchor = {\n      isValidId: isValidId,\n      getId: getId,\n      insert: insert\n    };\n\n    var insertAnchor = function (editor, newId) {\n      if (!Anchor.isValidId(newId)) {\n        editor.windowManager.alert('Id should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores.');\n        return true;\n      } else {\n        Anchor.insert(editor, newId);\n        return false;\n      }\n    };\n    var open = function (editor) {\n      var currentId = Anchor.getId(editor);\n      editor.windowManager.open({\n        title: 'Anchor',\n        body: {\n          type: 'textbox',\n          name: 'id',\n          size: 40,\n          label: 'Id',\n          value: currentId\n        },\n        onsubmit: function (e) {\n          var newId = e.data.id;\n          if (insertAnchor(editor, newId)) {\n            e.preventDefault();\n          }\n        }\n      });\n    };\n    var Dialog = { open: open };\n\n    var register = function (editor) {\n      editor.addCommand('mceAnchor', function () {\n        Dialog.open(editor);\n      });\n    };\n    var Commands = { register: register };\n\n    var isAnchorNode = function (node) {\n      return !node.attr('href') && (node.attr('id') || node.attr('name')) && !node.firstChild;\n    };\n    var setContentEditable = function (state) {\n      return function (nodes) {\n        for (var i = 0; i < nodes.length; i++) {\n          if (isAnchorNode(nodes[i])) {\n            nodes[i].attr('contenteditable', state);\n          }\n        }\n      };\n    };\n    var setup = function (editor) {\n      editor.on('PreInit', function () {\n        editor.parser.addNodeFilter('a', setContentEditable('false'));\n        editor.serializer.addNodeFilter('a', setContentEditable(null));\n      });\n    };\n    var FilterContent = { setup: setup };\n\n    var register$1 = function (editor) {\n      editor.addButton('anchor', {\n        icon: 'anchor',\n        tooltip: 'Anchor',\n        cmd: 'mceAnchor',\n        stateSelector: 'a:not([href])'\n      });\n      editor.addMenuItem('anchor', {\n        icon: 'anchor',\n        text: 'Anchor',\n        context: 'insert',\n        cmd: 'mceAnchor'\n      });\n    };\n    var Buttons = { register: register$1 };\n\n    global.add('anchor', function (editor) {\n      FilterContent.setup(editor);\n      Commands.register(editor);\n      Buttons.register(editor);\n    });\n    function Plugin () {\n    }\n\n    return Plugin;\n\n}());\n})();\n","// Exports the \"autolink\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/autolink')\n//   ES2015:\n//     import 'tinymce/plugins/autolink'\nrequire('./plugin.js');","(function () {\nvar autolink = (function () {\n    'use strict';\n\n    var global = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.Env');\n\n    var getAutoLinkPattern = function (editor) {\n      return editor.getParam('autolink_pattern', /^(https?:\\/\\/|ssh:\\/\\/|ftp:\\/\\/|file:\\/|www\\.|(?:mailto:)?[A-Z0-9._%+\\-]+@)(.+)$/i);\n    };\n    var getDefaultLinkTarget = function (editor) {\n      return editor.getParam('default_link_target', '');\n    };\n    var Settings = {\n      getAutoLinkPattern: getAutoLinkPattern,\n      getDefaultLinkTarget: getDefaultLinkTarget\n    };\n\n    var rangeEqualsDelimiterOrSpace = function (rangeString, delimiter) {\n      return rangeString === delimiter || rangeString === ' ' || rangeString.charCodeAt(0) === 160;\n    };\n    var handleEclipse = function (editor) {\n      parseCurrentLine(editor, -1, '(');\n    };\n    var handleSpacebar = function (editor) {\n      parseCurrentLine(editor, 0, '');\n    };\n    var handleEnter = function (editor) {\n      parseCurrentLine(editor, -1, '');\n    };\n    var scopeIndex = function (container, index) {\n      if (index < 0) {\n        index = 0;\n      }\n      if (container.nodeType === 3) {\n        var len = container.data.length;\n        if (index > len) {\n          index = len;\n        }\n      }\n      return index;\n    };\n    var setStart = function (rng, container, offset) {\n      if (container.nodeType !== 1 || container.hasChildNodes()) {\n        rng.setStart(container, scopeIndex(container, offset));\n      } else {\n        rng.setStartBefore(container);\n      }\n    };\n    var setEnd = function (rng, container, offset) {\n      if (container.nodeType !== 1 || container.hasChildNodes()) {\n        rng.setEnd(container, scopeIndex(container, offset));\n      } else {\n        rng.setEndAfter(container);\n      }\n    };\n    var parseCurrentLine = function (editor, endOffset, delimiter) {\n      var rng, end, start, endContainer, bookmark, text, matches, prev, len, rngText;\n      var autoLinkPattern = Settings.getAutoLinkPattern(editor);\n      var defaultLinkTarget = Settings.getDefaultLinkTarget(editor);\n      if (editor.selection.getNode().tagName === 'A') {\n        return;\n      }\n      rng = editor.selection.getRng(true).cloneRange();\n      if (rng.startOffset < 5) {\n        prev = rng.endContainer.previousSibling;\n        if (!prev) {\n          if (!rng.endContainer.firstChild || !rng.endContainer.firstChild.nextSibling) {\n            return;\n          }\n          prev = rng.endContainer.firstChild.nextSibling;\n        }\n        len = prev.length;\n        setStart(rng, prev, len);\n        setEnd(rng, prev, len);\n        if (rng.endOffset < 5) {\n          return;\n        }\n        end = rng.endOffset;\n        endContainer = prev;\n      } else {\n        endContainer = rng.endContainer;\n        if (endContainer.nodeType !== 3 && endContainer.firstChild) {\n          while (endContainer.nodeType !== 3 && endContainer.firstChild) {\n            endContainer = endContainer.firstChild;\n          }\n          if (endContainer.nodeType === 3) {\n            setStart(rng, endContainer, 0);\n            setEnd(rng, endContainer, endContainer.nodeValue.length);\n          }\n        }\n        if (rng.endOffset === 1) {\n          end = 2;\n        } else {\n          end = rng.endOffset - 1 - endOffset;\n        }\n      }\n      start = end;\n      do {\n        setStart(rng, endContainer, end >= 2 ? end - 2 : 0);\n        setEnd(rng, endContainer, end >= 1 ? end - 1 : 0);\n        end -= 1;\n        rngText = rng.toString();\n      } while (rngText !== ' ' && rngText !== '' && rngText.charCodeAt(0) !== 160 && end - 2 >= 0 && rngText !== delimiter);\n      if (rangeEqualsDelimiterOrSpace(rng.toString(), delimiter)) {\n        setStart(rng, endContainer, end);\n        setEnd(rng, endContainer, start);\n        end += 1;\n      } else if (rng.startOffset === 0) {\n        setStart(rng, endContainer, 0);\n        setEnd(rng, endContainer, start);\n      } else {\n        setStart(rng, endContainer, end);\n        setEnd(rng, endContainer, start);\n      }\n      text = rng.toString();\n      if (text.charAt(text.length - 1) === '.') {\n        setEnd(rng, endContainer, start - 1);\n      }\n      text = rng.toString().trim();\n      matches = text.match(autoLinkPattern);\n      if (matches) {\n        if (matches[1] === 'www.') {\n          matches[1] = 'http://www.';\n        } else if (/@$/.test(matches[1]) && !/^mailto:/.test(matches[1])) {\n          matches[1] = 'mailto:' + matches[1];\n        }\n        bookmark = editor.selection.getBookmark();\n        editor.selection.setRng(rng);\n        editor.execCommand('createlink', false, matches[1] + matches[2]);\n        if (defaultLinkTarget) {\n          editor.dom.setAttrib(editor.selection.getNode(), 'target', defaultLinkTarget);\n        }\n        editor.selection.moveToBookmark(bookmark);\n        editor.nodeChanged();\n      }\n    };\n    var setup = function (editor) {\n      var autoUrlDetectState;\n      editor.on('keydown', function (e) {\n        if (e.keyCode === 13) {\n          return handleEnter(editor);\n        }\n      });\n      if (global$1.ie) {\n        editor.on('focus', function () {\n          if (!autoUrlDetectState) {\n            autoUrlDetectState = true;\n            try {\n              editor.execCommand('AutoUrlDetect', false, true);\n            } catch (ex) {\n            }\n          }\n        });\n        return;\n      }\n      editor.on('keypress', function (e) {\n        if (e.keyCode === 41) {\n          return handleEclipse(editor);\n        }\n      });\n      editor.on('keyup', function (e) {\n        if (e.keyCode === 32) {\n          return handleSpacebar(editor);\n        }\n      });\n    };\n    var Keys = { setup: setup };\n\n    global.add('autolink', function (editor) {\n      Keys.setup(editor);\n    });\n    function Plugin () {\n    }\n\n    return Plugin;\n\n}());\n})();\n","// Exports the \"autoresize\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/autoresize')\n//   ES2015:\n//     import 'tinymce/plugins/autoresize'\nrequire('./plugin.js');","(function () {\nvar autoresize = (function () {\n    'use strict';\n\n    var Cell = function (initial) {\n      var value = initial;\n      var get = function () {\n        return value;\n      };\n      var set = function (v) {\n        value = v;\n      };\n      var clone = function () {\n        return Cell(get());\n      };\n      return {\n        get: get,\n        set: set,\n        clone: clone\n      };\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.Env');\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.util.Delay');\n\n    var getAutoResizeMinHeight = function (editor) {\n      return parseInt(editor.getParam('autoresize_min_height', editor.getElement().offsetHeight), 10);\n    };\n    var getAutoResizeMaxHeight = function (editor) {\n      return parseInt(editor.getParam('autoresize_max_height', 0), 10);\n    };\n    var getAutoResizeOverflowPadding = function (editor) {\n      return editor.getParam('autoresize_overflow_padding', 1);\n    };\n    var getAutoResizeBottomMargin = function (editor) {\n      return editor.getParam('autoresize_bottom_margin', 50);\n    };\n    var shouldAutoResizeOnInit = function (editor) {\n      return editor.getParam('autoresize_on_init', true);\n    };\n    var Settings = {\n      getAutoResizeMinHeight: getAutoResizeMinHeight,\n      getAutoResizeMaxHeight: getAutoResizeMaxHeight,\n      getAutoResizeOverflowPadding: getAutoResizeOverflowPadding,\n      getAutoResizeBottomMargin: getAutoResizeBottomMargin,\n      shouldAutoResizeOnInit: shouldAutoResizeOnInit\n    };\n\n    var isFullscreen = function (editor) {\n      return editor.plugins.fullscreen && editor.plugins.fullscreen.isFullscreen();\n    };\n    var wait = function (editor, oldSize, times, interval, callback) {\n      global$2.setEditorTimeout(editor, function () {\n        resize(editor, oldSize);\n        if (times--) {\n          wait(editor, oldSize, times, interval, callback);\n        } else if (callback) {\n          callback();\n        }\n      }, interval);\n    };\n    var toggleScrolling = function (editor, state) {\n      var body = editor.getBody();\n      if (body) {\n        body.style.overflowY = state ? '' : 'hidden';\n        if (!state) {\n          body.scrollTop = 0;\n        }\n      }\n    };\n    var resize = function (editor, oldSize) {\n      var deltaSize, doc, body, resizeHeight, myHeight;\n      var marginTop, marginBottom, paddingTop, paddingBottom, borderTop, borderBottom;\n      var dom = editor.dom;\n      doc = editor.getDoc();\n      if (!doc) {\n        return;\n      }\n      if (isFullscreen(editor)) {\n        toggleScrolling(editor, true);\n        return;\n      }\n      body = doc.body;\n      resizeHeight = Settings.getAutoResizeMinHeight(editor);\n      marginTop = dom.getStyle(body, 'margin-top', true);\n      marginBottom = dom.getStyle(body, 'margin-bottom', true);\n      paddingTop = dom.getStyle(body, 'padding-top', true);\n      paddingBottom = dom.getStyle(body, 'padding-bottom', true);\n      borderTop = dom.getStyle(body, 'border-top-width', true);\n      borderBottom = dom.getStyle(body, 'border-bottom-width', true);\n      myHeight = body.offsetHeight + parseInt(marginTop, 10) + parseInt(marginBottom, 10) + parseInt(paddingTop, 10) + parseInt(paddingBottom, 10) + parseInt(borderTop, 10) + parseInt(borderBottom, 10);\n      if (isNaN(myHeight) || myHeight <= 0) {\n        myHeight = global$1.ie ? body.scrollHeight : global$1.webkit && body.clientHeight === 0 ? 0 : body.offsetHeight;\n      }\n      if (myHeight > Settings.getAutoResizeMinHeight(editor)) {\n        resizeHeight = myHeight;\n      }\n      var maxHeight = Settings.getAutoResizeMaxHeight(editor);\n      if (maxHeight && myHeight > maxHeight) {\n        resizeHeight = maxHeight;\n        toggleScrolling(editor, true);\n      } else {\n        toggleScrolling(editor, false);\n      }\n      if (resizeHeight !== oldSize.get()) {\n        deltaSize = resizeHeight - oldSize.get();\n        dom.setStyle(editor.iframeElement, 'height', resizeHeight + 'px');\n        oldSize.set(resizeHeight);\n        if (global$1.webkit && deltaSize < 0) {\n          resize(editor, oldSize);\n        }\n      }\n    };\n    var setup = function (editor, oldSize) {\n      editor.on('init', function () {\n        var overflowPadding, bottomMargin;\n        var dom = editor.dom;\n        overflowPadding = Settings.getAutoResizeOverflowPadding(editor);\n        bottomMargin = Settings.getAutoResizeBottomMargin(editor);\n        if (overflowPadding !== false) {\n          dom.setStyles(editor.getBody(), {\n            paddingLeft: overflowPadding,\n            paddingRight: overflowPadding\n          });\n        }\n        if (bottomMargin !== false) {\n          dom.setStyles(editor.getBody(), { paddingBottom: bottomMargin });\n        }\n      });\n      editor.on('nodechange setcontent keyup FullscreenStateChanged', function (e) {\n        resize(editor, oldSize);\n      });\n      if (Settings.shouldAutoResizeOnInit(editor)) {\n        editor.on('init', function () {\n          wait(editor, oldSize, 20, 100, function () {\n            wait(editor, oldSize, 5, 1000);\n          });\n        });\n      }\n    };\n    var Resize = {\n      setup: setup,\n      resize: resize\n    };\n\n    var register = function (editor, oldSize) {\n      editor.addCommand('mceAutoResize', function () {\n        Resize.resize(editor, oldSize);\n      });\n    };\n    var Commands = { register: register };\n\n    global.add('autoresize', function (editor) {\n      if (!editor.inline) {\n        var oldSize = Cell(0);\n        Commands.register(editor, oldSize);\n        Resize.setup(editor, oldSize);\n      }\n    });\n    function Plugin () {\n    }\n\n    return Plugin;\n\n}());\n})();\n","// Exports the \"autosave\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/autosave')\n//   ES2015:\n//     import 'tinymce/plugins/autosave'\nrequire('./plugin.js');","(function () {\nvar autosave = (function (domGlobals) {\n    'use strict';\n\n    var Cell = function (initial) {\n      var value = initial;\n      var get = function () {\n        return value;\n      };\n      var set = function (v) {\n        value = v;\n      };\n      var clone = function () {\n        return Cell(get());\n      };\n      return {\n        get: get,\n        set: set,\n        clone: clone\n      };\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.util.LocalStorage');\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var fireRestoreDraft = function (editor) {\n      return editor.fire('RestoreDraft');\n    };\n    var fireStoreDraft = function (editor) {\n      return editor.fire('StoreDraft');\n    };\n    var fireRemoveDraft = function (editor) {\n      return editor.fire('RemoveDraft');\n    };\n\n    var parse = function (timeString, defaultTime) {\n      var multiples = {\n        s: 1000,\n        m: 60000\n      };\n      var toParse = timeString || defaultTime;\n      var parsedTime = /^(\\d+)([ms]?)$/.exec('' + toParse);\n      return (parsedTime[2] ? multiples[parsedTime[2]] : 1) * parseInt(toParse, 10);\n    };\n\n    var shouldAskBeforeUnload = function (editor) {\n      return editor.getParam('autosave_ask_before_unload', true);\n    };\n    var getAutoSavePrefix = function (editor) {\n      var prefix = editor.getParam('autosave_prefix', 'tinymce-autosave-{path}{query}{hash}-{id}-');\n      prefix = prefix.replace(/\\{path\\}/g, domGlobals.document.location.pathname);\n      prefix = prefix.replace(/\\{query\\}/g, domGlobals.document.location.search);\n      prefix = prefix.replace(/\\{hash\\}/g, domGlobals.document.location.hash);\n      prefix = prefix.replace(/\\{id\\}/g, editor.id);\n      return prefix;\n    };\n    var shouldRestoreWhenEmpty = function (editor) {\n      return editor.getParam('autosave_restore_when_empty', false);\n    };\n    var getAutoSaveInterval = function (editor) {\n      return parse(editor.settings.autosave_interval, '30s');\n    };\n    var getAutoSaveRetention = function (editor) {\n      return parse(editor.settings.autosave_retention, '20m');\n    };\n\n    var isEmpty = function (editor, html) {\n      var forcedRootBlockName = editor.settings.forced_root_block;\n      html = global$2.trim(typeof html === 'undefined' ? editor.getBody().innerHTML : html);\n      return html === '' || new RegExp('^<' + forcedRootBlockName + '[^>]*>((\\xA0|&nbsp;|[ \\t]|<br[^>]*>)+?|)</' + forcedRootBlockName + '>|<br>$', 'i').test(html);\n    };\n    var hasDraft = function (editor) {\n      var time = parseInt(global$1.getItem(getAutoSavePrefix(editor) + 'time'), 10) || 0;\n      if (new Date().getTime() - time > getAutoSaveRetention(editor)) {\n        removeDraft(editor, false);\n        return false;\n      }\n      return true;\n    };\n    var removeDraft = function (editor, fire) {\n      var prefix = getAutoSavePrefix(editor);\n      global$1.removeItem(prefix + 'draft');\n      global$1.removeItem(prefix + 'time');\n      if (fire !== false) {\n        fireRemoveDraft(editor);\n      }\n    };\n    var storeDraft = function (editor) {\n      var prefix = getAutoSavePrefix(editor);\n      if (!isEmpty(editor) && editor.isDirty()) {\n        global$1.setItem(prefix + 'draft', editor.getContent({\n          format: 'raw',\n          no_events: true\n        }));\n        global$1.setItem(prefix + 'time', new Date().getTime().toString());\n        fireStoreDraft(editor);\n      }\n    };\n    var restoreDraft = function (editor) {\n      var prefix = getAutoSavePrefix(editor);\n      if (hasDraft(editor)) {\n        editor.setContent(global$1.getItem(prefix + 'draft'), { format: 'raw' });\n        fireRestoreDraft(editor);\n      }\n    };\n    var startStoreDraft = function (editor, started) {\n      var interval = getAutoSaveInterval(editor);\n      if (!started.get()) {\n        setInterval(function () {\n          if (!editor.removed) {\n            storeDraft(editor);\n          }\n        }, interval);\n        started.set(true);\n      }\n    };\n    var restoreLastDraft = function (editor) {\n      editor.undoManager.transact(function () {\n        restoreDraft(editor);\n        removeDraft(editor);\n      });\n      editor.focus();\n    };\n\n    function curry(fn) {\n      var initialArgs = [];\n      for (var _i = 1; _i < arguments.length; _i++) {\n        initialArgs[_i - 1] = arguments[_i];\n      }\n      return function () {\n        var restArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          restArgs[_i] = arguments[_i];\n        }\n        var all = initialArgs.concat(restArgs);\n        return fn.apply(null, all);\n      };\n    }\n\n    var get = function (editor) {\n      return {\n        hasDraft: curry(hasDraft, editor),\n        storeDraft: curry(storeDraft, editor),\n        restoreDraft: curry(restoreDraft, editor),\n        removeDraft: curry(removeDraft, editor),\n        isEmpty: curry(isEmpty, editor)\n      };\n    };\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.EditorManager');\n\n    global$3._beforeUnloadHandler = function () {\n      var msg;\n      global$2.each(global$3.get(), function (editor) {\n        if (editor.plugins.autosave) {\n          editor.plugins.autosave.storeDraft();\n        }\n        if (!msg && editor.isDirty() && shouldAskBeforeUnload(editor)) {\n          msg = editor.translate('You have unsaved changes are you sure you want to navigate away?');\n        }\n      });\n      return msg;\n    };\n    var setup = function (editor) {\n      domGlobals.window.onbeforeunload = global$3._beforeUnloadHandler;\n    };\n\n    var postRender = function (editor, started) {\n      return function (e) {\n        var ctrl = e.control;\n        ctrl.disabled(!hasDraft(editor));\n        editor.on('StoreDraft RestoreDraft RemoveDraft', function () {\n          ctrl.disabled(!hasDraft(editor));\n        });\n        startStoreDraft(editor, started);\n      };\n    };\n    var register = function (editor, started) {\n      editor.addButton('restoredraft', {\n        title: 'Restore last draft',\n        onclick: function () {\n          restoreLastDraft(editor);\n        },\n        onPostRender: postRender(editor, started)\n      });\n      editor.addMenuItem('restoredraft', {\n        text: 'Restore last draft',\n        onclick: function () {\n          restoreLastDraft(editor);\n        },\n        onPostRender: postRender(editor, started),\n        context: 'file'\n      });\n    };\n\n    global.add('autosave', function (editor) {\n      var started = Cell(false);\n      setup();\n      register(editor, started);\n      editor.on('init', function () {\n        if (shouldRestoreWhenEmpty(editor) && editor.dom.isEmpty(editor.getBody())) {\n          restoreDraft(editor);\n        }\n      });\n      return get(editor);\n    });\n    function Plugin () {\n    }\n\n    return Plugin;\n\n}(window));\n})();\n","// Exports the \"bbcode\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/bbcode')\n//   ES2015:\n//     import 'tinymce/plugins/bbcode'\nrequire('./plugin.js');","(function () {\nvar bbcode = (function () {\n    'use strict';\n\n    var global = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var html2bbcode = function (s) {\n      s = global$1.trim(s);\n      var rep = function (re, str) {\n        s = s.replace(re, str);\n      };\n      rep(/<a.*?href=\\\"(.*?)\\\".*?>(.*?)<\\/a>/gi, '[url=$1]$2[/url]');\n      rep(/<font.*?color=\\\"(.*?)\\\".*?class=\\\"codeStyle\\\".*?>(.*?)<\\/font>/gi, '[code][color=$1]$2[/color][/code]');\n      rep(/<font.*?color=\\\"(.*?)\\\".*?class=\\\"quoteStyle\\\".*?>(.*?)<\\/font>/gi, '[quote][color=$1]$2[/color][/quote]');\n      rep(/<font.*?class=\\\"codeStyle\\\".*?color=\\\"(.*?)\\\".*?>(.*?)<\\/font>/gi, '[code][color=$1]$2[/color][/code]');\n      rep(/<font.*?class=\\\"quoteStyle\\\".*?color=\\\"(.*?)\\\".*?>(.*?)<\\/font>/gi, '[quote][color=$1]$2[/color][/quote]');\n      rep(/<span style=\\\"color: ?(.*?);\\\">(.*?)<\\/span>/gi, '[color=$1]$2[/color]');\n      rep(/<font.*?color=\\\"(.*?)\\\".*?>(.*?)<\\/font>/gi, '[color=$1]$2[/color]');\n      rep(/<span style=\\\"font-size:(.*?);\\\">(.*?)<\\/span>/gi, '[size=$1]$2[/size]');\n      rep(/<font>(.*?)<\\/font>/gi, '$1');\n      rep(/<img.*?src=\\\"(.*?)\\\".*?\\/>/gi, '[img]$1[/img]');\n      rep(/<span class=\\\"codeStyle\\\">(.*?)<\\/span>/gi, '[code]$1[/code]');\n      rep(/<span class=\\\"quoteStyle\\\">(.*?)<\\/span>/gi, '[quote]$1[/quote]');\n      rep(/<strong class=\\\"codeStyle\\\">(.*?)<\\/strong>/gi, '[code][b]$1[/b][/code]');\n      rep(/<strong class=\\\"quoteStyle\\\">(.*?)<\\/strong>/gi, '[quote][b]$1[/b][/quote]');\n      rep(/<em class=\\\"codeStyle\\\">(.*?)<\\/em>/gi, '[code][i]$1[/i][/code]');\n      rep(/<em class=\\\"quoteStyle\\\">(.*?)<\\/em>/gi, '[quote][i]$1[/i][/quote]');\n      rep(/<u class=\\\"codeStyle\\\">(.*?)<\\/u>/gi, '[code][u]$1[/u][/code]');\n      rep(/<u class=\\\"quoteStyle\\\">(.*?)<\\/u>/gi, '[quote][u]$1[/u][/quote]');\n      rep(/<\\/(strong|b)>/gi, '[/b]');\n      rep(/<(strong|b)>/gi, '[b]');\n      rep(/<\\/(em|i)>/gi, '[/i]');\n      rep(/<(em|i)>/gi, '[i]');\n      rep(/<\\/u>/gi, '[/u]');\n      rep(/<span style=\\\"text-decoration: ?underline;\\\">(.*?)<\\/span>/gi, '[u]$1[/u]');\n      rep(/<u>/gi, '[u]');\n      rep(/<blockquote[^>]*>/gi, '[quote]');\n      rep(/<\\/blockquote>/gi, '[/quote]');\n      rep(/<br \\/>/gi, '\\n');\n      rep(/<br\\/>/gi, '\\n');\n      rep(/<br>/gi, '\\n');\n      rep(/<p>/gi, '');\n      rep(/<\\/p>/gi, '\\n');\n      rep(/&nbsp;|\\u00a0/gi, ' ');\n      rep(/&quot;/gi, '\"');\n      rep(/&lt;/gi, '<');\n      rep(/&gt;/gi, '>');\n      rep(/&amp;/gi, '&');\n      return s;\n    };\n    var bbcode2html = function (s) {\n      s = global$1.trim(s);\n      var rep = function (re, str) {\n        s = s.replace(re, str);\n      };\n      rep(/\\n/gi, '<br />');\n      rep(/\\[b\\]/gi, '<strong>');\n      rep(/\\[\\/b\\]/gi, '</strong>');\n      rep(/\\[i\\]/gi, '<em>');\n      rep(/\\[\\/i\\]/gi, '</em>');\n      rep(/\\[u\\]/gi, '<u>');\n      rep(/\\[\\/u\\]/gi, '</u>');\n      rep(/\\[url=([^\\]]+)\\](.*?)\\[\\/url\\]/gi, '<a href=\"$1\">$2</a>');\n      rep(/\\[url\\](.*?)\\[\\/url\\]/gi, '<a href=\"$1\">$1</a>');\n      rep(/\\[img\\](.*?)\\[\\/img\\]/gi, '<img src=\"$1\" />');\n      rep(/\\[color=(.*?)\\](.*?)\\[\\/color\\]/gi, '<font color=\"$1\">$2</font>');\n      rep(/\\[code\\](.*?)\\[\\/code\\]/gi, '<span class=\"codeStyle\">$1</span>&nbsp;');\n      rep(/\\[quote.*?\\](.*?)\\[\\/quote\\]/gi, '<span class=\"quoteStyle\">$1</span>&nbsp;');\n      return s;\n    };\n    var Convert = {\n      html2bbcode: html2bbcode,\n      bbcode2html: bbcode2html\n    };\n\n    global.add('bbcode', function () {\n      return {\n        init: function (editor) {\n          editor.on('beforeSetContent', function (e) {\n            e.content = Convert.bbcode2html(e.content);\n          });\n          editor.on('postProcess', function (e) {\n            if (e.set) {\n              e.content = Convert.bbcode2html(e.content);\n            }\n            if (e.get) {\n              e.content = Convert.html2bbcode(e.content);\n            }\n          });\n        }\n      };\n    });\n    function Plugin () {\n    }\n\n    return Plugin;\n\n}());\n})();\n","// Exports the \"charmap\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/charmap')\n//   ES2015:\n//     import 'tinymce/plugins/charmap'\nrequire('./plugin.js');","(function () {\nvar charmap = (function () {\n    'use strict';\n\n    var global = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var fireInsertCustomChar = function (editor, chr) {\n      return editor.fire('insertCustomChar', { chr: chr });\n    };\n    var Events = { fireInsertCustomChar: fireInsertCustomChar };\n\n    var insertChar = function (editor, chr) {\n      var evtChr = Events.fireInsertCustomChar(editor, chr).chr;\n      editor.execCommand('mceInsertContent', false, evtChr);\n    };\n    var Actions = { insertChar: insertChar };\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var getCharMap = function (editor) {\n      return editor.settings.charmap;\n    };\n    var getCharMapAppend = function (editor) {\n      return editor.settings.charmap_append;\n    };\n    var Settings = {\n      getCharMap: getCharMap,\n      getCharMapAppend: getCharMapAppend\n    };\n\n    var isArray = global$1.isArray;\n    var getDefaultCharMap = function () {\n      return [\n        [\n          '160',\n          'no-break space'\n        ],\n        [\n          '173',\n          'soft hyphen'\n        ],\n        [\n          '34',\n          'quotation mark'\n        ],\n        [\n          '162',\n          'cent sign'\n        ],\n        [\n          '8364',\n          'euro sign'\n        ],\n        [\n          '163',\n          'pound sign'\n        ],\n        [\n          '165',\n          'yen sign'\n        ],\n        [\n          '169',\n          'copyright sign'\n        ],\n        [\n          '174',\n          'registered sign'\n        ],\n        [\n          '8482',\n          'trade mark sign'\n        ],\n        [\n          '8240',\n          'per mille sign'\n        ],\n        [\n          '181',\n          'micro sign'\n        ],\n        [\n          '183',\n          'middle dot'\n        ],\n        [\n          '8226',\n          'bullet'\n        ],\n        [\n          '8230',\n          'three dot leader'\n        ],\n        [\n          '8242',\n          'minutes / feet'\n        ],\n        [\n          '8243',\n          'seconds / inches'\n        ],\n        [\n          '167',\n          'section sign'\n        ],\n        [\n          '182',\n          'paragraph sign'\n        ],\n        [\n          '223',\n          'sharp s / ess-zed'\n        ],\n        [\n          '8249',\n          'single left-pointing angle quotation mark'\n        ],\n        [\n          '8250',\n          'single right-pointing angle quotation mark'\n        ],\n        [\n          '171',\n          'left pointing guillemet'\n        ],\n        [\n          '187',\n          'right pointing guillemet'\n        ],\n        [\n          '8216',\n          'left single quotation mark'\n        ],\n        [\n          '8217',\n          'right single quotation mark'\n        ],\n        [\n          '8220',\n          'left double quotation mark'\n        ],\n        [\n          '8221',\n          'right double quotation mark'\n        ],\n        [\n          '8218',\n          'single low-9 quotation mark'\n        ],\n        [\n          '8222',\n          'double low-9 quotation mark'\n        ],\n        [\n          '60',\n          'less-than sign'\n        ],\n        [\n          '62',\n          'greater-than sign'\n        ],\n        [\n          '8804',\n          'less-than or equal to'\n        ],\n        [\n          '8805',\n          'greater-than or equal to'\n        ],\n        [\n          '8211',\n          'en dash'\n        ],\n        [\n          '8212',\n          'em dash'\n        ],\n        [\n          '175',\n          'macron'\n        ],\n        [\n          '8254',\n          'overline'\n        ],\n        [\n          '164',\n          'currency sign'\n        ],\n        [\n          '166',\n          'broken bar'\n        ],\n        [\n          '168',\n          'diaeresis'\n        ],\n        [\n          '161',\n          'inverted exclamation mark'\n        ],\n        [\n          '191',\n          'turned question mark'\n        ],\n        [\n          '710',\n          'circumflex accent'\n        ],\n        [\n          '732',\n          'small tilde'\n        ],\n        [\n          '176',\n          'degree sign'\n        ],\n        [\n          '8722',\n          'minus sign'\n        ],\n        [\n          '177',\n          'plus-minus sign'\n        ],\n        [\n          '247',\n          'division sign'\n        ],\n        [\n          '8260',\n          'fraction slash'\n        ],\n        [\n          '215',\n          'multiplication sign'\n        ],\n        [\n          '185',\n          'superscript one'\n        ],\n        [\n          '178',\n          'superscript two'\n        ],\n        [\n          '179',\n          'superscript three'\n        ],\n        [\n          '188',\n          'fraction one quarter'\n        ],\n        [\n          '189',\n          'fraction one half'\n        ],\n        [\n          '190',\n          'fraction three quarters'\n        ],\n        [\n          '402',\n          'function / florin'\n        ],\n        [\n          '8747',\n          'integral'\n        ],\n        [\n          '8721',\n          'n-ary sumation'\n        ],\n        [\n          '8734',\n          'infinity'\n        ],\n        [\n          '8730',\n          'square root'\n        ],\n        [\n          '8764',\n          'similar to'\n        ],\n        [\n          '8773',\n          'approximately equal to'\n        ],\n        [\n          '8776',\n          'almost equal to'\n        ],\n        [\n          '8800',\n          'not equal to'\n        ],\n        [\n          '8801',\n          'identical to'\n        ],\n        [\n          '8712',\n          'element of'\n        ],\n        [\n          '8713',\n          'not an element of'\n        ],\n        [\n          '8715',\n          'contains as member'\n        ],\n        [\n          '8719',\n          'n-ary product'\n        ],\n        [\n          '8743',\n          'logical and'\n        ],\n        [\n          '8744',\n          'logical or'\n        ],\n        [\n          '172',\n          'not sign'\n        ],\n        [\n          '8745',\n          'intersection'\n        ],\n        [\n          '8746',\n          'union'\n        ],\n        [\n          '8706',\n          'partial differential'\n        ],\n        [\n          '8704',\n          'for all'\n        ],\n        [\n          '8707',\n          'there exists'\n        ],\n        [\n          '8709',\n          'diameter'\n        ],\n        [\n          '8711',\n          'backward difference'\n        ],\n        [\n          '8727',\n          'asterisk operator'\n        ],\n        [\n          '8733',\n          'proportional to'\n        ],\n        [\n          '8736',\n          'angle'\n        ],\n        [\n          '180',\n          'acute accent'\n        ],\n        [\n          '184',\n          'cedilla'\n        ],\n        [\n          '170',\n          'feminine ordinal indicator'\n        ],\n        [\n          '186',\n          'masculine ordinal indicator'\n        ],\n        [\n          '8224',\n          'dagger'\n        ],\n        [\n          '8225',\n          'double dagger'\n        ],\n        [\n          '192',\n          'A - grave'\n        ],\n        [\n          '193',\n          'A - acute'\n        ],\n        [\n          '194',\n          'A - circumflex'\n        ],\n        [\n          '195',\n          'A - tilde'\n        ],\n        [\n          '196',\n          'A - diaeresis'\n        ],\n        [\n          '197',\n          'A - ring above'\n        ],\n        [\n          '256',\n          'A - macron'\n        ],\n        [\n          '198',\n          'ligature AE'\n        ],\n        [\n          '199',\n          'C - cedilla'\n        ],\n        [\n          '200',\n          'E - grave'\n        ],\n        [\n          '201',\n          'E - acute'\n        ],\n        [\n          '202',\n          'E - circumflex'\n        ],\n        [\n          '203',\n          'E - diaeresis'\n        ],\n        [\n          '274',\n          'E - macron'\n        ],\n        [\n          '204',\n          'I - grave'\n        ],\n        [\n          '205',\n          'I - acute'\n        ],\n        [\n          '206',\n          'I - circumflex'\n        ],\n        [\n          '207',\n          'I - diaeresis'\n        ],\n        [\n          '298',\n          'I - macron'\n        ],\n        [\n          '208',\n          'ETH'\n        ],\n        [\n          '209',\n          'N - tilde'\n        ],\n        [\n          '210',\n          'O - grave'\n        ],\n        [\n          '211',\n          'O - acute'\n        ],\n        [\n          '212',\n          'O - circumflex'\n        ],\n        [\n          '213',\n          'O - tilde'\n        ],\n        [\n          '214',\n          'O - diaeresis'\n        ],\n        [\n          '216',\n          'O - slash'\n        ],\n        [\n          '332',\n          'O - macron'\n        ],\n        [\n          '338',\n          'ligature OE'\n        ],\n        [\n          '352',\n          'S - caron'\n        ],\n        [\n          '217',\n          'U - grave'\n        ],\n        [\n          '218',\n          'U - acute'\n        ],\n        [\n          '219',\n          'U - circumflex'\n        ],\n        [\n          '220',\n          'U - diaeresis'\n        ],\n        [\n          '362',\n          'U - macron'\n        ],\n        [\n          '221',\n          'Y - acute'\n        ],\n        [\n          '376',\n          'Y - diaeresis'\n        ],\n        [\n          '562',\n          'Y - macron'\n        ],\n        [\n          '222',\n          'THORN'\n        ],\n        [\n          '224',\n          'a - grave'\n        ],\n        [\n          '225',\n          'a - acute'\n        ],\n        [\n          '226',\n          'a - circumflex'\n        ],\n        [\n          '227',\n          'a - tilde'\n        ],\n        [\n          '228',\n          'a - diaeresis'\n        ],\n        [\n          '229',\n          'a - ring above'\n        ],\n        [\n          '257',\n          'a - macron'\n        ],\n        [\n          '230',\n          'ligature ae'\n        ],\n        [\n          '231',\n          'c - cedilla'\n        ],\n        [\n          '232',\n          'e - grave'\n        ],\n        [\n          '233',\n          'e - acute'\n        ],\n        [\n          '234',\n          'e - circumflex'\n        ],\n        [\n          '235',\n          'e - diaeresis'\n        ],\n        [\n          '275',\n          'e - macron'\n        ],\n        [\n          '236',\n          'i - grave'\n        ],\n        [\n          '237',\n          'i - acute'\n        ],\n        [\n          '238',\n          'i - circumflex'\n        ],\n        [\n          '239',\n          'i - diaeresis'\n        ],\n        [\n          '299',\n          'i - macron'\n        ],\n        [\n          '240',\n          'eth'\n        ],\n        [\n          '241',\n          'n - tilde'\n        ],\n        [\n          '242',\n          'o - grave'\n        ],\n        [\n          '243',\n          'o - acute'\n        ],\n        [\n          '244',\n          'o - circumflex'\n        ],\n        [\n          '245',\n          'o - tilde'\n        ],\n        [\n          '246',\n          'o - diaeresis'\n        ],\n        [\n          '248',\n          'o slash'\n        ],\n        [\n          '333',\n          'o macron'\n        ],\n        [\n          '339',\n          'ligature oe'\n        ],\n        [\n          '353',\n          's - caron'\n        ],\n        [\n          '249',\n          'u - grave'\n        ],\n        [\n          '250',\n          'u - acute'\n        ],\n        [\n          '251',\n          'u - circumflex'\n        ],\n        [\n          '252',\n          'u - diaeresis'\n        ],\n        [\n          '363',\n          'u - macron'\n        ],\n        [\n          '253',\n          'y - acute'\n        ],\n        [\n          '254',\n          'thorn'\n        ],\n        [\n          '255',\n          'y - diaeresis'\n        ],\n        [\n          '563',\n          'y - macron'\n        ],\n        [\n          '913',\n          'Alpha'\n        ],\n        [\n          '914',\n          'Beta'\n        ],\n        [\n          '915',\n          'Gamma'\n        ],\n        [\n          '916',\n          'Delta'\n        ],\n        [\n          '917',\n          'Epsilon'\n        ],\n        [\n          '918',\n          'Zeta'\n        ],\n        [\n          '919',\n          'Eta'\n        ],\n        [\n          '920',\n          'Theta'\n        ],\n        [\n          '921',\n          'Iota'\n        ],\n        [\n          '922',\n          'Kappa'\n        ],\n        [\n          '923',\n          'Lambda'\n        ],\n        [\n          '924',\n          'Mu'\n        ],\n        [\n          '925',\n          'Nu'\n        ],\n        [\n          '926',\n          'Xi'\n        ],\n        [\n          '927',\n          'Omicron'\n        ],\n        [\n          '928',\n          'Pi'\n        ],\n        [\n          '929',\n          'Rho'\n        ],\n        [\n          '931',\n          'Sigma'\n        ],\n        [\n          '932',\n          'Tau'\n        ],\n        [\n          '933',\n          'Upsilon'\n        ],\n        [\n          '934',\n          'Phi'\n        ],\n        [\n          '935',\n          'Chi'\n        ],\n        [\n          '936',\n          'Psi'\n        ],\n        [\n          '937',\n          'Omega'\n        ],\n        [\n          '945',\n          'alpha'\n        ],\n        [\n          '946',\n          'beta'\n        ],\n        [\n          '947',\n          'gamma'\n        ],\n        [\n          '948',\n          'delta'\n        ],\n        [\n          '949',\n          'epsilon'\n        ],\n        [\n          '950',\n          'zeta'\n        ],\n        [\n          '951',\n          'eta'\n        ],\n        [\n          '952',\n          'theta'\n        ],\n        [\n          '953',\n          'iota'\n        ],\n        [\n          '954',\n          'kappa'\n        ],\n        [\n          '955',\n          'lambda'\n        ],\n        [\n          '956',\n          'mu'\n        ],\n        [\n          '957',\n          'nu'\n        ],\n        [\n          '958',\n          'xi'\n        ],\n        [\n          '959',\n          'omicron'\n        ],\n        [\n          '960',\n          'pi'\n        ],\n        [\n          '961',\n          'rho'\n        ],\n        [\n          '962',\n          'final sigma'\n        ],\n        [\n          '963',\n          'sigma'\n        ],\n        [\n          '964',\n          'tau'\n        ],\n        [\n          '965',\n          'upsilon'\n        ],\n        [\n          '966',\n          'phi'\n        ],\n        [\n          '967',\n          'chi'\n        ],\n        [\n          '968',\n          'psi'\n        ],\n        [\n          '969',\n          'omega'\n        ],\n        [\n          '8501',\n          'alef symbol'\n        ],\n        [\n          '982',\n          'pi symbol'\n        ],\n        [\n          '8476',\n          'real part symbol'\n        ],\n        [\n          '978',\n          'upsilon - hook symbol'\n        ],\n        [\n          '8472',\n          'Weierstrass p'\n        ],\n        [\n          '8465',\n          'imaginary part'\n        ],\n        [\n          '8592',\n          'leftwards arrow'\n        ],\n        [\n          '8593',\n          'upwards arrow'\n        ],\n        [\n          '8594',\n          'rightwards arrow'\n        ],\n        [\n          '8595',\n          'downwards arrow'\n        ],\n        [\n          '8596',\n          'left right arrow'\n        ],\n        [\n          '8629',\n          'carriage return'\n        ],\n        [\n          '8656',\n          'leftwards double arrow'\n        ],\n        [\n          '8657',\n          'upwards double arrow'\n        ],\n        [\n          '8658',\n          'rightwards double arrow'\n        ],\n        [\n          '8659',\n          'downwards double arrow'\n        ],\n        [\n          '8660',\n          'left right double arrow'\n        ],\n        [\n          '8756',\n          'therefore'\n        ],\n        [\n          '8834',\n          'subset of'\n        ],\n        [\n          '8835',\n          'superset of'\n        ],\n        [\n          '8836',\n          'not a subset of'\n        ],\n        [\n          '8838',\n          'subset of or equal to'\n        ],\n        [\n          '8839',\n          'superset of or equal to'\n        ],\n        [\n          '8853',\n          'circled plus'\n        ],\n        [\n          '8855',\n          'circled times'\n        ],\n        [\n          '8869',\n          'perpendicular'\n        ],\n        [\n          '8901',\n          'dot operator'\n        ],\n        [\n          '8968',\n          'left ceiling'\n        ],\n        [\n          '8969',\n          'right ceiling'\n        ],\n        [\n          '8970',\n          'left floor'\n        ],\n        [\n          '8971',\n          'right floor'\n        ],\n        [\n          '9001',\n          'left-pointing angle bracket'\n        ],\n        [\n          '9002',\n          'right-pointing angle bracket'\n        ],\n        [\n          '9674',\n          'lozenge'\n        ],\n        [\n          '9824',\n          'black spade suit'\n        ],\n        [\n          '9827',\n          'black club suit'\n        ],\n        [\n          '9829',\n          'black heart suit'\n        ],\n        [\n          '9830',\n          'black diamond suit'\n        ],\n        [\n          '8194',\n          'en space'\n        ],\n        [\n          '8195',\n          'em space'\n        ],\n        [\n          '8201',\n          'thin space'\n        ],\n        [\n          '8204',\n          'zero width non-joiner'\n        ],\n        [\n          '8205',\n          'zero width joiner'\n        ],\n        [\n          '8206',\n          'left-to-right mark'\n        ],\n        [\n          '8207',\n          'right-to-left mark'\n        ]\n      ];\n    };\n    var charmapFilter = function (charmap) {\n      return global$1.grep(charmap, function (item) {\n        return isArray(item) && item.length === 2;\n      });\n    };\n    var getCharsFromSetting = function (settingValue) {\n      if (isArray(settingValue)) {\n        return [].concat(charmapFilter(settingValue));\n      }\n      if (typeof settingValue === 'function') {\n        return settingValue();\n      }\n      return [];\n    };\n    var extendCharMap = function (editor, charmap) {\n      var userCharMap = Settings.getCharMap(editor);\n      if (userCharMap) {\n        charmap = getCharsFromSetting(userCharMap);\n      }\n      var userCharMapAppend = Settings.getCharMapAppend(editor);\n      if (userCharMapAppend) {\n        return [].concat(charmap).concat(getCharsFromSetting(userCharMapAppend));\n      }\n      return charmap;\n    };\n    var getCharMap$1 = function (editor) {\n      return extendCharMap(editor, getDefaultCharMap());\n    };\n    var CharMap = { getCharMap: getCharMap$1 };\n\n    var get = function (editor) {\n      var getCharMap = function () {\n        return CharMap.getCharMap(editor);\n      };\n      var insertChar = function (chr) {\n        Actions.insertChar(editor, chr);\n      };\n      return {\n        getCharMap: getCharMap,\n        insertChar: insertChar\n      };\n    };\n    var Api = { get: get };\n\n    var getHtml = function (charmap) {\n      var gridHtml, x, y;\n      var width = Math.min(charmap.length, 25);\n      var height = Math.ceil(charmap.length / width);\n      gridHtml = '<table role=\"presentation\" cellspacing=\"0\" class=\"mce-charmap\"><tbody>';\n      for (y = 0; y < height; y++) {\n        gridHtml += '<tr>';\n        for (x = 0; x < width; x++) {\n          var index = y * width + x;\n          if (index < charmap.length) {\n            var chr = charmap[index];\n            var charCode = parseInt(chr[0], 10);\n            var chrText = chr ? String.fromCharCode(charCode) : '&nbsp;';\n            gridHtml += '<td title=\"' + chr[1] + '\">' + '<div tabindex=\"-1\" title=\"' + chr[1] + '\" role=\"button\" data-chr=\"' + charCode + '\">' + chrText + '</div>' + '</td>';\n          } else {\n            gridHtml += '<td />';\n          }\n        }\n        gridHtml += '</tr>';\n      }\n      gridHtml += '</tbody></table>';\n      return gridHtml;\n    };\n    var GridHtml = { getHtml: getHtml };\n\n    var getParentTd = function (elm) {\n      while (elm) {\n        if (elm.nodeName === 'TD') {\n          return elm;\n        }\n        elm = elm.parentNode;\n      }\n    };\n    var open = function (editor) {\n      var win;\n      var charMapPanel = {\n        type: 'container',\n        html: GridHtml.getHtml(CharMap.getCharMap(editor)),\n        onclick: function (e) {\n          var target = e.target;\n          if (/^(TD|DIV)$/.test(target.nodeName)) {\n            var charDiv = getParentTd(target).firstChild;\n            if (charDiv && charDiv.hasAttribute('data-chr')) {\n              var charCodeString = charDiv.getAttribute('data-chr');\n              var charCode = parseInt(charCodeString, 10);\n              if (!isNaN(charCode)) {\n                Actions.insertChar(editor, String.fromCharCode(charCode));\n              }\n              if (!e.ctrlKey) {\n                win.close();\n              }\n            }\n          }\n        },\n        onmouseover: function (e) {\n          var td = getParentTd(e.target);\n          if (td && td.firstChild) {\n            win.find('#preview').text(td.firstChild.firstChild.data);\n            win.find('#previewTitle').text(td.title);\n          } else {\n            win.find('#preview').text(' ');\n            win.find('#previewTitle').text(' ');\n          }\n        }\n      };\n      win = editor.windowManager.open({\n        title: 'Special character',\n        spacing: 10,\n        padding: 10,\n        items: [\n          charMapPanel,\n          {\n            type: 'container',\n            layout: 'flex',\n            direction: 'column',\n            align: 'center',\n            spacing: 5,\n            minWidth: 160,\n            minHeight: 160,\n            items: [\n              {\n                type: 'label',\n                name: 'preview',\n                text: ' ',\n                style: 'font-size: 40px; text-align: center',\n                border: 1,\n                minWidth: 140,\n                minHeight: 80\n              },\n              {\n                type: 'spacer',\n                minHeight: 20\n              },\n              {\n                type: 'label',\n                name: 'previewTitle',\n                text: ' ',\n                style: 'white-space: pre-wrap;',\n                border: 1,\n                minWidth: 140\n              }\n            ]\n          }\n        ],\n        buttons: [{\n            text: 'Close',\n            onclick: function () {\n              win.close();\n            }\n          }]\n      });\n    };\n    var Dialog = { open: open };\n\n    var register = function (editor) {\n      editor.addCommand('mceShowCharmap', function () {\n        Dialog.open(editor);\n      });\n    };\n    var Commands = { register: register };\n\n    var register$1 = function (editor) {\n      editor.addButton('charmap', {\n        icon: 'charmap',\n        tooltip: 'Special character',\n        cmd: 'mceShowCharmap'\n      });\n      editor.addMenuItem('charmap', {\n        icon: 'charmap',\n        text: 'Special character',\n        cmd: 'mceShowCharmap',\n        context: 'insert'\n      });\n    };\n    var Buttons = { register: register$1 };\n\n    global.add('charmap', function (editor) {\n      Commands.register(editor);\n      Buttons.register(editor);\n      return Api.get(editor);\n    });\n    function Plugin () {\n    }\n\n    return Plugin;\n\n}());\n})();\n","// Exports the \"code\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/code')\n//   ES2015:\n//     import 'tinymce/plugins/code'\nrequire('./plugin.js');","(function () {\nvar code = (function () {\n    'use strict';\n\n    var global = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');\n\n    var getMinWidth = function (editor) {\n      return editor.getParam('code_dialog_width', 600);\n    };\n    var getMinHeight = function (editor) {\n      return editor.getParam('code_dialog_height', Math.min(global$1.DOM.getViewPort().h - 200, 500));\n    };\n    var Settings = {\n      getMinWidth: getMinWidth,\n      getMinHeight: getMinHeight\n    };\n\n    var setContent = function (editor, html) {\n      editor.focus();\n      editor.undoManager.transact(function () {\n        editor.setContent(html);\n      });\n      editor.selection.setCursorLocation();\n      editor.nodeChanged();\n    };\n    var getContent = function (editor) {\n      return editor.getContent({ source_view: true });\n    };\n    var Content = {\n      setContent: setContent,\n      getContent: getContent\n    };\n\n    var open = function (editor) {\n      var minWidth = Settings.getMinWidth(editor);\n      var minHeight = Settings.getMinHeight(editor);\n      var win = editor.windowManager.open({\n        title: 'Source code',\n        body: {\n          type: 'textbox',\n          name: 'code',\n          multiline: true,\n          minWidth: minWidth,\n          minHeight: minHeight,\n          spellcheck: false,\n          style: 'direction: ltr; text-align: left'\n        },\n        onSubmit: function (e) {\n          Content.setContent(editor, e.data.code);\n        }\n      });\n      win.find('#code').value(Content.getContent(editor));\n    };\n    var Dialog = { open: open };\n\n    var register = function (editor) {\n      editor.addCommand('mceCodeEditor', function () {\n        Dialog.open(editor);\n      });\n    };\n    var Commands = { register: register };\n\n    var register$1 = function (editor) {\n      editor.addButton('code', {\n        icon: 'code',\n        tooltip: 'Source code',\n        onclick: function () {\n          Dialog.open(editor);\n        }\n      });\n      editor.addMenuItem('code', {\n        icon: 'code',\n        text: 'Source code',\n        onclick: function () {\n          Dialog.open(editor);\n        }\n      });\n    };\n    var Buttons = { register: register$1 };\n\n    global.add('code', function (editor) {\n      Commands.register(editor);\n      Buttons.register(editor);\n      return {};\n    });\n    function Plugin () {\n    }\n\n    return Plugin;\n\n}());\n})();\n","// Exports the \"codesample\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/codesample')\n//   ES2015:\n//     import 'tinymce/plugins/codesample'\nrequire('./plugin.js');","(function () {\nvar codesample = (function (domGlobals) {\n    'use strict';\n\n    var Cell = function (initial) {\n      var value = initial;\n      var get = function () {\n        return value;\n      };\n      var set = function (v) {\n        value = v;\n      };\n      var clone = function () {\n        return Cell(get());\n      };\n      return {\n        get: get,\n        set: set,\n        clone: clone\n      };\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');\n\n    var getContentCss = function (editor) {\n      return editor.settings.codesample_content_css;\n    };\n    var getLanguages = function (editor) {\n      return editor.settings.codesample_languages;\n    };\n    var getDialogMinWidth = function (editor) {\n      return Math.min(global$1.DOM.getViewPort().w, editor.getParam('codesample_dialog_width', 800));\n    };\n    var getDialogMinHeight = function (editor) {\n      return Math.min(global$1.DOM.getViewPort().w, editor.getParam('codesample_dialog_height', 650));\n    };\n    var Settings = {\n      getContentCss: getContentCss,\n      getLanguages: getLanguages,\n      getDialogMinWidth: getDialogMinWidth,\n      getDialogMinHeight: getDialogMinHeight\n    };\n\n    var window = {};\n    var global$2 = window;\n    var _self = typeof window !== 'undefined' ? window : typeof WorkerGlobalScope !== 'undefined' && domGlobals.self instanceof WorkerGlobalScope ? domGlobals.self : {};\n    var Prism = function () {\n      var lang = /\\blang(?:uage)?-(?!\\*)(\\w+)\\b/i;\n      var _ = _self.Prism = {\n        util: {\n          encode: function (tokens) {\n            if (tokens instanceof Token) {\n              return new Token(tokens.type, _.util.encode(tokens.content), tokens.alias);\n            } else if (_.util.type(tokens) === 'Array') {\n              return tokens.map(_.util.encode);\n            } else {\n              return tokens.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/\\u00a0/g, ' ');\n            }\n          },\n          type: function (o) {\n            return Object.prototype.toString.call(o).match(/\\[object (\\w+)\\]/)[1];\n          },\n          clone: function (o) {\n            var type = _.util.type(o);\n            switch (type) {\n            case 'Object':\n              var clone = {};\n              for (var key in o) {\n                if (o.hasOwnProperty(key)) {\n                  clone[key] = _.util.clone(o[key]);\n                }\n              }\n              return clone;\n            case 'Array':\n              return o.map && o.map(function (v) {\n                return _.util.clone(v);\n              });\n            }\n            return o;\n          }\n        },\n        languages: {\n          extend: function (id, redef) {\n            var lang = _.util.clone(_.languages[id]);\n            for (var key in redef) {\n              lang[key] = redef[key];\n            }\n            return lang;\n          },\n          insertBefore: function (inside, before, insert, root) {\n            root = root || _.languages;\n            var grammar = root[inside];\n            if (arguments.length === 2) {\n              insert = arguments[1];\n              for (var newToken in insert) {\n                if (insert.hasOwnProperty(newToken)) {\n                  grammar[newToken] = insert[newToken];\n                }\n              }\n              return grammar;\n            }\n            var ret = {};\n            for (var token in grammar) {\n              if (grammar.hasOwnProperty(token)) {\n                if (token === before) {\n                  for (var newToken in insert) {\n                    if (insert.hasOwnProperty(newToken)) {\n                      ret[newToken] = insert[newToken];\n                    }\n                  }\n                }\n                ret[token] = grammar[token];\n              }\n            }\n            _.languages.DFS(_.languages, function (key, value) {\n              if (value === root[inside] && key !== inside) {\n                this[key] = ret;\n              }\n            });\n            return root[inside] = ret;\n          },\n          DFS: function (o, callback, type) {\n            for (var i in o) {\n              if (o.hasOwnProperty(i)) {\n                callback.call(o, i, o[i], type || i);\n                if (_.util.type(o[i]) === 'Object') {\n                  _.languages.DFS(o[i], callback);\n                } else if (_.util.type(o[i]) === 'Array') {\n                  _.languages.DFS(o[i], callback, i);\n                }\n              }\n            }\n          }\n        },\n        plugins: {},\n        highlightAll: function (async, callback) {\n          var elements = domGlobals.document.querySelectorAll('code[class*=\"language-\"], [class*=\"language-\"] code, code[class*=\"lang-\"], [class*=\"lang-\"] code');\n          for (var i = 0, element = void 0; element = elements[i++];) {\n            _.highlightElement(element, async === true, callback);\n          }\n        },\n        highlightElement: function (element, async, callback) {\n          var language, grammar, parent = element;\n          while (parent && !lang.test(parent.className)) {\n            parent = parent.parentNode;\n          }\n          if (parent) {\n            language = (parent.className.match(lang) || [\n              ,\n              ''\n            ])[1];\n            grammar = _.languages[language];\n          }\n          element.className = element.className.replace(lang, '').replace(/\\s+/g, ' ') + ' language-' + language;\n          parent = element.parentNode;\n          if (/pre/i.test(parent.nodeName)) {\n            parent.className = parent.className.replace(lang, '').replace(/\\s+/g, ' ') + ' language-' + language;\n          }\n          var code = element.textContent;\n          var env = {\n            element: element,\n            language: language,\n            grammar: grammar,\n            code: code\n          };\n          if (!code || !grammar) {\n            _.hooks.run('complete', env);\n            return;\n          }\n          _.hooks.run('before-highlight', env);\n          if (async && _self.Worker) {\n            var worker = new domGlobals.Worker(_.filename);\n            worker.onmessage = function (evt) {\n              env.highlightedCode = evt.data;\n              _.hooks.run('before-insert', env);\n              env.element.innerHTML = env.highlightedCode;\n              if (callback) {\n                callback.call(env.element);\n              }\n              _.hooks.run('after-highlight', env);\n              _.hooks.run('complete', env);\n            };\n            worker.postMessage(JSON.stringify({\n              language: env.language,\n              code: env.code,\n              immediateClose: true\n            }));\n          } else {\n            env.highlightedCode = _.highlight(env.code, env.grammar, env.language);\n            _.hooks.run('before-insert', env);\n            env.element.innerHTML = env.highlightedCode;\n            if (callback) {\n              callback.call(element);\n            }\n            _.hooks.run('after-highlight', env);\n            _.hooks.run('complete', env);\n          }\n        },\n        highlight: function (text, grammar, language) {\n          var tokens = _.tokenize(text, grammar);\n          return Token.stringify(_.util.encode(tokens), language);\n        },\n        tokenize: function (text, grammar, language) {\n          var Token = _.Token;\n          var strarr = [text];\n          var rest = grammar.rest;\n          if (rest) {\n            for (var token in rest) {\n              grammar[token] = rest[token];\n            }\n            delete grammar.rest;\n          }\n          tokenloop:\n            for (var token in grammar) {\n              if (!grammar.hasOwnProperty(token) || !grammar[token]) {\n                continue;\n              }\n              var patterns = grammar[token];\n              patterns = _.util.type(patterns) === 'Array' ? patterns : [patterns];\n              for (var j = 0; j < patterns.length; ++j) {\n                var pattern = patterns[j];\n                var inside = pattern.inside;\n                var lookbehind = !!pattern.lookbehind;\n                var lookbehindLength = 0;\n                var alias = pattern.alias;\n                pattern = pattern.pattern || pattern;\n                for (var i = 0; i < strarr.length; i++) {\n                  var str = strarr[i];\n                  if (strarr.length > text.length) {\n                    break tokenloop;\n                  }\n                  if (str instanceof Token) {\n                    continue;\n                  }\n                  pattern.lastIndex = 0;\n                  var match = pattern.exec(str);\n                  if (match) {\n                    if (lookbehind) {\n                      lookbehindLength = match[1].length;\n                    }\n                    var from = match.index - 1 + lookbehindLength;\n                    match = match[0].slice(lookbehindLength);\n                    var len = match.length, to = from + len, before = str.slice(0, from + 1), after = str.slice(to + 1);\n                    var args = [\n                      i,\n                      1\n                    ];\n                    if (before) {\n                      args.push(before);\n                    }\n                    var wrapped = new Token(token, inside ? _.tokenize(match, inside) : match, alias);\n                    args.push(wrapped);\n                    if (after) {\n                      args.push(after);\n                    }\n                    Array.prototype.splice.apply(strarr, args);\n                  }\n                }\n              }\n            }\n          return strarr;\n        },\n        hooks: {\n          all: {},\n          add: function (name, callback) {\n            var hooks = _.hooks.all;\n            hooks[name] = hooks[name] || [];\n            hooks[name].push(callback);\n          },\n          run: function (name, env) {\n            var callbacks = _.hooks.all[name];\n            if (!callbacks || !callbacks.length) {\n              return;\n            }\n            for (var i = 0, callback = void 0; callback = callbacks[i++];) {\n              callback(env);\n            }\n          }\n        }\n      };\n      var Token = _.Token = function (type, content, alias) {\n        this.type = type;\n        this.content = content;\n        this.alias = alias;\n      };\n      Token.stringify = function (o, language, parent) {\n        if (typeof o === 'string') {\n          return o;\n        }\n        if (_.util.type(o) === 'Array') {\n          return o.map(function (element) {\n            return Token.stringify(element, language, o);\n          }).join('');\n        }\n        var env = {\n          type: o.type,\n          content: Token.stringify(o.content, language, parent),\n          tag: 'span',\n          classes: [\n            'token',\n            o.type\n          ],\n          attributes: {},\n          language: language,\n          parent: parent\n        };\n        if (env.type === 'comment') {\n          env.attributes.spellcheck = 'true';\n        }\n        if (o.alias) {\n          var aliases = _.util.type(o.alias) === 'Array' ? o.alias : [o.alias];\n          Array.prototype.push.apply(env.classes, aliases);\n        }\n        _.hooks.run('wrap', env);\n        var attributes = '';\n        for (var name in env.attributes) {\n          attributes += (attributes ? ' ' : '') + name + '=\"' + (env.attributes[name] || '') + '\"';\n        }\n        return '<' + env.tag + ' class=\"' + env.classes.join(' ') + '\" ' + attributes + '>' + env.content + '</' + env.tag + '>';\n      };\n      if (!_self.document) {\n        if (!_self.addEventListener) {\n          return _self.Prism;\n        }\n        _self.addEventListener('message', function (evt) {\n          var message = JSON.parse(evt.data), lang = message.language, code = message.code, immediateClose = message.immediateClose;\n          _self.postMessage(_.highlight(code, _.languages[lang], lang));\n          if (immediateClose) {\n            _self.close();\n          }\n        }, false);\n        return _self.Prism;\n      }\n    }();\n    if (typeof global$2 !== 'undefined') {\n      global$2.Prism = Prism;\n    }\n    Prism.languages.markup = {\n      comment: /<!--[\\w\\W]*?-->/,\n      prolog: /<\\?[\\w\\W]+?\\?>/,\n      doctype: /<!DOCTYPE[\\w\\W]+?>/,\n      cdata: /<!\\[CDATA\\[[\\w\\W]*?]]>/i,\n      tag: {\n        pattern: /<\\/?[^\\s>\\/=.]+(?:\\s+[^\\s>\\/=]+(?:=(?:(\"|')(?:\\\\\\1|\\\\?(?!\\1)[\\w\\W])*\\1|[^\\s'\">=]+))?)*\\s*\\/?>/i,\n        inside: {\n          'tag': {\n            pattern: /^<\\/?[^\\s>\\/]+/i,\n            inside: {\n              punctuation: /^<\\/?/,\n              namespace: /^[^\\s>\\/:]+:/\n            }\n          },\n          'attr-value': {\n            pattern: /=(?:('|\")[\\w\\W]*?(\\1)|[^\\s>]+)/i,\n            inside: { punctuation: /[=>\"']/ }\n          },\n          'punctuation': /\\/?>/,\n          'attr-name': {\n            pattern: /[^\\s>\\/]+/,\n            inside: { namespace: /^[^\\s>\\/:]+:/ }\n          }\n        }\n      },\n      entity: /&#?[\\da-z]{1,8};/i\n    };\n    Prism.hooks.add('wrap', function (env) {\n      if (env.type === 'entity') {\n        env.attributes.title = env.content.replace(/&amp;/, '&');\n      }\n    });\n    Prism.languages.xml = Prism.languages.markup;\n    Prism.languages.html = Prism.languages.markup;\n    Prism.languages.mathml = Prism.languages.markup;\n    Prism.languages.svg = Prism.languages.markup;\n    Prism.languages.css = {\n      comment: /\\/\\*[\\w\\W]*?\\*\\//,\n      atrule: {\n        pattern: /@[\\w-]+?.*?(;|(?=\\s*\\{))/i,\n        inside: { rule: /@[\\w-]+/ }\n      },\n      url: /url\\((?:([\"'])(\\\\(?:\\r\\n|[\\w\\W])|(?!\\1)[^\\\\\\r\\n])*\\1|.*?)\\)/i,\n      selector: /[^\\{\\}\\s][^\\{\\};]*?(?=\\s*\\{)/,\n      string: /(\"|')(\\\\(?:\\r\\n|[\\w\\W])|(?!\\1)[^\\\\\\r\\n])*\\1/,\n      property: /(\\b|\\B)[\\w-]+(?=\\s*:)/i,\n      important: /\\B!important\\b/i,\n      function: /[-a-z0-9]+(?=\\()/i,\n      punctuation: /[(){};:]/\n    };\n    Prism.languages.css.atrule.inside.rest = Prism.util.clone(Prism.languages.css);\n    if (Prism.languages.markup) {\n      Prism.languages.insertBefore('markup', 'tag', {\n        style: {\n          pattern: /<style[\\w\\W]*?>[\\w\\W]*?<\\/style>/i,\n          inside: {\n            tag: {\n              pattern: /<style[\\w\\W]*?>|<\\/style>/i,\n              inside: Prism.languages.markup.tag.inside\n            },\n            rest: Prism.languages.css\n          },\n          alias: 'language-css'\n        }\n      });\n      Prism.languages.insertBefore('inside', 'attr-value', {\n        'style-attr': {\n          pattern: /\\s*style=(\"|').*?\\1/i,\n          inside: {\n            'attr-name': {\n              pattern: /^\\s*style/i,\n              inside: Prism.languages.markup.tag.inside\n            },\n            'punctuation': /^\\s*=\\s*['\"]|['\"]\\s*$/,\n            'attr-value': {\n              pattern: /.+/i,\n              inside: Prism.languages.css\n            }\n          },\n          alias: 'language-css'\n        }\n      }, Prism.languages.markup.tag);\n    }\n    Prism.languages.clike = {\n      'comment': [\n        {\n          pattern: /(^|[^\\\\])\\/\\*[\\w\\W]*?\\*\\//,\n          lookbehind: true\n        },\n        {\n          pattern: /(^|[^\\\\:])\\/\\/.*/,\n          lookbehind: true\n        }\n      ],\n      'string': /([\"'])(\\\\(?:\\r\\n|[\\s\\S])|(?!\\1)[^\\\\\\r\\n])*\\1/,\n      'class-name': {\n        pattern: /((?:\\b(?:class|interface|extends|implements|trait|instanceof|new)\\s+)|(?:catch\\s+\\())[a-z0-9_\\.\\\\]+/i,\n        lookbehind: true,\n        inside: { punctuation: /(\\.|\\\\)/ }\n      },\n      'keyword': /\\b(if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\\b/,\n      'boolean': /\\b(true|false)\\b/,\n      'function': /[a-z0-9_]+(?=\\()/i,\n      'number': /\\b-?(?:0x[\\da-f]+|\\d*\\.?\\d+(?:e[+-]?\\d+)?)\\b/i,\n      'operator': /--?|\\+\\+?|!=?=?|<=?|>=?|==?=?|&&?|\\|\\|?|\\?|\\*|\\/|~|\\^|%/,\n      'punctuation': /[{}[\\];(),.:]/\n    };\n    Prism.languages.javascript = Prism.languages.extend('clike', {\n      keyword: /\\b(as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|false|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|true|try|typeof|var|void|while|with|yield)\\b/,\n      number: /\\b-?(0x[\\dA-Fa-f]+|0b[01]+|0o[0-7]+|\\d*\\.?\\d+([Ee][+-]?\\d+)?|NaN|Infinity)\\b/,\n      function: /[_$a-zA-Z\\xA0-\\uFFFF][_$a-zA-Z0-9\\xA0-\\uFFFF]*(?=\\()/i\n    });\n    Prism.languages.insertBefore('javascript', 'keyword', {\n      regex: {\n        pattern: /(^|[^/])\\/(?!\\/)(\\[.+?]|\\\\.|[^/\\\\\\r\\n])+\\/[gimyu]{0,5}(?=\\s*($|[\\r\\n,.;})]))/,\n        lookbehind: true\n      }\n    });\n    Prism.languages.insertBefore('javascript', 'class-name', {\n      'template-string': {\n        pattern: /`(?:\\\\`|\\\\?[^`])*`/,\n        inside: {\n          interpolation: {\n            pattern: /\\$\\{[^}]+\\}/,\n            inside: {\n              'interpolation-punctuation': {\n                pattern: /^\\$\\{|\\}$/,\n                alias: 'punctuation'\n              },\n              'rest': Prism.languages.javascript\n            }\n          },\n          string: /[\\s\\S]+/\n        }\n      }\n    });\n    if (Prism.languages.markup) {\n      Prism.languages.insertBefore('markup', 'tag', {\n        script: {\n          pattern: /<script[\\w\\W]*?>[\\w\\W]*?<\\/script>/i,\n          inside: {\n            tag: {\n              pattern: /<script[\\w\\W]*?>|<\\/script>/i,\n              inside: Prism.languages.markup.tag.inside\n            },\n            rest: Prism.languages.javascript\n          },\n          alias: 'language-javascript'\n        }\n      });\n    }\n    Prism.languages.js = Prism.languages.javascript;\n    Prism.languages.c = Prism.languages.extend('clike', {\n      keyword: /\\b(asm|typeof|inline|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|union|unsigned|void|volatile|while)\\b/,\n      operator: /\\-[>-]?|\\+\\+?|!=?|<<?=?|>>?=?|==?|&&?|\\|?\\||[~^%?*\\/]/,\n      number: /\\b-?(?:0x[\\da-f]+|\\d*\\.?\\d+(?:e[+-]?\\d+)?)[ful]*\\b/i\n    });\n    Prism.languages.insertBefore('c', 'string', {\n      macro: {\n        pattern: /(^\\s*)#\\s*[a-z]+([^\\r\\n\\\\]|\\\\.|\\\\(?:\\r\\n?|\\n))*/im,\n        lookbehind: true,\n        alias: 'property',\n        inside: {\n          string: {\n            pattern: /(#\\s*include\\s*)(<.+?>|(\"|')(\\\\?.)+?\\3)/,\n            lookbehind: true\n          }\n        }\n      }\n    });\n    delete Prism.languages.c['class-name'];\n    delete Prism.languages.c.boolean;\n    Prism.languages.csharp = Prism.languages.extend('clike', {\n      keyword: /\\b(abstract|as|async|await|base|bool|break|byte|case|catch|char|checked|class|const|continue|decimal|default|delegate|do|double|else|enum|event|explicit|extern|false|finally|fixed|float|for|foreach|goto|if|implicit|in|int|interface|internal|is|lock|long|namespace|new|null|object|operator|out|override|params|private|protected|public|readonly|ref|return|sbyte|sealed|short|sizeof|stackalloc|static|string|struct|switch|this|throw|true|try|typeof|uint|ulong|unchecked|unsafe|ushort|using|virtual|void|volatile|while|add|alias|ascending|async|await|descending|dynamic|from|get|global|group|into|join|let|orderby|partial|remove|select|set|value|var|where|yield)\\b/,\n      string: [\n        /@(\"|')(\\1\\1|\\\\\\1|\\\\?(?!\\1)[\\s\\S])*\\1/,\n        /(\"|')(\\\\?.)*?\\1/\n      ],\n      number: /\\b-?(0x[\\da-f]+|\\d*\\.?\\d+)\\b/i\n    });\n    Prism.languages.insertBefore('csharp', 'keyword', {\n      preprocessor: {\n        pattern: /(^\\s*)#.*/m,\n        lookbehind: true\n      }\n    });\n    Prism.languages.cpp = Prism.languages.extend('c', {\n      keyword: /\\b(alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|class|compl|const|constexpr|const_cast|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|float|for|friend|goto|if|inline|int|long|mutable|namespace|new|noexcept|nullptr|operator|private|protected|public|register|reinterpret_cast|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|union|unsigned|using|virtual|void|volatile|wchar_t|while)\\b/,\n      boolean: /\\b(true|false)\\b/,\n      operator: /[-+]{1,2}|!=?|<{1,2}=?|>{1,2}=?|\\->|:{1,2}|={1,2}|\\^|~|%|&{1,2}|\\|?\\||\\?|\\*|\\/|\\b(and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\\b/\n    });\n    Prism.languages.insertBefore('cpp', 'keyword', {\n      'class-name': {\n        pattern: /(class\\s+)[a-z0-9_]+/i,\n        lookbehind: true\n      }\n    });\n    Prism.languages.java = Prism.languages.extend('clike', {\n      keyword: /\\b(abstract|continue|for|new|switch|assert|default|goto|package|synchronized|boolean|do|if|private|this|break|double|implements|protected|throw|byte|else|import|public|throws|case|enum|instanceof|return|transient|catch|extends|int|short|try|char|final|interface|static|void|class|finally|long|strictfp|volatile|const|float|native|super|while)\\b/,\n      number: /\\b0b[01]+\\b|\\b0x[\\da-f]*\\.?[\\da-fp\\-]+\\b|\\b\\d*\\.?\\d+(?:e[+-]?\\d+)?[df]?\\b/i,\n      operator: {\n        pattern: /(^|[^.])(?:\\+[+=]?|-[-=]?|!=?|<<?=?|>>?>?=?|==?|&[&=]?|\\|[|=]?|\\*=?|\\/=?|%=?|\\^=?|[?:~])/m,\n        lookbehind: true\n      }\n    });\n    Prism.languages.php = Prism.languages.extend('clike', {\n      keyword: /\\b(and|or|xor|array|as|break|case|cfunction|class|const|continue|declare|default|die|do|else|elseif|enddeclare|endfor|endforeach|endif|endswitch|endwhile|extends|for|foreach|function|include|include_once|global|if|new|return|static|switch|use|require|require_once|var|while|abstract|interface|public|implements|private|protected|parent|throw|null|echo|print|trait|namespace|final|yield|goto|instanceof|finally|try|catch)\\b/i,\n      constant: /\\b[A-Z0-9_]{2,}\\b/,\n      comment: {\n        pattern: /(^|[^\\\\])(?:\\/\\*[\\w\\W]*?\\*\\/|\\/\\/.*)/,\n        lookbehind: true\n      }\n    });\n    Prism.languages.insertBefore('php', 'class-name', {\n      'shell-comment': {\n        pattern: /(^|[^\\\\])#.*/,\n        lookbehind: true,\n        alias: 'comment'\n      }\n    });\n    Prism.languages.insertBefore('php', 'keyword', {\n      delimiter: /\\?>|<\\?(?:php)?/i,\n      variable: /\\$\\w+\\b/i,\n      package: {\n        pattern: /(\\\\|namespace\\s+|use\\s+)[\\w\\\\]+/,\n        lookbehind: true,\n        inside: { punctuation: /\\\\/ }\n      }\n    });\n    Prism.languages.insertBefore('php', 'operator', {\n      property: {\n        pattern: /(->)[\\w]+/,\n        lookbehind: true\n      }\n    });\n    if (Prism.languages.markup) {\n      Prism.hooks.add('before-highlight', function (env) {\n        if (env.language !== 'php') {\n          return;\n        }\n        env.tokenStack = [];\n        env.backupCode = env.code;\n        env.code = env.code.replace(/(?:<\\?php|<\\?)[\\w\\W]*?(?:\\?>)/ig, function (match) {\n          env.tokenStack.push(match);\n          return '{{{PHP' + env.tokenStack.length + '}}}';\n        });\n      });\n      Prism.hooks.add('before-insert', function (env) {\n        if (env.language === 'php') {\n          env.code = env.backupCode;\n          delete env.backupCode;\n        }\n      });\n      Prism.hooks.add('after-highlight', function (env) {\n        if (env.language !== 'php') {\n          return;\n        }\n        for (var i = 0, t = void 0; t = env.tokenStack[i]; i++) {\n          env.highlightedCode = env.highlightedCode.replace('{{{PHP' + (i + 1) + '}}}', Prism.highlight(t, env.grammar, 'php').replace(/\\$/g, '$$$$'));\n        }\n        env.element.innerHTML = env.highlightedCode;\n      });\n      Prism.hooks.add('wrap', function (env) {\n        if (env.language === 'php' && env.type === 'markup') {\n          env.content = env.content.replace(/(\\{\\{\\{PHP[0-9]+\\}\\}\\})/g, '<span class=\"token php\">$1</span>');\n        }\n      });\n      Prism.languages.insertBefore('php', 'comment', {\n        markup: {\n          pattern: /<[^?]\\/?(.*?)>/,\n          inside: Prism.languages.markup\n        },\n        php: /\\{\\{\\{PHP[0-9]+\\}\\}\\}/\n      });\n    }\n    Prism.languages.python = {\n      'comment': {\n        pattern: /(^|[^\\\\])#.*/,\n        lookbehind: true\n      },\n      'string': /\"\"\"[\\s\\S]+?\"\"\"|'''[\\s\\S]+?'''|(\"|')(?:\\\\?.)*?\\1/,\n      'function': {\n        pattern: /((?:^|\\s)def[ \\t]+)[a-zA-Z_][a-zA-Z0-9_]*(?=\\()/g,\n        lookbehind: true\n      },\n      'class-name': {\n        pattern: /(\\bclass\\s+)[a-z0-9_]+/i,\n        lookbehind: true\n      },\n      'keyword': /\\b(?:as|assert|async|await|break|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|pass|print|raise|return|try|while|with|yield)\\b/,\n      'boolean': /\\b(?:True|False)\\b/,\n      'number': /\\b-?(?:0[bo])?(?:(?:\\d|0x[\\da-f])[\\da-f]*\\.?\\d*|\\.\\d+)(?:e[+-]?\\d+)?j?\\b/i,\n      'operator': /[-+%=]=?|!=|\\*\\*?=?|\\/\\/?=?|<[<=>]?|>[=>]?|[&|^~]|\\b(?:or|and|not)\\b/,\n      'punctuation': /[{}[\\];(),.:]/\n    };\n    (function (Prism) {\n      Prism.languages.ruby = Prism.languages.extend('clike', {\n        comment: /#(?!\\{[^\\r\\n]*?\\}).*/,\n        keyword: /\\b(alias|and|BEGIN|begin|break|case|class|def|define_method|defined|do|each|else|elsif|END|end|ensure|false|for|if|in|module|new|next|nil|not|or|raise|redo|require|rescue|retry|return|self|super|then|throw|true|undef|unless|until|when|while|yield)\\b/\n      });\n      var interpolation = {\n        pattern: /#\\{[^}]+\\}/,\n        inside: {\n          delimiter: {\n            pattern: /^#\\{|\\}$/,\n            alias: 'tag'\n          },\n          rest: Prism.util.clone(Prism.languages.ruby)\n        }\n      };\n      Prism.languages.insertBefore('ruby', 'keyword', {\n        regex: [\n          {\n            pattern: /%r([^a-zA-Z0-9\\s\\{\\(\\[<])(?:[^\\\\]|\\\\[\\s\\S])*?\\1[gim]{0,3}/,\n            inside: { interpolation: interpolation }\n          },\n          {\n            pattern: /%r\\((?:[^()\\\\]|\\\\[\\s\\S])*\\)[gim]{0,3}/,\n            inside: { interpolation: interpolation }\n          },\n          {\n            pattern: /%r\\{(?:[^#{}\\\\]|#(?:\\{[^}]+\\})?|\\\\[\\s\\S])*\\}[gim]{0,3}/,\n            inside: { interpolation: interpolation }\n          },\n          {\n            pattern: /%r\\[(?:[^\\[\\]\\\\]|\\\\[\\s\\S])*\\][gim]{0,3}/,\n            inside: { interpolation: interpolation }\n          },\n          {\n            pattern: /%r<(?:[^<>\\\\]|\\\\[\\s\\S])*>[gim]{0,3}/,\n            inside: { interpolation: interpolation }\n          },\n          {\n            pattern: /(^|[^/])\\/(?!\\/)(\\[.+?]|\\\\.|[^/\\r\\n])+\\/[gim]{0,3}(?=\\s*($|[\\r\\n,.;})]))/,\n            lookbehind: true\n          }\n        ],\n        variable: /[@$]+[a-zA-Z_][a-zA-Z_0-9]*(?:[?!]|\\b)/,\n        symbol: /:[a-zA-Z_][a-zA-Z_0-9]*(?:[?!]|\\b)/\n      });\n      Prism.languages.insertBefore('ruby', 'number', {\n        builtin: /\\b(Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Stat|File|Fixnum|Fload|Hash|Integer|IO|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|String|Struct|TMS|Symbol|ThreadGroup|Thread|Time|TrueClass)\\b/,\n        constant: /\\b[A-Z][a-zA-Z_0-9]*(?:[?!]|\\b)/\n      });\n      Prism.languages.ruby.string = [\n        {\n          pattern: /%[qQiIwWxs]?([^a-zA-Z0-9\\s\\{\\(\\[<])(?:[^\\\\]|\\\\[\\s\\S])*?\\1/,\n          inside: { interpolation: interpolation }\n        },\n        {\n          pattern: /%[qQiIwWxs]?\\((?:[^()\\\\]|\\\\[\\s\\S])*\\)/,\n          inside: { interpolation: interpolation }\n        },\n        {\n          pattern: /%[qQiIwWxs]?\\{(?:[^#{}\\\\]|#(?:\\{[^}]+\\})?|\\\\[\\s\\S])*\\}/,\n          inside: { interpolation: interpolation }\n        },\n        {\n          pattern: /%[qQiIwWxs]?\\[(?:[^\\[\\]\\\\]|\\\\[\\s\\S])*\\]/,\n          inside: { interpolation: interpolation }\n        },\n        {\n          pattern: /%[qQiIwWxs]?<(?:[^<>\\\\]|\\\\[\\s\\S])*>/,\n          inside: { interpolation: interpolation }\n        },\n        {\n          pattern: /(\"|')(#\\{[^}]+\\}|\\\\(?:\\r?\\n|\\r)|\\\\?.)*?\\1/,\n          inside: { interpolation: interpolation }\n        }\n      ];\n    }(Prism));\n\n    function isCodeSample(elm) {\n      return elm && elm.nodeName === 'PRE' && elm.className.indexOf('language-') !== -1;\n    }\n    function trimArg(predicateFn) {\n      return function (arg1, arg2) {\n        return predicateFn(arg2);\n      };\n    }\n    var Utils = {\n      isCodeSample: isCodeSample,\n      trimArg: trimArg\n    };\n\n    var getSelectedCodeSample = function (editor) {\n      var node = editor.selection.getNode();\n      if (Utils.isCodeSample(node)) {\n        return node;\n      }\n      return null;\n    };\n    var insertCodeSample = function (editor, language, code) {\n      editor.undoManager.transact(function () {\n        var node = getSelectedCodeSample(editor);\n        code = global$1.DOM.encode(code);\n        if (node) {\n          editor.dom.setAttrib(node, 'class', 'language-' + language);\n          node.innerHTML = code;\n          Prism.highlightElement(node);\n          editor.selection.select(node);\n        } else {\n          editor.insertContent('<pre id=\"__new\" class=\"language-' + language + '\">' + code + '</pre>');\n          editor.selection.select(editor.$('#__new').removeAttr('id')[0]);\n        }\n      });\n    };\n    var getCurrentCode = function (editor) {\n      var node = getSelectedCodeSample(editor);\n      if (node) {\n        return node.textContent;\n      }\n      return '';\n    };\n    var CodeSample = {\n      getSelectedCodeSample: getSelectedCodeSample,\n      insertCodeSample: insertCodeSample,\n      getCurrentCode: getCurrentCode\n    };\n\n    var getLanguages$1 = function (editor) {\n      var defaultLanguages = [\n        {\n          text: 'HTML/XML',\n          value: 'markup'\n        },\n        {\n          text: 'JavaScript',\n          value: 'javascript'\n        },\n        {\n          text: 'CSS',\n          value: 'css'\n        },\n        {\n          text: 'PHP',\n          value: 'php'\n        },\n        {\n          text: 'Ruby',\n          value: 'ruby'\n        },\n        {\n          text: 'Python',\n          value: 'python'\n        },\n        {\n          text: 'Java',\n          value: 'java'\n        },\n        {\n          text: 'C',\n          value: 'c'\n        },\n        {\n          text: 'C#',\n          value: 'csharp'\n        },\n        {\n          text: 'C++',\n          value: 'cpp'\n        }\n      ];\n      var customLanguages = Settings.getLanguages(editor);\n      return customLanguages ? customLanguages : defaultLanguages;\n    };\n    var getCurrentLanguage = function (editor) {\n      var matches;\n      var node = CodeSample.getSelectedCodeSample(editor);\n      if (node) {\n        matches = node.className.match(/language-(\\w+)/);\n        return matches ? matches[1] : '';\n      }\n      return '';\n    };\n    var Languages = {\n      getLanguages: getLanguages$1,\n      getCurrentLanguage: getCurrentLanguage\n    };\n\n    var Dialog = {\n      open: function (editor) {\n        var minWidth = Settings.getDialogMinWidth(editor);\n        var minHeight = Settings.getDialogMinHeight(editor);\n        var currentLanguage = Languages.getCurrentLanguage(editor);\n        var currentLanguages = Languages.getLanguages(editor);\n        var currentCode = CodeSample.getCurrentCode(editor);\n        editor.windowManager.open({\n          title: 'Insert/Edit code sample',\n          minWidth: minWidth,\n          minHeight: minHeight,\n          layout: 'flex',\n          direction: 'column',\n          align: 'stretch',\n          body: [\n            {\n              type: 'listbox',\n              name: 'language',\n              label: 'Language',\n              maxWidth: 200,\n              value: currentLanguage,\n              values: currentLanguages\n            },\n            {\n              type: 'textbox',\n              name: 'code',\n              multiline: true,\n              spellcheck: false,\n              ariaLabel: 'Code view',\n              flex: 1,\n              style: 'direction: ltr; text-align: left',\n              classes: 'monospace',\n              value: currentCode,\n              autofocus: true\n            }\n          ],\n          onSubmit: function (e) {\n            CodeSample.insertCodeSample(editor, e.data.language, e.data.code);\n          }\n        });\n      }\n    };\n\n    var register = function (editor) {\n      editor.addCommand('codesample', function () {\n        var node = editor.selection.getNode();\n        if (editor.selection.isCollapsed() || Utils.isCodeSample(node)) {\n          Dialog.open(editor);\n        } else {\n          editor.formatter.toggle('code');\n        }\n      });\n    };\n    var Commands = { register: register };\n\n    var setup = function (editor) {\n      var $ = editor.$;\n      editor.on('PreProcess', function (e) {\n        $('pre[contenteditable=false]', e.node).filter(Utils.trimArg(Utils.isCodeSample)).each(function (idx, elm) {\n          var $elm = $(elm), code = elm.textContent;\n          $elm.attr('class', $.trim($elm.attr('class')));\n          $elm.removeAttr('contentEditable');\n          $elm.empty().append($('<code></code>').each(function () {\n            this.textContent = code;\n          }));\n        });\n      });\n      editor.on('SetContent', function () {\n        var unprocessedCodeSamples = $('pre').filter(Utils.trimArg(Utils.isCodeSample)).filter(function (idx, elm) {\n          return elm.contentEditable !== 'false';\n        });\n        if (unprocessedCodeSamples.length) {\n          editor.undoManager.transact(function () {\n            unprocessedCodeSamples.each(function (idx, elm) {\n              $(elm).find('br').each(function (idx, elm) {\n                elm.parentNode.replaceChild(editor.getDoc().createTextNode('\\n'), elm);\n              });\n              elm.contentEditable = false;\n              elm.innerHTML = editor.dom.encode(elm.textContent);\n              Prism.highlightElement(elm);\n              elm.className = $.trim(elm.className);\n            });\n          });\n        }\n      });\n    };\n    var FilterContent = { setup: setup };\n\n    var loadCss = function (editor, pluginUrl, addedInlineCss, addedCss) {\n      var linkElm;\n      var contentCss = Settings.getContentCss(editor);\n      if (editor.inline && addedInlineCss.get()) {\n        return;\n      }\n      if (!editor.inline && addedCss.get()) {\n        return;\n      }\n      if (editor.inline) {\n        addedInlineCss.set(true);\n      } else {\n        addedCss.set(true);\n      }\n      if (contentCss !== false) {\n        linkElm = editor.dom.create('link', {\n          rel: 'stylesheet',\n          href: contentCss ? contentCss : pluginUrl + '/css/prism.css'\n        });\n        editor.getDoc().getElementsByTagName('head')[0].appendChild(linkElm);\n      }\n    };\n    var LoadCss = { loadCss: loadCss };\n\n    var register$1 = function (editor) {\n      editor.addButton('codesample', {\n        cmd: 'codesample',\n        title: 'Insert/Edit code sample'\n      });\n      editor.addMenuItem('codesample', {\n        cmd: 'codesample',\n        text: 'Code sample',\n        icon: 'codesample'\n      });\n    };\n    var Buttons = { register: register$1 };\n\n    var addedInlineCss = Cell(false);\n    global.add('codesample', function (editor, pluginUrl) {\n      var addedCss = Cell(false);\n      FilterContent.setup(editor);\n      Buttons.register(editor);\n      Commands.register(editor);\n      editor.on('init', function () {\n        LoadCss.loadCss(editor, pluginUrl, addedInlineCss, addedCss);\n      });\n      editor.on('dblclick', function (ev) {\n        if (Utils.isCodeSample(ev.target)) {\n          Dialog.open(editor);\n        }\n      });\n    });\n    function Plugin () {\n    }\n\n    return Plugin;\n\n}(window));\n})();\n","// Exports the \"colorpicker\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/colorpicker')\n//   ES2015:\n//     import 'tinymce/plugins/colorpicker'\nrequire('./plugin.js');","(function () {\nvar colorpicker = (function () {\n    'use strict';\n\n    var global = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.util.Color');\n\n    var showPreview = function (win, hexColor) {\n      win.find('#preview')[0].getEl().style.background = hexColor;\n    };\n    var setColor = function (win, value) {\n      var color = global$1(value), rgb = color.toRgb();\n      win.fromJSON({\n        r: rgb.r,\n        g: rgb.g,\n        b: rgb.b,\n        hex: color.toHex().substr(1)\n      });\n      showPreview(win, color.toHex());\n    };\n    var open = function (editor, callback, value) {\n      var win = editor.windowManager.open({\n        title: 'Color',\n        items: {\n          type: 'container',\n          layout: 'flex',\n          direction: 'row',\n          align: 'stretch',\n          padding: 5,\n          spacing: 10,\n          items: [\n            {\n              type: 'colorpicker',\n              value: value,\n              onchange: function () {\n                var rgb = this.rgb();\n                if (win) {\n                  win.find('#r').value(rgb.r);\n                  win.find('#g').value(rgb.g);\n                  win.find('#b').value(rgb.b);\n                  win.find('#hex').value(this.value().substr(1));\n                  showPreview(win, this.value());\n                }\n              }\n            },\n            {\n              type: 'form',\n              padding: 0,\n              labelGap: 5,\n              defaults: {\n                type: 'textbox',\n                size: 7,\n                value: '0',\n                flex: 1,\n                spellcheck: false,\n                onchange: function () {\n                  var colorPickerCtrl = win.find('colorpicker')[0];\n                  var name, value;\n                  name = this.name();\n                  value = this.value();\n                  if (name === 'hex') {\n                    value = '#' + value;\n                    setColor(win, value);\n                    colorPickerCtrl.value(value);\n                    return;\n                  }\n                  value = {\n                    r: win.find('#r').value(),\n                    g: win.find('#g').value(),\n                    b: win.find('#b').value()\n                  };\n                  colorPickerCtrl.value(value);\n                  setColor(win, value);\n                }\n              },\n              items: [\n                {\n                  name: 'r',\n                  label: 'R',\n                  autofocus: 1\n                },\n                {\n                  name: 'g',\n                  label: 'G'\n                },\n                {\n                  name: 'b',\n                  label: 'B'\n                },\n                {\n                  name: 'hex',\n                  label: '#',\n                  value: '000000'\n                },\n                {\n                  name: 'preview',\n                  type: 'container',\n                  border: 1\n                }\n              ]\n            }\n          ]\n        },\n        onSubmit: function () {\n          callback('#' + win.toJSON().hex);\n        }\n      });\n      setColor(win, value);\n    };\n    var Dialog = { open: open };\n\n    global.add('colorpicker', function (editor) {\n      if (!editor.settings.color_picker_callback) {\n        editor.settings.color_picker_callback = function (callback, value) {\n          Dialog.open(editor, callback, value);\n        };\n      }\n    });\n    function Plugin () {\n    }\n\n    return Plugin;\n\n}());\n})();\n","// Exports the \"contextmenu\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/contextmenu')\n//   ES2015:\n//     import 'tinymce/plugins/contextmenu'\nrequire('./plugin.js');","(function () {\nvar contextmenu = (function () {\n    'use strict';\n\n    var Cell = function (initial) {\n      var value = initial;\n      var get = function () {\n        return value;\n      };\n      var set = function (v) {\n        value = v;\n      };\n      var clone = function () {\n        return Cell(get());\n      };\n      return {\n        get: get,\n        set: set,\n        clone: clone\n      };\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var get = function (visibleState) {\n      var isContextMenuVisible = function () {\n        return visibleState.get();\n      };\n      return { isContextMenuVisible: isContextMenuVisible };\n    };\n    var Api = { get: get };\n\n    var shouldNeverUseNative = function (editor) {\n      return editor.settings.contextmenu_never_use_native;\n    };\n    var getContextMenu = function (editor) {\n      return editor.getParam('contextmenu', 'link openlink image inserttable | cell row column deletetable');\n    };\n    var Settings = {\n      shouldNeverUseNative: shouldNeverUseNative,\n      getContextMenu: getContextMenu\n    };\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');\n\n    var getUiContainer = function (editor) {\n      return global$1.DOM.select(editor.settings.ui_container)[0];\n    };\n\n    var nu = function (x, y) {\n      return {\n        x: x,\n        y: y\n      };\n    };\n    var transpose = function (pos, dx, dy) {\n      return nu(pos.x + dx, pos.y + dy);\n    };\n    var fromPageXY = function (e) {\n      return nu(e.pageX, e.pageY);\n    };\n    var fromClientXY = function (e) {\n      return nu(e.clientX, e.clientY);\n    };\n    var transposeUiContainer = function (element, pos) {\n      if (element && global$1.DOM.getStyle(element, 'position', true) !== 'static') {\n        var containerPos = global$1.DOM.getPos(element);\n        var dx = containerPos.x - element.scrollLeft;\n        var dy = containerPos.y - element.scrollTop;\n        return transpose(pos, -dx, -dy);\n      } else {\n        return transpose(pos, 0, 0);\n      }\n    };\n    var transposeContentAreaContainer = function (element, pos) {\n      var containerPos = global$1.DOM.getPos(element);\n      return transpose(pos, containerPos.x, containerPos.y);\n    };\n    var getPos = function (editor, e) {\n      if (editor.inline) {\n        return transposeUiContainer(getUiContainer(editor), fromPageXY(e));\n      } else {\n        var iframePos = transposeContentAreaContainer(editor.getContentAreaContainer(), fromClientXY(e));\n        return transposeUiContainer(getUiContainer(editor), iframePos);\n      }\n    };\n    var Coords = { getPos: getPos };\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.ui.Factory');\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var renderMenu = function (editor, visibleState) {\n      var menu, contextmenu;\n      var items = [];\n      contextmenu = Settings.getContextMenu(editor);\n      global$3.each(contextmenu.split(/[ ,]/), function (name) {\n        var item = editor.menuItems[name];\n        if (name === '|') {\n          item = { text: name };\n        }\n        if (item) {\n          item.shortcut = '';\n          items.push(item);\n        }\n      });\n      for (var i = 0; i < items.length; i++) {\n        if (items[i].text === '|') {\n          if (i === 0 || i === items.length - 1) {\n            items.splice(i, 1);\n          }\n        }\n      }\n      menu = global$2.create('menu', {\n        items: items,\n        context: 'contextmenu',\n        classes: 'contextmenu'\n      });\n      menu.uiContainer = getUiContainer(editor);\n      menu.renderTo(getUiContainer(editor));\n      menu.on('hide', function (e) {\n        if (e.control === this) {\n          visibleState.set(false);\n        }\n      });\n      editor.on('remove', function () {\n        menu.remove();\n        menu = null;\n      });\n      return menu;\n    };\n    var show = function (editor, pos, visibleState, menu) {\n      if (menu.get() === null) {\n        menu.set(renderMenu(editor, visibleState));\n      } else {\n        menu.get().show();\n      }\n      menu.get().moveTo(pos.x, pos.y);\n      visibleState.set(true);\n    };\n    var ContextMenu = { show: show };\n\n    var isNativeOverrideKeyEvent = function (editor, e) {\n      return e.ctrlKey && !Settings.shouldNeverUseNative(editor);\n    };\n    var setup = function (editor, visibleState, menu) {\n      editor.on('contextmenu', function (e) {\n        if (isNativeOverrideKeyEvent(editor, e)) {\n          return;\n        }\n        e.preventDefault();\n        ContextMenu.show(editor, Coords.getPos(editor, e), visibleState, menu);\n      });\n    };\n    var Bind = { setup: setup };\n\n    global.add('contextmenu', function (editor) {\n      var menu = Cell(null), visibleState = Cell(false);\n      Bind.setup(editor, visibleState, menu);\n      return Api.get(visibleState);\n    });\n    function Plugin () {\n    }\n\n    return Plugin;\n\n}());\n})();\n","// Exports the \"directionality\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/directionality')\n//   ES2015:\n//     import 'tinymce/plugins/directionality'\nrequire('./plugin.js');","(function () {\nvar directionality = (function () {\n    'use strict';\n\n    var global = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var setDir = function (editor, dir) {\n      var dom = editor.dom;\n      var curDir;\n      var blocks = editor.selection.getSelectedBlocks();\n      if (blocks.length) {\n        curDir = dom.getAttrib(blocks[0], 'dir');\n        global$1.each(blocks, function (block) {\n          if (!dom.getParent(block.parentNode, '*[dir=\"' + dir + '\"]', dom.getRoot())) {\n            dom.setAttrib(block, 'dir', curDir !== dir ? dir : null);\n          }\n        });\n        editor.nodeChanged();\n      }\n    };\n    var Direction = { setDir: setDir };\n\n    var register = function (editor) {\n      editor.addCommand('mceDirectionLTR', function () {\n        Direction.setDir(editor, 'ltr');\n      });\n      editor.addCommand('mceDirectionRTL', function () {\n        Direction.setDir(editor, 'rtl');\n      });\n    };\n    var Commands = { register: register };\n\n    var generateSelector = function (dir) {\n      var selector = [];\n      global$1.each('h1 h2 h3 h4 h5 h6 div p'.split(' '), function (name) {\n        selector.push(name + '[dir=' + dir + ']');\n      });\n      return selector.join(',');\n    };\n    var register$1 = function (editor) {\n      editor.addButton('ltr', {\n        title: 'Left to right',\n        cmd: 'mceDirectionLTR',\n        stateSelector: generateSelector('ltr')\n      });\n      editor.addButton('rtl', {\n        title: 'Right to left',\n        cmd: 'mceDirectionRTL',\n        stateSelector: generateSelector('rtl')\n      });\n    };\n    var Buttons = { register: register$1 };\n\n    global.add('directionality', function (editor) {\n      Commands.register(editor);\n      Buttons.register(editor);\n    });\n    function Plugin () {\n    }\n\n    return Plugin;\n\n}());\n})();\n","// Exports the \"emoticons\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/emoticons')\n//   ES2015:\n//     import 'tinymce/plugins/emoticons'\nrequire('./plugin.js');","(function () {\nvar emoticons = (function () {\n    'use strict';\n\n    var global = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var emoticons = [\n      [\n        'cool',\n        'cry',\n        'embarassed',\n        'foot-in-mouth'\n      ],\n      [\n        'frown',\n        'innocent',\n        'kiss',\n        'laughing'\n      ],\n      [\n        'money-mouth',\n        'sealed',\n        'smile',\n        'surprised'\n      ],\n      [\n        'tongue-out',\n        'undecided',\n        'wink',\n        'yell'\n      ]\n    ];\n    var getHtml = function (pluginUrl) {\n      var emoticonsHtml;\n      emoticonsHtml = '<table role=\"list\" class=\"mce-grid\">';\n      global$1.each(emoticons, function (row) {\n        emoticonsHtml += '<tr>';\n        global$1.each(row, function (icon) {\n          var emoticonUrl = pluginUrl + '/img/smiley-' + icon + '.gif';\n          emoticonsHtml += '<td><a href=\"#\" data-mce-url=\"' + emoticonUrl + '\" data-mce-alt=\"' + icon + '\" tabindex=\"-1\" ' + 'role=\"option\" aria-label=\"' + icon + '\"><img src=\"' + emoticonUrl + '\" style=\"width: 18px; height: 18px\" role=\"presentation\" /></a></td>';\n        });\n        emoticonsHtml += '</tr>';\n      });\n      emoticonsHtml += '</table>';\n      return emoticonsHtml;\n    };\n    var PanelHtml = { getHtml: getHtml };\n\n    var insertEmoticon = function (editor, src, alt) {\n      editor.insertContent(editor.dom.createHTML('img', {\n        src: src,\n        alt: alt\n      }));\n    };\n    var register = function (editor, pluginUrl) {\n      var panelHtml = PanelHtml.getHtml(pluginUrl);\n      editor.addButton('emoticons', {\n        type: 'panelbutton',\n        panel: {\n          role: 'application',\n          autohide: true,\n          html: panelHtml,\n          onclick: function (e) {\n            var linkElm = editor.dom.getParent(e.target, 'a');\n            if (linkElm) {\n              insertEmoticon(editor, linkElm.getAttribute('data-mce-url'), linkElm.getAttribute('data-mce-alt'));\n              this.hide();\n            }\n          }\n        },\n        tooltip: 'Emoticons'\n      });\n    };\n    var Buttons = { register: register };\n\n    global.add('emoticons', function (editor, pluginUrl) {\n      Buttons.register(editor, pluginUrl);\n    });\n    function Plugin () {\n    }\n\n    return Plugin;\n\n}());\n})();\n","// Exports the \"fullpage\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/fullpage')\n//   ES2015:\n//     import 'tinymce/plugins/fullpage'\nrequire('./plugin.js');","(function () {\nvar fullpage = (function () {\n    'use strict';\n\n    var Cell = function (initial) {\n      var value = initial;\n      var get = function () {\n        return value;\n      };\n      var set = function (v) {\n        value = v;\n      };\n      var clone = function () {\n        return Cell(get());\n      };\n      return {\n        get: get,\n        set: set,\n        clone: clone\n      };\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.html.DomParser');\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.html.Node');\n\n    var global$4 = tinymce.util.Tools.resolve('tinymce.html.Serializer');\n\n    var shouldHideInSourceView = function (editor) {\n      return editor.getParam('fullpage_hide_in_source_view');\n    };\n    var getDefaultXmlPi = function (editor) {\n      return editor.getParam('fullpage_default_xml_pi');\n    };\n    var getDefaultEncoding = function (editor) {\n      return editor.getParam('fullpage_default_encoding');\n    };\n    var getDefaultFontFamily = function (editor) {\n      return editor.getParam('fullpage_default_font_family');\n    };\n    var getDefaultFontSize = function (editor) {\n      return editor.getParam('fullpage_default_font_size');\n    };\n    var getDefaultTextColor = function (editor) {\n      return editor.getParam('fullpage_default_text_color');\n    };\n    var getDefaultTitle = function (editor) {\n      return editor.getParam('fullpage_default_title');\n    };\n    var getDefaultDocType = function (editor) {\n      return editor.getParam('fullpage_default_doctype', '<!DOCTYPE html>');\n    };\n    var Settings = {\n      shouldHideInSourceView: shouldHideInSourceView,\n      getDefaultXmlPi: getDefaultXmlPi,\n      getDefaultEncoding: getDefaultEncoding,\n      getDefaultFontFamily: getDefaultFontFamily,\n      getDefaultFontSize: getDefaultFontSize,\n      getDefaultTextColor: getDefaultTextColor,\n      getDefaultTitle: getDefaultTitle,\n      getDefaultDocType: getDefaultDocType\n    };\n\n    var parseHeader = function (head) {\n      return global$2({\n        validate: false,\n        root_name: '#document'\n      }).parse(head);\n    };\n    var htmlToData = function (editor, head) {\n      var headerFragment = parseHeader(head);\n      var data = {};\n      var elm, matches;\n      function getAttr(elm, name) {\n        var value = elm.attr(name);\n        return value || '';\n      }\n      data.fontface = Settings.getDefaultFontFamily(editor);\n      data.fontsize = Settings.getDefaultFontSize(editor);\n      elm = headerFragment.firstChild;\n      if (elm.type === 7) {\n        data.xml_pi = true;\n        matches = /encoding=\"([^\"]+)\"/.exec(elm.value);\n        if (matches) {\n          data.docencoding = matches[1];\n        }\n      }\n      elm = headerFragment.getAll('#doctype')[0];\n      if (elm) {\n        data.doctype = '<!DOCTYPE' + elm.value + '>';\n      }\n      elm = headerFragment.getAll('title')[0];\n      if (elm && elm.firstChild) {\n        data.title = elm.firstChild.value;\n      }\n      global$1.each(headerFragment.getAll('meta'), function (meta) {\n        var name = meta.attr('name');\n        var httpEquiv = meta.attr('http-equiv');\n        var matches;\n        if (name) {\n          data[name.toLowerCase()] = meta.attr('content');\n        } else if (httpEquiv === 'Content-Type') {\n          matches = /charset\\s*=\\s*(.*)\\s*/gi.exec(meta.attr('content'));\n          if (matches) {\n            data.docencoding = matches[1];\n          }\n        }\n      });\n      elm = headerFragment.getAll('html')[0];\n      if (elm) {\n        data.langcode = getAttr(elm, 'lang') || getAttr(elm, 'xml:lang');\n      }\n      data.stylesheets = [];\n      global$1.each(headerFragment.getAll('link'), function (link) {\n        if (link.attr('rel') === 'stylesheet') {\n          data.stylesheets.push(link.attr('href'));\n        }\n      });\n      elm = headerFragment.getAll('body')[0];\n      if (elm) {\n        data.langdir = getAttr(elm, 'dir');\n        data.style = getAttr(elm, 'style');\n        data.visited_color = getAttr(elm, 'vlink');\n        data.link_color = getAttr(elm, 'link');\n        data.active_color = getAttr(elm, 'alink');\n      }\n      return data;\n    };\n    var dataToHtml = function (editor, data, head) {\n      var headerFragment, headElement, html, elm, value;\n      var dom = editor.dom;\n      function setAttr(elm, name, value) {\n        elm.attr(name, value ? value : undefined);\n      }\n      function addHeadNode(node) {\n        if (headElement.firstChild) {\n          headElement.insert(node, headElement.firstChild);\n        } else {\n          headElement.append(node);\n        }\n      }\n      headerFragment = parseHeader(head);\n      headElement = headerFragment.getAll('head')[0];\n      if (!headElement) {\n        elm = headerFragment.getAll('html')[0];\n        headElement = new global$3('head', 1);\n        if (elm.firstChild) {\n          elm.insert(headElement, elm.firstChild, true);\n        } else {\n          elm.append(headElement);\n        }\n      }\n      elm = headerFragment.firstChild;\n      if (data.xml_pi) {\n        value = 'version=\"1.0\"';\n        if (data.docencoding) {\n          value += ' encoding=\"' + data.docencoding + '\"';\n        }\n        if (elm.type !== 7) {\n          elm = new global$3('xml', 7);\n          headerFragment.insert(elm, headerFragment.firstChild, true);\n        }\n        elm.value = value;\n      } else if (elm && elm.type === 7) {\n        elm.remove();\n      }\n      elm = headerFragment.getAll('#doctype')[0];\n      if (data.doctype) {\n        if (!elm) {\n          elm = new global$3('#doctype', 10);\n          if (data.xml_pi) {\n            headerFragment.insert(elm, headerFragment.firstChild);\n          } else {\n            addHeadNode(elm);\n          }\n        }\n        elm.value = data.doctype.substring(9, data.doctype.length - 1);\n      } else if (elm) {\n        elm.remove();\n      }\n      elm = null;\n      global$1.each(headerFragment.getAll('meta'), function (meta) {\n        if (meta.attr('http-equiv') === 'Content-Type') {\n          elm = meta;\n        }\n      });\n      if (data.docencoding) {\n        if (!elm) {\n          elm = new global$3('meta', 1);\n          elm.attr('http-equiv', 'Content-Type');\n          elm.shortEnded = true;\n          addHeadNode(elm);\n        }\n        elm.attr('content', 'text/html; charset=' + data.docencoding);\n      } else if (elm) {\n        elm.remove();\n      }\n      elm = headerFragment.getAll('title')[0];\n      if (data.title) {\n        if (!elm) {\n          elm = new global$3('title', 1);\n          addHeadNode(elm);\n        } else {\n          elm.empty();\n        }\n        elm.append(new global$3('#text', 3)).value = data.title;\n      } else if (elm) {\n        elm.remove();\n      }\n      global$1.each('keywords,description,author,copyright,robots'.split(','), function (name) {\n        var nodes = headerFragment.getAll('meta');\n        var i, meta;\n        var value = data[name];\n        for (i = 0; i < nodes.length; i++) {\n          meta = nodes[i];\n          if (meta.attr('name') === name) {\n            if (value) {\n              meta.attr('content', value);\n            } else {\n              meta.remove();\n            }\n            return;\n          }\n        }\n        if (value) {\n          elm = new global$3('meta', 1);\n          elm.attr('name', name);\n          elm.attr('content', value);\n          elm.shortEnded = true;\n          addHeadNode(elm);\n        }\n      });\n      var currentStyleSheetsMap = {};\n      global$1.each(headerFragment.getAll('link'), function (stylesheet) {\n        if (stylesheet.attr('rel') === 'stylesheet') {\n          currentStyleSheetsMap[stylesheet.attr('href')] = stylesheet;\n        }\n      });\n      global$1.each(data.stylesheets, function (stylesheet) {\n        if (!currentStyleSheetsMap[stylesheet]) {\n          elm = new global$3('link', 1);\n          elm.attr({\n            rel: 'stylesheet',\n            text: 'text/css',\n            href: stylesheet\n          });\n          elm.shortEnded = true;\n          addHeadNode(elm);\n        }\n        delete currentStyleSheetsMap[stylesheet];\n      });\n      global$1.each(currentStyleSheetsMap, function (stylesheet) {\n        stylesheet.remove();\n      });\n      elm = headerFragment.getAll('body')[0];\n      if (elm) {\n        setAttr(elm, 'dir', data.langdir);\n        setAttr(elm, 'style', data.style);\n        setAttr(elm, 'vlink', data.visited_color);\n        setAttr(elm, 'link', data.link_color);\n        setAttr(elm, 'alink', data.active_color);\n        dom.setAttribs(editor.getBody(), {\n          style: data.style,\n          dir: data.dir,\n          vLink: data.visited_color,\n          link: data.link_color,\n          aLink: data.active_color\n        });\n      }\n      elm = headerFragment.getAll('html')[0];\n      if (elm) {\n        setAttr(elm, 'lang', data.langcode);\n        setAttr(elm, 'xml:lang', data.langcode);\n      }\n      if (!headElement.firstChild) {\n        headElement.remove();\n      }\n      html = global$4({\n        validate: false,\n        indent: true,\n        apply_source_formatting: true,\n        indent_before: 'head,html,body,meta,title,script,link,style',\n        indent_after: 'head,html,body,meta,title,script,link,style'\n      }).serialize(headerFragment);\n      return html.substring(0, html.indexOf('</body>'));\n    };\n    var Parser = {\n      parseHeader: parseHeader,\n      htmlToData: htmlToData,\n      dataToHtml: dataToHtml\n    };\n\n    var open = function (editor, headState) {\n      var data = Parser.htmlToData(editor, headState.get());\n      editor.windowManager.open({\n        title: 'Document properties',\n        data: data,\n        defaults: {\n          type: 'textbox',\n          size: 40\n        },\n        body: [\n          {\n            name: 'title',\n            label: 'Title'\n          },\n          {\n            name: 'keywords',\n            label: 'Keywords'\n          },\n          {\n            name: 'description',\n            label: 'Description'\n          },\n          {\n            name: 'robots',\n            label: 'Robots'\n          },\n          {\n            name: 'author',\n            label: 'Author'\n          },\n          {\n            name: 'docencoding',\n            label: 'Encoding'\n          }\n        ],\n        onSubmit: function (e) {\n          var headHtml = Parser.dataToHtml(editor, global$1.extend(data, e.data), headState.get());\n          headState.set(headHtml);\n        }\n      });\n    };\n    var Dialog = { open: open };\n\n    var register = function (editor, headState) {\n      editor.addCommand('mceFullPageProperties', function () {\n        Dialog.open(editor, headState);\n      });\n    };\n    var Commands = { register: register };\n\n    var protectHtml = function (protect, html) {\n      global$1.each(protect, function (pattern) {\n        html = html.replace(pattern, function (str) {\n          return '<!--mce:protected ' + escape(str) + '-->';\n        });\n      });\n      return html;\n    };\n    var unprotectHtml = function (html) {\n      return html.replace(/<!--mce:protected ([\\s\\S]*?)-->/g, function (a, m) {\n        return unescape(m);\n      });\n    };\n    var Protect = {\n      protectHtml: protectHtml,\n      unprotectHtml: unprotectHtml\n    };\n\n    var each = global$1.each;\n    var low = function (s) {\n      return s.replace(/<\\/?[A-Z]+/g, function (a) {\n        return a.toLowerCase();\n      });\n    };\n    var handleSetContent = function (editor, headState, footState, evt) {\n      var startPos, endPos, content, headerFragment, styles = '';\n      var dom = editor.dom;\n      var elm;\n      if (evt.selection) {\n        return;\n      }\n      content = Protect.protectHtml(editor.settings.protect, evt.content);\n      if (evt.format === 'raw' && headState.get()) {\n        return;\n      }\n      if (evt.source_view && Settings.shouldHideInSourceView(editor)) {\n        return;\n      }\n      if (content.length === 0 && !evt.source_view) {\n        content = global$1.trim(headState.get()) + '\\n' + global$1.trim(content) + '\\n' + global$1.trim(footState.get());\n      }\n      content = content.replace(/<(\\/?)BODY/gi, '<$1body');\n      startPos = content.indexOf('<body');\n      if (startPos !== -1) {\n        startPos = content.indexOf('>', startPos);\n        headState.set(low(content.substring(0, startPos + 1)));\n        endPos = content.indexOf('</body', startPos);\n        if (endPos === -1) {\n          endPos = content.length;\n        }\n        evt.content = global$1.trim(content.substring(startPos + 1, endPos));\n        footState.set(low(content.substring(endPos)));\n      } else {\n        headState.set(getDefaultHeader(editor));\n        footState.set('\\n</body>\\n</html>');\n      }\n      headerFragment = Parser.parseHeader(headState.get());\n      each(headerFragment.getAll('style'), function (node) {\n        if (node.firstChild) {\n          styles += node.firstChild.value;\n        }\n      });\n      elm = headerFragment.getAll('body')[0];\n      if (elm) {\n        dom.setAttribs(editor.getBody(), {\n          style: elm.attr('style') || '',\n          dir: elm.attr('dir') || '',\n          vLink: elm.attr('vlink') || '',\n          link: elm.attr('link') || '',\n          aLink: elm.attr('alink') || ''\n        });\n      }\n      dom.remove('fullpage_styles');\n      var headElm = editor.getDoc().getElementsByTagName('head')[0];\n      if (styles) {\n        dom.add(headElm, 'style', { id: 'fullpage_styles' }, styles);\n        elm = dom.get('fullpage_styles');\n        if (elm.styleSheet) {\n          elm.styleSheet.cssText = styles;\n        }\n      }\n      var currentStyleSheetsMap = {};\n      global$1.each(headElm.getElementsByTagName('link'), function (stylesheet) {\n        if (stylesheet.rel === 'stylesheet' && stylesheet.getAttribute('data-mce-fullpage')) {\n          currentStyleSheetsMap[stylesheet.href] = stylesheet;\n        }\n      });\n      global$1.each(headerFragment.getAll('link'), function (stylesheet) {\n        var href = stylesheet.attr('href');\n        if (!href) {\n          return true;\n        }\n        if (!currentStyleSheetsMap[href] && stylesheet.attr('rel') === 'stylesheet') {\n          dom.add(headElm, 'link', {\n            'rel': 'stylesheet',\n            'text': 'text/css',\n            'href': href,\n            'data-mce-fullpage': '1'\n          });\n        }\n        delete currentStyleSheetsMap[href];\n      });\n      global$1.each(currentStyleSheetsMap, function (stylesheet) {\n        stylesheet.parentNode.removeChild(stylesheet);\n      });\n    };\n    var getDefaultHeader = function (editor) {\n      var header = '', value, styles = '';\n      if (Settings.getDefaultXmlPi(editor)) {\n        var piEncoding = Settings.getDefaultEncoding(editor);\n        header += '<?xml version=\"1.0\" encoding=\"' + (piEncoding ? piEncoding : 'ISO-8859-1') + '\" ?>\\n';\n      }\n      header += Settings.getDefaultDocType(editor);\n      header += '\\n<html>\\n<head>\\n';\n      if (value = Settings.getDefaultTitle(editor)) {\n        header += '<title>' + value + '</title>\\n';\n      }\n      if (value = Settings.getDefaultEncoding(editor)) {\n        header += '<meta http-equiv=\"Content-Type\" content=\"text/html; charset=' + value + '\" />\\n';\n      }\n      if (value = Settings.getDefaultFontFamily(editor)) {\n        styles += 'font-family: ' + value + ';';\n      }\n      if (value = Settings.getDefaultFontSize(editor)) {\n        styles += 'font-size: ' + value + ';';\n      }\n      if (value = Settings.getDefaultTextColor(editor)) {\n        styles += 'color: ' + value + ';';\n      }\n      header += '</head>\\n<body' + (styles ? ' style=\"' + styles + '\"' : '') + '>\\n';\n      return header;\n    };\n    var handleGetContent = function (editor, head, foot, evt) {\n      if (!evt.selection && (!evt.source_view || !Settings.shouldHideInSourceView(editor))) {\n        evt.content = Protect.unprotectHtml(global$1.trim(head) + '\\n' + global$1.trim(evt.content) + '\\n' + global$1.trim(foot));\n      }\n    };\n    var setup = function (editor, headState, footState) {\n      editor.on('BeforeSetContent', function (evt) {\n        handleSetContent(editor, headState, footState, evt);\n      });\n      editor.on('GetContent', function (evt) {\n        handleGetContent(editor, headState.get(), footState.get(), evt);\n      });\n    };\n    var FilterContent = { setup: setup };\n\n    var register$1 = function (editor) {\n      editor.addButton('fullpage', {\n        title: 'Document properties',\n        cmd: 'mceFullPageProperties'\n      });\n      editor.addMenuItem('fullpage', {\n        text: 'Document properties',\n        cmd: 'mceFullPageProperties',\n        context: 'file'\n      });\n    };\n    var Buttons = { register: register$1 };\n\n    global.add('fullpage', function (editor) {\n      var headState = Cell(''), footState = Cell('');\n      Commands.register(editor, headState);\n      Buttons.register(editor);\n      FilterContent.setup(editor, headState, footState);\n    });\n    function Plugin () {\n    }\n\n    return Plugin;\n\n}());\n})();\n","// Exports the \"fullscreen\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/fullscreen')\n//   ES2015:\n//     import 'tinymce/plugins/fullscreen'\nrequire('./plugin.js');","(function () {\nvar fullscreen = (function (domGlobals) {\n    'use strict';\n\n    var Cell = function (initial) {\n      var value = initial;\n      var get = function () {\n        return value;\n      };\n      var set = function (v) {\n        value = v;\n      };\n      var clone = function () {\n        return Cell(get());\n      };\n      return {\n        get: get,\n        set: set,\n        clone: clone\n      };\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var get = function (fullscreenState) {\n      return {\n        isFullscreen: function () {\n          return fullscreenState.get() !== null;\n        }\n      };\n    };\n    var Api = { get: get };\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');\n\n    var fireFullscreenStateChanged = function (editor, state) {\n      editor.fire('FullscreenStateChanged', { state: state });\n    };\n    var Events = { fireFullscreenStateChanged: fireFullscreenStateChanged };\n\n    var DOM = global$1.DOM;\n    var getWindowSize = function () {\n      var w;\n      var h;\n      var win = domGlobals.window;\n      var doc = domGlobals.document;\n      var body = doc.body;\n      if (body.offsetWidth) {\n        w = body.offsetWidth;\n        h = body.offsetHeight;\n      }\n      if (win.innerWidth && win.innerHeight) {\n        w = win.innerWidth;\n        h = win.innerHeight;\n      }\n      return {\n        w: w,\n        h: h\n      };\n    };\n    var getScrollPos = function () {\n      var vp = DOM.getViewPort();\n      return {\n        x: vp.x,\n        y: vp.y\n      };\n    };\n    var setScrollPos = function (pos) {\n      domGlobals.window.scrollTo(pos.x, pos.y);\n    };\n    var toggleFullscreen = function (editor, fullscreenState) {\n      var body = domGlobals.document.body;\n      var documentElement = domGlobals.document.documentElement;\n      var editorContainerStyle;\n      var editorContainer, iframe, iframeStyle;\n      var fullscreenInfo = fullscreenState.get();\n      var resize = function () {\n        DOM.setStyle(iframe, 'height', getWindowSize().h - (editorContainer.clientHeight - iframe.clientHeight));\n      };\n      var removeResize = function () {\n        DOM.unbind(domGlobals.window, 'resize', resize);\n      };\n      editorContainer = editor.getContainer();\n      editorContainerStyle = editorContainer.style;\n      iframe = editor.getContentAreaContainer().firstChild;\n      iframeStyle = iframe.style;\n      if (!fullscreenInfo) {\n        var newFullScreenInfo = {\n          scrollPos: getScrollPos(),\n          containerWidth: editorContainerStyle.width,\n          containerHeight: editorContainerStyle.height,\n          iframeWidth: iframeStyle.width,\n          iframeHeight: iframeStyle.height,\n          resizeHandler: resize,\n          removeHandler: removeResize\n        };\n        iframeStyle.width = iframeStyle.height = '100%';\n        editorContainerStyle.width = editorContainerStyle.height = '';\n        DOM.addClass(body, 'mce-fullscreen');\n        DOM.addClass(documentElement, 'mce-fullscreen');\n        DOM.addClass(editorContainer, 'mce-fullscreen');\n        DOM.bind(domGlobals.window, 'resize', resize);\n        editor.on('remove', removeResize);\n        resize();\n        fullscreenState.set(newFullScreenInfo);\n        Events.fireFullscreenStateChanged(editor, true);\n      } else {\n        iframeStyle.width = fullscreenInfo.iframeWidth;\n        iframeStyle.height = fullscreenInfo.iframeHeight;\n        if (fullscreenInfo.containerWidth) {\n          editorContainerStyle.width = fullscreenInfo.containerWidth;\n        }\n        if (fullscreenInfo.containerHeight) {\n          editorContainerStyle.height = fullscreenInfo.containerHeight;\n        }\n        DOM.removeClass(body, 'mce-fullscreen');\n        DOM.removeClass(documentElement, 'mce-fullscreen');\n        DOM.removeClass(editorContainer, 'mce-fullscreen');\n        setScrollPos(fullscreenInfo.scrollPos);\n        DOM.unbind(domGlobals.window, 'resize', fullscreenInfo.resizeHandler);\n        editor.off('remove', fullscreenInfo.removeHandler);\n        fullscreenState.set(null);\n        Events.fireFullscreenStateChanged(editor, false);\n      }\n    };\n    var Actions = { toggleFullscreen: toggleFullscreen };\n\n    var register = function (editor, fullscreenState) {\n      editor.addCommand('mceFullScreen', function () {\n        Actions.toggleFullscreen(editor, fullscreenState);\n      });\n    };\n    var Commands = { register: register };\n\n    var postRender = function (editor) {\n      return function (e) {\n        var ctrl = e.control;\n        editor.on('FullscreenStateChanged', function (e) {\n          ctrl.active(e.state);\n        });\n      };\n    };\n    var register$1 = function (editor) {\n      editor.addMenuItem('fullscreen', {\n        text: 'Fullscreen',\n        shortcut: 'Ctrl+Shift+F',\n        selectable: true,\n        cmd: 'mceFullScreen',\n        onPostRender: postRender(editor),\n        context: 'view'\n      });\n      editor.addButton('fullscreen', {\n        active: false,\n        tooltip: 'Fullscreen',\n        cmd: 'mceFullScreen',\n        onPostRender: postRender(editor)\n      });\n    };\n    var Buttons = { register: register$1 };\n\n    global.add('fullscreen', function (editor) {\n      var fullscreenState = Cell(null);\n      if (editor.settings.inline) {\n        return Api.get(fullscreenState);\n      }\n      Commands.register(editor, fullscreenState);\n      Buttons.register(editor);\n      editor.addShortcut('Ctrl+Shift+F', '', 'mceFullScreen');\n      return Api.get(fullscreenState);\n    });\n    function Plugin () {\n    }\n\n    return Plugin;\n\n}(window));\n})();\n","// Exports the \"help\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/help')\n//   ES2015:\n//     import 'tinymce/plugins/help'\nrequire('./plugin.js');","(function () {\nvar help = (function () {\n    'use strict';\n\n    var global = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var noop = function () {\n    };\n    var constant = function (value) {\n      return function () {\n        return value;\n      };\n    };\n    function curry(fn) {\n      var initialArgs = [];\n      for (var _i = 1; _i < arguments.length; _i++) {\n        initialArgs[_i - 1] = arguments[_i];\n      }\n      return function () {\n        var restArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          restArgs[_i] = arguments[_i];\n        }\n        var all = initialArgs.concat(restArgs);\n        return fn.apply(null, all);\n      };\n    }\n    var not = function (f) {\n      return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        return !f.apply(null, args);\n      };\n    };\n    var never = constant(false);\n    var always = constant(true);\n\n    var none = function () {\n      return NONE;\n    };\n    var NONE = function () {\n      var eq = function (o) {\n        return o.isNone();\n      };\n      var call = function (thunk) {\n        return thunk();\n      };\n      var id = function (n) {\n        return n;\n      };\n      var me = {\n        fold: function (n, s) {\n          return n();\n        },\n        is: never,\n        isSome: never,\n        isNone: always,\n        getOr: id,\n        getOrThunk: call,\n        getOrDie: function (msg) {\n          throw new Error(msg || 'error: getOrDie called on none.');\n        },\n        getOrNull: constant(null),\n        getOrUndefined: constant(undefined),\n        or: id,\n        orThunk: call,\n        map: none,\n        each: noop,\n        bind: none,\n        exists: never,\n        forall: always,\n        filter: none,\n        equals: eq,\n        equals_: eq,\n        toArray: function () {\n          return [];\n        },\n        toString: constant('none()')\n      };\n      if (Object.freeze) {\n        Object.freeze(me);\n      }\n      return me;\n    }();\n    var some = function (a) {\n      var constant_a = constant(a);\n      var self = function () {\n        return me;\n      };\n      var bind = function (f) {\n        return f(a);\n      };\n      var me = {\n        fold: function (n, s) {\n          return s(a);\n        },\n        is: function (v) {\n          return a === v;\n        },\n        isSome: always,\n        isNone: never,\n        getOr: constant_a,\n        getOrThunk: constant_a,\n        getOrDie: constant_a,\n        getOrNull: constant_a,\n        getOrUndefined: constant_a,\n        or: self,\n        orThunk: self,\n        map: function (f) {\n          return some(f(a));\n        },\n        each: function (f) {\n          f(a);\n        },\n        bind: bind,\n        exists: bind,\n        forall: bind,\n        filter: function (f) {\n          return f(a) ? me : NONE;\n        },\n        toArray: function () {\n          return [a];\n        },\n        toString: function () {\n          return 'some(' + a + ')';\n        },\n        equals: function (o) {\n          return o.is(a);\n        },\n        equals_: function (o, elementEq) {\n          return o.fold(never, function (b) {\n            return elementEq(a, b);\n          });\n        }\n      };\n      return me;\n    };\n    var from = function (value) {\n      return value === null || value === undefined ? NONE : some(value);\n    };\n    var Option = {\n      some: some,\n      none: none,\n      from: from\n    };\n\n    var typeOf = function (x) {\n      if (x === null) {\n        return 'null';\n      }\n      var t = typeof x;\n      if (t === 'object' && (Array.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'Array')) {\n        return 'array';\n      }\n      if (t === 'object' && (String.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'String')) {\n        return 'string';\n      }\n      return t;\n    };\n    var isType = function (type) {\n      return function (value) {\n        return typeOf(value) === type;\n      };\n    };\n    var isFunction = isType('function');\n\n    var nativeSlice = Array.prototype.slice;\n    var nativeIndexOf = Array.prototype.indexOf;\n    var rawIndexOf = function (ts, t) {\n      return nativeIndexOf.call(ts, t);\n    };\n    var contains = function (xs, x) {\n      return rawIndexOf(xs, x) > -1;\n    };\n    var map = function (xs, f) {\n      var len = xs.length;\n      var r = new Array(len);\n      for (var i = 0; i < len; i++) {\n        var x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    var filter = function (xs, pred) {\n      var r = [];\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          r.push(x);\n        }\n      }\n      return r;\n    };\n    var find = function (xs, pred) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          return Option.some(x);\n        }\n      }\n      return Option.none();\n    };\n    var from$1 = isFunction(Array.from) ? Array.from : function (x) {\n      return nativeSlice.call(x);\n    };\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.util.I18n');\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.Env');\n\n    var meta = global$2.mac ? '\\u2318' : 'Ctrl';\n    var access = global$2.mac ? 'Ctrl + Alt' : 'Shift + Alt';\n    var shortcuts = [\n      {\n        shortcut: meta + ' + B',\n        action: 'Bold'\n      },\n      {\n        shortcut: meta + ' + I',\n        action: 'Italic'\n      },\n      {\n        shortcut: meta + ' + U',\n        action: 'Underline'\n      },\n      {\n        shortcut: meta + ' + A',\n        action: 'Select all'\n      },\n      {\n        shortcut: meta + ' + Y or ' + meta + ' + Shift + Z',\n        action: 'Redo'\n      },\n      {\n        shortcut: meta + ' + Z',\n        action: 'Undo'\n      },\n      {\n        shortcut: access + ' + 1',\n        action: 'Header 1'\n      },\n      {\n        shortcut: access + ' + 2',\n        action: 'Header 2'\n      },\n      {\n        shortcut: access + ' + 3',\n        action: 'Header 3'\n      },\n      {\n        shortcut: access + ' + 4',\n        action: 'Header 4'\n      },\n      {\n        shortcut: access + ' + 5',\n        action: 'Header 5'\n      },\n      {\n        shortcut: access + ' + 6',\n        action: 'Header 6'\n      },\n      {\n        shortcut: access + ' + 7',\n        action: 'Paragraph'\n      },\n      {\n        shortcut: access + ' + 8',\n        action: 'Div'\n      },\n      {\n        shortcut: access + ' + 9',\n        action: 'Address'\n      },\n      {\n        shortcut: 'Alt + F9',\n        action: 'Focus to menubar'\n      },\n      {\n        shortcut: 'Alt + F10',\n        action: 'Focus to toolbar'\n      },\n      {\n        shortcut: 'Alt + F11',\n        action: 'Focus to element path'\n      },\n      {\n        shortcut: 'Ctrl + F9',\n        action: 'Focus to contextual toolbar'\n      },\n      {\n        shortcut: meta + ' + K',\n        action: 'Insert link (if link plugin activated)'\n      },\n      {\n        shortcut: meta + ' + S',\n        action: 'Save (if save plugin activated)'\n      },\n      {\n        shortcut: meta + ' + F',\n        action: 'Find (if searchreplace plugin activated)'\n      }\n    ];\n    var KeyboardShortcuts = { shortcuts: shortcuts };\n\n    var makeTab = function () {\n      var makeAriaLabel = function (shortcut) {\n        return 'aria-label=\"Action: ' + shortcut.action + ', Shortcut: ' + shortcut.shortcut.replace(/Ctrl/g, 'Control') + '\"';\n      };\n      var shortcutLisString = map(KeyboardShortcuts.shortcuts, function (shortcut) {\n        return '<tr data-mce-tabstop=\"1\" tabindex=\"-1\" ' + makeAriaLabel(shortcut) + '>' + '<td>' + global$1.translate(shortcut.action) + '</td>' + '<td>' + shortcut.shortcut + '</td>' + '</tr>';\n      }).join('');\n      return {\n        title: 'Handy Shortcuts',\n        type: 'container',\n        style: 'overflow-y: auto; overflow-x: hidden; max-height: 250px',\n        items: [{\n            type: 'container',\n            html: '<div>' + '<table class=\"mce-table-striped\">' + '<thead>' + '<th>' + global$1.translate('Action') + '</th>' + '<th>' + global$1.translate('Shortcut') + '</th>' + '</thead>' + shortcutLisString + '</table>' + '</div>'\n          }]\n      };\n    };\n    var KeyboardShortcutsTab = { makeTab: makeTab };\n\n    var keys = Object.keys;\n\n    var supplant = function (str, obj) {\n      var isStringOrNumber = function (a) {\n        var t = typeof a;\n        return t === 'string' || t === 'number';\n      };\n      return str.replace(/\\$\\{([^{}]*)\\}/g, function (fullMatch, key) {\n        var value = obj[key];\n        return isStringOrNumber(value) ? value.toString() : fullMatch;\n      });\n    };\n\n    var urls = [\n      {\n        key: 'advlist',\n        name: 'Advanced List'\n      },\n      {\n        key: 'anchor',\n        name: 'Anchor'\n      },\n      {\n        key: 'autolink',\n        name: 'Autolink'\n      },\n      {\n        key: 'autoresize',\n        name: 'Autoresize'\n      },\n      {\n        key: 'autosave',\n        name: 'Autosave'\n      },\n      {\n        key: 'bbcode',\n        name: 'BBCode'\n      },\n      {\n        key: 'charmap',\n        name: 'Character Map'\n      },\n      {\n        key: 'code',\n        name: 'Code'\n      },\n      {\n        key: 'codesample',\n        name: 'Code Sample'\n      },\n      {\n        key: 'colorpicker',\n        name: 'Color Picker'\n      },\n      {\n        key: 'compat3x',\n        name: '3.x Compatibility'\n      },\n      {\n        key: 'contextmenu',\n        name: 'Context Menu'\n      },\n      {\n        key: 'directionality',\n        name: 'Directionality'\n      },\n      {\n        key: 'emoticons',\n        name: 'Emoticons'\n      },\n      {\n        key: 'fullpage',\n        name: 'Full Page'\n      },\n      {\n        key: 'fullscreen',\n        name: 'Full Screen'\n      },\n      {\n        key: 'help',\n        name: 'Help'\n      },\n      {\n        key: 'hr',\n        name: 'Horizontal Rule'\n      },\n      {\n        key: 'image',\n        name: 'Image'\n      },\n      {\n        key: 'imagetools',\n        name: 'Image Tools'\n      },\n      {\n        key: 'importcss',\n        name: 'Import CSS'\n      },\n      {\n        key: 'insertdatetime',\n        name: 'Insert Date/Time'\n      },\n      {\n        key: 'legacyoutput',\n        name: 'Legacy Output'\n      },\n      {\n        key: 'link',\n        name: 'Link'\n      },\n      {\n        key: 'lists',\n        name: 'Lists'\n      },\n      {\n        key: 'media',\n        name: 'Media'\n      },\n      {\n        key: 'nonbreaking',\n        name: 'Nonbreaking'\n      },\n      {\n        key: 'noneditable',\n        name: 'Noneditable'\n      },\n      {\n        key: 'pagebreak',\n        name: 'Page Break'\n      },\n      {\n        key: 'paste',\n        name: 'Paste'\n      },\n      {\n        key: 'preview',\n        name: 'Preview'\n      },\n      {\n        key: 'print',\n        name: 'Print'\n      },\n      {\n        key: 'save',\n        name: 'Save'\n      },\n      {\n        key: 'searchreplace',\n        name: 'Search and Replace'\n      },\n      {\n        key: 'spellchecker',\n        name: 'Spell Checker'\n      },\n      {\n        key: 'tabfocus',\n        name: 'Tab Focus'\n      },\n      {\n        key: 'table',\n        name: 'Table'\n      },\n      {\n        key: 'template',\n        name: 'Template'\n      },\n      {\n        key: 'textcolor',\n        name: 'Text Color'\n      },\n      {\n        key: 'textpattern',\n        name: 'Text Pattern'\n      },\n      {\n        key: 'toc',\n        name: 'Table of Contents'\n      },\n      {\n        key: 'visualblocks',\n        name: 'Visual Blocks'\n      },\n      {\n        key: 'visualchars',\n        name: 'Visual Characters'\n      },\n      {\n        key: 'wordcount',\n        name: 'Word Count'\n      }\n    ];\n    var PluginUrls = { urls: urls };\n\n    var makeLink = curry(supplant, '<a href=\"${url}\" target=\"_blank\" rel=\"noopener\">${name}</a>');\n    var maybeUrlize = function (editor, key) {\n      return find(PluginUrls.urls, function (x) {\n        return x.key === key;\n      }).fold(function () {\n        var getMetadata = editor.plugins[key].getMetadata;\n        return typeof getMetadata === 'function' ? makeLink(getMetadata()) : key;\n      }, function (x) {\n        return makeLink({\n          name: x.name,\n          url: 'https://www.tinymce.com/docs/plugins/' + x.key\n        });\n      });\n    };\n    var getPluginKeys = function (editor) {\n      var keys$1 = keys(editor.plugins);\n      return editor.settings.forced_plugins === undefined ? keys$1 : filter(keys$1, not(curry(contains, editor.settings.forced_plugins)));\n    };\n    var pluginLister = function (editor) {\n      var pluginKeys = getPluginKeys(editor);\n      var pluginLis = map(pluginKeys, function (key) {\n        return '<li>' + maybeUrlize(editor, key) + '</li>';\n      });\n      var count = pluginLis.length;\n      var pluginsString = pluginLis.join('');\n      return '<p><b>' + global$1.translate([\n        'Plugins installed ({0}):',\n        count\n      ]) + '</b></p>' + '<ul>' + pluginsString + '</ul>';\n    };\n    var installedPlugins = function (editor) {\n      return {\n        type: 'container',\n        html: '<div style=\"overflow-y: auto; overflow-x: hidden; max-height: 230px; height: 230px;\" data-mce-tabstop=\"1\" tabindex=\"-1\">' + pluginLister(editor) + '</div>',\n        flex: 1\n      };\n    };\n    var availablePlugins = function () {\n      return {\n        type: 'container',\n        html: '<div style=\"padding: 10px; background: #e3e7f4; height: 100%;\" data-mce-tabstop=\"1\" tabindex=\"-1\">' + '<p><b>' + global$1.translate('Premium plugins:') + '</b></p>' + '<ul>' + '<li>PowerPaste</li>' + '<li>Spell Checker Pro</li>' + '<li>Accessibility Checker</li>' + '<li>Advanced Code Editor</li>' + '<li>Enhanced Media Embed</li>' + '<li>Link Checker</li>' + '</ul><br />' + '<p style=\"float: right;\"><a href=\"https://www.tinymce.com/pricing/?utm_campaign=editor_referral&utm_medium=help_dialog&utm_source=tinymce\" target=\"_blank\">' + global$1.translate('Learn more...') + '</a></p>' + '</div>',\n        flex: 1\n      };\n    };\n    var makeTab$1 = function (editor) {\n      return {\n        title: 'Plugins',\n        type: 'container',\n        style: 'overflow-y: auto; overflow-x: hidden;',\n        layout: 'flex',\n        padding: 10,\n        spacing: 10,\n        items: [\n          installedPlugins(editor),\n          availablePlugins()\n        ]\n      };\n    };\n    var PluginsTab = { makeTab: makeTab$1 };\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.EditorManager');\n\n    var getVersion = function (major, minor) {\n      return major.indexOf('@') === 0 ? 'X.X.X' : major + '.' + minor;\n    };\n    var makeRow = function () {\n      var version = getVersion(global$3.majorVersion, global$3.minorVersion);\n      var changeLogLink = '<a href=\"https://www.tinymce.com/docs/changelog/?utm_campaign=editor_referral&utm_medium=help_dialog&utm_source=tinymce\" target=\"_blank\">TinyMCE ' + version + '</a>';\n      return [\n        {\n          type: 'label',\n          html: global$1.translate([\n            'You are using {0}',\n            changeLogLink\n          ])\n        },\n        {\n          type: 'spacer',\n          flex: 1\n        },\n        {\n          text: 'Close',\n          onclick: function () {\n            this.parent().parent().close();\n          }\n        }\n      ];\n    };\n    var ButtonsRow = { makeRow: makeRow };\n\n    var open = function (editor, pluginUrl) {\n      return function () {\n        editor.windowManager.open({\n          title: 'Help',\n          bodyType: 'tabpanel',\n          layout: 'flex',\n          body: [\n            KeyboardShortcutsTab.makeTab(),\n            PluginsTab.makeTab(editor)\n          ],\n          buttons: ButtonsRow.makeRow(),\n          onPostRender: function () {\n            var title = this.getEl('title');\n            title.innerHTML = '<img src=\"' + pluginUrl + '/img/logo.png\" alt=\"TinyMCE Logo\" style=\"display: inline-block; width: 200px; height: 50px\">';\n          }\n        });\n      };\n    };\n    var Dialog = { open: open };\n\n    var register = function (editor, pluginUrl) {\n      editor.addCommand('mceHelp', Dialog.open(editor, pluginUrl));\n    };\n    var Commands = { register: register };\n\n    var register$1 = function (editor, pluginUrl) {\n      editor.addButton('help', {\n        icon: 'help',\n        onclick: Dialog.open(editor, pluginUrl)\n      });\n      editor.addMenuItem('help', {\n        text: 'Help',\n        icon: 'help',\n        context: 'help',\n        onclick: Dialog.open(editor, pluginUrl)\n      });\n    };\n    var Buttons = { register: register$1 };\n\n    global.add('help', function (editor, pluginUrl) {\n      Buttons.register(editor, pluginUrl);\n      Commands.register(editor, pluginUrl);\n      editor.shortcuts.add('Alt+0', 'Open help dialog', 'mceHelp');\n    });\n    function Plugin () {\n    }\n\n    return Plugin;\n\n}());\n})();\n","// Exports the \"hr\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/hr')\n//   ES2015:\n//     import 'tinymce/plugins/hr'\nrequire('./plugin.js');","(function () {\nvar hr = (function () {\n    'use strict';\n\n    var global = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var register = function (editor) {\n      editor.addCommand('InsertHorizontalRule', function () {\n        editor.execCommand('mceInsertContent', false, '<hr />');\n      });\n    };\n    var Commands = { register: register };\n\n    var register$1 = function (editor) {\n      editor.addButton('hr', {\n        icon: 'hr',\n        tooltip: 'Horizontal line',\n        cmd: 'InsertHorizontalRule'\n      });\n      editor.addMenuItem('hr', {\n        icon: 'hr',\n        text: 'Horizontal line',\n        cmd: 'InsertHorizontalRule',\n        context: 'insert'\n      });\n    };\n    var Buttons = { register: register$1 };\n\n    global.add('hr', function (editor) {\n      Commands.register(editor);\n      Buttons.register(editor);\n    });\n    function Plugin () {\n    }\n\n    return Plugin;\n\n}());\n})();\n","// Exports the \"image\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/image')\n//   ES2015:\n//     import 'tinymce/plugins/image'\nrequire('./plugin.js');","(function () {\nvar image = (function (domGlobals) {\n    'use strict';\n\n    var global = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var hasDimensions = function (editor) {\n      return editor.settings.image_dimensions === false ? false : true;\n    };\n    var hasAdvTab = function (editor) {\n      return editor.settings.image_advtab === true ? true : false;\n    };\n    var getPrependUrl = function (editor) {\n      return editor.getParam('image_prepend_url', '');\n    };\n    var getClassList = function (editor) {\n      return editor.getParam('image_class_list');\n    };\n    var hasDescription = function (editor) {\n      return editor.settings.image_description === false ? false : true;\n    };\n    var hasImageTitle = function (editor) {\n      return editor.settings.image_title === true ? true : false;\n    };\n    var hasImageCaption = function (editor) {\n      return editor.settings.image_caption === true ? true : false;\n    };\n    var getImageList = function (editor) {\n      return editor.getParam('image_list', false);\n    };\n    var hasUploadUrl = function (editor) {\n      return editor.getParam('images_upload_url', false);\n    };\n    var hasUploadHandler = function (editor) {\n      return editor.getParam('images_upload_handler', false);\n    };\n    var getUploadUrl = function (editor) {\n      return editor.getParam('images_upload_url');\n    };\n    var getUploadHandler = function (editor) {\n      return editor.getParam('images_upload_handler');\n    };\n    var getUploadBasePath = function (editor) {\n      return editor.getParam('images_upload_base_path');\n    };\n    var getUploadCredentials = function (editor) {\n      return editor.getParam('images_upload_credentials');\n    };\n    var Settings = {\n      hasDimensions: hasDimensions,\n      hasAdvTab: hasAdvTab,\n      getPrependUrl: getPrependUrl,\n      getClassList: getClassList,\n      hasDescription: hasDescription,\n      hasImageTitle: hasImageTitle,\n      hasImageCaption: hasImageCaption,\n      getImageList: getImageList,\n      hasUploadUrl: hasUploadUrl,\n      hasUploadHandler: hasUploadHandler,\n      getUploadUrl: getUploadUrl,\n      getUploadHandler: getUploadHandler,\n      getUploadBasePath: getUploadBasePath,\n      getUploadCredentials: getUploadCredentials\n    };\n\n    var Global = typeof domGlobals.window !== 'undefined' ? domGlobals.window : Function('return this;')();\n\n    var path = function (parts, scope) {\n      var o = scope !== undefined && scope !== null ? scope : Global;\n      for (var i = 0; i < parts.length && o !== undefined && o !== null; ++i) {\n        o = o[parts[i]];\n      }\n      return o;\n    };\n    var resolve = function (p, scope) {\n      var parts = p.split('.');\n      return path(parts, scope);\n    };\n\n    var unsafe = function (name, scope) {\n      return resolve(name, scope);\n    };\n    var getOrDie = function (name, scope) {\n      var actual = unsafe(name, scope);\n      if (actual === undefined || actual === null) {\n        throw new Error(name + ' not available on this browser');\n      }\n      return actual;\n    };\n    var Global$1 = { getOrDie: getOrDie };\n\n    function FileReader () {\n      var f = Global$1.getOrDie('FileReader');\n      return new f();\n    }\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.util.Promise');\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.util.XHR');\n\n    var parseIntAndGetMax = function (val1, val2) {\n      return Math.max(parseInt(val1, 10), parseInt(val2, 10));\n    };\n    var getImageSize = function (url, callback) {\n      var img = domGlobals.document.createElement('img');\n      function done(width, height) {\n        if (img.parentNode) {\n          img.parentNode.removeChild(img);\n        }\n        callback({\n          width: width,\n          height: height\n        });\n      }\n      img.onload = function () {\n        var width = parseIntAndGetMax(img.width, img.clientWidth);\n        var height = parseIntAndGetMax(img.height, img.clientHeight);\n        done(width, height);\n      };\n      img.onerror = function () {\n        done(0, 0);\n      };\n      var style = img.style;\n      style.visibility = 'hidden';\n      style.position = 'fixed';\n      style.bottom = style.left = '0px';\n      style.width = style.height = 'auto';\n      domGlobals.document.body.appendChild(img);\n      img.src = url;\n    };\n    var buildListItems = function (inputList, itemCallback, startItems) {\n      function appendItems(values, output) {\n        output = output || [];\n        global$2.each(values, function (item) {\n          var menuItem = { text: item.text || item.title };\n          if (item.menu) {\n            menuItem.menu = appendItems(item.menu);\n          } else {\n            menuItem.value = item.value;\n            itemCallback(menuItem);\n          }\n          output.push(menuItem);\n        });\n        return output;\n      }\n      return appendItems(inputList, startItems || []);\n    };\n    var removePixelSuffix = function (value) {\n      if (value) {\n        value = value.replace(/px$/, '');\n      }\n      return value;\n    };\n    var addPixelSuffix = function (value) {\n      if (value.length > 0 && /^[0-9]+$/.test(value)) {\n        value += 'px';\n      }\n      return value;\n    };\n    var mergeMargins = function (css) {\n      if (css.margin) {\n        var splitMargin = css.margin.split(' ');\n        switch (splitMargin.length) {\n        case 1:\n          css['margin-top'] = css['margin-top'] || splitMargin[0];\n          css['margin-right'] = css['margin-right'] || splitMargin[0];\n          css['margin-bottom'] = css['margin-bottom'] || splitMargin[0];\n          css['margin-left'] = css['margin-left'] || splitMargin[0];\n          break;\n        case 2:\n          css['margin-top'] = css['margin-top'] || splitMargin[0];\n          css['margin-right'] = css['margin-right'] || splitMargin[1];\n          css['margin-bottom'] = css['margin-bottom'] || splitMargin[0];\n          css['margin-left'] = css['margin-left'] || splitMargin[1];\n          break;\n        case 3:\n          css['margin-top'] = css['margin-top'] || splitMargin[0];\n          css['margin-right'] = css['margin-right'] || splitMargin[1];\n          css['margin-bottom'] = css['margin-bottom'] || splitMargin[2];\n          css['margin-left'] = css['margin-left'] || splitMargin[1];\n          break;\n        case 4:\n          css['margin-top'] = css['margin-top'] || splitMargin[0];\n          css['margin-right'] = css['margin-right'] || splitMargin[1];\n          css['margin-bottom'] = css['margin-bottom'] || splitMargin[2];\n          css['margin-left'] = css['margin-left'] || splitMargin[3];\n        }\n        delete css.margin;\n      }\n      return css;\n    };\n    var createImageList = function (editor, callback) {\n      var imageList = Settings.getImageList(editor);\n      if (typeof imageList === 'string') {\n        global$3.send({\n          url: imageList,\n          success: function (text) {\n            callback(JSON.parse(text));\n          }\n        });\n      } else if (typeof imageList === 'function') {\n        imageList(callback);\n      } else {\n        callback(imageList);\n      }\n    };\n    var waitLoadImage = function (editor, data, imgElm) {\n      function selectImage() {\n        imgElm.onload = imgElm.onerror = null;\n        if (editor.selection) {\n          editor.selection.select(imgElm);\n          editor.nodeChanged();\n        }\n      }\n      imgElm.onload = function () {\n        if (!data.width && !data.height && Settings.hasDimensions(editor)) {\n          editor.dom.setAttribs(imgElm, {\n            width: imgElm.clientWidth,\n            height: imgElm.clientHeight\n          });\n        }\n        selectImage();\n      };\n      imgElm.onerror = selectImage;\n    };\n    var blobToDataUri = function (blob) {\n      return new global$1(function (resolve, reject) {\n        var reader = FileReader();\n        reader.onload = function () {\n          resolve(reader.result);\n        };\n        reader.onerror = function () {\n          reject(reader.error.message);\n        };\n        reader.readAsDataURL(blob);\n      });\n    };\n    var Utils = {\n      getImageSize: getImageSize,\n      buildListItems: buildListItems,\n      removePixelSuffix: removePixelSuffix,\n      addPixelSuffix: addPixelSuffix,\n      mergeMargins: mergeMargins,\n      createImageList: createImageList,\n      waitLoadImage: waitLoadImage,\n      blobToDataUri: blobToDataUri\n    };\n\n    var global$4 = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');\n\n    var hasOwnProperty = Object.prototype.hasOwnProperty;\n    var shallow = function (old, nu) {\n      return nu;\n    };\n    var baseMerge = function (merger) {\n      return function () {\n        var objects = new Array(arguments.length);\n        for (var i = 0; i < objects.length; i++) {\n          objects[i] = arguments[i];\n        }\n        if (objects.length === 0) {\n          throw new Error('Can\\'t merge zero objects');\n        }\n        var ret = {};\n        for (var j = 0; j < objects.length; j++) {\n          var curObject = objects[j];\n          for (var key in curObject) {\n            if (hasOwnProperty.call(curObject, key)) {\n              ret[key] = merger(ret[key], curObject[key]);\n            }\n          }\n        }\n        return ret;\n      };\n    };\n    var merge = baseMerge(shallow);\n\n    var DOM = global$4.DOM;\n    var getHspace = function (image) {\n      if (image.style.marginLeft && image.style.marginRight && image.style.marginLeft === image.style.marginRight) {\n        return Utils.removePixelSuffix(image.style.marginLeft);\n      } else {\n        return '';\n      }\n    };\n    var getVspace = function (image) {\n      if (image.style.marginTop && image.style.marginBottom && image.style.marginTop === image.style.marginBottom) {\n        return Utils.removePixelSuffix(image.style.marginTop);\n      } else {\n        return '';\n      }\n    };\n    var getBorder = function (image) {\n      if (image.style.borderWidth) {\n        return Utils.removePixelSuffix(image.style.borderWidth);\n      } else {\n        return '';\n      }\n    };\n    var getAttrib = function (image, name) {\n      if (image.hasAttribute(name)) {\n        return image.getAttribute(name);\n      } else {\n        return '';\n      }\n    };\n    var getStyle = function (image, name) {\n      return image.style[name] ? image.style[name] : '';\n    };\n    var hasCaption = function (image) {\n      return image.parentNode !== null && image.parentNode.nodeName === 'FIGURE';\n    };\n    var setAttrib = function (image, name, value) {\n      image.setAttribute(name, value);\n    };\n    var wrapInFigure = function (image) {\n      var figureElm = DOM.create('figure', { class: 'image' });\n      DOM.insertAfter(figureElm, image);\n      figureElm.appendChild(image);\n      figureElm.appendChild(DOM.create('figcaption', { contentEditable: true }, 'Caption'));\n      figureElm.contentEditable = 'false';\n    };\n    var removeFigure = function (image) {\n      var figureElm = image.parentNode;\n      DOM.insertAfter(image, figureElm);\n      DOM.remove(figureElm);\n    };\n    var toggleCaption = function (image) {\n      if (hasCaption(image)) {\n        removeFigure(image);\n      } else {\n        wrapInFigure(image);\n      }\n    };\n    var normalizeStyle = function (image, normalizeCss) {\n      var attrValue = image.getAttribute('style');\n      var value = normalizeCss(attrValue !== null ? attrValue : '');\n      if (value.length > 0) {\n        image.setAttribute('style', value);\n        image.setAttribute('data-mce-style', value);\n      } else {\n        image.removeAttribute('style');\n      }\n    };\n    var setSize = function (name, normalizeCss) {\n      return function (image, name, value) {\n        if (image.style[name]) {\n          image.style[name] = Utils.addPixelSuffix(value);\n          normalizeStyle(image, normalizeCss);\n        } else {\n          setAttrib(image, name, value);\n        }\n      };\n    };\n    var getSize = function (image, name) {\n      if (image.style[name]) {\n        return Utils.removePixelSuffix(image.style[name]);\n      } else {\n        return getAttrib(image, name);\n      }\n    };\n    var setHspace = function (image, value) {\n      var pxValue = Utils.addPixelSuffix(value);\n      image.style.marginLeft = pxValue;\n      image.style.marginRight = pxValue;\n    };\n    var setVspace = function (image, value) {\n      var pxValue = Utils.addPixelSuffix(value);\n      image.style.marginTop = pxValue;\n      image.style.marginBottom = pxValue;\n    };\n    var setBorder = function (image, value) {\n      var pxValue = Utils.addPixelSuffix(value);\n      image.style.borderWidth = pxValue;\n    };\n    var setBorderStyle = function (image, value) {\n      image.style.borderStyle = value;\n    };\n    var getBorderStyle = function (image) {\n      return getStyle(image, 'borderStyle');\n    };\n    var isFigure = function (elm) {\n      return elm.nodeName === 'FIGURE';\n    };\n    var defaultData = function () {\n      return {\n        src: '',\n        alt: '',\n        title: '',\n        width: '',\n        height: '',\n        class: '',\n        style: '',\n        caption: false,\n        hspace: '',\n        vspace: '',\n        border: '',\n        borderStyle: ''\n      };\n    };\n    var getStyleValue = function (normalizeCss, data) {\n      var image = domGlobals.document.createElement('img');\n      setAttrib(image, 'style', data.style);\n      if (getHspace(image) || data.hspace !== '') {\n        setHspace(image, data.hspace);\n      }\n      if (getVspace(image) || data.vspace !== '') {\n        setVspace(image, data.vspace);\n      }\n      if (getBorder(image) || data.border !== '') {\n        setBorder(image, data.border);\n      }\n      if (getBorderStyle(image) || data.borderStyle !== '') {\n        setBorderStyle(image, data.borderStyle);\n      }\n      return normalizeCss(image.getAttribute('style'));\n    };\n    var create = function (normalizeCss, data) {\n      var image = domGlobals.document.createElement('img');\n      write(normalizeCss, merge(data, { caption: false }), image);\n      setAttrib(image, 'alt', data.alt);\n      if (data.caption) {\n        var figure = DOM.create('figure', { class: 'image' });\n        figure.appendChild(image);\n        figure.appendChild(DOM.create('figcaption', { contentEditable: true }, 'Caption'));\n        figure.contentEditable = 'false';\n        return figure;\n      } else {\n        return image;\n      }\n    };\n    var read = function (normalizeCss, image) {\n      return {\n        src: getAttrib(image, 'src'),\n        alt: getAttrib(image, 'alt'),\n        title: getAttrib(image, 'title'),\n        width: getSize(image, 'width'),\n        height: getSize(image, 'height'),\n        class: getAttrib(image, 'class'),\n        style: normalizeCss(getAttrib(image, 'style')),\n        caption: hasCaption(image),\n        hspace: getHspace(image),\n        vspace: getVspace(image),\n        border: getBorder(image),\n        borderStyle: getStyle(image, 'borderStyle')\n      };\n    };\n    var updateProp = function (image, oldData, newData, name, set) {\n      if (newData[name] !== oldData[name]) {\n        set(image, name, newData[name]);\n      }\n    };\n    var normalized = function (set, normalizeCss) {\n      return function (image, name, value) {\n        set(image, value);\n        normalizeStyle(image, normalizeCss);\n      };\n    };\n    var write = function (normalizeCss, newData, image) {\n      var oldData = read(normalizeCss, image);\n      updateProp(image, oldData, newData, 'caption', function (image, _name, _value) {\n        return toggleCaption(image);\n      });\n      updateProp(image, oldData, newData, 'src', setAttrib);\n      updateProp(image, oldData, newData, 'alt', setAttrib);\n      updateProp(image, oldData, newData, 'title', setAttrib);\n      updateProp(image, oldData, newData, 'width', setSize('width', normalizeCss));\n      updateProp(image, oldData, newData, 'height', setSize('height', normalizeCss));\n      updateProp(image, oldData, newData, 'class', setAttrib);\n      updateProp(image, oldData, newData, 'style', normalized(function (image, value) {\n        return setAttrib(image, 'style', value);\n      }, normalizeCss));\n      updateProp(image, oldData, newData, 'hspace', normalized(setHspace, normalizeCss));\n      updateProp(image, oldData, newData, 'vspace', normalized(setVspace, normalizeCss));\n      updateProp(image, oldData, newData, 'border', normalized(setBorder, normalizeCss));\n      updateProp(image, oldData, newData, 'borderStyle', normalized(setBorderStyle, normalizeCss));\n    };\n\n    var normalizeCss = function (editor, cssText) {\n      var css = editor.dom.styles.parse(cssText);\n      var mergedCss = Utils.mergeMargins(css);\n      var compressed = editor.dom.styles.parse(editor.dom.styles.serialize(mergedCss));\n      return editor.dom.styles.serialize(compressed);\n    };\n    var getSelectedImage = function (editor) {\n      var imgElm = editor.selection.getNode();\n      var figureElm = editor.dom.getParent(imgElm, 'figure.image');\n      if (figureElm) {\n        return editor.dom.select('img', figureElm)[0];\n      }\n      if (imgElm && (imgElm.nodeName !== 'IMG' || imgElm.getAttribute('data-mce-object') || imgElm.getAttribute('data-mce-placeholder'))) {\n        return null;\n      }\n      return imgElm;\n    };\n    var splitTextBlock = function (editor, figure) {\n      var dom = editor.dom;\n      var textBlock = dom.getParent(figure.parentNode, function (node) {\n        return editor.schema.getTextBlockElements()[node.nodeName];\n      }, editor.getBody());\n      if (textBlock) {\n        return dom.split(textBlock, figure);\n      } else {\n        return figure;\n      }\n    };\n    var readImageDataFromSelection = function (editor) {\n      var image = getSelectedImage(editor);\n      return image ? read(function (css) {\n        return normalizeCss(editor, css);\n      }, image) : defaultData();\n    };\n    var insertImageAtCaret = function (editor, data) {\n      var elm = create(function (css) {\n        return normalizeCss(editor, css);\n      }, data);\n      editor.dom.setAttrib(elm, 'data-mce-id', '__mcenew');\n      editor.focus();\n      editor.selection.setContent(elm.outerHTML);\n      var insertedElm = editor.dom.select('*[data-mce-id=\"__mcenew\"]')[0];\n      editor.dom.setAttrib(insertedElm, 'data-mce-id', null);\n      if (isFigure(insertedElm)) {\n        var figure = splitTextBlock(editor, insertedElm);\n        editor.selection.select(figure);\n      } else {\n        editor.selection.select(insertedElm);\n      }\n    };\n    var syncSrcAttr = function (editor, image) {\n      editor.dom.setAttrib(image, 'src', image.getAttribute('src'));\n    };\n    var deleteImage = function (editor, image) {\n      if (image) {\n        var elm = editor.dom.is(image.parentNode, 'figure.image') ? image.parentNode : image;\n        editor.dom.remove(elm);\n        editor.focus();\n        editor.nodeChanged();\n        if (editor.dom.isEmpty(editor.getBody())) {\n          editor.setContent('');\n          editor.selection.setCursorLocation();\n        }\n      }\n    };\n    var writeImageDataToSelection = function (editor, data) {\n      var image = getSelectedImage(editor);\n      write(function (css) {\n        return normalizeCss(editor, css);\n      }, data, image);\n      syncSrcAttr(editor, image);\n      if (isFigure(image.parentNode)) {\n        var figure = image.parentNode;\n        splitTextBlock(editor, figure);\n        editor.selection.select(image.parentNode);\n      } else {\n        editor.selection.select(image);\n        Utils.waitLoadImage(editor, data, image);\n      }\n    };\n    var insertOrUpdateImage = function (editor, data) {\n      var image = getSelectedImage(editor);\n      if (image) {\n        if (data.src) {\n          writeImageDataToSelection(editor, data);\n        } else {\n          deleteImage(editor, image);\n        }\n      } else if (data.src) {\n        insertImageAtCaret(editor, data);\n      }\n    };\n\n    var updateVSpaceHSpaceBorder = function (editor) {\n      return function (evt) {\n        var dom = editor.dom;\n        var rootControl = evt.control.rootControl;\n        if (!Settings.hasAdvTab(editor)) {\n          return;\n        }\n        var data = rootControl.toJSON();\n        var css = dom.parseStyle(data.style);\n        rootControl.find('#vspace').value('');\n        rootControl.find('#hspace').value('');\n        css = Utils.mergeMargins(css);\n        if (css['margin-top'] && css['margin-bottom'] || css['margin-right'] && css['margin-left']) {\n          if (css['margin-top'] === css['margin-bottom']) {\n            rootControl.find('#vspace').value(Utils.removePixelSuffix(css['margin-top']));\n          } else {\n            rootControl.find('#vspace').value('');\n          }\n          if (css['margin-right'] === css['margin-left']) {\n            rootControl.find('#hspace').value(Utils.removePixelSuffix(css['margin-right']));\n          } else {\n            rootControl.find('#hspace').value('');\n          }\n        }\n        if (css['border-width']) {\n          rootControl.find('#border').value(Utils.removePixelSuffix(css['border-width']));\n        } else {\n          rootControl.find('#border').value('');\n        }\n        if (css['border-style']) {\n          rootControl.find('#borderStyle').value(css['border-style']);\n        } else {\n          rootControl.find('#borderStyle').value('');\n        }\n        rootControl.find('#style').value(dom.serializeStyle(dom.parseStyle(dom.serializeStyle(css))));\n      };\n    };\n    var updateStyle = function (editor, win) {\n      win.find('#style').each(function (ctrl) {\n        var value = getStyleValue(function (css) {\n          return normalizeCss(editor, css);\n        }, merge(defaultData(), win.toJSON()));\n        ctrl.value(value);\n      });\n    };\n    var makeTab = function (editor) {\n      return {\n        title: 'Advanced',\n        type: 'form',\n        pack: 'start',\n        items: [\n          {\n            label: 'Style',\n            name: 'style',\n            type: 'textbox',\n            onchange: updateVSpaceHSpaceBorder(editor)\n          },\n          {\n            type: 'form',\n            layout: 'grid',\n            packV: 'start',\n            columns: 2,\n            padding: 0,\n            defaults: {\n              type: 'textbox',\n              maxWidth: 50,\n              onchange: function (evt) {\n                updateStyle(editor, evt.control.rootControl);\n              }\n            },\n            items: [\n              {\n                label: 'Vertical space',\n                name: 'vspace'\n              },\n              {\n                label: 'Border width',\n                name: 'border'\n              },\n              {\n                label: 'Horizontal space',\n                name: 'hspace'\n              },\n              {\n                label: 'Border style',\n                type: 'listbox',\n                name: 'borderStyle',\n                width: 90,\n                maxWidth: 90,\n                onselect: function (evt) {\n                  updateStyle(editor, evt.control.rootControl);\n                },\n                values: [\n                  {\n                    text: 'Select...',\n                    value: ''\n                  },\n                  {\n                    text: 'Solid',\n                    value: 'solid'\n                  },\n                  {\n                    text: 'Dotted',\n                    value: 'dotted'\n                  },\n                  {\n                    text: 'Dashed',\n                    value: 'dashed'\n                  },\n                  {\n                    text: 'Double',\n                    value: 'double'\n                  },\n                  {\n                    text: 'Groove',\n                    value: 'groove'\n                  },\n                  {\n                    text: 'Ridge',\n                    value: 'ridge'\n                  },\n                  {\n                    text: 'Inset',\n                    value: 'inset'\n                  },\n                  {\n                    text: 'Outset',\n                    value: 'outset'\n                  },\n                  {\n                    text: 'None',\n                    value: 'none'\n                  },\n                  {\n                    text: 'Hidden',\n                    value: 'hidden'\n                  }\n                ]\n              }\n            ]\n          }\n        ]\n      };\n    };\n    var AdvTab = { makeTab: makeTab };\n\n    var doSyncSize = function (widthCtrl, heightCtrl) {\n      widthCtrl.state.set('oldVal', widthCtrl.value());\n      heightCtrl.state.set('oldVal', heightCtrl.value());\n    };\n    var doSizeControls = function (win, f) {\n      var widthCtrl = win.find('#width')[0];\n      var heightCtrl = win.find('#height')[0];\n      var constrained = win.find('#constrain')[0];\n      if (widthCtrl && heightCtrl && constrained) {\n        f(widthCtrl, heightCtrl, constrained.checked());\n      }\n    };\n    var doUpdateSize = function (widthCtrl, heightCtrl, isContrained) {\n      var oldWidth = widthCtrl.state.get('oldVal');\n      var oldHeight = heightCtrl.state.get('oldVal');\n      var newWidth = widthCtrl.value();\n      var newHeight = heightCtrl.value();\n      if (isContrained && oldWidth && oldHeight && newWidth && newHeight) {\n        if (newWidth !== oldWidth) {\n          newHeight = Math.round(newWidth / oldWidth * newHeight);\n          if (!isNaN(newHeight)) {\n            heightCtrl.value(newHeight);\n          }\n        } else {\n          newWidth = Math.round(newHeight / oldHeight * newWidth);\n          if (!isNaN(newWidth)) {\n            widthCtrl.value(newWidth);\n          }\n        }\n      }\n      doSyncSize(widthCtrl, heightCtrl);\n    };\n    var syncSize = function (win) {\n      doSizeControls(win, doSyncSize);\n    };\n    var updateSize = function (win) {\n      doSizeControls(win, doUpdateSize);\n    };\n    var createUi = function () {\n      var recalcSize = function (evt) {\n        updateSize(evt.control.rootControl);\n      };\n      return {\n        type: 'container',\n        label: 'Dimensions',\n        layout: 'flex',\n        align: 'center',\n        spacing: 5,\n        items: [\n          {\n            name: 'width',\n            type: 'textbox',\n            maxLength: 5,\n            size: 5,\n            onchange: recalcSize,\n            ariaLabel: 'Width'\n          },\n          {\n            type: 'label',\n            text: 'x'\n          },\n          {\n            name: 'height',\n            type: 'textbox',\n            maxLength: 5,\n            size: 5,\n            onchange: recalcSize,\n            ariaLabel: 'Height'\n          },\n          {\n            name: 'constrain',\n            type: 'checkbox',\n            checked: true,\n            text: 'Constrain proportions'\n          }\n        ]\n      };\n    };\n    var SizeManager = {\n      createUi: createUi,\n      syncSize: syncSize,\n      updateSize: updateSize\n    };\n\n    var onSrcChange = function (evt, editor) {\n      var srcURL, prependURL, absoluteURLPattern;\n      var meta = evt.meta || {};\n      var control = evt.control;\n      var rootControl = control.rootControl;\n      var imageListCtrl = rootControl.find('#image-list')[0];\n      if (imageListCtrl) {\n        imageListCtrl.value(editor.convertURL(control.value(), 'src'));\n      }\n      global$2.each(meta, function (value, key) {\n        rootControl.find('#' + key).value(value);\n      });\n      if (!meta.width && !meta.height) {\n        srcURL = editor.convertURL(control.value(), 'src');\n        prependURL = Settings.getPrependUrl(editor);\n        absoluteURLPattern = new RegExp('^(?:[a-z]+:)?//', 'i');\n        if (prependURL && !absoluteURLPattern.test(srcURL) && srcURL.substring(0, prependURL.length) !== prependURL) {\n          srcURL = prependURL + srcURL;\n        }\n        control.value(srcURL);\n        Utils.getImageSize(editor.documentBaseURI.toAbsolute(control.value()), function (data) {\n          if (data.width && data.height && Settings.hasDimensions(editor)) {\n            rootControl.find('#width').value(data.width);\n            rootControl.find('#height').value(data.height);\n            SizeManager.syncSize(rootControl);\n          }\n        });\n      }\n    };\n    var onBeforeCall = function (evt) {\n      evt.meta = evt.control.rootControl.toJSON();\n    };\n    var getGeneralItems = function (editor, imageListCtrl) {\n      var generalFormItems = [\n        {\n          name: 'src',\n          type: 'filepicker',\n          filetype: 'image',\n          label: 'Source',\n          autofocus: true,\n          onchange: function (evt) {\n            onSrcChange(evt, editor);\n          },\n          onbeforecall: onBeforeCall\n        },\n        imageListCtrl\n      ];\n      if (Settings.hasDescription(editor)) {\n        generalFormItems.push({\n          name: 'alt',\n          type: 'textbox',\n          label: 'Image description'\n        });\n      }\n      if (Settings.hasImageTitle(editor)) {\n        generalFormItems.push({\n          name: 'title',\n          type: 'textbox',\n          label: 'Image Title'\n        });\n      }\n      if (Settings.hasDimensions(editor)) {\n        generalFormItems.push(SizeManager.createUi());\n      }\n      if (Settings.getClassList(editor)) {\n        generalFormItems.push({\n          name: 'class',\n          type: 'listbox',\n          label: 'Class',\n          values: Utils.buildListItems(Settings.getClassList(editor), function (item) {\n            if (item.value) {\n              item.textStyle = function () {\n                return editor.formatter.getCssText({\n                  inline: 'img',\n                  classes: [item.value]\n                });\n              };\n            }\n          })\n        });\n      }\n      if (Settings.hasImageCaption(editor)) {\n        generalFormItems.push({\n          name: 'caption',\n          type: 'checkbox',\n          label: 'Caption'\n        });\n      }\n      return generalFormItems;\n    };\n    var makeTab$1 = function (editor, imageListCtrl) {\n      return {\n        title: 'General',\n        type: 'form',\n        items: getGeneralItems(editor, imageListCtrl)\n      };\n    };\n    var MainTab = {\n      makeTab: makeTab$1,\n      getGeneralItems: getGeneralItems\n    };\n\n    var url = function () {\n      return Global$1.getOrDie('URL');\n    };\n    var createObjectURL = function (blob) {\n      return url().createObjectURL(blob);\n    };\n    var revokeObjectURL = function (u) {\n      url().revokeObjectURL(u);\n    };\n    var URL = {\n      createObjectURL: createObjectURL,\n      revokeObjectURL: revokeObjectURL\n    };\n\n    var global$5 = tinymce.util.Tools.resolve('tinymce.ui.Factory');\n\n    function XMLHttpRequest () {\n      var f = Global$1.getOrDie('XMLHttpRequest');\n      return new f();\n    }\n\n    var noop = function () {\n    };\n    var pathJoin = function (path1, path2) {\n      if (path1) {\n        return path1.replace(/\\/$/, '') + '/' + path2.replace(/^\\//, '');\n      }\n      return path2;\n    };\n    function Uploader (settings) {\n      var defaultHandler = function (blobInfo, success, failure, progress) {\n        var xhr, formData;\n        xhr = XMLHttpRequest();\n        xhr.open('POST', settings.url);\n        xhr.withCredentials = settings.credentials;\n        xhr.upload.onprogress = function (e) {\n          progress(e.loaded / e.total * 100);\n        };\n        xhr.onerror = function () {\n          failure('Image upload failed due to a XHR Transport error. Code: ' + xhr.status);\n        };\n        xhr.onload = function () {\n          var json;\n          if (xhr.status < 200 || xhr.status >= 300) {\n            failure('HTTP Error: ' + xhr.status);\n            return;\n          }\n          json = JSON.parse(xhr.responseText);\n          if (!json || typeof json.location !== 'string') {\n            failure('Invalid JSON: ' + xhr.responseText);\n            return;\n          }\n          success(pathJoin(settings.basePath, json.location));\n        };\n        formData = new domGlobals.FormData();\n        formData.append('file', blobInfo.blob(), blobInfo.filename());\n        xhr.send(formData);\n      };\n      var uploadBlob = function (blobInfo, handler) {\n        return new global$1(function (resolve, reject) {\n          try {\n            handler(blobInfo, resolve, reject, noop);\n          } catch (ex) {\n            reject(ex.message);\n          }\n        });\n      };\n      var isDefaultHandler = function (handler) {\n        return handler === defaultHandler;\n      };\n      var upload = function (blobInfo) {\n        return !settings.url && isDefaultHandler(settings.handler) ? global$1.reject('Upload url missing from the settings.') : uploadBlob(blobInfo, settings.handler);\n      };\n      settings = global$2.extend({\n        credentials: false,\n        handler: defaultHandler\n      }, settings);\n      return { upload: upload };\n    }\n\n    var onFileInput = function (editor) {\n      return function (evt) {\n        var Throbber = global$5.get('Throbber');\n        var rootControl = evt.control.rootControl;\n        var throbber = new Throbber(rootControl.getEl());\n        var file = evt.control.value();\n        var blobUri = URL.createObjectURL(file);\n        var uploader = Uploader({\n          url: Settings.getUploadUrl(editor),\n          basePath: Settings.getUploadBasePath(editor),\n          credentials: Settings.getUploadCredentials(editor),\n          handler: Settings.getUploadHandler(editor)\n        });\n        var finalize = function () {\n          throbber.hide();\n          URL.revokeObjectURL(blobUri);\n        };\n        throbber.show();\n        return Utils.blobToDataUri(file).then(function (dataUrl) {\n          var blobInfo = editor.editorUpload.blobCache.create({\n            blob: file,\n            blobUri: blobUri,\n            name: file.name ? file.name.replace(/\\.[^\\.]+$/, '') : null,\n            base64: dataUrl.split(',')[1]\n          });\n          return uploader.upload(blobInfo).then(function (url) {\n            var src = rootControl.find('#src');\n            src.value(url);\n            rootControl.find('tabpanel')[0].activateTab(0);\n            src.fire('change');\n            finalize();\n            return url;\n          });\n        }).catch(function (err) {\n          editor.windowManager.alert(err);\n          finalize();\n        });\n      };\n    };\n    var acceptExts = '.jpg,.jpeg,.png,.gif';\n    var makeTab$2 = function (editor) {\n      return {\n        title: 'Upload',\n        type: 'form',\n        layout: 'flex',\n        direction: 'column',\n        align: 'stretch',\n        padding: '20 20 20 20',\n        items: [\n          {\n            type: 'container',\n            layout: 'flex',\n            direction: 'column',\n            align: 'center',\n            spacing: 10,\n            items: [\n              {\n                text: 'Browse for an image',\n                type: 'browsebutton',\n                accept: acceptExts,\n                onchange: onFileInput(editor)\n              },\n              {\n                text: 'OR',\n                type: 'label'\n              }\n            ]\n          },\n          {\n            text: 'Drop an image here',\n            type: 'dropzone',\n            accept: acceptExts,\n            height: 100,\n            onchange: onFileInput(editor)\n          }\n        ]\n      };\n    };\n    var UploadTab = { makeTab: makeTab$2 };\n\n    function curry(fn) {\n      var initialArgs = [];\n      for (var _i = 1; _i < arguments.length; _i++) {\n        initialArgs[_i - 1] = arguments[_i];\n      }\n      return function () {\n        var restArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          restArgs[_i] = arguments[_i];\n        }\n        var all = initialArgs.concat(restArgs);\n        return fn.apply(null, all);\n      };\n    }\n\n    var submitForm = function (editor, evt) {\n      var win = evt.control.getRoot();\n      SizeManager.updateSize(win);\n      editor.undoManager.transact(function () {\n        var data = merge(readImageDataFromSelection(editor), win.toJSON());\n        insertOrUpdateImage(editor, data);\n      });\n      editor.editorUpload.uploadImagesAuto();\n    };\n    function Dialog (editor) {\n      function showDialog(imageList) {\n        var data = readImageDataFromSelection(editor);\n        var win, imageListCtrl;\n        if (imageList) {\n          imageListCtrl = {\n            type: 'listbox',\n            label: 'Image list',\n            name: 'image-list',\n            values: Utils.buildListItems(imageList, function (item) {\n              item.value = editor.convertURL(item.value || item.url, 'src');\n            }, [{\n                text: 'None',\n                value: ''\n              }]),\n            value: data.src && editor.convertURL(data.src, 'src'),\n            onselect: function (e) {\n              var altCtrl = win.find('#alt');\n              if (!altCtrl.value() || e.lastControl && altCtrl.value() === e.lastControl.text()) {\n                altCtrl.value(e.control.text());\n              }\n              win.find('#src').value(e.control.value()).fire('change');\n            },\n            onPostRender: function () {\n              imageListCtrl = this;\n            }\n          };\n        }\n        if (Settings.hasAdvTab(editor) || Settings.hasUploadUrl(editor) || Settings.hasUploadHandler(editor)) {\n          var body = [MainTab.makeTab(editor, imageListCtrl)];\n          if (Settings.hasAdvTab(editor)) {\n            body.push(AdvTab.makeTab(editor));\n          }\n          if (Settings.hasUploadUrl(editor) || Settings.hasUploadHandler(editor)) {\n            body.push(UploadTab.makeTab(editor));\n          }\n          win = editor.windowManager.open({\n            title: 'Insert/edit image',\n            data: data,\n            bodyType: 'tabpanel',\n            body: body,\n            onSubmit: curry(submitForm, editor)\n          });\n        } else {\n          win = editor.windowManager.open({\n            title: 'Insert/edit image',\n            data: data,\n            body: MainTab.getGeneralItems(editor, imageListCtrl),\n            onSubmit: curry(submitForm, editor)\n          });\n        }\n        SizeManager.syncSize(win);\n      }\n      function open() {\n        Utils.createImageList(editor, showDialog);\n      }\n      return { open: open };\n    }\n\n    var register = function (editor) {\n      editor.addCommand('mceImage', Dialog(editor).open);\n    };\n    var Commands = { register: register };\n\n    var hasImageClass = function (node) {\n      var className = node.attr('class');\n      return className && /\\bimage\\b/.test(className);\n    };\n    var toggleContentEditableState = function (state) {\n      return function (nodes) {\n        var i = nodes.length, node;\n        var toggleContentEditable = function (node) {\n          node.attr('contenteditable', state ? 'true' : null);\n        };\n        while (i--) {\n          node = nodes[i];\n          if (hasImageClass(node)) {\n            node.attr('contenteditable', state ? 'false' : null);\n            global$2.each(node.getAll('figcaption'), toggleContentEditable);\n          }\n        }\n      };\n    };\n    var setup = function (editor) {\n      editor.on('preInit', function () {\n        editor.parser.addNodeFilter('figure', toggleContentEditableState(true));\n        editor.serializer.addNodeFilter('figure', toggleContentEditableState(false));\n      });\n    };\n    var FilterContent = { setup: setup };\n\n    var register$1 = function (editor) {\n      editor.addButton('image', {\n        icon: 'image',\n        tooltip: 'Insert/edit image',\n        onclick: Dialog(editor).open,\n        stateSelector: 'img:not([data-mce-object],[data-mce-placeholder]),figure.image'\n      });\n      editor.addMenuItem('image', {\n        icon: 'image',\n        text: 'Image',\n        onclick: Dialog(editor).open,\n        context: 'insert',\n        prependToContext: true\n      });\n    };\n    var Buttons = { register: register$1 };\n\n    global.add('image', function (editor) {\n      FilterContent.setup(editor);\n      Buttons.register(editor);\n      Commands.register(editor);\n    });\n    function Plugin () {\n    }\n\n    return Plugin;\n\n}(window));\n})();\n","// Exports the \"imagetools\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/imagetools')\n//   ES2015:\n//     import 'tinymce/plugins/imagetools'\nrequire('./plugin.js');","(function () {\nvar imagetools = (function (domGlobals) {\n    'use strict';\n\n    var Cell = function (initial) {\n      var value = initial;\n      var get = function () {\n        return value;\n      };\n      var set = function (v) {\n        value = v;\n      };\n      var clone = function () {\n        return Cell(get());\n      };\n      return {\n        get: get,\n        set: set,\n        clone: clone\n      };\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var noop = function () {\n    };\n    var constant = function (value) {\n      return function () {\n        return value;\n      };\n    };\n    function curry(fn) {\n      var initialArgs = [];\n      for (var _i = 1; _i < arguments.length; _i++) {\n        initialArgs[_i - 1] = arguments[_i];\n      }\n      return function () {\n        var restArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          restArgs[_i] = arguments[_i];\n        }\n        var all = initialArgs.concat(restArgs);\n        return fn.apply(null, all);\n      };\n    }\n    var never = constant(false);\n    var always = constant(true);\n\n    var none = function () {\n      return NONE;\n    };\n    var NONE = function () {\n      var eq = function (o) {\n        return o.isNone();\n      };\n      var call = function (thunk) {\n        return thunk();\n      };\n      var id = function (n) {\n        return n;\n      };\n      var me = {\n        fold: function (n, s) {\n          return n();\n        },\n        is: never,\n        isSome: never,\n        isNone: always,\n        getOr: id,\n        getOrThunk: call,\n        getOrDie: function (msg) {\n          throw new Error(msg || 'error: getOrDie called on none.');\n        },\n        getOrNull: constant(null),\n        getOrUndefined: constant(undefined),\n        or: id,\n        orThunk: call,\n        map: none,\n        each: noop,\n        bind: none,\n        exists: never,\n        forall: always,\n        filter: none,\n        equals: eq,\n        equals_: eq,\n        toArray: function () {\n          return [];\n        },\n        toString: constant('none()')\n      };\n      if (Object.freeze) {\n        Object.freeze(me);\n      }\n      return me;\n    }();\n    var some = function (a) {\n      var constant_a = constant(a);\n      var self = function () {\n        return me;\n      };\n      var bind = function (f) {\n        return f(a);\n      };\n      var me = {\n        fold: function (n, s) {\n          return s(a);\n        },\n        is: function (v) {\n          return a === v;\n        },\n        isSome: always,\n        isNone: never,\n        getOr: constant_a,\n        getOrThunk: constant_a,\n        getOrDie: constant_a,\n        getOrNull: constant_a,\n        getOrUndefined: constant_a,\n        or: self,\n        orThunk: self,\n        map: function (f) {\n          return some(f(a));\n        },\n        each: function (f) {\n          f(a);\n        },\n        bind: bind,\n        exists: bind,\n        forall: bind,\n        filter: function (f) {\n          return f(a) ? me : NONE;\n        },\n        toArray: function () {\n          return [a];\n        },\n        toString: function () {\n          return 'some(' + a + ')';\n        },\n        equals: function (o) {\n          return o.is(a);\n        },\n        equals_: function (o, elementEq) {\n          return o.fold(never, function (b) {\n            return elementEq(a, b);\n          });\n        }\n      };\n      return me;\n    };\n    var from = function (value) {\n      return value === null || value === undefined ? NONE : some(value);\n    };\n    var Option = {\n      some: some,\n      none: none,\n      from: from\n    };\n\n    function create(width, height) {\n      return resize(domGlobals.document.createElement('canvas'), width, height);\n    }\n    function clone(canvas) {\n      var tCanvas = create(canvas.width, canvas.height);\n      var ctx = get2dContext(tCanvas);\n      ctx.drawImage(canvas, 0, 0);\n      return tCanvas;\n    }\n    function get2dContext(canvas) {\n      return canvas.getContext('2d');\n    }\n    function resize(canvas, width, height) {\n      canvas.width = width;\n      canvas.height = height;\n      return canvas;\n    }\n\n    function getWidth(image) {\n      return image.naturalWidth || image.width;\n    }\n    function getHeight(image) {\n      return image.naturalHeight || image.height;\n    }\n\n    var promise = function () {\n      var Promise = function (fn) {\n        if (typeof this !== 'object') {\n          throw new TypeError('Promises must be constructed via new');\n        }\n        if (typeof fn !== 'function') {\n          throw new TypeError('not a function');\n        }\n        this._state = null;\n        this._value = null;\n        this._deferreds = [];\n        doResolve(fn, bind(resolve, this), bind(reject, this));\n      };\n      var asap = Promise.immediateFn || typeof window.setImmediate === 'function' && window.setImmediate || function (fn) {\n        domGlobals.setTimeout(fn, 1);\n      };\n      function bind(fn, thisArg) {\n        return function () {\n          return fn.apply(thisArg, arguments);\n        };\n      }\n      var isArray = Array.isArray || function (value) {\n        return Object.prototype.toString.call(value) === '[object Array]';\n      };\n      function handle(deferred) {\n        var me = this;\n        if (this._state === null) {\n          this._deferreds.push(deferred);\n          return;\n        }\n        asap(function () {\n          var cb = me._state ? deferred.onFulfilled : deferred.onRejected;\n          if (cb === null) {\n            (me._state ? deferred.resolve : deferred.reject)(me._value);\n            return;\n          }\n          var ret;\n          try {\n            ret = cb(me._value);\n          } catch (e) {\n            deferred.reject(e);\n            return;\n          }\n          deferred.resolve(ret);\n        });\n      }\n      function resolve(newValue) {\n        try {\n          if (newValue === this) {\n            throw new TypeError('A promise cannot be resolved with itself.');\n          }\n          if (newValue && (typeof newValue === 'object' || typeof newValue === 'function')) {\n            var then = newValue.then;\n            if (typeof then === 'function') {\n              doResolve(bind(then, newValue), bind(resolve, this), bind(reject, this));\n              return;\n            }\n          }\n          this._state = true;\n          this._value = newValue;\n          finale.call(this);\n        } catch (e) {\n          reject.call(this, e);\n        }\n      }\n      function reject(newValue) {\n        this._state = false;\n        this._value = newValue;\n        finale.call(this);\n      }\n      function finale() {\n        for (var _i = 0, _a = this._deferreds; _i < _a.length; _i++) {\n          var deferred = _a[_i];\n          handle.call(this, deferred);\n        }\n        this._deferreds = [];\n      }\n      function Handler(onFulfilled, onRejected, resolve, reject) {\n        this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n        this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n        this.resolve = resolve;\n        this.reject = reject;\n      }\n      function doResolve(fn, onFulfilled, onRejected) {\n        var done = false;\n        try {\n          fn(function (value) {\n            if (done) {\n              return;\n            }\n            done = true;\n            onFulfilled(value);\n          }, function (reason) {\n            if (done) {\n              return;\n            }\n            done = true;\n            onRejected(reason);\n          });\n        } catch (ex) {\n          if (done) {\n            return;\n          }\n          done = true;\n          onRejected(ex);\n        }\n      }\n      Promise.prototype.catch = function (onRejected) {\n        return this.then(null, onRejected);\n      };\n      Promise.prototype.then = function (onFulfilled, onRejected) {\n        var me = this;\n        return new Promise(function (resolve, reject) {\n          handle.call(me, new Handler(onFulfilled, onRejected, resolve, reject));\n        });\n      };\n      Promise.all = function () {\n        var values = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          values[_i] = arguments[_i];\n        }\n        var args = Array.prototype.slice.call(values.length === 1 && isArray(values[0]) ? values[0] : values);\n        return new Promise(function (resolve, reject) {\n          if (args.length === 0) {\n            return resolve([]);\n          }\n          var remaining = args.length;\n          function res(i, val) {\n            try {\n              if (val && (typeof val === 'object' || typeof val === 'function')) {\n                var then = val.then;\n                if (typeof then === 'function') {\n                  then.call(val, function (val) {\n                    res(i, val);\n                  }, reject);\n                  return;\n                }\n              }\n              args[i] = val;\n              if (--remaining === 0) {\n                resolve(args);\n              }\n            } catch (ex) {\n              reject(ex);\n            }\n          }\n          for (var i = 0; i < args.length; i++) {\n            res(i, args[i]);\n          }\n        });\n      };\n      Promise.resolve = function (value) {\n        if (value && typeof value === 'object' && value.constructor === Promise) {\n          return value;\n        }\n        return new Promise(function (resolve) {\n          resolve(value);\n        });\n      };\n      Promise.reject = function (reason) {\n        return new Promise(function (resolve, reject) {\n          reject(reason);\n        });\n      };\n      Promise.race = function (values) {\n        return new Promise(function (resolve, reject) {\n          for (var _i = 0, values_1 = values; _i < values_1.length; _i++) {\n            var value = values_1[_i];\n            value.then(resolve, reject);\n          }\n        });\n      };\n      return Promise;\n    };\n    var Promise = window.Promise ? window.Promise : promise();\n\n    function imageToBlob(image) {\n      var src = image.src;\n      if (src.indexOf('data:') === 0) {\n        return dataUriToBlob(src);\n      }\n      return anyUriToBlob(src);\n    }\n    function blobToImage(blob) {\n      return new Promise(function (resolve, reject) {\n        var blobUrl = domGlobals.URL.createObjectURL(blob);\n        var image = new domGlobals.Image();\n        var removeListeners = function () {\n          image.removeEventListener('load', loaded);\n          image.removeEventListener('error', error);\n        };\n        function loaded() {\n          removeListeners();\n          resolve(image);\n        }\n        function error() {\n          removeListeners();\n          reject('Unable to load data of type ' + blob.type + ': ' + blobUrl);\n        }\n        image.addEventListener('load', loaded);\n        image.addEventListener('error', error);\n        image.src = blobUrl;\n        if (image.complete) {\n          loaded();\n        }\n      });\n    }\n    function anyUriToBlob(url) {\n      return new Promise(function (resolve, reject) {\n        var xhr = new domGlobals.XMLHttpRequest();\n        xhr.open('GET', url, true);\n        xhr.responseType = 'blob';\n        xhr.onload = function () {\n          if (this.status === 200) {\n            resolve(this.response);\n          }\n        };\n        xhr.onerror = function () {\n          var _this = this;\n          var corsError = function () {\n            var obj = new Error('No access to download image');\n            obj.code = 18;\n            obj.name = 'SecurityError';\n            return obj;\n          };\n          var genericError = function () {\n            return new Error('Error ' + _this.status + ' downloading image');\n          };\n          reject(this.status === 0 ? corsError() : genericError());\n        };\n        xhr.send();\n      });\n    }\n    function dataUriToBlobSync(uri) {\n      var data = uri.split(',');\n      var matches = /data:([^;]+)/.exec(data[0]);\n      if (!matches) {\n        return Option.none();\n      }\n      var mimetype = matches[1];\n      var base64 = data[1];\n      var sliceSize = 1024;\n      var byteCharacters = domGlobals.atob(base64);\n      var bytesLength = byteCharacters.length;\n      var slicesCount = Math.ceil(bytesLength / sliceSize);\n      var byteArrays = new Array(slicesCount);\n      for (var sliceIndex = 0; sliceIndex < slicesCount; ++sliceIndex) {\n        var begin = sliceIndex * sliceSize;\n        var end = Math.min(begin + sliceSize, bytesLength);\n        var bytes = new Array(end - begin);\n        for (var offset = begin, i = 0; offset < end; ++i, ++offset) {\n          bytes[i] = byteCharacters[offset].charCodeAt(0);\n        }\n        byteArrays[sliceIndex] = new Uint8Array(bytes);\n      }\n      return Option.some(new domGlobals.Blob(byteArrays, { type: mimetype }));\n    }\n    function dataUriToBlob(uri) {\n      return new Promise(function (resolve, reject) {\n        dataUriToBlobSync(uri).fold(function () {\n          reject('uri is not base64: ' + uri);\n        }, resolve);\n      });\n    }\n    function canvasToBlob(canvas, type, quality) {\n      type = type || 'image/png';\n      if (domGlobals.HTMLCanvasElement.prototype.toBlob) {\n        return new Promise(function (resolve, reject) {\n          canvas.toBlob(function (blob) {\n            if (blob) {\n              resolve(blob);\n            } else {\n              reject();\n            }\n          }, type, quality);\n        });\n      } else {\n        return dataUriToBlob(canvas.toDataURL(type, quality));\n      }\n    }\n    function canvasToDataURL(canvas, type, quality) {\n      type = type || 'image/png';\n      return canvas.toDataURL(type, quality);\n    }\n    function blobToCanvas(blob) {\n      return blobToImage(blob).then(function (image) {\n        revokeImageUrl(image);\n        var canvas = create(getWidth(image), getHeight(image));\n        var context = get2dContext(canvas);\n        context.drawImage(image, 0, 0);\n        return canvas;\n      });\n    }\n    function blobToDataUri(blob) {\n      return new Promise(function (resolve) {\n        var reader = new domGlobals.FileReader();\n        reader.onloadend = function () {\n          resolve(reader.result);\n        };\n        reader.readAsDataURL(blob);\n      });\n    }\n    function revokeImageUrl(image) {\n      domGlobals.URL.revokeObjectURL(image.src);\n    }\n\n    var blobToImage$1 = function (blob) {\n      return blobToImage(blob);\n    };\n    var imageToBlob$1 = function (image) {\n      return imageToBlob(image);\n    };\n\n    function create$1(getCanvas, blob, uri) {\n      var initialType = blob.type;\n      var getType = constant(initialType);\n      function toBlob() {\n        return Promise.resolve(blob);\n      }\n      function toDataURL() {\n        return uri;\n      }\n      function toBase64() {\n        return uri.split(',')[1];\n      }\n      function toAdjustedBlob(type, quality) {\n        return getCanvas.then(function (canvas) {\n          return canvasToBlob(canvas, type, quality);\n        });\n      }\n      function toAdjustedDataURL(type, quality) {\n        return getCanvas.then(function (canvas) {\n          return canvasToDataURL(canvas, type, quality);\n        });\n      }\n      function toAdjustedBase64(type, quality) {\n        return toAdjustedDataURL(type, quality).then(function (dataurl) {\n          return dataurl.split(',')[1];\n        });\n      }\n      function toCanvas() {\n        return getCanvas.then(clone);\n      }\n      return {\n        getType: getType,\n        toBlob: toBlob,\n        toDataURL: toDataURL,\n        toBase64: toBase64,\n        toAdjustedBlob: toAdjustedBlob,\n        toAdjustedDataURL: toAdjustedDataURL,\n        toAdjustedBase64: toAdjustedBase64,\n        toCanvas: toCanvas\n      };\n    }\n    function fromBlob(blob) {\n      return blobToDataUri(blob).then(function (uri) {\n        return create$1(blobToCanvas(blob), blob, uri);\n      });\n    }\n    function fromCanvas(canvas, type) {\n      return canvasToBlob(canvas, type).then(function (blob) {\n        return create$1(Promise.resolve(canvas), blob, canvas.toDataURL());\n      });\n    }\n\n    function clamp(value, min, max) {\n      var parsedValue = typeof value === 'string' ? parseFloat(value) : value;\n      if (parsedValue > max) {\n        parsedValue = max;\n      } else if (parsedValue < min) {\n        parsedValue = min;\n      }\n      return parsedValue;\n    }\n    function identity() {\n      return [\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1\n      ];\n    }\n    var DELTA_INDEX = [\n      0,\n      0.01,\n      0.02,\n      0.04,\n      0.05,\n      0.06,\n      0.07,\n      0.08,\n      0.1,\n      0.11,\n      0.12,\n      0.14,\n      0.15,\n      0.16,\n      0.17,\n      0.18,\n      0.2,\n      0.21,\n      0.22,\n      0.24,\n      0.25,\n      0.27,\n      0.28,\n      0.3,\n      0.32,\n      0.34,\n      0.36,\n      0.38,\n      0.4,\n      0.42,\n      0.44,\n      0.46,\n      0.48,\n      0.5,\n      0.53,\n      0.56,\n      0.59,\n      0.62,\n      0.65,\n      0.68,\n      0.71,\n      0.74,\n      0.77,\n      0.8,\n      0.83,\n      0.86,\n      0.89,\n      0.92,\n      0.95,\n      0.98,\n      1,\n      1.06,\n      1.12,\n      1.18,\n      1.24,\n      1.3,\n      1.36,\n      1.42,\n      1.48,\n      1.54,\n      1.6,\n      1.66,\n      1.72,\n      1.78,\n      1.84,\n      1.9,\n      1.96,\n      2,\n      2.12,\n      2.25,\n      2.37,\n      2.5,\n      2.62,\n      2.75,\n      2.87,\n      3,\n      3.2,\n      3.4,\n      3.6,\n      3.8,\n      4,\n      4.3,\n      4.7,\n      4.9,\n      5,\n      5.5,\n      6,\n      6.5,\n      6.8,\n      7,\n      7.3,\n      7.5,\n      7.8,\n      8,\n      8.4,\n      8.7,\n      9,\n      9.4,\n      9.6,\n      9.8,\n      10\n    ];\n    function multiply(matrix1, matrix2) {\n      var col = [];\n      var out = new Array(25);\n      var val;\n      for (var i = 0; i < 5; i++) {\n        for (var j = 0; j < 5; j++) {\n          col[j] = matrix2[j + i * 5];\n        }\n        for (var j = 0; j < 5; j++) {\n          val = 0;\n          for (var k = 0; k < 5; k++) {\n            val += matrix1[j + k * 5] * col[k];\n          }\n          out[j + i * 5] = val;\n        }\n      }\n      return out;\n    }\n    function adjust(matrix, adjustValue) {\n      adjustValue = clamp(adjustValue, 0, 1);\n      return matrix.map(function (value, index) {\n        if (index % 6 === 0) {\n          value = 1 - (1 - value) * adjustValue;\n        } else {\n          value *= adjustValue;\n        }\n        return clamp(value, 0, 1);\n      });\n    }\n    function adjustContrast(matrix, value) {\n      var x;\n      value = clamp(value, -1, 1);\n      value *= 100;\n      if (value < 0) {\n        x = 127 + value / 100 * 127;\n      } else {\n        x = value % 1;\n        if (x === 0) {\n          x = DELTA_INDEX[value];\n        } else {\n          x = DELTA_INDEX[Math.floor(value)] * (1 - x) + DELTA_INDEX[Math.floor(value) + 1] * x;\n        }\n        x = x * 127 + 127;\n      }\n      return multiply(matrix, [\n        x / 127,\n        0,\n        0,\n        0,\n        0.5 * (127 - x),\n        0,\n        x / 127,\n        0,\n        0,\n        0.5 * (127 - x),\n        0,\n        0,\n        x / 127,\n        0,\n        0.5 * (127 - x),\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1\n      ]);\n    }\n    function adjustSaturation(matrix, value) {\n      value = clamp(value, -1, 1);\n      var x = 1 + (value > 0 ? 3 * value : value);\n      var lumR = 0.3086;\n      var lumG = 0.6094;\n      var lumB = 0.082;\n      return multiply(matrix, [\n        lumR * (1 - x) + x,\n        lumG * (1 - x),\n        lumB * (1 - x),\n        0,\n        0,\n        lumR * (1 - x),\n        lumG * (1 - x) + x,\n        lumB * (1 - x),\n        0,\n        0,\n        lumR * (1 - x),\n        lumG * (1 - x),\n        lumB * (1 - x) + x,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1\n      ]);\n    }\n    function adjustHue(matrix, angle) {\n      angle = clamp(angle, -180, 180) / 180 * Math.PI;\n      var cosVal = Math.cos(angle);\n      var sinVal = Math.sin(angle);\n      var lumR = 0.213;\n      var lumG = 0.715;\n      var lumB = 0.072;\n      return multiply(matrix, [\n        lumR + cosVal * (1 - lumR) + sinVal * -lumR,\n        lumG + cosVal * -lumG + sinVal * -lumG,\n        lumB + cosVal * -lumB + sinVal * (1 - lumB),\n        0,\n        0,\n        lumR + cosVal * -lumR + sinVal * 0.143,\n        lumG + cosVal * (1 - lumG) + sinVal * 0.14,\n        lumB + cosVal * -lumB + sinVal * -0.283,\n        0,\n        0,\n        lumR + cosVal * -lumR + sinVal * -(1 - lumR),\n        lumG + cosVal * -lumG + sinVal * lumG,\n        lumB + cosVal * (1 - lumB) + sinVal * lumB,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1\n      ]);\n    }\n    function adjustBrightness(matrix, value) {\n      value = clamp(255 * value, -255, 255);\n      return multiply(matrix, [\n        1,\n        0,\n        0,\n        0,\n        value,\n        0,\n        1,\n        0,\n        0,\n        value,\n        0,\n        0,\n        1,\n        0,\n        value,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1\n      ]);\n    }\n    function adjustColors(matrix, adjustR, adjustG, adjustB) {\n      adjustR = clamp(adjustR, 0, 2);\n      adjustG = clamp(adjustG, 0, 2);\n      adjustB = clamp(adjustB, 0, 2);\n      return multiply(matrix, [\n        adjustR,\n        0,\n        0,\n        0,\n        0,\n        0,\n        adjustG,\n        0,\n        0,\n        0,\n        0,\n        0,\n        adjustB,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1\n      ]);\n    }\n    function adjustSepia(matrix, value) {\n      value = clamp(value, 0, 1);\n      return multiply(matrix, adjust([\n        0.393,\n        0.769,\n        0.189,\n        0,\n        0,\n        0.349,\n        0.686,\n        0.168,\n        0,\n        0,\n        0.272,\n        0.534,\n        0.131,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1\n      ], value));\n    }\n    function adjustGrayscale(matrix, value) {\n      value = clamp(value, 0, 1);\n      return multiply(matrix, adjust([\n        0.33,\n        0.34,\n        0.33,\n        0,\n        0,\n        0.33,\n        0.34,\n        0.33,\n        0,\n        0,\n        0.33,\n        0.34,\n        0.33,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1\n      ], value));\n    }\n\n    function colorFilter(ir, matrix) {\n      return ir.toCanvas().then(function (canvas) {\n        return applyColorFilter(canvas, ir.getType(), matrix);\n      });\n    }\n    function applyColorFilter(canvas, type, matrix) {\n      var context = get2dContext(canvas);\n      function applyMatrix(pixelsData, m) {\n        var r, g, b, a;\n        var data = pixelsData.data, m0 = m[0], m1 = m[1], m2 = m[2], m3 = m[3], m4 = m[4], m5 = m[5], m6 = m[6], m7 = m[7], m8 = m[8], m9 = m[9], m10 = m[10], m11 = m[11], m12 = m[12], m13 = m[13], m14 = m[14], m15 = m[15], m16 = m[16], m17 = m[17], m18 = m[18], m19 = m[19];\n        for (var i = 0; i < data.length; i += 4) {\n          r = data[i];\n          g = data[i + 1];\n          b = data[i + 2];\n          a = data[i + 3];\n          data[i] = r * m0 + g * m1 + b * m2 + a * m3 + m4;\n          data[i + 1] = r * m5 + g * m6 + b * m7 + a * m8 + m9;\n          data[i + 2] = r * m10 + g * m11 + b * m12 + a * m13 + m14;\n          data[i + 3] = r * m15 + g * m16 + b * m17 + a * m18 + m19;\n        }\n        return pixelsData;\n      }\n      var pixels = applyMatrix(context.getImageData(0, 0, canvas.width, canvas.height), matrix);\n      context.putImageData(pixels, 0, 0);\n      return fromCanvas(canvas, type);\n    }\n    function convoluteFilter(ir, matrix) {\n      return ir.toCanvas().then(function (canvas) {\n        return applyConvoluteFilter(canvas, ir.getType(), matrix);\n      });\n    }\n    function applyConvoluteFilter(canvas, type, matrix) {\n      var context = get2dContext(canvas);\n      function applyMatrix(pIn, pOut, aMatrix) {\n        function clamp(value, min, max) {\n          if (value > max) {\n            value = max;\n          } else if (value < min) {\n            value = min;\n          }\n          return value;\n        }\n        var side = Math.round(Math.sqrt(aMatrix.length));\n        var halfSide = Math.floor(side / 2);\n        var rgba = pIn.data;\n        var drgba = pOut.data;\n        var w = pIn.width;\n        var h = pIn.height;\n        for (var y = 0; y < h; y++) {\n          for (var x = 0; x < w; x++) {\n            var r = 0;\n            var g = 0;\n            var b = 0;\n            for (var cy = 0; cy < side; cy++) {\n              for (var cx = 0; cx < side; cx++) {\n                var scx = clamp(x + cx - halfSide, 0, w - 1);\n                var scy = clamp(y + cy - halfSide, 0, h - 1);\n                var innerOffset = (scy * w + scx) * 4;\n                var wt = aMatrix[cy * side + cx];\n                r += rgba[innerOffset] * wt;\n                g += rgba[innerOffset + 1] * wt;\n                b += rgba[innerOffset + 2] * wt;\n              }\n            }\n            var offset = (y * w + x) * 4;\n            drgba[offset] = clamp(r, 0, 255);\n            drgba[offset + 1] = clamp(g, 0, 255);\n            drgba[offset + 2] = clamp(b, 0, 255);\n          }\n        }\n        return pOut;\n      }\n      var pixelsIn = context.getImageData(0, 0, canvas.width, canvas.height);\n      var pixelsOut = context.getImageData(0, 0, canvas.width, canvas.height);\n      pixelsOut = applyMatrix(pixelsIn, pixelsOut, matrix);\n      context.putImageData(pixelsOut, 0, 0);\n      return fromCanvas(canvas, type);\n    }\n    function functionColorFilter(colorFn) {\n      var filterImpl = function (canvas, type, value) {\n        var context = get2dContext(canvas);\n        var lookup = new Array(256);\n        function applyLookup(pixelsData, lookupData) {\n          var data = pixelsData.data;\n          for (var i = 0; i < data.length; i += 4) {\n            data[i] = lookupData[data[i]];\n            data[i + 1] = lookupData[data[i + 1]];\n            data[i + 2] = lookupData[data[i + 2]];\n          }\n          return pixelsData;\n        }\n        for (var i = 0; i < lookup.length; i++) {\n          lookup[i] = colorFn(i, value);\n        }\n        var pixels = applyLookup(context.getImageData(0, 0, canvas.width, canvas.height), lookup);\n        context.putImageData(pixels, 0, 0);\n        return fromCanvas(canvas, type);\n      };\n      return function (ir, value) {\n        return ir.toCanvas().then(function (canvas) {\n          return filterImpl(canvas, ir.getType(), value);\n        });\n      };\n    }\n    function complexAdjustableColorFilter(matrixAdjustFn) {\n      return function (ir, adjust) {\n        return colorFilter(ir, matrixAdjustFn(identity(), adjust));\n      };\n    }\n    function basicColorFilter(matrix) {\n      return function (ir) {\n        return colorFilter(ir, matrix);\n      };\n    }\n    function basicConvolutionFilter(kernel) {\n      return function (ir) {\n        return convoluteFilter(ir, kernel);\n      };\n    }\n    var invert = basicColorFilter([\n      -1,\n      0,\n      0,\n      0,\n      255,\n      0,\n      -1,\n      0,\n      0,\n      255,\n      0,\n      0,\n      -1,\n      0,\n      255,\n      0,\n      0,\n      0,\n      1,\n      0,\n      0,\n      0,\n      0,\n      0,\n      1\n    ]);\n    var brightness = complexAdjustableColorFilter(adjustBrightness);\n    var hue = complexAdjustableColorFilter(adjustHue);\n    var saturate = complexAdjustableColorFilter(adjustSaturation);\n    var contrast = complexAdjustableColorFilter(adjustContrast);\n    var grayscale = complexAdjustableColorFilter(adjustGrayscale);\n    var sepia = complexAdjustableColorFilter(adjustSepia);\n    var colorize = function (ir, adjustR, adjustG, adjustB) {\n      return colorFilter(ir, adjustColors(identity(), adjustR, adjustG, adjustB));\n    };\n    var sharpen = basicConvolutionFilter([\n      0,\n      -1,\n      0,\n      -1,\n      5,\n      -1,\n      0,\n      -1,\n      0\n    ]);\n    var emboss = basicConvolutionFilter([\n      -2,\n      -1,\n      0,\n      -1,\n      1,\n      1,\n      0,\n      1,\n      2\n    ]);\n    var gamma = functionColorFilter(function (color, value) {\n      return Math.pow(color / 255, 1 - value) * 255;\n    });\n    var exposure = functionColorFilter(function (color, value) {\n      return 255 * (1 - Math.exp(-(color / 255) * value));\n    });\n\n    function scale(image, dW, dH) {\n      var sW = getWidth(image);\n      var sH = getHeight(image);\n      var wRatio = dW / sW;\n      var hRatio = dH / sH;\n      var scaleCapped = false;\n      if (wRatio < 0.5 || wRatio > 2) {\n        wRatio = wRatio < 0.5 ? 0.5 : 2;\n        scaleCapped = true;\n      }\n      if (hRatio < 0.5 || hRatio > 2) {\n        hRatio = hRatio < 0.5 ? 0.5 : 2;\n        scaleCapped = true;\n      }\n      var scaled = _scale(image, wRatio, hRatio);\n      return !scaleCapped ? scaled : scaled.then(function (tCanvas) {\n        return scale(tCanvas, dW, dH);\n      });\n    }\n    function _scale(image, wRatio, hRatio) {\n      return new Promise(function (resolve) {\n        var sW = getWidth(image);\n        var sH = getHeight(image);\n        var dW = Math.floor(sW * wRatio);\n        var dH = Math.floor(sH * hRatio);\n        var canvas = create(dW, dH);\n        var context = get2dContext(canvas);\n        context.drawImage(image, 0, 0, sW, sH, 0, 0, dW, dH);\n        resolve(canvas);\n      });\n    }\n\n    function rotate(ir, angle) {\n      return ir.toCanvas().then(function (canvas) {\n        return applyRotate(canvas, ir.getType(), angle);\n      });\n    }\n    function applyRotate(image, type, angle) {\n      var canvas = create(image.width, image.height);\n      var context = get2dContext(canvas);\n      var translateX = 0;\n      var translateY = 0;\n      angle = angle < 0 ? 360 + angle : angle;\n      if (angle === 90 || angle === 270) {\n        resize(canvas, canvas.height, canvas.width);\n      }\n      if (angle === 90 || angle === 180) {\n        translateX = canvas.width;\n      }\n      if (angle === 270 || angle === 180) {\n        translateY = canvas.height;\n      }\n      context.translate(translateX, translateY);\n      context.rotate(angle * Math.PI / 180);\n      context.drawImage(image, 0, 0);\n      return fromCanvas(canvas, type);\n    }\n    function flip(ir, axis) {\n      return ir.toCanvas().then(function (canvas) {\n        return applyFlip(canvas, ir.getType(), axis);\n      });\n    }\n    function applyFlip(image, type, axis) {\n      var canvas = create(image.width, image.height);\n      var context = get2dContext(canvas);\n      if (axis === 'v') {\n        context.scale(1, -1);\n        context.drawImage(image, 0, -canvas.height);\n      } else {\n        context.scale(-1, 1);\n        context.drawImage(image, -canvas.width, 0);\n      }\n      return fromCanvas(canvas, type);\n    }\n    function crop(ir, x, y, w, h) {\n      return ir.toCanvas().then(function (canvas) {\n        return applyCrop(canvas, ir.getType(), x, y, w, h);\n      });\n    }\n    function applyCrop(image, type, x, y, w, h) {\n      var canvas = create(w, h);\n      var context = get2dContext(canvas);\n      context.drawImage(image, -x, -y);\n      return fromCanvas(canvas, type);\n    }\n    function resize$1(ir, w, h) {\n      return ir.toCanvas().then(function (canvas) {\n        return scale(canvas, w, h).then(function (newCanvas) {\n          return fromCanvas(newCanvas, ir.getType());\n        });\n      });\n    }\n\n    var invert$1 = function (ir) {\n      return invert(ir);\n    };\n    var sharpen$1 = function (ir) {\n      return sharpen(ir);\n    };\n    var emboss$1 = function (ir) {\n      return emboss(ir);\n    };\n    var gamma$1 = function (ir, value) {\n      return gamma(ir, value);\n    };\n    var exposure$1 = function (ir, value) {\n      return exposure(ir, value);\n    };\n    var colorize$1 = function (ir, adjustR, adjustG, adjustB) {\n      return colorize(ir, adjustR, adjustG, adjustB);\n    };\n    var brightness$1 = function (ir, adjust) {\n      return brightness(ir, adjust);\n    };\n    var hue$1 = function (ir, adjust) {\n      return hue(ir, adjust);\n    };\n    var saturate$1 = function (ir, adjust) {\n      return saturate(ir, adjust);\n    };\n    var contrast$1 = function (ir, adjust) {\n      return contrast(ir, adjust);\n    };\n    var grayscale$1 = function (ir, adjust) {\n      return grayscale(ir, adjust);\n    };\n    var sepia$1 = function (ir, adjust) {\n      return sepia(ir, adjust);\n    };\n    var flip$1 = function (ir, axis) {\n      return flip(ir, axis);\n    };\n    var crop$1 = function (ir, x, y, w, h) {\n      return crop(ir, x, y, w, h);\n    };\n    var resize$2 = function (ir, w, h) {\n      return resize$1(ir, w, h);\n    };\n    var rotate$1 = function (ir, angle) {\n      return rotate(ir, angle);\n    };\n\n    var blobToImageResult = function (blob) {\n      return fromBlob(blob);\n    };\n\n    var Global = typeof domGlobals.window !== 'undefined' ? domGlobals.window : Function('return this;')();\n\n    var path = function (parts, scope) {\n      var o = scope !== undefined && scope !== null ? scope : Global;\n      for (var i = 0; i < parts.length && o !== undefined && o !== null; ++i) {\n        o = o[parts[i]];\n      }\n      return o;\n    };\n    var resolve = function (p, scope) {\n      var parts = p.split('.');\n      return path(parts, scope);\n    };\n\n    var unsafe = function (name, scope) {\n      return resolve(name, scope);\n    };\n    var getOrDie = function (name, scope) {\n      var actual = unsafe(name, scope);\n      if (actual === undefined || actual === null) {\n        throw new Error(name + ' not available on this browser');\n      }\n      return actual;\n    };\n    var Global$1 = { getOrDie: getOrDie };\n\n    var url = function () {\n      return Global$1.getOrDie('URL');\n    };\n    var createObjectURL = function (blob) {\n      return url().createObjectURL(blob);\n    };\n    var revokeObjectURL = function (u) {\n      url().revokeObjectURL(u);\n    };\n    var URL = {\n      createObjectURL: createObjectURL,\n      revokeObjectURL: revokeObjectURL\n    };\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.util.Delay');\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.util.Promise');\n\n    var global$4 = tinymce.util.Tools.resolve('tinymce.util.URI');\n\n    var getToolbarItems = function (editor) {\n      return editor.getParam('imagetools_toolbar', 'rotateleft rotateright | flipv fliph | crop editimage imageoptions');\n    };\n    var getProxyUrl = function (editor) {\n      return editor.getParam('imagetools_proxy');\n    };\n    var getCorsHosts = function (editor) {\n      return editor.getParam('imagetools_cors_hosts', [], 'string[]');\n    };\n    var getCredentialsHosts = function (editor) {\n      return editor.getParam('imagetools_credentials_hosts', [], 'string[]');\n    };\n    var getApiKey = function (editor) {\n      return editor.getParam('api_key', editor.getParam('imagetools_api_key', '', 'string'), 'string');\n    };\n    var getUploadTimeout = function (editor) {\n      return editor.getParam('images_upload_timeout', 30000, 'number');\n    };\n    var shouldReuseFilename = function (editor) {\n      return editor.getParam('images_reuse_filename', false, 'boolean');\n    };\n\n    var global$5 = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');\n\n    var global$6 = tinymce.util.Tools.resolve('tinymce.ui.Factory');\n\n    function UndoStack () {\n      var data = [];\n      var index = -1;\n      function add(state) {\n        var removed;\n        removed = data.splice(++index);\n        data.push(state);\n        return {\n          state: state,\n          removed: removed\n        };\n      }\n      function undo() {\n        if (canUndo()) {\n          return data[--index];\n        }\n      }\n      function redo() {\n        if (canRedo()) {\n          return data[++index];\n        }\n      }\n      function canUndo() {\n        return index > 0;\n      }\n      function canRedo() {\n        return index !== -1 && index < data.length - 1;\n      }\n      return {\n        data: data,\n        add: add,\n        undo: undo,\n        redo: redo,\n        canUndo: canUndo,\n        canRedo: canRedo\n      };\n    }\n\n    var global$7 = tinymce.util.Tools.resolve('tinymce.geom.Rect');\n\n    var loadImage = function (image) {\n      return new global$3(function (resolve) {\n        var loaded = function () {\n          image.removeEventListener('load', loaded);\n          resolve(image);\n        };\n        if (image.complete) {\n          resolve(image);\n        } else {\n          image.addEventListener('load', loaded);\n        }\n      });\n    };\n    var LoadImage = { loadImage: loadImage };\n\n    var global$8 = tinymce.util.Tools.resolve('tinymce.dom.DomQuery');\n\n    var global$9 = tinymce.util.Tools.resolve('tinymce.util.Observable');\n\n    var global$a = tinymce.util.Tools.resolve('tinymce.util.VK');\n\n    var count = 0;\n    function CropRect (currentRect, viewPortRect, clampRect, containerElm, action) {\n      var instance;\n      var handles;\n      var dragHelpers;\n      var blockers;\n      var prefix = 'mce-';\n      var id = prefix + 'crid-' + count++;\n      handles = [\n        {\n          name: 'move',\n          xMul: 0,\n          yMul: 0,\n          deltaX: 1,\n          deltaY: 1,\n          deltaW: 0,\n          deltaH: 0,\n          label: 'Crop Mask'\n        },\n        {\n          name: 'nw',\n          xMul: 0,\n          yMul: 0,\n          deltaX: 1,\n          deltaY: 1,\n          deltaW: -1,\n          deltaH: -1,\n          label: 'Top Left Crop Handle'\n        },\n        {\n          name: 'ne',\n          xMul: 1,\n          yMul: 0,\n          deltaX: 0,\n          deltaY: 1,\n          deltaW: 1,\n          deltaH: -1,\n          label: 'Top Right Crop Handle'\n        },\n        {\n          name: 'sw',\n          xMul: 0,\n          yMul: 1,\n          deltaX: 1,\n          deltaY: 0,\n          deltaW: -1,\n          deltaH: 1,\n          label: 'Bottom Left Crop Handle'\n        },\n        {\n          name: 'se',\n          xMul: 1,\n          yMul: 1,\n          deltaX: 0,\n          deltaY: 0,\n          deltaW: 1,\n          deltaH: 1,\n          label: 'Bottom Right Crop Handle'\n        }\n      ];\n      blockers = [\n        'top',\n        'right',\n        'bottom',\n        'left'\n      ];\n      function getAbsoluteRect(outerRect, relativeRect) {\n        return {\n          x: relativeRect.x + outerRect.x,\n          y: relativeRect.y + outerRect.y,\n          w: relativeRect.w,\n          h: relativeRect.h\n        };\n      }\n      function getRelativeRect(outerRect, innerRect) {\n        return {\n          x: innerRect.x - outerRect.x,\n          y: innerRect.y - outerRect.y,\n          w: innerRect.w,\n          h: innerRect.h\n        };\n      }\n      function getInnerRect() {\n        return getRelativeRect(clampRect, currentRect);\n      }\n      function moveRect(handle, startRect, deltaX, deltaY) {\n        var x, y, w, h, rect;\n        x = startRect.x;\n        y = startRect.y;\n        w = startRect.w;\n        h = startRect.h;\n        x += deltaX * handle.deltaX;\n        y += deltaY * handle.deltaY;\n        w += deltaX * handle.deltaW;\n        h += deltaY * handle.deltaH;\n        if (w < 20) {\n          w = 20;\n        }\n        if (h < 20) {\n          h = 20;\n        }\n        rect = currentRect = global$7.clamp({\n          x: x,\n          y: y,\n          w: w,\n          h: h\n        }, clampRect, handle.name === 'move');\n        rect = getRelativeRect(clampRect, rect);\n        instance.fire('updateRect', { rect: rect });\n        setInnerRect(rect);\n      }\n      function render() {\n        function createDragHelper(handle) {\n          var startRect;\n          var DragHelper = global$6.get('DragHelper');\n          return new DragHelper(id, {\n            document: containerElm.ownerDocument,\n            handle: id + '-' + handle.name,\n            start: function () {\n              startRect = currentRect;\n            },\n            drag: function (e) {\n              moveRect(handle, startRect, e.deltaX, e.deltaY);\n            }\n          });\n        }\n        global$8('<div id=\"' + id + '\" class=\"' + prefix + 'croprect-container\"' + ' role=\"grid\" aria-dropeffect=\"execute\">').appendTo(containerElm);\n        global$1.each(blockers, function (blocker) {\n          global$8('#' + id, containerElm).append('<div id=\"' + id + '-' + blocker + '\"class=\"' + prefix + 'croprect-block\" style=\"display: none\" data-mce-bogus=\"all\">');\n        });\n        global$1.each(handles, function (handle) {\n          global$8('#' + id, containerElm).append('<div id=\"' + id + '-' + handle.name + '\" class=\"' + prefix + 'croprect-handle ' + prefix + 'croprect-handle-' + handle.name + '\"' + 'style=\"display: none\" data-mce-bogus=\"all\" role=\"gridcell\" tabindex=\"-1\"' + ' aria-label=\"' + handle.label + '\" aria-grabbed=\"false\">');\n        });\n        dragHelpers = global$1.map(handles, createDragHelper);\n        repaint(currentRect);\n        global$8(containerElm).on('focusin focusout', function (e) {\n          global$8(e.target).attr('aria-grabbed', e.type === 'focus');\n        });\n        global$8(containerElm).on('keydown', function (e) {\n          var activeHandle;\n          global$1.each(handles, function (handle) {\n            if (e.target.id === id + '-' + handle.name) {\n              activeHandle = handle;\n              return false;\n            }\n          });\n          function moveAndBlock(evt, handle, startRect, deltaX, deltaY) {\n            evt.stopPropagation();\n            evt.preventDefault();\n            moveRect(activeHandle, startRect, deltaX, deltaY);\n          }\n          switch (e.keyCode) {\n          case global$a.LEFT:\n            moveAndBlock(e, activeHandle, currentRect, -10, 0);\n            break;\n          case global$a.RIGHT:\n            moveAndBlock(e, activeHandle, currentRect, 10, 0);\n            break;\n          case global$a.UP:\n            moveAndBlock(e, activeHandle, currentRect, 0, -10);\n            break;\n          case global$a.DOWN:\n            moveAndBlock(e, activeHandle, currentRect, 0, 10);\n            break;\n          case global$a.ENTER:\n          case global$a.SPACEBAR:\n            e.preventDefault();\n            action();\n            break;\n          }\n        });\n      }\n      function toggleVisibility(state) {\n        var selectors;\n        selectors = global$1.map(handles, function (handle) {\n          return '#' + id + '-' + handle.name;\n        }).concat(global$1.map(blockers, function (blocker) {\n          return '#' + id + '-' + blocker;\n        })).join(',');\n        if (state) {\n          global$8(selectors, containerElm).show();\n        } else {\n          global$8(selectors, containerElm).hide();\n        }\n      }\n      function repaint(rect) {\n        function updateElementRect(name, rect) {\n          if (rect.h < 0) {\n            rect.h = 0;\n          }\n          if (rect.w < 0) {\n            rect.w = 0;\n          }\n          global$8('#' + id + '-' + name, containerElm).css({\n            left: rect.x,\n            top: rect.y,\n            width: rect.w,\n            height: rect.h\n          });\n        }\n        global$1.each(handles, function (handle) {\n          global$8('#' + id + '-' + handle.name, containerElm).css({\n            left: rect.w * handle.xMul + rect.x,\n            top: rect.h * handle.yMul + rect.y\n          });\n        });\n        updateElementRect('top', {\n          x: viewPortRect.x,\n          y: viewPortRect.y,\n          w: viewPortRect.w,\n          h: rect.y - viewPortRect.y\n        });\n        updateElementRect('right', {\n          x: rect.x + rect.w,\n          y: rect.y,\n          w: viewPortRect.w - rect.x - rect.w + viewPortRect.x,\n          h: rect.h\n        });\n        updateElementRect('bottom', {\n          x: viewPortRect.x,\n          y: rect.y + rect.h,\n          w: viewPortRect.w,\n          h: viewPortRect.h - rect.y - rect.h + viewPortRect.y\n        });\n        updateElementRect('left', {\n          x: viewPortRect.x,\n          y: rect.y,\n          w: rect.x - viewPortRect.x,\n          h: rect.h\n        });\n        updateElementRect('move', rect);\n      }\n      function setRect(rect) {\n        currentRect = rect;\n        repaint(currentRect);\n      }\n      function setViewPortRect(rect) {\n        viewPortRect = rect;\n        repaint(currentRect);\n      }\n      function setInnerRect(rect) {\n        setRect(getAbsoluteRect(clampRect, rect));\n      }\n      function setClampRect(rect) {\n        clampRect = rect;\n        repaint(currentRect);\n      }\n      function destroy() {\n        global$1.each(dragHelpers, function (helper) {\n          helper.destroy();\n        });\n        dragHelpers = [];\n      }\n      render();\n      instance = global$1.extend({\n        toggleVisibility: toggleVisibility,\n        setClampRect: setClampRect,\n        setRect: setRect,\n        getInnerRect: getInnerRect,\n        setInnerRect: setInnerRect,\n        setViewPortRect: setViewPortRect,\n        destroy: destroy\n      }, global$9);\n      return instance;\n    }\n\n    var create$2 = function (settings) {\n      var Control = global$6.get('Control');\n      var ImagePanel = Control.extend({\n        Defaults: { classes: 'imagepanel' },\n        selection: function (rect) {\n          if (arguments.length) {\n            this.state.set('rect', rect);\n            return this;\n          }\n          return this.state.get('rect');\n        },\n        imageSize: function () {\n          var viewRect = this.state.get('viewRect');\n          return {\n            w: viewRect.w,\n            h: viewRect.h\n          };\n        },\n        toggleCropRect: function (state) {\n          this.state.set('cropEnabled', state);\n        },\n        imageSrc: function (url) {\n          var self = this, img = new domGlobals.Image();\n          img.src = url;\n          LoadImage.loadImage(img).then(function () {\n            var rect, $img;\n            var lastRect = self.state.get('viewRect');\n            $img = self.$el.find('img');\n            if ($img[0]) {\n              $img.replaceWith(img);\n            } else {\n              var bg = domGlobals.document.createElement('div');\n              bg.className = 'mce-imagepanel-bg';\n              self.getEl().appendChild(bg);\n              self.getEl().appendChild(img);\n            }\n            rect = {\n              x: 0,\n              y: 0,\n              w: img.naturalWidth,\n              h: img.naturalHeight\n            };\n            self.state.set('viewRect', rect);\n            self.state.set('rect', global$7.inflate(rect, -20, -20));\n            if (!lastRect || lastRect.w !== rect.w || lastRect.h !== rect.h) {\n              self.zoomFit();\n            }\n            self.repaintImage();\n            self.fire('load');\n          });\n        },\n        zoom: function (value) {\n          if (arguments.length) {\n            this.state.set('zoom', value);\n            return this;\n          }\n          return this.state.get('zoom');\n        },\n        postRender: function () {\n          this.imageSrc(this.settings.imageSrc);\n          return this._super();\n        },\n        zoomFit: function () {\n          var self = this;\n          var $img, pw, ph, w, h, zoom, padding;\n          padding = 10;\n          $img = self.$el.find('img');\n          pw = self.getEl().clientWidth;\n          ph = self.getEl().clientHeight;\n          w = $img[0].naturalWidth;\n          h = $img[0].naturalHeight;\n          zoom = Math.min((pw - padding) / w, (ph - padding) / h);\n          if (zoom >= 1) {\n            zoom = 1;\n          }\n          self.zoom(zoom);\n        },\n        repaintImage: function () {\n          var x, y, w, h, pw, ph, $img, $bg, zoom, rect, elm;\n          elm = this.getEl();\n          zoom = this.zoom();\n          rect = this.state.get('rect');\n          $img = this.$el.find('img');\n          $bg = this.$el.find('.mce-imagepanel-bg');\n          pw = elm.offsetWidth;\n          ph = elm.offsetHeight;\n          w = $img[0].naturalWidth * zoom;\n          h = $img[0].naturalHeight * zoom;\n          x = Math.max(0, pw / 2 - w / 2);\n          y = Math.max(0, ph / 2 - h / 2);\n          $img.css({\n            left: x,\n            top: y,\n            width: w,\n            height: h\n          });\n          $bg.css({\n            left: x,\n            top: y,\n            width: w,\n            height: h\n          });\n          if (this.cropRect) {\n            this.cropRect.setRect({\n              x: rect.x * zoom + x,\n              y: rect.y * zoom + y,\n              w: rect.w * zoom,\n              h: rect.h * zoom\n            });\n            this.cropRect.setClampRect({\n              x: x,\n              y: y,\n              w: w,\n              h: h\n            });\n            this.cropRect.setViewPortRect({\n              x: 0,\n              y: 0,\n              w: pw,\n              h: ph\n            });\n          }\n        },\n        bindStates: function () {\n          var self = this;\n          function setupCropRect(rect) {\n            self.cropRect = CropRect(rect, self.state.get('viewRect'), self.state.get('viewRect'), self.getEl(), function () {\n              self.fire('crop');\n            });\n            self.cropRect.on('updateRect', function (e) {\n              var rect = e.rect;\n              var zoom = self.zoom();\n              rect = {\n                x: Math.round(rect.x / zoom),\n                y: Math.round(rect.y / zoom),\n                w: Math.round(rect.w / zoom),\n                h: Math.round(rect.h / zoom)\n              };\n              self.state.set('rect', rect);\n            });\n            self.on('remove', self.cropRect.destroy);\n          }\n          self.state.on('change:cropEnabled', function (e) {\n            self.cropRect.toggleVisibility(e.value);\n            self.repaintImage();\n          });\n          self.state.on('change:zoom', function () {\n            self.repaintImage();\n          });\n          self.state.on('change:rect', function (e) {\n            var rect = e.value;\n            if (!self.cropRect) {\n              setupCropRect(rect);\n            }\n            self.cropRect.setRect(rect);\n          });\n        }\n      });\n      return new ImagePanel(settings);\n    };\n    var ImagePanel = { create: create$2 };\n\n    function createState(blob) {\n      return {\n        blob: blob,\n        url: URL.createObjectURL(blob)\n      };\n    }\n    function destroyState(state) {\n      if (state) {\n        URL.revokeObjectURL(state.url);\n      }\n    }\n    function destroyStates(states) {\n      global$1.each(states, destroyState);\n    }\n    function open(editor, currentState, resolve, reject) {\n      var win, undoStack = UndoStack(), mainPanel, filtersPanel, tempState, cropPanel, resizePanel, flipRotatePanel, imagePanel, sidePanel, mainViewContainer, invertPanel, brightnessPanel, huePanel, saturatePanel, contrastPanel, grayscalePanel, sepiaPanel, colorizePanel, sharpenPanel, embossPanel, gammaPanel, exposurePanel, panels, width, height, ratioW, ratioH;\n      var reverseIfRtl = function (items) {\n        return editor.rtl ? items.reverse() : items;\n      };\n      function recalcSize(e) {\n        var widthCtrl, heightCtrl, newWidth, newHeight;\n        widthCtrl = win.find('#w')[0];\n        heightCtrl = win.find('#h')[0];\n        newWidth = parseInt(widthCtrl.value(), 10);\n        newHeight = parseInt(heightCtrl.value(), 10);\n        if (win.find('#constrain')[0].checked() && width && height && newWidth && newHeight) {\n          if (e.control.settings.name === 'w') {\n            newHeight = Math.round(newWidth * ratioW);\n            heightCtrl.value(newHeight);\n          } else {\n            newWidth = Math.round(newHeight * ratioH);\n            widthCtrl.value(newWidth);\n          }\n        }\n        width = newWidth;\n        height = newHeight;\n      }\n      function floatToPercent(value) {\n        return Math.round(value * 100) + '%';\n      }\n      function updateButtonUndoStates() {\n        win.find('#undo').disabled(!undoStack.canUndo());\n        win.find('#redo').disabled(!undoStack.canRedo());\n        win.statusbar.find('#save').disabled(!undoStack.canUndo());\n      }\n      function disableUndoRedo() {\n        win.find('#undo').disabled(true);\n        win.find('#redo').disabled(true);\n      }\n      function displayState(state) {\n        if (state) {\n          imagePanel.imageSrc(state.url);\n        }\n      }\n      function switchPanel(targetPanel) {\n        return function () {\n          var hidePanels = global$1.grep(panels, function (panel) {\n            return panel.settings.name !== targetPanel;\n          });\n          global$1.each(hidePanels, function (panel) {\n            panel.hide();\n          });\n          targetPanel.show();\n          targetPanel.focus();\n        };\n      }\n      function addTempState(blob) {\n        tempState = createState(blob);\n        displayState(tempState);\n      }\n      function addBlobState(blob) {\n        currentState = createState(blob);\n        displayState(currentState);\n        destroyStates(undoStack.add(currentState).removed);\n        updateButtonUndoStates();\n      }\n      function crop() {\n        var rect = imagePanel.selection();\n        blobToImageResult(currentState.blob).then(function (ir) {\n          crop$1(ir, rect.x, rect.y, rect.w, rect.h).then(imageResultToBlob).then(function (blob) {\n            addBlobState(blob);\n            cancel();\n          });\n        });\n      }\n      var tempAction = function (fn) {\n        var args = [].slice.call(arguments, 1);\n        return function () {\n          var state = tempState || currentState;\n          blobToImageResult(state.blob).then(function (ir) {\n            fn.apply(this, [ir].concat(args)).then(imageResultToBlob).then(addTempState);\n          });\n        };\n      };\n      function action(fn) {\n        var arg = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n          arg[_i - 1] = arguments[_i];\n        }\n        var args = [].slice.call(arguments, 1);\n        return function () {\n          blobToImageResult(currentState.blob).then(function (ir) {\n            fn.apply(this, [ir].concat(args)).then(imageResultToBlob).then(addBlobState);\n          });\n        };\n      }\n      function cancel() {\n        displayState(currentState);\n        destroyState(tempState);\n        switchPanel(mainPanel)();\n        updateButtonUndoStates();\n      }\n      function waitForTempState(times, applyCall) {\n        if (tempState) {\n          applyCall();\n        } else {\n          setTimeout(function () {\n            if (times-- > 0) {\n              waitForTempState(times, applyCall);\n            } else {\n              editor.windowManager.alert('Error: failed to apply image operation.');\n            }\n          }, 10);\n        }\n      }\n      function applyTempState() {\n        if (tempState) {\n          addBlobState(tempState.blob);\n          cancel();\n        } else {\n          waitForTempState(100, applyTempState);\n        }\n      }\n      function zoomIn() {\n        var zoom = imagePanel.zoom();\n        if (zoom < 2) {\n          zoom += 0.1;\n        }\n        imagePanel.zoom(zoom);\n      }\n      function zoomOut() {\n        var zoom = imagePanel.zoom();\n        if (zoom > 0.1) {\n          zoom -= 0.1;\n        }\n        imagePanel.zoom(zoom);\n      }\n      function undo() {\n        currentState = undoStack.undo();\n        displayState(currentState);\n        updateButtonUndoStates();\n      }\n      function redo() {\n        currentState = undoStack.redo();\n        displayState(currentState);\n        updateButtonUndoStates();\n      }\n      function save() {\n        resolve(currentState.blob);\n        win.close();\n      }\n      function createPanel(items) {\n        return global$6.create('Form', {\n          layout: 'flex',\n          direction: 'row',\n          labelGap: 5,\n          border: '0 0 1 0',\n          align: 'center',\n          pack: 'center',\n          padding: '0 10 0 10',\n          spacing: 5,\n          flex: 0,\n          minHeight: 60,\n          defaults: {\n            classes: 'imagetool',\n            type: 'button'\n          },\n          items: items\n        });\n      }\n      var imageResultToBlob = function (ir) {\n        return ir.toBlob();\n      };\n      function createFilterPanel(title, filter) {\n        return createPanel(reverseIfRtl([\n          {\n            text: 'Back',\n            onclick: cancel\n          },\n          {\n            type: 'spacer',\n            flex: 1\n          },\n          {\n            text: 'Apply',\n            subtype: 'primary',\n            onclick: applyTempState\n          }\n        ])).hide().on('show', function () {\n          disableUndoRedo();\n          blobToImageResult(currentState.blob).then(function (ir) {\n            return filter(ir);\n          }).then(imageResultToBlob).then(function (blob) {\n            var newTempState = createState(blob);\n            displayState(newTempState);\n            destroyState(tempState);\n            tempState = newTempState;\n          });\n        });\n      }\n      function createVariableFilterPanel(title, filter, value, min, max) {\n        function update(value) {\n          blobToImageResult(currentState.blob).then(function (ir) {\n            return filter(ir, value);\n          }).then(imageResultToBlob).then(function (blob) {\n            var newTempState = createState(blob);\n            displayState(newTempState);\n            destroyState(tempState);\n            tempState = newTempState;\n          });\n        }\n        return createPanel(reverseIfRtl([\n          {\n            text: 'Back',\n            onclick: cancel\n          },\n          {\n            type: 'spacer',\n            flex: 1\n          },\n          {\n            type: 'slider',\n            flex: 1,\n            ondragend: function (e) {\n              update(e.value);\n            },\n            minValue: editor.rtl ? max : min,\n            maxValue: editor.rtl ? min : max,\n            value: value,\n            previewFilter: floatToPercent\n          },\n          {\n            type: 'spacer',\n            flex: 1\n          },\n          {\n            text: 'Apply',\n            subtype: 'primary',\n            onclick: applyTempState\n          }\n        ])).hide().on('show', function () {\n          this.find('slider').value(value);\n          disableUndoRedo();\n        });\n      }\n      function createRgbFilterPanel(title, filter) {\n        function update() {\n          var r, g, b;\n          r = win.find('#r')[0].value();\n          g = win.find('#g')[0].value();\n          b = win.find('#b')[0].value();\n          blobToImageResult(currentState.blob).then(function (ir) {\n            return filter(ir, r, g, b);\n          }).then(imageResultToBlob).then(function (blob) {\n            var newTempState = createState(blob);\n            displayState(newTempState);\n            destroyState(tempState);\n            tempState = newTempState;\n          });\n        }\n        var min = editor.rtl ? 2 : 0;\n        var max = editor.rtl ? 0 : 2;\n        return createPanel(reverseIfRtl([\n          {\n            text: 'Back',\n            onclick: cancel\n          },\n          {\n            type: 'spacer',\n            flex: 1\n          },\n          {\n            type: 'slider',\n            label: 'R',\n            name: 'r',\n            minValue: min,\n            value: 1,\n            maxValue: max,\n            ondragend: update,\n            previewFilter: floatToPercent\n          },\n          {\n            type: 'slider',\n            label: 'G',\n            name: 'g',\n            minValue: min,\n            value: 1,\n            maxValue: max,\n            ondragend: update,\n            previewFilter: floatToPercent\n          },\n          {\n            type: 'slider',\n            label: 'B',\n            name: 'b',\n            minValue: min,\n            value: 1,\n            maxValue: max,\n            ondragend: update,\n            previewFilter: floatToPercent\n          },\n          {\n            type: 'spacer',\n            flex: 1\n          },\n          {\n            text: 'Apply',\n            subtype: 'primary',\n            onclick: applyTempState\n          }\n        ])).hide().on('show', function () {\n          win.find('#r,#g,#b').value(1);\n          disableUndoRedo();\n        });\n      }\n      cropPanel = createPanel(reverseIfRtl([\n        {\n          text: 'Back',\n          onclick: cancel\n        },\n        {\n          type: 'spacer',\n          flex: 1\n        },\n        {\n          text: 'Apply',\n          subtype: 'primary',\n          onclick: crop\n        }\n      ])).hide().on('show hide', function (e) {\n        imagePanel.toggleCropRect(e.type === 'show');\n      }).on('show', disableUndoRedo);\n      function toggleConstrain(e) {\n        if (e.control.value() === true) {\n          ratioW = height / width;\n          ratioH = width / height;\n        }\n      }\n      resizePanel = createPanel(reverseIfRtl([\n        {\n          text: 'Back',\n          onclick: cancel\n        },\n        {\n          type: 'spacer',\n          flex: 1\n        },\n        {\n          type: 'textbox',\n          name: 'w',\n          label: 'Width',\n          size: 4,\n          onkeyup: recalcSize\n        },\n        {\n          type: 'textbox',\n          name: 'h',\n          label: 'Height',\n          size: 4,\n          onkeyup: recalcSize\n        },\n        {\n          type: 'checkbox',\n          name: 'constrain',\n          text: 'Constrain proportions',\n          checked: true,\n          onchange: toggleConstrain\n        },\n        {\n          type: 'spacer',\n          flex: 1\n        },\n        {\n          text: 'Apply',\n          subtype: 'primary',\n          onclick: 'submit'\n        }\n      ])).hide().on('submit', function (e) {\n        var width = parseInt(win.find('#w').value(), 10), height = parseInt(win.find('#h').value(), 10);\n        e.preventDefault();\n        action(resize$2, width, height)();\n        cancel();\n      }).on('show', disableUndoRedo);\n      flipRotatePanel = createPanel(reverseIfRtl([\n        {\n          text: 'Back',\n          onclick: cancel\n        },\n        {\n          type: 'spacer',\n          flex: 1\n        },\n        {\n          icon: 'fliph',\n          tooltip: 'Flip horizontally',\n          onclick: tempAction(flip$1, 'h')\n        },\n        {\n          icon: 'flipv',\n          tooltip: 'Flip vertically',\n          onclick: tempAction(flip$1, 'v')\n        },\n        {\n          icon: 'rotateleft',\n          tooltip: 'Rotate counterclockwise',\n          onclick: tempAction(rotate$1, -90)\n        },\n        {\n          icon: 'rotateright',\n          tooltip: 'Rotate clockwise',\n          onclick: tempAction(rotate$1, 90)\n        },\n        {\n          type: 'spacer',\n          flex: 1\n        },\n        {\n          text: 'Apply',\n          subtype: 'primary',\n          onclick: applyTempState\n        }\n      ])).hide().on('show', disableUndoRedo);\n      invertPanel = createFilterPanel('Invert', invert$1);\n      sharpenPanel = createFilterPanel('Sharpen', sharpen$1);\n      embossPanel = createFilterPanel('Emboss', emboss$1);\n      brightnessPanel = createVariableFilterPanel('Brightness', brightness$1, 0, -1, 1);\n      huePanel = createVariableFilterPanel('Hue', hue$1, 180, 0, 360);\n      saturatePanel = createVariableFilterPanel('Saturate', saturate$1, 0, -1, 1);\n      contrastPanel = createVariableFilterPanel('Contrast', contrast$1, 0, -1, 1);\n      grayscalePanel = createVariableFilterPanel('Grayscale', grayscale$1, 0, 0, 1);\n      sepiaPanel = createVariableFilterPanel('Sepia', sepia$1, 0, 0, 1);\n      colorizePanel = createRgbFilterPanel('Colorize', colorize$1);\n      gammaPanel = createVariableFilterPanel('Gamma', gamma$1, 0, -1, 1);\n      exposurePanel = createVariableFilterPanel('Exposure', exposure$1, 1, 0, 2);\n      filtersPanel = createPanel(reverseIfRtl([\n        {\n          text: 'Back',\n          onclick: cancel\n        },\n        {\n          type: 'spacer',\n          flex: 1\n        },\n        {\n          text: 'hue',\n          icon: 'hue',\n          onclick: switchPanel(huePanel)\n        },\n        {\n          text: 'saturate',\n          icon: 'saturate',\n          onclick: switchPanel(saturatePanel)\n        },\n        {\n          text: 'sepia',\n          icon: 'sepia',\n          onclick: switchPanel(sepiaPanel)\n        },\n        {\n          text: 'emboss',\n          icon: 'emboss',\n          onclick: switchPanel(embossPanel)\n        },\n        {\n          text: 'exposure',\n          icon: 'exposure',\n          onclick: switchPanel(exposurePanel)\n        },\n        {\n          type: 'spacer',\n          flex: 1\n        }\n      ])).hide();\n      mainPanel = createPanel(reverseIfRtl([\n        {\n          tooltip: 'Crop',\n          icon: 'crop',\n          onclick: switchPanel(cropPanel)\n        },\n        {\n          tooltip: 'Resize',\n          icon: 'resize2',\n          onclick: switchPanel(resizePanel)\n        },\n        {\n          tooltip: 'Orientation',\n          icon: 'orientation',\n          onclick: switchPanel(flipRotatePanel)\n        },\n        {\n          tooltip: 'Brightness',\n          icon: 'sun',\n          onclick: switchPanel(brightnessPanel)\n        },\n        {\n          tooltip: 'Sharpen',\n          icon: 'sharpen',\n          onclick: switchPanel(sharpenPanel)\n        },\n        {\n          tooltip: 'Contrast',\n          icon: 'contrast',\n          onclick: switchPanel(contrastPanel)\n        },\n        {\n          tooltip: 'Color levels',\n          icon: 'drop',\n          onclick: switchPanel(colorizePanel)\n        },\n        {\n          tooltip: 'Gamma',\n          icon: 'gamma',\n          onclick: switchPanel(gammaPanel)\n        },\n        {\n          tooltip: 'Invert',\n          icon: 'invert',\n          onclick: switchPanel(invertPanel)\n        }\n      ]));\n      imagePanel = ImagePanel.create({\n        flex: 1,\n        imageSrc: currentState.url\n      });\n      sidePanel = global$6.create('Container', {\n        layout: 'flex',\n        direction: 'column',\n        pack: 'start',\n        border: '0 1 0 0',\n        padding: 5,\n        spacing: 5,\n        items: [\n          {\n            type: 'button',\n            icon: 'undo',\n            tooltip: 'Undo',\n            name: 'undo',\n            onclick: undo\n          },\n          {\n            type: 'button',\n            icon: 'redo',\n            tooltip: 'Redo',\n            name: 'redo',\n            onclick: redo\n          },\n          {\n            type: 'button',\n            icon: 'zoomin',\n            tooltip: 'Zoom in',\n            onclick: zoomIn\n          },\n          {\n            type: 'button',\n            icon: 'zoomout',\n            tooltip: 'Zoom out',\n            onclick: zoomOut\n          }\n        ]\n      });\n      mainViewContainer = global$6.create('Container', {\n        type: 'container',\n        layout: 'flex',\n        direction: 'row',\n        align: 'stretch',\n        flex: 1,\n        items: reverseIfRtl([\n          sidePanel,\n          imagePanel\n        ])\n      });\n      panels = [\n        mainPanel,\n        cropPanel,\n        resizePanel,\n        flipRotatePanel,\n        filtersPanel,\n        invertPanel,\n        brightnessPanel,\n        huePanel,\n        saturatePanel,\n        contrastPanel,\n        grayscalePanel,\n        sepiaPanel,\n        colorizePanel,\n        sharpenPanel,\n        embossPanel,\n        gammaPanel,\n        exposurePanel\n      ];\n      win = editor.windowManager.open({\n        layout: 'flex',\n        direction: 'column',\n        align: 'stretch',\n        minWidth: Math.min(global$5.DOM.getViewPort().w, 800),\n        minHeight: Math.min(global$5.DOM.getViewPort().h, 650),\n        title: 'Edit image',\n        items: panels.concat([mainViewContainer]),\n        buttons: reverseIfRtl([\n          {\n            text: 'Save',\n            name: 'save',\n            subtype: 'primary',\n            onclick: save\n          },\n          {\n            text: 'Cancel',\n            onclick: 'close'\n          }\n        ])\n      });\n      win.on('close', function () {\n        reject();\n        destroyStates(undoStack.data);\n        undoStack = null;\n        tempState = null;\n      });\n      undoStack.add(currentState);\n      updateButtonUndoStates();\n      imagePanel.on('load', function () {\n        width = imagePanel.imageSize().w;\n        height = imagePanel.imageSize().h;\n        ratioW = height / width;\n        ratioH = width / height;\n        win.find('#w').value(width);\n        win.find('#h').value(height);\n      });\n      imagePanel.on('crop', crop);\n    }\n    function edit(editor, imageResult) {\n      return new global$3(function (resolve, reject) {\n        return imageResult.toBlob().then(function (blob) {\n          open(editor, createState(blob), resolve, reject);\n        });\n      });\n    }\n    var Dialog = { edit: edit };\n\n    function getImageSize(img) {\n      var width, height;\n      function isPxValue(value) {\n        return /^[0-9\\.]+px$/.test(value);\n      }\n      width = img.style.width;\n      height = img.style.height;\n      if (width || height) {\n        if (isPxValue(width) && isPxValue(height)) {\n          return {\n            w: parseInt(width, 10),\n            h: parseInt(height, 10)\n          };\n        }\n        return null;\n      }\n      width = img.width;\n      height = img.height;\n      if (width && height) {\n        return {\n          w: parseInt(width, 10),\n          h: parseInt(height, 10)\n        };\n      }\n      return null;\n    }\n    function setImageSize(img, size) {\n      var width, height;\n      if (size) {\n        width = img.style.width;\n        height = img.style.height;\n        if (width || height) {\n          img.style.width = size.w + 'px';\n          img.style.height = size.h + 'px';\n          img.removeAttribute('data-mce-style');\n        }\n        width = img.width;\n        height = img.height;\n        if (width || height) {\n          img.setAttribute('width', size.w);\n          img.setAttribute('height', size.h);\n        }\n      }\n    }\n    function getNaturalImageSize(img) {\n      return {\n        w: img.naturalWidth,\n        h: img.naturalHeight\n      };\n    }\n    var ImageSize = {\n      getImageSize: getImageSize,\n      setImageSize: setImageSize,\n      getNaturalImageSize: getNaturalImageSize\n    };\n\n    var typeOf = function (x) {\n      if (x === null) {\n        return 'null';\n      }\n      var t = typeof x;\n      if (t === 'object' && (Array.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'Array')) {\n        return 'array';\n      }\n      if (t === 'object' && (String.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'String')) {\n        return 'string';\n      }\n      return t;\n    };\n    var isType = function (type) {\n      return function (value) {\n        return typeOf(value) === type;\n      };\n    };\n    var isFunction = isType('function');\n\n    var nativeSlice = Array.prototype.slice;\n    var find = function (xs, pred) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          return Option.some(x);\n        }\n      }\n      return Option.none();\n    };\n    var from$1 = isFunction(Array.from) ? Array.from : function (x) {\n      return nativeSlice.call(x);\n    };\n\n    function FileReader () {\n      var f = Global$1.getOrDie('FileReader');\n      return new f();\n    }\n\n    function XMLHttpRequest () {\n      var f = Global$1.getOrDie('XMLHttpRequest');\n      return new f();\n    }\n\n    var isValue = function (obj) {\n      return obj !== null && obj !== undefined;\n    };\n    var traverse = function (json, path) {\n      var value;\n      value = path.reduce(function (result, key) {\n        return isValue(result) ? result[key] : undefined;\n      }, json);\n      return isValue(value) ? value : null;\n    };\n    var requestUrlAsBlob = function (url, headers, withCredentials) {\n      return new global$3(function (resolve) {\n        var xhr;\n        xhr = XMLHttpRequest();\n        xhr.onreadystatechange = function () {\n          if (xhr.readyState === 4) {\n            resolve({\n              status: xhr.status,\n              blob: this.response\n            });\n          }\n        };\n        xhr.open('GET', url, true);\n        xhr.withCredentials = withCredentials;\n        global$1.each(headers, function (value, key) {\n          xhr.setRequestHeader(key, value);\n        });\n        xhr.responseType = 'blob';\n        xhr.send();\n      });\n    };\n    var readBlob = function (blob) {\n      return new global$3(function (resolve) {\n        var fr = FileReader();\n        fr.onload = function (e) {\n          var data = e.target;\n          resolve(data.result);\n        };\n        fr.readAsText(blob);\n      });\n    };\n    var parseJson = function (text) {\n      var json;\n      try {\n        json = JSON.parse(text);\n      } catch (ex) {\n      }\n      return json;\n    };\n    var Utils = {\n      traverse: traverse,\n      readBlob: readBlob,\n      requestUrlAsBlob: requestUrlAsBlob,\n      parseJson: parseJson\n    };\n\n    var friendlyHttpErrors = [\n      {\n        code: 404,\n        message: 'Could not find Image Proxy'\n      },\n      {\n        code: 403,\n        message: 'Rejected request'\n      },\n      {\n        code: 0,\n        message: 'Incorrect Image Proxy URL'\n      }\n    ];\n    var friendlyServiceErrors = [\n      {\n        type: 'key_missing',\n        message: 'The request did not include an api key.'\n      },\n      {\n        type: 'key_not_found',\n        message: 'The provided api key could not be found.'\n      },\n      {\n        type: 'domain_not_trusted',\n        message: 'The api key is not valid for the request origins.'\n      }\n    ];\n    var isServiceErrorCode = function (code) {\n      return code === 400 || code === 403 || code === 500;\n    };\n    var getHttpErrorMsg = function (status) {\n      var message = find(friendlyHttpErrors, function (error) {\n        return status === error.code;\n      }).fold(constant('Unknown ImageProxy error'), function (error) {\n        return error.message;\n      });\n      return 'ImageProxy HTTP error: ' + message;\n    };\n    var handleHttpError = function (status) {\n      var message = getHttpErrorMsg(status);\n      return global$3.reject(message);\n    };\n    var getServiceErrorMsg = function (type) {\n      return find(friendlyServiceErrors, function (error) {\n        return error.type === type;\n      }).fold(constant('Unknown service error'), function (error) {\n        return error.message;\n      });\n    };\n    var getServiceError = function (text) {\n      var serviceError = Utils.parseJson(text);\n      var errorType = Utils.traverse(serviceError, [\n        'error',\n        'type'\n      ]);\n      var errorMsg = errorType ? getServiceErrorMsg(errorType) : 'Invalid JSON in service error message';\n      return 'ImageProxy Service error: ' + errorMsg;\n    };\n    var handleServiceError = function (status, blob) {\n      return Utils.readBlob(blob).then(function (text) {\n        var serviceError = getServiceError(text);\n        return global$3.reject(serviceError);\n      });\n    };\n    var handleServiceErrorResponse = function (status, blob) {\n      return isServiceErrorCode(status) ? handleServiceError(status, blob) : handleHttpError(status);\n    };\n    var Errors = {\n      handleServiceErrorResponse: handleServiceErrorResponse,\n      handleHttpError: handleHttpError,\n      getHttpErrorMsg: getHttpErrorMsg,\n      getServiceErrorMsg: getServiceErrorMsg\n    };\n\n    var appendApiKey = function (url, apiKey) {\n      var separator = url.indexOf('?') === -1 ? '?' : '&';\n      if (/[?&]apiKey=/.test(url) || !apiKey) {\n        return url;\n      } else {\n        return url + separator + 'apiKey=' + encodeURIComponent(apiKey);\n      }\n    };\n    var requestServiceBlob = function (url, apiKey) {\n      var headers = {\n        'Content-Type': 'application/json;charset=UTF-8',\n        'tiny-api-key': apiKey\n      };\n      return Utils.requestUrlAsBlob(appendApiKey(url, apiKey), headers, false).then(function (result) {\n        return result.status < 200 || result.status >= 300 ? Errors.handleServiceErrorResponse(result.status, result.blob) : global$3.resolve(result.blob);\n      });\n    };\n    function requestBlob(url, withCredentials) {\n      return Utils.requestUrlAsBlob(url, {}, withCredentials).then(function (result) {\n        return result.status < 200 || result.status >= 300 ? Errors.handleHttpError(result.status) : global$3.resolve(result.blob);\n      });\n    }\n    var getUrl = function (url, apiKey, withCredentials) {\n      return apiKey ? requestServiceBlob(url, apiKey) : requestBlob(url, withCredentials);\n    };\n    var Proxy = { getUrl: getUrl };\n\n    var count$1 = 0;\n    var isEditableImage = function (editor, img) {\n      var selectorMatched = editor.dom.is(img, 'img:not([data-mce-object],[data-mce-placeholder])');\n      return selectorMatched && (isLocalImage(editor, img) || isCorsImage(editor, img) || editor.settings.imagetools_proxy);\n    };\n    var displayError = function (editor, error) {\n      editor.notificationManager.open({\n        text: error,\n        type: 'error'\n      });\n    };\n    var getSelectedImage = function (editor) {\n      return editor.selection.getNode();\n    };\n    var extractFilename = function (editor, url) {\n      var m = url.match(/\\/([^\\/\\?]+)?\\.(?:jpeg|jpg|png|gif)(?:\\?|$)/i);\n      if (m) {\n        return editor.dom.encode(m[1]);\n      }\n      return null;\n    };\n    var createId = function () {\n      return 'imagetools' + count$1++;\n    };\n    var isLocalImage = function (editor, img) {\n      var url = img.src;\n      return url.indexOf('data:') === 0 || url.indexOf('blob:') === 0 || new global$4(url).host === editor.documentBaseURI.host;\n    };\n    var isCorsImage = function (editor, img) {\n      return global$1.inArray(getCorsHosts(editor), new global$4(img.src).host) !== -1;\n    };\n    var isCorsWithCredentialsImage = function (editor, img) {\n      return global$1.inArray(getCredentialsHosts(editor), new global$4(img.src).host) !== -1;\n    };\n    var imageToBlob$2 = function (editor, img) {\n      var src = img.src, apiKey;\n      if (isCorsImage(editor, img)) {\n        return Proxy.getUrl(img.src, null, isCorsWithCredentialsImage(editor, img));\n      }\n      if (!isLocalImage(editor, img)) {\n        src = getProxyUrl(editor);\n        src += (src.indexOf('?') === -1 ? '?' : '&') + 'url=' + encodeURIComponent(img.src);\n        apiKey = getApiKey(editor);\n        return Proxy.getUrl(src, apiKey, false);\n      }\n      return imageToBlob$1(img);\n    };\n    var findSelectedBlob = function (editor) {\n      var blobInfo;\n      blobInfo = editor.editorUpload.blobCache.getByUri(getSelectedImage(editor).src);\n      if (blobInfo) {\n        return global$3.resolve(blobInfo.blob());\n      }\n      return imageToBlob$2(editor, getSelectedImage(editor));\n    };\n    var startTimedUpload = function (editor, imageUploadTimerState) {\n      var imageUploadTimer = global$2.setEditorTimeout(editor, function () {\n        editor.editorUpload.uploadImagesAuto();\n      }, getUploadTimeout(editor));\n      imageUploadTimerState.set(imageUploadTimer);\n    };\n    var cancelTimedUpload = function (imageUploadTimerState) {\n      clearTimeout(imageUploadTimerState.get());\n    };\n    var updateSelectedImage = function (editor, ir, uploadImmediately, imageUploadTimerState, size) {\n      return ir.toBlob().then(function (blob) {\n        var uri, name, blobCache, blobInfo, selectedImage;\n        blobCache = editor.editorUpload.blobCache;\n        selectedImage = getSelectedImage(editor);\n        uri = selectedImage.src;\n        if (shouldReuseFilename(editor)) {\n          blobInfo = blobCache.getByUri(uri);\n          if (blobInfo) {\n            uri = blobInfo.uri();\n            name = blobInfo.name();\n          } else {\n            name = extractFilename(editor, uri);\n          }\n        }\n        blobInfo = blobCache.create({\n          id: createId(),\n          blob: blob,\n          base64: ir.toBase64(),\n          uri: uri,\n          name: name\n        });\n        blobCache.add(blobInfo);\n        editor.undoManager.transact(function () {\n          function imageLoadedHandler() {\n            editor.$(selectedImage).off('load', imageLoadedHandler);\n            editor.nodeChanged();\n            if (uploadImmediately) {\n              editor.editorUpload.uploadImagesAuto();\n            } else {\n              cancelTimedUpload(imageUploadTimerState);\n              startTimedUpload(editor, imageUploadTimerState);\n            }\n          }\n          editor.$(selectedImage).on('load', imageLoadedHandler);\n          if (size) {\n            editor.$(selectedImage).attr({\n              width: size.w,\n              height: size.h\n            });\n          }\n          editor.$(selectedImage).attr({ src: blobInfo.blobUri() }).removeAttr('data-mce-src');\n        });\n        return blobInfo;\n      });\n    };\n    var selectedImageOperation = function (editor, imageUploadTimerState, fn, size) {\n      return function () {\n        return editor._scanForImages().then(curry(findSelectedBlob, editor)).then(blobToImageResult).then(fn).then(function (imageResult) {\n          return updateSelectedImage(editor, imageResult, false, imageUploadTimerState, size);\n        }, function (error) {\n          displayError(editor, error);\n        });\n      };\n    };\n    var rotate$2 = function (editor, imageUploadTimerState, angle) {\n      return function () {\n        var size = ImageSize.getImageSize(getSelectedImage(editor));\n        var flippedSize = size ? {\n          w: size.h,\n          h: size.w\n        } : null;\n        return selectedImageOperation(editor, imageUploadTimerState, function (imageResult) {\n          return rotate$1(imageResult, angle);\n        }, flippedSize)();\n      };\n    };\n    var flip$2 = function (editor, imageUploadTimerState, axis) {\n      return function () {\n        return selectedImageOperation(editor, imageUploadTimerState, function (imageResult) {\n          return flip$1(imageResult, axis);\n        })();\n      };\n    };\n    var editImageDialog = function (editor, imageUploadTimerState) {\n      return function () {\n        var img = getSelectedImage(editor), originalSize = ImageSize.getNaturalImageSize(img);\n        var handleDialogBlob = function (blob) {\n          return new global$3(function (resolve) {\n            blobToImage$1(blob).then(function (newImage) {\n              var newSize = ImageSize.getNaturalImageSize(newImage);\n              if (originalSize.w !== newSize.w || originalSize.h !== newSize.h) {\n                if (ImageSize.getImageSize(img)) {\n                  ImageSize.setImageSize(img, newSize);\n                }\n              }\n              URL.revokeObjectURL(newImage.src);\n              resolve(blob);\n            });\n          });\n        };\n        var openDialog = function (editor, imageResult) {\n          return Dialog.edit(editor, imageResult).then(handleDialogBlob).then(blobToImageResult).then(function (imageResult) {\n            return updateSelectedImage(editor, imageResult, true, imageUploadTimerState);\n          }, function () {\n          });\n        };\n        findSelectedBlob(editor).then(blobToImageResult).then(curry(openDialog, editor), function (error) {\n          displayError(editor, error);\n        });\n      };\n    };\n    var Actions = {\n      rotate: rotate$2,\n      flip: flip$2,\n      editImageDialog: editImageDialog,\n      isEditableImage: isEditableImage,\n      cancelTimedUpload: cancelTimedUpload\n    };\n\n    var register = function (editor, imageUploadTimerState) {\n      global$1.each({\n        mceImageRotateLeft: Actions.rotate(editor, imageUploadTimerState, -90),\n        mceImageRotateRight: Actions.rotate(editor, imageUploadTimerState, 90),\n        mceImageFlipVertical: Actions.flip(editor, imageUploadTimerState, 'v'),\n        mceImageFlipHorizontal: Actions.flip(editor, imageUploadTimerState, 'h'),\n        mceEditImage: Actions.editImageDialog(editor, imageUploadTimerState)\n      }, function (fn, cmd) {\n        editor.addCommand(cmd, fn);\n      });\n    };\n    var Commands = { register: register };\n\n    var setup = function (editor, imageUploadTimerState, lastSelectedImageState) {\n      editor.on('NodeChange', function (e) {\n        var lastSelectedImage = lastSelectedImageState.get();\n        if (lastSelectedImage && lastSelectedImage.src !== e.element.src) {\n          Actions.cancelTimedUpload(imageUploadTimerState);\n          editor.editorUpload.uploadImagesAuto();\n          lastSelectedImageState.set(null);\n        }\n        if (Actions.isEditableImage(editor, e.element)) {\n          lastSelectedImageState.set(e.element);\n        }\n      });\n    };\n    var UploadSelectedImage = { setup: setup };\n\n    var register$1 = function (editor) {\n      editor.addButton('rotateleft', {\n        title: 'Rotate counterclockwise',\n        cmd: 'mceImageRotateLeft'\n      });\n      editor.addButton('rotateright', {\n        title: 'Rotate clockwise',\n        cmd: 'mceImageRotateRight'\n      });\n      editor.addButton('flipv', {\n        title: 'Flip vertically',\n        cmd: 'mceImageFlipVertical'\n      });\n      editor.addButton('fliph', {\n        title: 'Flip horizontally',\n        cmd: 'mceImageFlipHorizontal'\n      });\n      editor.addButton('editimage', {\n        title: 'Edit image',\n        cmd: 'mceEditImage'\n      });\n      editor.addButton('imageoptions', {\n        title: 'Image options',\n        icon: 'options',\n        cmd: 'mceImage'\n      });\n    };\n    var Buttons = { register: register$1 };\n\n    var register$2 = function (editor) {\n      editor.addContextToolbar(curry(Actions.isEditableImage, editor), getToolbarItems(editor));\n    };\n    var ContextToolbar = { register: register$2 };\n\n    global.add('imagetools', function (editor) {\n      var imageUploadTimerState = Cell(0);\n      var lastSelectedImageState = Cell(null);\n      Commands.register(editor, imageUploadTimerState);\n      Buttons.register(editor);\n      ContextToolbar.register(editor);\n      UploadSelectedImage.setup(editor, imageUploadTimerState, lastSelectedImageState);\n    });\n    function Plugin () {\n    }\n\n    return Plugin;\n\n}(window));\n})();\n","// Exports the \"importcss\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/importcss')\n//   ES2015:\n//     import 'tinymce/plugins/importcss'\nrequire('./plugin.js');","(function () {\nvar importcss = (function () {\n    'use strict';\n\n    var global = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.EditorManager');\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.Env');\n\n    var global$4 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var shouldMergeClasses = function (editor) {\n      return editor.getParam('importcss_merge_classes');\n    };\n    var shouldImportExclusive = function (editor) {\n      return editor.getParam('importcss_exclusive');\n    };\n    var getSelectorConverter = function (editor) {\n      return editor.getParam('importcss_selector_converter');\n    };\n    var getSelectorFilter = function (editor) {\n      return editor.getParam('importcss_selector_filter');\n    };\n    var getCssGroups = function (editor) {\n      return editor.getParam('importcss_groups');\n    };\n    var shouldAppend = function (editor) {\n      return editor.getParam('importcss_append');\n    };\n    var getFileFilter = function (editor) {\n      return editor.getParam('importcss_file_filter');\n    };\n    var Settings = {\n      shouldMergeClasses: shouldMergeClasses,\n      shouldImportExclusive: shouldImportExclusive,\n      getSelectorConverter: getSelectorConverter,\n      getSelectorFilter: getSelectorFilter,\n      getCssGroups: getCssGroups,\n      shouldAppend: shouldAppend,\n      getFileFilter: getFileFilter\n    };\n\n    var removeCacheSuffix = function (url) {\n      var cacheSuffix = global$3.cacheSuffix;\n      if (typeof url === 'string') {\n        url = url.replace('?' + cacheSuffix, '').replace('&' + cacheSuffix, '');\n      }\n      return url;\n    };\n    var isSkinContentCss = function (editor, href) {\n      var settings = editor.settings, skin = settings.skin !== false ? settings.skin || 'lightgray' : false;\n      if (skin) {\n        var skinUrl = settings.skin_url ? editor.documentBaseURI.toAbsolute(settings.skin_url) : global$2.baseURL + '/skins/' + skin;\n        return href === skinUrl + '/content' + (editor.inline ? '.inline' : '') + '.min.css';\n      }\n      return false;\n    };\n    var compileFilter = function (filter) {\n      if (typeof filter === 'string') {\n        return function (value) {\n          return value.indexOf(filter) !== -1;\n        };\n      } else if (filter instanceof RegExp) {\n        return function (value) {\n          return filter.test(value);\n        };\n      }\n      return filter;\n    };\n    var getSelectors = function (editor, doc, fileFilter) {\n      var selectors = [], contentCSSUrls = {};\n      function append(styleSheet, imported) {\n        var href = styleSheet.href, rules;\n        href = removeCacheSuffix(href);\n        if (!href || !fileFilter(href, imported) || isSkinContentCss(editor, href)) {\n          return;\n        }\n        global$4.each(styleSheet.imports, function (styleSheet) {\n          append(styleSheet, true);\n        });\n        try {\n          rules = styleSheet.cssRules || styleSheet.rules;\n        } catch (e) {\n        }\n        global$4.each(rules, function (cssRule) {\n          if (cssRule.styleSheet) {\n            append(cssRule.styleSheet, true);\n          } else if (cssRule.selectorText) {\n            global$4.each(cssRule.selectorText.split(','), function (selector) {\n              selectors.push(global$4.trim(selector));\n            });\n          }\n        });\n      }\n      global$4.each(editor.contentCSS, function (url) {\n        contentCSSUrls[url] = true;\n      });\n      if (!fileFilter) {\n        fileFilter = function (href, imported) {\n          return imported || contentCSSUrls[href];\n        };\n      }\n      try {\n        global$4.each(doc.styleSheets, function (styleSheet) {\n          append(styleSheet);\n        });\n      } catch (e) {\n      }\n      return selectors;\n    };\n    var defaultConvertSelectorToFormat = function (editor, selectorText) {\n      var format;\n      var selector = /^(?:([a-z0-9\\-_]+))?(\\.[a-z0-9_\\-\\.]+)$/i.exec(selectorText);\n      if (!selector) {\n        return;\n      }\n      var elementName = selector[1];\n      var classes = selector[2].substr(1).split('.').join(' ');\n      var inlineSelectorElements = global$4.makeMap('a,img');\n      if (selector[1]) {\n        format = { title: selectorText };\n        if (editor.schema.getTextBlockElements()[elementName]) {\n          format.block = elementName;\n        } else if (editor.schema.getBlockElements()[elementName] || inlineSelectorElements[elementName.toLowerCase()]) {\n          format.selector = elementName;\n        } else {\n          format.inline = elementName;\n        }\n      } else if (selector[2]) {\n        format = {\n          inline: 'span',\n          title: selectorText.substr(1),\n          classes: classes\n        };\n      }\n      if (Settings.shouldMergeClasses(editor) !== false) {\n        format.classes = classes;\n      } else {\n        format.attributes = { class: classes };\n      }\n      return format;\n    };\n    var getGroupsBySelector = function (groups, selector) {\n      return global$4.grep(groups, function (group) {\n        return !group.filter || group.filter(selector);\n      });\n    };\n    var compileUserDefinedGroups = function (groups) {\n      return global$4.map(groups, function (group) {\n        return global$4.extend({}, group, {\n          original: group,\n          selectors: {},\n          filter: compileFilter(group.filter),\n          item: {\n            text: group.title,\n            menu: []\n          }\n        });\n      });\n    };\n    var isExclusiveMode = function (editor, group) {\n      return group === null || Settings.shouldImportExclusive(editor) !== false;\n    };\n    var isUniqueSelector = function (editor, selector, group, globallyUniqueSelectors) {\n      return !(isExclusiveMode(editor, group) ? selector in globallyUniqueSelectors : selector in group.selectors);\n    };\n    var markUniqueSelector = function (editor, selector, group, globallyUniqueSelectors) {\n      if (isExclusiveMode(editor, group)) {\n        globallyUniqueSelectors[selector] = true;\n      } else {\n        group.selectors[selector] = true;\n      }\n    };\n    var convertSelectorToFormat = function (editor, plugin, selector, group) {\n      var selectorConverter;\n      if (group && group.selector_converter) {\n        selectorConverter = group.selector_converter;\n      } else if (Settings.getSelectorConverter(editor)) {\n        selectorConverter = Settings.getSelectorConverter(editor);\n      } else {\n        selectorConverter = function () {\n          return defaultConvertSelectorToFormat(editor, selector);\n        };\n      }\n      return selectorConverter.call(plugin, selector, group);\n    };\n    var setup = function (editor) {\n      editor.on('renderFormatsMenu', function (e) {\n        var globallyUniqueSelectors = {};\n        var selectorFilter = compileFilter(Settings.getSelectorFilter(editor)), ctrl = e.control;\n        var groups = compileUserDefinedGroups(Settings.getCssGroups(editor));\n        var processSelector = function (selector, group) {\n          if (isUniqueSelector(editor, selector, group, globallyUniqueSelectors)) {\n            markUniqueSelector(editor, selector, group, globallyUniqueSelectors);\n            var format = convertSelectorToFormat(editor, editor.plugins.importcss, selector, group);\n            if (format) {\n              var formatName = format.name || global$1.DOM.uniqueId();\n              editor.formatter.register(formatName, format);\n              return global$4.extend({}, ctrl.settings.itemDefaults, {\n                text: format.title,\n                format: formatName\n              });\n            }\n          }\n          return null;\n        };\n        if (!Settings.shouldAppend(editor)) {\n          ctrl.items().remove();\n        }\n        global$4.each(getSelectors(editor, e.doc || editor.getDoc(), compileFilter(Settings.getFileFilter(editor))), function (selector) {\n          if (selector.indexOf('.mce-') === -1) {\n            if (!selectorFilter || selectorFilter(selector)) {\n              var selectorGroups = getGroupsBySelector(groups, selector);\n              if (selectorGroups.length > 0) {\n                global$4.each(selectorGroups, function (group) {\n                  var menuItem = processSelector(selector, group);\n                  if (menuItem) {\n                    group.item.menu.push(menuItem);\n                  }\n                });\n              } else {\n                var menuItem = processSelector(selector, null);\n                if (menuItem) {\n                  ctrl.add(menuItem);\n                }\n              }\n            }\n          }\n        });\n        global$4.each(groups, function (group) {\n          if (group.item.menu.length > 0) {\n            ctrl.add(group.item);\n          }\n        });\n        e.control.renderNew();\n      });\n    };\n    var ImportCss = {\n      defaultConvertSelectorToFormat: defaultConvertSelectorToFormat,\n      setup: setup\n    };\n\n    var get = function (editor) {\n      var convertSelectorToFormat = function (selectorText) {\n        return ImportCss.defaultConvertSelectorToFormat(editor, selectorText);\n      };\n      return { convertSelectorToFormat: convertSelectorToFormat };\n    };\n    var Api = { get: get };\n\n    global.add('importcss', function (editor) {\n      ImportCss.setup(editor);\n      return Api.get(editor);\n    });\n    function Plugin () {\n    }\n\n    return Plugin;\n\n}());\n})();\n","// Exports the \"insertdatetime\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/insertdatetime')\n//   ES2015:\n//     import 'tinymce/plugins/insertdatetime'\nrequire('./plugin.js');","(function () {\nvar insertdatetime = (function () {\n    'use strict';\n\n    var Cell = function (initial) {\n      var value = initial;\n      var get = function () {\n        return value;\n      };\n      var set = function (v) {\n        value = v;\n      };\n      var clone = function () {\n        return Cell(get());\n      };\n      return {\n        get: get,\n        set: set,\n        clone: clone\n      };\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var getDateFormat = function (editor) {\n      return editor.getParam('insertdatetime_dateformat', editor.translate('%Y-%m-%d'));\n    };\n    var getTimeFormat = function (editor) {\n      return editor.getParam('insertdatetime_timeformat', editor.translate('%H:%M:%S'));\n    };\n    var getFormats = function (editor) {\n      return editor.getParam('insertdatetime_formats', [\n        '%H:%M:%S',\n        '%Y-%m-%d',\n        '%I:%M:%S %p',\n        '%D'\n      ]);\n    };\n    var getDefaultDateTime = function (editor) {\n      var formats = getFormats(editor);\n      return formats.length > 0 ? formats[0] : getTimeFormat(editor);\n    };\n    var shouldInsertTimeElement = function (editor) {\n      return editor.getParam('insertdatetime_element', false);\n    };\n    var Settings = {\n      getDateFormat: getDateFormat,\n      getTimeFormat: getTimeFormat,\n      getFormats: getFormats,\n      getDefaultDateTime: getDefaultDateTime,\n      shouldInsertTimeElement: shouldInsertTimeElement\n    };\n\n    var daysShort = 'Sun Mon Tue Wed Thu Fri Sat Sun'.split(' ');\n    var daysLong = 'Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday'.split(' ');\n    var monthsShort = 'Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec'.split(' ');\n    var monthsLong = 'January February March April May June July August September October November December'.split(' ');\n    var addZeros = function (value, len) {\n      value = '' + value;\n      if (value.length < len) {\n        for (var i = 0; i < len - value.length; i++) {\n          value = '0' + value;\n        }\n      }\n      return value;\n    };\n    var getDateTime = function (editor, fmt, date) {\n      date = date || new Date();\n      fmt = fmt.replace('%D', '%m/%d/%Y');\n      fmt = fmt.replace('%r', '%I:%M:%S %p');\n      fmt = fmt.replace('%Y', '' + date.getFullYear());\n      fmt = fmt.replace('%y', '' + date.getYear());\n      fmt = fmt.replace('%m', addZeros(date.getMonth() + 1, 2));\n      fmt = fmt.replace('%d', addZeros(date.getDate(), 2));\n      fmt = fmt.replace('%H', '' + addZeros(date.getHours(), 2));\n      fmt = fmt.replace('%M', '' + addZeros(date.getMinutes(), 2));\n      fmt = fmt.replace('%S', '' + addZeros(date.getSeconds(), 2));\n      fmt = fmt.replace('%I', '' + ((date.getHours() + 11) % 12 + 1));\n      fmt = fmt.replace('%p', '' + (date.getHours() < 12 ? 'AM' : 'PM'));\n      fmt = fmt.replace('%B', '' + editor.translate(monthsLong[date.getMonth()]));\n      fmt = fmt.replace('%b', '' + editor.translate(monthsShort[date.getMonth()]));\n      fmt = fmt.replace('%A', '' + editor.translate(daysLong[date.getDay()]));\n      fmt = fmt.replace('%a', '' + editor.translate(daysShort[date.getDay()]));\n      fmt = fmt.replace('%%', '%');\n      return fmt;\n    };\n    var updateElement = function (editor, timeElm, computerTime, userTime) {\n      var newTimeElm = editor.dom.create('time', { datetime: computerTime }, userTime);\n      timeElm.parentNode.insertBefore(newTimeElm, timeElm);\n      editor.dom.remove(timeElm);\n      editor.selection.select(newTimeElm, true);\n      editor.selection.collapse(false);\n    };\n    var insertDateTime = function (editor, format) {\n      if (Settings.shouldInsertTimeElement(editor)) {\n        var userTime = getDateTime(editor, format);\n        var computerTime = void 0;\n        if (/%[HMSIp]/.test(format)) {\n          computerTime = getDateTime(editor, '%Y-%m-%dT%H:%M');\n        } else {\n          computerTime = getDateTime(editor, '%Y-%m-%d');\n        }\n        var timeElm = editor.dom.getParent(editor.selection.getStart(), 'time');\n        if (timeElm) {\n          updateElement(editor, timeElm, computerTime, userTime);\n        } else {\n          editor.insertContent('<time datetime=\"' + computerTime + '\">' + userTime + '</time>');\n        }\n      } else {\n        editor.insertContent(getDateTime(editor, format));\n      }\n    };\n    var Actions = {\n      insertDateTime: insertDateTime,\n      getDateTime: getDateTime\n    };\n\n    var register = function (editor) {\n      editor.addCommand('mceInsertDate', function () {\n        Actions.insertDateTime(editor, Settings.getDateFormat(editor));\n      });\n      editor.addCommand('mceInsertTime', function () {\n        Actions.insertDateTime(editor, Settings.getTimeFormat(editor));\n      });\n    };\n    var Commands = { register: register };\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var createMenuItems = function (editor, lastFormatState) {\n      var formats = Settings.getFormats(editor);\n      return global$1.map(formats, function (fmt) {\n        return {\n          text: Actions.getDateTime(editor, fmt),\n          onclick: function () {\n            lastFormatState.set(fmt);\n            Actions.insertDateTime(editor, fmt);\n          }\n        };\n      });\n    };\n    var register$1 = function (editor, lastFormatState) {\n      var menuItems = createMenuItems(editor, lastFormatState);\n      editor.addButton('insertdatetime', {\n        type: 'splitbutton',\n        title: 'Insert date/time',\n        menu: menuItems,\n        onclick: function () {\n          var lastFormat = lastFormatState.get();\n          Actions.insertDateTime(editor, lastFormat ? lastFormat : Settings.getDefaultDateTime(editor));\n        }\n      });\n      editor.addMenuItem('insertdatetime', {\n        icon: 'date',\n        text: 'Date/time',\n        menu: menuItems,\n        context: 'insert'\n      });\n    };\n    var Buttons = { register: register$1 };\n\n    global.add('insertdatetime', function (editor) {\n      var lastFormatState = Cell(null);\n      Commands.register(editor);\n      Buttons.register(editor, lastFormatState);\n    });\n    function Plugin () {\n    }\n\n    return Plugin;\n\n}());\n})();\n","// Exports the \"legacyoutput\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/legacyoutput')\n//   ES2015:\n//     import 'tinymce/plugins/legacyoutput'\nrequire('./plugin.js');","(function () {\nvar legacyoutput = (function () {\n    'use strict';\n\n    var global = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var overrideFormats = function (editor) {\n      var alignElements = 'p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li,table,img', fontSizes = global$1.explode(editor.settings.font_size_style_values), schema = editor.schema;\n      editor.formatter.register({\n        alignleft: {\n          selector: alignElements,\n          attributes: { align: 'left' }\n        },\n        aligncenter: {\n          selector: alignElements,\n          attributes: { align: 'center' }\n        },\n        alignright: {\n          selector: alignElements,\n          attributes: { align: 'right' }\n        },\n        alignjustify: {\n          selector: alignElements,\n          attributes: { align: 'justify' }\n        },\n        bold: [\n          {\n            inline: 'b',\n            remove: 'all'\n          },\n          {\n            inline: 'strong',\n            remove: 'all'\n          },\n          {\n            inline: 'span',\n            styles: { fontWeight: 'bold' }\n          }\n        ],\n        italic: [\n          {\n            inline: 'i',\n            remove: 'all'\n          },\n          {\n            inline: 'em',\n            remove: 'all'\n          },\n          {\n            inline: 'span',\n            styles: { fontStyle: 'italic' }\n          }\n        ],\n        underline: [\n          {\n            inline: 'u',\n            remove: 'all'\n          },\n          {\n            inline: 'span',\n            styles: { textDecoration: 'underline' },\n            exact: true\n          }\n        ],\n        strikethrough: [\n          {\n            inline: 'strike',\n            remove: 'all'\n          },\n          {\n            inline: 'span',\n            styles: { textDecoration: 'line-through' },\n            exact: true\n          }\n        ],\n        fontname: {\n          inline: 'font',\n          attributes: { face: '%value' }\n        },\n        fontsize: {\n          inline: 'font',\n          attributes: {\n            size: function (vars) {\n              return global$1.inArray(fontSizes, vars.value) + 1;\n            }\n          }\n        },\n        forecolor: {\n          inline: 'font',\n          attributes: { color: '%value' }\n        },\n        hilitecolor: {\n          inline: 'font',\n          styles: { backgroundColor: '%value' }\n        }\n      });\n      global$1.each('b,i,u,strike'.split(','), function (name) {\n        schema.addValidElements(name + '[*]');\n      });\n      if (!schema.getElementRule('font')) {\n        schema.addValidElements('font[face|size|color|style]');\n      }\n      global$1.each(alignElements.split(','), function (name) {\n        var rule = schema.getElementRule(name);\n        if (rule) {\n          if (!rule.attributes.align) {\n            rule.attributes.align = {};\n            rule.attributesOrder.push('align');\n          }\n        }\n      });\n    };\n    var setup = function (editor) {\n      editor.settings.inline_styles = false;\n      editor.on('init', function () {\n        overrideFormats(editor);\n      });\n    };\n    var Formats = { setup: setup };\n\n    var register = function (editor) {\n      editor.addButton('fontsizeselect', function () {\n        var items = [], defaultFontsizeFormats = '8pt=1 10pt=2 12pt=3 14pt=4 18pt=5 24pt=6 36pt=7';\n        var fontsizeFormats = editor.settings.fontsizeFormats || defaultFontsizeFormats;\n        editor.$.each(fontsizeFormats.split(' '), function (i, item) {\n          var text = item, value = item;\n          var values = item.split('=');\n          if (values.length > 1) {\n            text = values[0];\n            value = values[1];\n          }\n          items.push({\n            text: text,\n            value: value\n          });\n        });\n        return {\n          type: 'listbox',\n          text: 'Font Sizes',\n          tooltip: 'Font Sizes',\n          values: items,\n          fixedWidth: true,\n          onPostRender: function () {\n            var self = this;\n            editor.on('NodeChange', function () {\n              var fontElm;\n              fontElm = editor.dom.getParent(editor.selection.getNode(), 'font');\n              if (fontElm) {\n                self.value(fontElm.size);\n              } else {\n                self.value('');\n              }\n            });\n          },\n          onclick: function (e) {\n            if (e.control.settings.value) {\n              editor.execCommand('FontSize', false, e.control.settings.value);\n            }\n          }\n        };\n      });\n      editor.addButton('fontselect', function () {\n        function createFormats(formats) {\n          formats = formats.replace(/;$/, '').split(';');\n          var i = formats.length;\n          while (i--) {\n            formats[i] = formats[i].split('=');\n          }\n          return formats;\n        }\n        var defaultFontsFormats = 'Andale Mono=andale mono,monospace;' + 'Arial=arial,helvetica,sans-serif;' + 'Arial Black=arial black,sans-serif;' + 'Book Antiqua=book antiqua,palatino,serif;' + 'Comic Sans MS=comic sans ms,sans-serif;' + 'Courier New=courier new,courier,monospace;' + 'Georgia=georgia,palatino,serif;' + 'Helvetica=helvetica,arial,sans-serif;' + 'Impact=impact,sans-serif;' + 'Symbol=symbol;' + 'Tahoma=tahoma,arial,helvetica,sans-serif;' + 'Terminal=terminal,monaco,monospace;' + 'Times New Roman=times new roman,times,serif;' + 'Trebuchet MS=trebuchet ms,geneva,sans-serif;' + 'Verdana=verdana,geneva,sans-serif;' + 'Webdings=webdings;' + 'Wingdings=wingdings,zapf dingbats';\n        var items = [], fonts = createFormats(editor.settings.font_formats || defaultFontsFormats);\n        editor.$.each(fonts, function (i, font) {\n          items.push({\n            text: { raw: font[0] },\n            value: font[1],\n            textStyle: font[1].indexOf('dings') === -1 ? 'font-family:' + font[1] : ''\n          });\n        });\n        return {\n          type: 'listbox',\n          text: 'Font Family',\n          tooltip: 'Font Family',\n          values: items,\n          fixedWidth: true,\n          onPostRender: function () {\n            var self = this;\n            editor.on('NodeChange', function () {\n              var fontElm;\n              fontElm = editor.dom.getParent(editor.selection.getNode(), 'font');\n              if (fontElm) {\n                self.value(fontElm.face);\n              } else {\n                self.value('');\n              }\n            });\n          },\n          onselect: function (e) {\n            if (e.control.settings.value) {\n              editor.execCommand('FontName', false, e.control.settings.value);\n            }\n          }\n        };\n      });\n    };\n    var Buttons = { register: register };\n\n    global.add('legacyoutput', function (editor) {\n      Formats.setup(editor);\n      Buttons.register(editor);\n    });\n    function Plugin () {\n    }\n\n    return Plugin;\n\n}());\n})();\n","// Exports the \"link\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/link')\n//   ES2015:\n//     import 'tinymce/plugins/link'\nrequire('./plugin.js');","(function () {\nvar link = (function (domGlobals) {\n    'use strict';\n\n    var global = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.util.VK');\n\n    var assumeExternalTargets = function (editorSettings) {\n      return typeof editorSettings.link_assume_external_targets === 'boolean' ? editorSettings.link_assume_external_targets : false;\n    };\n    var hasContextToolbar = function (editorSettings) {\n      return typeof editorSettings.link_context_toolbar === 'boolean' ? editorSettings.link_context_toolbar : false;\n    };\n    var getLinkList = function (editorSettings) {\n      return editorSettings.link_list;\n    };\n    var hasDefaultLinkTarget = function (editorSettings) {\n      return typeof editorSettings.default_link_target === 'string';\n    };\n    var getDefaultLinkTarget = function (editorSettings) {\n      return editorSettings.default_link_target;\n    };\n    var getTargetList = function (editorSettings) {\n      return editorSettings.target_list;\n    };\n    var setTargetList = function (editor, list) {\n      editor.settings.target_list = list;\n    };\n    var shouldShowTargetList = function (editorSettings) {\n      return getTargetList(editorSettings) !== false;\n    };\n    var getRelList = function (editorSettings) {\n      return editorSettings.rel_list;\n    };\n    var hasRelList = function (editorSettings) {\n      return getRelList(editorSettings) !== undefined;\n    };\n    var getLinkClassList = function (editorSettings) {\n      return editorSettings.link_class_list;\n    };\n    var hasLinkClassList = function (editorSettings) {\n      return getLinkClassList(editorSettings) !== undefined;\n    };\n    var shouldShowLinkTitle = function (editorSettings) {\n      return editorSettings.link_title !== false;\n    };\n    var allowUnsafeLinkTarget = function (editorSettings) {\n      return typeof editorSettings.allow_unsafe_link_target === 'boolean' ? editorSettings.allow_unsafe_link_target : false;\n    };\n    var Settings = {\n      assumeExternalTargets: assumeExternalTargets,\n      hasContextToolbar: hasContextToolbar,\n      getLinkList: getLinkList,\n      hasDefaultLinkTarget: hasDefaultLinkTarget,\n      getDefaultLinkTarget: getDefaultLinkTarget,\n      getTargetList: getTargetList,\n      setTargetList: setTargetList,\n      shouldShowTargetList: shouldShowTargetList,\n      getRelList: getRelList,\n      hasRelList: hasRelList,\n      getLinkClassList: getLinkClassList,\n      hasLinkClassList: hasLinkClassList,\n      shouldShowLinkTitle: shouldShowLinkTitle,\n      allowUnsafeLinkTarget: allowUnsafeLinkTarget\n    };\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.Env');\n\n    var appendClickRemove = function (link, evt) {\n      domGlobals.document.body.appendChild(link);\n      link.dispatchEvent(evt);\n      domGlobals.document.body.removeChild(link);\n    };\n    var open = function (url) {\n      if (!global$3.ie || global$3.ie > 10) {\n        var link = domGlobals.document.createElement('a');\n        link.target = '_blank';\n        link.href = url;\n        link.rel = 'noreferrer noopener';\n        var evt = domGlobals.document.createEvent('MouseEvents');\n        evt.initMouseEvent('click', true, true, domGlobals.window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);\n        appendClickRemove(link, evt);\n      } else {\n        var win = domGlobals.window.open('', '_blank');\n        if (win) {\n          win.opener = null;\n          var doc = win.document;\n          doc.open();\n          doc.write('<meta http-equiv=\"refresh\" content=\"0; url=' + global$2.DOM.encode(url) + '\">');\n          doc.close();\n        }\n      }\n    };\n    var OpenUrl = { open: open };\n\n    var global$4 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var toggleTargetRules = function (rel, isUnsafe) {\n      var rules = ['noopener'];\n      var newRel = rel ? rel.split(/\\s+/) : [];\n      var toString = function (rel) {\n        return global$4.trim(rel.sort().join(' '));\n      };\n      var addTargetRules = function (rel) {\n        rel = removeTargetRules(rel);\n        return rel.length ? rel.concat(rules) : rules;\n      };\n      var removeTargetRules = function (rel) {\n        return rel.filter(function (val) {\n          return global$4.inArray(rules, val) === -1;\n        });\n      };\n      newRel = isUnsafe ? addTargetRules(newRel) : removeTargetRules(newRel);\n      return newRel.length ? toString(newRel) : null;\n    };\n    var trimCaretContainers = function (text) {\n      return text.replace(/\\uFEFF/g, '');\n    };\n    var getAnchorElement = function (editor, selectedElm) {\n      selectedElm = selectedElm || editor.selection.getNode();\n      if (isImageFigure(selectedElm)) {\n        return editor.dom.select('a[href]', selectedElm)[0];\n      } else {\n        return editor.dom.getParent(selectedElm, 'a[href]');\n      }\n    };\n    var getAnchorText = function (selection, anchorElm) {\n      var text = anchorElm ? anchorElm.innerText || anchorElm.textContent : selection.getContent({ format: 'text' });\n      return trimCaretContainers(text);\n    };\n    var isLink = function (elm) {\n      return elm && elm.nodeName === 'A' && elm.href;\n    };\n    var hasLinks = function (elements) {\n      return global$4.grep(elements, isLink).length > 0;\n    };\n    var isOnlyTextSelected = function (html) {\n      if (/</.test(html) && (!/^<a [^>]+>[^<]+<\\/a>$/.test(html) || html.indexOf('href=') === -1)) {\n        return false;\n      }\n      return true;\n    };\n    var isImageFigure = function (node) {\n      return node && node.nodeName === 'FIGURE' && /\\bimage\\b/i.test(node.className);\n    };\n    var link = function (editor, attachState) {\n      return function (data) {\n        editor.undoManager.transact(function () {\n          var selectedElm = editor.selection.getNode();\n          var anchorElm = getAnchorElement(editor, selectedElm);\n          var linkAttrs = {\n            href: data.href,\n            target: data.target ? data.target : null,\n            rel: data.rel ? data.rel : null,\n            class: data.class ? data.class : null,\n            title: data.title ? data.title : null\n          };\n          if (!Settings.hasRelList(editor.settings) && Settings.allowUnsafeLinkTarget(editor.settings) === false) {\n            linkAttrs.rel = toggleTargetRules(linkAttrs.rel, linkAttrs.target === '_blank');\n          }\n          if (data.href === attachState.href) {\n            attachState.attach();\n            attachState = {};\n          }\n          if (anchorElm) {\n            editor.focus();\n            if (data.hasOwnProperty('text')) {\n              if ('innerText' in anchorElm) {\n                anchorElm.innerText = data.text;\n              } else {\n                anchorElm.textContent = data.text;\n              }\n            }\n            editor.dom.setAttribs(anchorElm, linkAttrs);\n            editor.selection.select(anchorElm);\n            editor.undoManager.add();\n          } else {\n            if (isImageFigure(selectedElm)) {\n              linkImageFigure(editor, selectedElm, linkAttrs);\n            } else if (data.hasOwnProperty('text')) {\n              editor.insertContent(editor.dom.createHTML('a', linkAttrs, editor.dom.encode(data.text)));\n            } else {\n              editor.execCommand('mceInsertLink', false, linkAttrs);\n            }\n          }\n        });\n      };\n    };\n    var unlink = function (editor) {\n      return function () {\n        editor.undoManager.transact(function () {\n          var node = editor.selection.getNode();\n          if (isImageFigure(node)) {\n            unlinkImageFigure(editor, node);\n          } else {\n            editor.execCommand('unlink');\n          }\n        });\n      };\n    };\n    var unlinkImageFigure = function (editor, fig) {\n      var a, img;\n      img = editor.dom.select('img', fig)[0];\n      if (img) {\n        a = editor.dom.getParents(img, 'a[href]', fig)[0];\n        if (a) {\n          a.parentNode.insertBefore(img, a);\n          editor.dom.remove(a);\n        }\n      }\n    };\n    var linkImageFigure = function (editor, fig, attrs) {\n      var a, img;\n      img = editor.dom.select('img', fig)[0];\n      if (img) {\n        a = editor.dom.create('a', attrs);\n        img.parentNode.insertBefore(a, img);\n        a.appendChild(img);\n      }\n    };\n    var Utils = {\n      link: link,\n      unlink: unlink,\n      isLink: isLink,\n      hasLinks: hasLinks,\n      isOnlyTextSelected: isOnlyTextSelected,\n      getAnchorElement: getAnchorElement,\n      getAnchorText: getAnchorText,\n      toggleTargetRules: toggleTargetRules\n    };\n\n    var global$5 = tinymce.util.Tools.resolve('tinymce.util.Delay');\n\n    var global$6 = tinymce.util.Tools.resolve('tinymce.util.XHR');\n\n    var attachState = {};\n    var createLinkList = function (editor, callback) {\n      var linkList = Settings.getLinkList(editor.settings);\n      if (typeof linkList === 'string') {\n        global$6.send({\n          url: linkList,\n          success: function (text) {\n            callback(editor, JSON.parse(text));\n          }\n        });\n      } else if (typeof linkList === 'function') {\n        linkList(function (list) {\n          callback(editor, list);\n        });\n      } else {\n        callback(editor, linkList);\n      }\n    };\n    var buildListItems = function (inputList, itemCallback, startItems) {\n      var appendItems = function (values, output) {\n        output = output || [];\n        global$4.each(values, function (item) {\n          var menuItem = { text: item.text || item.title };\n          if (item.menu) {\n            menuItem.menu = appendItems(item.menu);\n          } else {\n            menuItem.value = item.value;\n            if (itemCallback) {\n              itemCallback(menuItem);\n            }\n          }\n          output.push(menuItem);\n        });\n        return output;\n      };\n      return appendItems(inputList, startItems || []);\n    };\n    var delayedConfirm = function (editor, message, callback) {\n      var rng = editor.selection.getRng();\n      global$5.setEditorTimeout(editor, function () {\n        editor.windowManager.confirm(message, function (state) {\n          editor.selection.setRng(rng);\n          callback(state);\n        });\n      });\n    };\n    var showDialog = function (editor, linkList) {\n      var data = {};\n      var selection = editor.selection;\n      var dom = editor.dom;\n      var anchorElm, initialText;\n      var win, onlyText, textListCtrl, linkListCtrl, relListCtrl, targetListCtrl, classListCtrl, linkTitleCtrl, value;\n      var linkListChangeHandler = function (e) {\n        var textCtrl = win.find('#text');\n        if (!textCtrl.value() || e.lastControl && textCtrl.value() === e.lastControl.text()) {\n          textCtrl.value(e.control.text());\n        }\n        win.find('#href').value(e.control.value());\n      };\n      var buildAnchorListControl = function (url) {\n        var anchorList = [];\n        global$4.each(editor.dom.select('a:not([href])'), function (anchor) {\n          var id = anchor.name || anchor.id;\n          if (id) {\n            anchorList.push({\n              text: id,\n              value: '#' + id,\n              selected: url.indexOf('#' + id) !== -1\n            });\n          }\n        });\n        if (anchorList.length) {\n          anchorList.unshift({\n            text: 'None',\n            value: ''\n          });\n          return {\n            name: 'anchor',\n            type: 'listbox',\n            label: 'Anchors',\n            values: anchorList,\n            onselect: linkListChangeHandler\n          };\n        }\n      };\n      var updateText = function () {\n        if (!initialText && onlyText && !data.text) {\n          this.parent().parent().find('#text')[0].value(this.value());\n        }\n      };\n      var urlChange = function (e) {\n        var meta = e.meta || {};\n        if (linkListCtrl) {\n          linkListCtrl.value(editor.convertURL(this.value(), 'href'));\n        }\n        global$4.each(e.meta, function (value, key) {\n          var inp = win.find('#' + key);\n          if (key === 'text') {\n            if (initialText.length === 0) {\n              inp.value(value);\n              data.text = value;\n            }\n          } else {\n            inp.value(value);\n          }\n        });\n        if (meta.attach) {\n          attachState = {\n            href: this.value(),\n            attach: meta.attach\n          };\n        }\n        if (!meta.text) {\n          updateText.call(this);\n        }\n      };\n      var onBeforeCall = function (e) {\n        e.meta = win.toJSON();\n      };\n      onlyText = Utils.isOnlyTextSelected(selection.getContent());\n      anchorElm = Utils.getAnchorElement(editor);\n      data.text = initialText = Utils.getAnchorText(editor.selection, anchorElm);\n      data.href = anchorElm ? dom.getAttrib(anchorElm, 'href') : '';\n      if (anchorElm) {\n        data.target = dom.getAttrib(anchorElm, 'target');\n      } else if (Settings.hasDefaultLinkTarget(editor.settings)) {\n        data.target = Settings.getDefaultLinkTarget(editor.settings);\n      }\n      if (value = dom.getAttrib(anchorElm, 'rel')) {\n        data.rel = value;\n      }\n      if (value = dom.getAttrib(anchorElm, 'class')) {\n        data.class = value;\n      }\n      if (value = dom.getAttrib(anchorElm, 'title')) {\n        data.title = value;\n      }\n      if (onlyText) {\n        textListCtrl = {\n          name: 'text',\n          type: 'textbox',\n          size: 40,\n          label: 'Text to display',\n          onchange: function () {\n            data.text = this.value();\n          }\n        };\n      }\n      if (linkList) {\n        linkListCtrl = {\n          type: 'listbox',\n          label: 'Link list',\n          values: buildListItems(linkList, function (item) {\n            item.value = editor.convertURL(item.value || item.url, 'href');\n          }, [{\n              text: 'None',\n              value: ''\n            }]),\n          onselect: linkListChangeHandler,\n          value: editor.convertURL(data.href, 'href'),\n          onPostRender: function () {\n            linkListCtrl = this;\n          }\n        };\n      }\n      if (Settings.shouldShowTargetList(editor.settings)) {\n        if (Settings.getTargetList(editor.settings) === undefined) {\n          Settings.setTargetList(editor, [\n            {\n              text: 'None',\n              value: ''\n            },\n            {\n              text: 'New window',\n              value: '_blank'\n            }\n          ]);\n        }\n        targetListCtrl = {\n          name: 'target',\n          type: 'listbox',\n          label: 'Target',\n          values: buildListItems(Settings.getTargetList(editor.settings))\n        };\n      }\n      if (Settings.hasRelList(editor.settings)) {\n        relListCtrl = {\n          name: 'rel',\n          type: 'listbox',\n          label: 'Rel',\n          values: buildListItems(Settings.getRelList(editor.settings), function (item) {\n            if (Settings.allowUnsafeLinkTarget(editor.settings) === false) {\n              item.value = Utils.toggleTargetRules(item.value, data.target === '_blank');\n            }\n          })\n        };\n      }\n      if (Settings.hasLinkClassList(editor.settings)) {\n        classListCtrl = {\n          name: 'class',\n          type: 'listbox',\n          label: 'Class',\n          values: buildListItems(Settings.getLinkClassList(editor.settings), function (item) {\n            if (item.value) {\n              item.textStyle = function () {\n                return editor.formatter.getCssText({\n                  inline: 'a',\n                  classes: [item.value]\n                });\n              };\n            }\n          })\n        };\n      }\n      if (Settings.shouldShowLinkTitle(editor.settings)) {\n        linkTitleCtrl = {\n          name: 'title',\n          type: 'textbox',\n          label: 'Title',\n          value: data.title\n        };\n      }\n      win = editor.windowManager.open({\n        title: 'Insert link',\n        data: data,\n        body: [\n          {\n            name: 'href',\n            type: 'filepicker',\n            filetype: 'file',\n            size: 40,\n            autofocus: true,\n            label: 'Url',\n            onchange: urlChange,\n            onkeyup: updateText,\n            onpaste: updateText,\n            onbeforecall: onBeforeCall\n          },\n          textListCtrl,\n          linkTitleCtrl,\n          buildAnchorListControl(data.href),\n          linkListCtrl,\n          relListCtrl,\n          targetListCtrl,\n          classListCtrl\n        ],\n        onSubmit: function (e) {\n          var assumeExternalTargets = Settings.assumeExternalTargets(editor.settings);\n          var insertLink = Utils.link(editor, attachState);\n          var removeLink = Utils.unlink(editor);\n          var resultData = global$4.extend({}, data, e.data);\n          var href = resultData.href;\n          if (!href) {\n            removeLink();\n            return;\n          }\n          if (!onlyText || resultData.text === initialText) {\n            delete resultData.text;\n          }\n          if (href.indexOf('@') > 0 && href.indexOf('//') === -1 && href.indexOf('mailto:') === -1) {\n            delayedConfirm(editor, 'The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?', function (state) {\n              if (state) {\n                resultData.href = 'mailto:' + href;\n              }\n              insertLink(resultData);\n            });\n            return;\n          }\n          if (assumeExternalTargets === true && !/^\\w+:/i.test(href) || assumeExternalTargets === false && /^\\s*www[\\.|\\d\\.]/i.test(href)) {\n            delayedConfirm(editor, 'The URL you entered seems to be an external link. Do you want to add the required http:// prefix?', function (state) {\n              if (state) {\n                resultData.href = 'http://' + href;\n              }\n              insertLink(resultData);\n            });\n            return;\n          }\n          insertLink(resultData);\n        }\n      });\n    };\n    var open$1 = function (editor) {\n      createLinkList(editor, showDialog);\n    };\n    var Dialog = { open: open$1 };\n\n    var getLink = function (editor, elm) {\n      return editor.dom.getParent(elm, 'a[href]');\n    };\n    var getSelectedLink = function (editor) {\n      return getLink(editor, editor.selection.getStart());\n    };\n    var getHref = function (elm) {\n      var href = elm.getAttribute('data-mce-href');\n      return href ? href : elm.getAttribute('href');\n    };\n    var isContextMenuVisible = function (editor) {\n      var contextmenu = editor.plugins.contextmenu;\n      return contextmenu ? contextmenu.isContextMenuVisible() : false;\n    };\n    var hasOnlyAltModifier = function (e) {\n      return e.altKey === true && e.shiftKey === false && e.ctrlKey === false && e.metaKey === false;\n    };\n    var gotoLink = function (editor, a) {\n      if (a) {\n        var href = getHref(a);\n        if (/^#/.test(href)) {\n          var targetEl = editor.$(href);\n          if (targetEl.length) {\n            editor.selection.scrollIntoView(targetEl[0], true);\n          }\n        } else {\n          OpenUrl.open(a.href);\n        }\n      }\n    };\n    var openDialog = function (editor) {\n      return function () {\n        Dialog.open(editor);\n      };\n    };\n    var gotoSelectedLink = function (editor) {\n      return function () {\n        gotoLink(editor, getSelectedLink(editor));\n      };\n    };\n    var leftClickedOnAHref = function (editor) {\n      return function (elm) {\n        var sel, rng, node;\n        if (Settings.hasContextToolbar(editor.settings) && !isContextMenuVisible(editor) && Utils.isLink(elm)) {\n          sel = editor.selection;\n          rng = sel.getRng();\n          node = rng.startContainer;\n          if (node.nodeType === 3 && sel.isCollapsed() && rng.startOffset > 0 && rng.startOffset < node.data.length) {\n            return true;\n          }\n        }\n        return false;\n      };\n    };\n    var setupGotoLinks = function (editor) {\n      editor.on('click', function (e) {\n        var link = getLink(editor, e.target);\n        if (link && global$1.metaKeyPressed(e)) {\n          e.preventDefault();\n          gotoLink(editor, link);\n        }\n      });\n      editor.on('keydown', function (e) {\n        var link = getSelectedLink(editor);\n        if (link && e.keyCode === 13 && hasOnlyAltModifier(e)) {\n          e.preventDefault();\n          gotoLink(editor, link);\n        }\n      });\n    };\n    var toggleActiveState = function (editor) {\n      return function () {\n        var self = this;\n        editor.on('nodechange', function (e) {\n          self.active(!editor.readonly && !!Utils.getAnchorElement(editor, e.element));\n        });\n      };\n    };\n    var toggleViewLinkState = function (editor) {\n      return function () {\n        var self = this;\n        var toggleVisibility = function (e) {\n          if (Utils.hasLinks(e.parents)) {\n            self.show();\n          } else {\n            self.hide();\n          }\n        };\n        if (!Utils.hasLinks(editor.dom.getParents(editor.selection.getStart()))) {\n          self.hide();\n        }\n        editor.on('nodechange', toggleVisibility);\n        self.on('remove', function () {\n          editor.off('nodechange', toggleVisibility);\n        });\n      };\n    };\n    var Actions = {\n      openDialog: openDialog,\n      gotoSelectedLink: gotoSelectedLink,\n      leftClickedOnAHref: leftClickedOnAHref,\n      setupGotoLinks: setupGotoLinks,\n      toggleActiveState: toggleActiveState,\n      toggleViewLinkState: toggleViewLinkState\n    };\n\n    var register = function (editor) {\n      editor.addCommand('mceLink', Actions.openDialog(editor));\n    };\n    var Commands = { register: register };\n\n    var setup = function (editor) {\n      editor.addShortcut('Meta+K', '', Actions.openDialog(editor));\n    };\n    var Keyboard = { setup: setup };\n\n    var setupButtons = function (editor) {\n      editor.addButton('link', {\n        active: false,\n        icon: 'link',\n        tooltip: 'Insert/edit link',\n        onclick: Actions.openDialog(editor),\n        onpostrender: Actions.toggleActiveState(editor)\n      });\n      editor.addButton('unlink', {\n        active: false,\n        icon: 'unlink',\n        tooltip: 'Remove link',\n        onclick: Utils.unlink(editor),\n        onpostrender: Actions.toggleActiveState(editor)\n      });\n      if (editor.addContextToolbar) {\n        editor.addButton('openlink', {\n          icon: 'newtab',\n          tooltip: 'Open link',\n          onclick: Actions.gotoSelectedLink(editor)\n        });\n      }\n    };\n    var setupMenuItems = function (editor) {\n      editor.addMenuItem('openlink', {\n        text: 'Open link',\n        icon: 'newtab',\n        onclick: Actions.gotoSelectedLink(editor),\n        onPostRender: Actions.toggleViewLinkState(editor),\n        prependToContext: true\n      });\n      editor.addMenuItem('link', {\n        icon: 'link',\n        text: 'Link',\n        shortcut: 'Meta+K',\n        onclick: Actions.openDialog(editor),\n        stateSelector: 'a[href]',\n        context: 'insert',\n        prependToContext: true\n      });\n      editor.addMenuItem('unlink', {\n        icon: 'unlink',\n        text: 'Remove link',\n        onclick: Utils.unlink(editor),\n        stateSelector: 'a[href]'\n      });\n    };\n    var setupContextToolbars = function (editor) {\n      if (editor.addContextToolbar) {\n        editor.addContextToolbar(Actions.leftClickedOnAHref(editor), 'openlink | link unlink');\n      }\n    };\n    var Controls = {\n      setupButtons: setupButtons,\n      setupMenuItems: setupMenuItems,\n      setupContextToolbars: setupContextToolbars\n    };\n\n    global.add('link', function (editor) {\n      Controls.setupButtons(editor);\n      Controls.setupMenuItems(editor);\n      Controls.setupContextToolbars(editor);\n      Actions.setupGotoLinks(editor);\n      Commands.register(editor);\n      Keyboard.setup(editor);\n    });\n    function Plugin () {\n    }\n\n    return Plugin;\n\n}(window));\n})();\n","// Exports the \"lists\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/lists')\n//   ES2015:\n//     import 'tinymce/plugins/lists'\nrequire('./plugin.js');","(function () {\nvar lists = (function (domGlobals) {\n    'use strict';\n\n    var global = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.dom.RangeUtils');\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.dom.TreeWalker');\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.util.VK');\n\n    var global$4 = tinymce.util.Tools.resolve('tinymce.dom.BookmarkManager');\n\n    var global$5 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var global$6 = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');\n\n    var isTextNode = function (node) {\n      return node && node.nodeType === 3;\n    };\n    var isListNode = function (node) {\n      return node && /^(OL|UL|DL)$/.test(node.nodeName);\n    };\n    var isOlUlNode = function (node) {\n      return node && /^(OL|UL)$/.test(node.nodeName);\n    };\n    var isListItemNode = function (node) {\n      return node && /^(LI|DT|DD)$/.test(node.nodeName);\n    };\n    var isDlItemNode = function (node) {\n      return node && /^(DT|DD)$/.test(node.nodeName);\n    };\n    var isTableCellNode = function (node) {\n      return node && /^(TH|TD)$/.test(node.nodeName);\n    };\n    var isBr = function (node) {\n      return node && node.nodeName === 'BR';\n    };\n    var isFirstChild = function (node) {\n      return node.parentNode.firstChild === node;\n    };\n    var isLastChild = function (node) {\n      return node.parentNode.lastChild === node;\n    };\n    var isTextBlock = function (editor, node) {\n      return node && !!editor.schema.getTextBlockElements()[node.nodeName];\n    };\n    var isBlock = function (node, blockElements) {\n      return node && node.nodeName in blockElements;\n    };\n    var isBogusBr = function (dom, node) {\n      if (!isBr(node)) {\n        return false;\n      }\n      if (dom.isBlock(node.nextSibling) && !isBr(node.previousSibling)) {\n        return true;\n      }\n      return false;\n    };\n    var isEmpty = function (dom, elm, keepBookmarks) {\n      var empty = dom.isEmpty(elm);\n      if (keepBookmarks && dom.select('span[data-mce-type=bookmark]', elm).length > 0) {\n        return false;\n      }\n      return empty;\n    };\n    var isChildOfBody = function (dom, elm) {\n      return dom.isChildOf(elm, dom.getRoot());\n    };\n    var NodeType = {\n      isTextNode: isTextNode,\n      isListNode: isListNode,\n      isOlUlNode: isOlUlNode,\n      isDlItemNode: isDlItemNode,\n      isListItemNode: isListItemNode,\n      isTableCellNode: isTableCellNode,\n      isBr: isBr,\n      isFirstChild: isFirstChild,\n      isLastChild: isLastChild,\n      isTextBlock: isTextBlock,\n      isBlock: isBlock,\n      isBogusBr: isBogusBr,\n      isEmpty: isEmpty,\n      isChildOfBody: isChildOfBody\n    };\n\n    var getNormalizedPoint = function (container, offset) {\n      if (NodeType.isTextNode(container)) {\n        return {\n          container: container,\n          offset: offset\n        };\n      }\n      var node = global$1.getNode(container, offset);\n      if (NodeType.isTextNode(node)) {\n        return {\n          container: node,\n          offset: offset >= container.childNodes.length ? node.data.length : 0\n        };\n      } else if (node.previousSibling && NodeType.isTextNode(node.previousSibling)) {\n        return {\n          container: node.previousSibling,\n          offset: node.previousSibling.data.length\n        };\n      } else if (node.nextSibling && NodeType.isTextNode(node.nextSibling)) {\n        return {\n          container: node.nextSibling,\n          offset: 0\n        };\n      }\n      return {\n        container: container,\n        offset: offset\n      };\n    };\n    var normalizeRange = function (rng) {\n      var outRng = rng.cloneRange();\n      var rangeStart = getNormalizedPoint(rng.startContainer, rng.startOffset);\n      outRng.setStart(rangeStart.container, rangeStart.offset);\n      var rangeEnd = getNormalizedPoint(rng.endContainer, rng.endOffset);\n      outRng.setEnd(rangeEnd.container, rangeEnd.offset);\n      return outRng;\n    };\n    var Range = {\n      getNormalizedPoint: getNormalizedPoint,\n      normalizeRange: normalizeRange\n    };\n\n    var DOM = global$6.DOM;\n    var createBookmark = function (rng) {\n      var bookmark = {};\n      var setupEndPoint = function (start) {\n        var offsetNode, container, offset;\n        container = rng[start ? 'startContainer' : 'endContainer'];\n        offset = rng[start ? 'startOffset' : 'endOffset'];\n        if (container.nodeType === 1) {\n          offsetNode = DOM.create('span', { 'data-mce-type': 'bookmark' });\n          if (container.hasChildNodes()) {\n            offset = Math.min(offset, container.childNodes.length - 1);\n            if (start) {\n              container.insertBefore(offsetNode, container.childNodes[offset]);\n            } else {\n              DOM.insertAfter(offsetNode, container.childNodes[offset]);\n            }\n          } else {\n            container.appendChild(offsetNode);\n          }\n          container = offsetNode;\n          offset = 0;\n        }\n        bookmark[start ? 'startContainer' : 'endContainer'] = container;\n        bookmark[start ? 'startOffset' : 'endOffset'] = offset;\n      };\n      setupEndPoint(true);\n      if (!rng.collapsed) {\n        setupEndPoint();\n      }\n      return bookmark;\n    };\n    var resolveBookmark = function (bookmark) {\n      function restoreEndPoint(start) {\n        var container, offset, node;\n        var nodeIndex = function (container) {\n          var node = container.parentNode.firstChild, idx = 0;\n          while (node) {\n            if (node === container) {\n              return idx;\n            }\n            if (node.nodeType !== 1 || node.getAttribute('data-mce-type') !== 'bookmark') {\n              idx++;\n            }\n            node = node.nextSibling;\n          }\n          return -1;\n        };\n        container = node = bookmark[start ? 'startContainer' : 'endContainer'];\n        offset = bookmark[start ? 'startOffset' : 'endOffset'];\n        if (!container) {\n          return;\n        }\n        if (container.nodeType === 1) {\n          offset = nodeIndex(container);\n          container = container.parentNode;\n          DOM.remove(node);\n          if (!container.hasChildNodes() && DOM.isBlock(container)) {\n            container.appendChild(DOM.create('br'));\n          }\n        }\n        bookmark[start ? 'startContainer' : 'endContainer'] = container;\n        bookmark[start ? 'startOffset' : 'endOffset'] = offset;\n      }\n      restoreEndPoint(true);\n      restoreEndPoint();\n      var rng = DOM.createRng();\n      rng.setStart(bookmark.startContainer, bookmark.startOffset);\n      if (bookmark.endContainer) {\n        rng.setEnd(bookmark.endContainer, bookmark.endOffset);\n      }\n      return Range.normalizeRange(rng);\n    };\n    var Bookmark = {\n      createBookmark: createBookmark,\n      resolveBookmark: resolveBookmark\n    };\n\n    var noop = function () {\n    };\n    var constant = function (value) {\n      return function () {\n        return value;\n      };\n    };\n    var not = function (f) {\n      return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        return !f.apply(null, args);\n      };\n    };\n    var never = constant(false);\n    var always = constant(true);\n\n    var none = function () {\n      return NONE;\n    };\n    var NONE = function () {\n      var eq = function (o) {\n        return o.isNone();\n      };\n      var call = function (thunk) {\n        return thunk();\n      };\n      var id = function (n) {\n        return n;\n      };\n      var me = {\n        fold: function (n, s) {\n          return n();\n        },\n        is: never,\n        isSome: never,\n        isNone: always,\n        getOr: id,\n        getOrThunk: call,\n        getOrDie: function (msg) {\n          throw new Error(msg || 'error: getOrDie called on none.');\n        },\n        getOrNull: constant(null),\n        getOrUndefined: constant(undefined),\n        or: id,\n        orThunk: call,\n        map: none,\n        each: noop,\n        bind: none,\n        exists: never,\n        forall: always,\n        filter: none,\n        equals: eq,\n        equals_: eq,\n        toArray: function () {\n          return [];\n        },\n        toString: constant('none()')\n      };\n      if (Object.freeze) {\n        Object.freeze(me);\n      }\n      return me;\n    }();\n    var some = function (a) {\n      var constant_a = constant(a);\n      var self = function () {\n        return me;\n      };\n      var bind = function (f) {\n        return f(a);\n      };\n      var me = {\n        fold: function (n, s) {\n          return s(a);\n        },\n        is: function (v) {\n          return a === v;\n        },\n        isSome: always,\n        isNone: never,\n        getOr: constant_a,\n        getOrThunk: constant_a,\n        getOrDie: constant_a,\n        getOrNull: constant_a,\n        getOrUndefined: constant_a,\n        or: self,\n        orThunk: self,\n        map: function (f) {\n          return some(f(a));\n        },\n        each: function (f) {\n          f(a);\n        },\n        bind: bind,\n        exists: bind,\n        forall: bind,\n        filter: function (f) {\n          return f(a) ? me : NONE;\n        },\n        toArray: function () {\n          return [a];\n        },\n        toString: function () {\n          return 'some(' + a + ')';\n        },\n        equals: function (o) {\n          return o.is(a);\n        },\n        equals_: function (o, elementEq) {\n          return o.fold(never, function (b) {\n            return elementEq(a, b);\n          });\n        }\n      };\n      return me;\n    };\n    var from = function (value) {\n      return value === null || value === undefined ? NONE : some(value);\n    };\n    var Option = {\n      some: some,\n      none: none,\n      from: from\n    };\n\n    var typeOf = function (x) {\n      if (x === null) {\n        return 'null';\n      }\n      var t = typeof x;\n      if (t === 'object' && (Array.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'Array')) {\n        return 'array';\n      }\n      if (t === 'object' && (String.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'String')) {\n        return 'string';\n      }\n      return t;\n    };\n    var isType = function (type) {\n      return function (value) {\n        return typeOf(value) === type;\n      };\n    };\n    var isString = isType('string');\n    var isArray = isType('array');\n    var isBoolean = isType('boolean');\n    var isFunction = isType('function');\n    var isNumber = isType('number');\n\n    var nativeSlice = Array.prototype.slice;\n    var nativePush = Array.prototype.push;\n    var map = function (xs, f) {\n      var len = xs.length;\n      var r = new Array(len);\n      for (var i = 0; i < len; i++) {\n        var x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    var each = function (xs, f) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        f(x, i);\n      }\n    };\n    var filter = function (xs, pred) {\n      var r = [];\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          r.push(x);\n        }\n      }\n      return r;\n    };\n    var groupBy = function (xs, f) {\n      if (xs.length === 0) {\n        return [];\n      } else {\n        var wasType = f(xs[0]);\n        var r = [];\n        var group = [];\n        for (var i = 0, len = xs.length; i < len; i++) {\n          var x = xs[i];\n          var type = f(x);\n          if (type !== wasType) {\n            r.push(group);\n            group = [];\n          }\n          wasType = type;\n          group.push(x);\n        }\n        if (group.length !== 0) {\n          r.push(group);\n        }\n        return r;\n      }\n    };\n    var foldl = function (xs, f, acc) {\n      each(xs, function (x) {\n        acc = f(acc, x);\n      });\n      return acc;\n    };\n    var find = function (xs, pred) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          return Option.some(x);\n        }\n      }\n      return Option.none();\n    };\n    var flatten = function (xs) {\n      var r = [];\n      for (var i = 0, len = xs.length; i < len; ++i) {\n        if (!isArray(xs[i])) {\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        }\n        nativePush.apply(r, xs[i]);\n      }\n      return r;\n    };\n    var bind = function (xs, f) {\n      var output = map(xs, f);\n      return flatten(output);\n    };\n    var reverse = function (xs) {\n      var r = nativeSlice.call(xs, 0);\n      r.reverse();\n      return r;\n    };\n    var head = function (xs) {\n      return xs.length === 0 ? Option.none() : Option.some(xs[0]);\n    };\n    var last = function (xs) {\n      return xs.length === 0 ? Option.none() : Option.some(xs[xs.length - 1]);\n    };\n    var from$1 = isFunction(Array.from) ? Array.from : function (x) {\n      return nativeSlice.call(x);\n    };\n\n    var Global = typeof domGlobals.window !== 'undefined' ? domGlobals.window : Function('return this;')();\n\n    var path = function (parts, scope) {\n      var o = scope !== undefined && scope !== null ? scope : Global;\n      for (var i = 0; i < parts.length && o !== undefined && o !== null; ++i) {\n        o = o[parts[i]];\n      }\n      return o;\n    };\n    var resolve = function (p, scope) {\n      var parts = p.split('.');\n      return path(parts, scope);\n    };\n\n    var unsafe = function (name, scope) {\n      return resolve(name, scope);\n    };\n    var getOrDie = function (name, scope) {\n      var actual = unsafe(name, scope);\n      if (actual === undefined || actual === null) {\n        throw new Error(name + ' not available on this browser');\n      }\n      return actual;\n    };\n    var Global$1 = { getOrDie: getOrDie };\n\n    var htmlElement = function (scope) {\n      return Global$1.getOrDie('HTMLElement', scope);\n    };\n    var isPrototypeOf = function (x) {\n      var scope = resolve('ownerDocument.defaultView', x);\n      return htmlElement(scope).prototype.isPrototypeOf(x);\n    };\n    var HTMLElement = { isPrototypeOf: isPrototypeOf };\n\n    var global$7 = tinymce.util.Tools.resolve('tinymce.dom.DomQuery');\n\n    var getParentList = function (editor) {\n      var selectionStart = editor.selection.getStart(true);\n      return editor.dom.getParent(selectionStart, 'OL,UL,DL', getClosestListRootElm(editor, selectionStart));\n    };\n    var isParentListSelected = function (parentList, selectedBlocks) {\n      return parentList && selectedBlocks.length === 1 && selectedBlocks[0] === parentList;\n    };\n    var findSubLists = function (parentList) {\n      return global$5.grep(parentList.querySelectorAll('ol,ul,dl'), function (elm) {\n        return NodeType.isListNode(elm);\n      });\n    };\n    var getSelectedSubLists = function (editor) {\n      var parentList = getParentList(editor);\n      var selectedBlocks = editor.selection.getSelectedBlocks();\n      if (isParentListSelected(parentList, selectedBlocks)) {\n        return findSubLists(parentList);\n      } else {\n        return global$5.grep(selectedBlocks, function (elm) {\n          return NodeType.isListNode(elm) && parentList !== elm;\n        });\n      }\n    };\n    var findParentListItemsNodes = function (editor, elms) {\n      var listItemsElms = global$5.map(elms, function (elm) {\n        var parentLi = editor.dom.getParent(elm, 'li,dd,dt', getClosestListRootElm(editor, elm));\n        return parentLi ? parentLi : elm;\n      });\n      return global$7.unique(listItemsElms);\n    };\n    var getSelectedListItems = function (editor) {\n      var selectedBlocks = editor.selection.getSelectedBlocks();\n      return global$5.grep(findParentListItemsNodes(editor, selectedBlocks), function (block) {\n        return NodeType.isListItemNode(block);\n      });\n    };\n    var getSelectedDlItems = function (editor) {\n      return filter(getSelectedListItems(editor), NodeType.isDlItemNode);\n    };\n    var getClosestListRootElm = function (editor, elm) {\n      var parentTableCell = editor.dom.getParents(elm, 'TD,TH');\n      var root = parentTableCell.length > 0 ? parentTableCell[0] : editor.getBody();\n      return root;\n    };\n    var findLastParentListNode = function (editor, elm) {\n      var parentLists = editor.dom.getParents(elm, 'ol,ul', getClosestListRootElm(editor, elm));\n      return last(parentLists);\n    };\n    var getSelectedLists = function (editor) {\n      var firstList = findLastParentListNode(editor, editor.selection.getStart());\n      var subsequentLists = filter(editor.selection.getSelectedBlocks(), NodeType.isOlUlNode);\n      return firstList.toArray().concat(subsequentLists);\n    };\n    var getSelectedListRoots = function (editor) {\n      var selectedLists = getSelectedLists(editor);\n      return getUniqueListRoots(editor, selectedLists);\n    };\n    var getUniqueListRoots = function (editor, lists) {\n      var listRoots = map(lists, function (list) {\n        return findLastParentListNode(editor, list).getOr(list);\n      });\n      return global$7.unique(listRoots);\n    };\n    var isList = function (editor) {\n      var list = getParentList(editor);\n      return HTMLElement.isPrototypeOf(list);\n    };\n    var Selection = {\n      isList: isList,\n      getParentList: getParentList,\n      getSelectedSubLists: getSelectedSubLists,\n      getSelectedListItems: getSelectedListItems,\n      getClosestListRootElm: getClosestListRootElm,\n      getSelectedDlItems: getSelectedDlItems,\n      getSelectedListRoots: getSelectedListRoots\n    };\n\n    var fromHtml = function (html, scope) {\n      var doc = scope || domGlobals.document;\n      var div = doc.createElement('div');\n      div.innerHTML = html;\n      if (!div.hasChildNodes() || div.childNodes.length > 1) {\n        domGlobals.console.error('HTML does not have a single root node', html);\n        throw new Error('HTML must have a single root node');\n      }\n      return fromDom(div.childNodes[0]);\n    };\n    var fromTag = function (tag, scope) {\n      var doc = scope || domGlobals.document;\n      var node = doc.createElement(tag);\n      return fromDom(node);\n    };\n    var fromText = function (text, scope) {\n      var doc = scope || domGlobals.document;\n      var node = doc.createTextNode(text);\n      return fromDom(node);\n    };\n    var fromDom = function (node) {\n      if (node === null || node === undefined) {\n        throw new Error('Node cannot be null or undefined');\n      }\n      return { dom: constant(node) };\n    };\n    var fromPoint = function (docElm, x, y) {\n      var doc = docElm.dom();\n      return Option.from(doc.elementFromPoint(x, y)).map(fromDom);\n    };\n    var Element = {\n      fromHtml: fromHtml,\n      fromTag: fromTag,\n      fromText: fromText,\n      fromDom: fromDom,\n      fromPoint: fromPoint\n    };\n\n    var lift2 = function (oa, ob, f) {\n      return oa.isSome() && ob.isSome() ? Option.some(f(oa.getOrDie(), ob.getOrDie())) : Option.none();\n    };\n\n    var fromElements = function (elements, scope) {\n      var doc = scope || domGlobals.document;\n      var fragment = doc.createDocumentFragment();\n      each(elements, function (element) {\n        fragment.appendChild(element.dom());\n      });\n      return Element.fromDom(fragment);\n    };\n\n    var Immutable = function () {\n      var fields = [];\n      for (var _i = 0; _i < arguments.length; _i++) {\n        fields[_i] = arguments[_i];\n      }\n      return function () {\n        var values = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          values[_i] = arguments[_i];\n        }\n        if (fields.length !== values.length) {\n          throw new Error('Wrong number of arguments to struct. Expected \"[' + fields.length + ']\", got ' + values.length + ' arguments');\n        }\n        var struct = {};\n        each(fields, function (name, i) {\n          struct[name] = constant(values[i]);\n        });\n        return struct;\n      };\n    };\n\n    var keys = Object.keys;\n    var each$1 = function (obj, f) {\n      var props = keys(obj);\n      for (var k = 0, len = props.length; k < len; k++) {\n        var i = props[k];\n        var x = obj[i];\n        f(x, i);\n      }\n    };\n\n    var node = function () {\n      var f = Global$1.getOrDie('Node');\n      return f;\n    };\n    var compareDocumentPosition = function (a, b, match) {\n      return (a.compareDocumentPosition(b) & match) !== 0;\n    };\n    var documentPositionPreceding = function (a, b) {\n      return compareDocumentPosition(a, b, node().DOCUMENT_POSITION_PRECEDING);\n    };\n    var documentPositionContainedBy = function (a, b) {\n      return compareDocumentPosition(a, b, node().DOCUMENT_POSITION_CONTAINED_BY);\n    };\n    var Node = {\n      documentPositionPreceding: documentPositionPreceding,\n      documentPositionContainedBy: documentPositionContainedBy\n    };\n\n    var cached = function (f) {\n      var called = false;\n      var r;\n      return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        if (!called) {\n          called = true;\n          r = f.apply(null, args);\n        }\n        return r;\n      };\n    };\n\n    var firstMatch = function (regexes, s) {\n      for (var i = 0; i < regexes.length; i++) {\n        var x = regexes[i];\n        if (x.test(s)) {\n          return x;\n        }\n      }\n      return undefined;\n    };\n    var find$1 = function (regexes, agent) {\n      var r = firstMatch(regexes, agent);\n      if (!r) {\n        return {\n          major: 0,\n          minor: 0\n        };\n      }\n      var group = function (i) {\n        return Number(agent.replace(r, '$' + i));\n      };\n      return nu(group(1), group(2));\n    };\n    var detect = function (versionRegexes, agent) {\n      var cleanedAgent = String(agent).toLowerCase();\n      if (versionRegexes.length === 0) {\n        return unknown();\n      }\n      return find$1(versionRegexes, cleanedAgent);\n    };\n    var unknown = function () {\n      return nu(0, 0);\n    };\n    var nu = function (major, minor) {\n      return {\n        major: major,\n        minor: minor\n      };\n    };\n    var Version = {\n      nu: nu,\n      detect: detect,\n      unknown: unknown\n    };\n\n    var edge = 'Edge';\n    var chrome = 'Chrome';\n    var ie = 'IE';\n    var opera = 'Opera';\n    var firefox = 'Firefox';\n    var safari = 'Safari';\n    var isBrowser = function (name, current) {\n      return function () {\n        return current === name;\n      };\n    };\n    var unknown$1 = function () {\n      return nu$1({\n        current: undefined,\n        version: Version.unknown()\n      });\n    };\n    var nu$1 = function (info) {\n      var current = info.current;\n      var version = info.version;\n      return {\n        current: current,\n        version: version,\n        isEdge: isBrowser(edge, current),\n        isChrome: isBrowser(chrome, current),\n        isIE: isBrowser(ie, current),\n        isOpera: isBrowser(opera, current),\n        isFirefox: isBrowser(firefox, current),\n        isSafari: isBrowser(safari, current)\n      };\n    };\n    var Browser = {\n      unknown: unknown$1,\n      nu: nu$1,\n      edge: constant(edge),\n      chrome: constant(chrome),\n      ie: constant(ie),\n      opera: constant(opera),\n      firefox: constant(firefox),\n      safari: constant(safari)\n    };\n\n    var windows = 'Windows';\n    var ios = 'iOS';\n    var android = 'Android';\n    var linux = 'Linux';\n    var osx = 'OSX';\n    var solaris = 'Solaris';\n    var freebsd = 'FreeBSD';\n    var isOS = function (name, current) {\n      return function () {\n        return current === name;\n      };\n    };\n    var unknown$2 = function () {\n      return nu$2({\n        current: undefined,\n        version: Version.unknown()\n      });\n    };\n    var nu$2 = function (info) {\n      var current = info.current;\n      var version = info.version;\n      return {\n        current: current,\n        version: version,\n        isWindows: isOS(windows, current),\n        isiOS: isOS(ios, current),\n        isAndroid: isOS(android, current),\n        isOSX: isOS(osx, current),\n        isLinux: isOS(linux, current),\n        isSolaris: isOS(solaris, current),\n        isFreeBSD: isOS(freebsd, current)\n      };\n    };\n    var OperatingSystem = {\n      unknown: unknown$2,\n      nu: nu$2,\n      windows: constant(windows),\n      ios: constant(ios),\n      android: constant(android),\n      linux: constant(linux),\n      osx: constant(osx),\n      solaris: constant(solaris),\n      freebsd: constant(freebsd)\n    };\n\n    var DeviceType = function (os, browser, userAgent) {\n      var isiPad = os.isiOS() && /ipad/i.test(userAgent) === true;\n      var isiPhone = os.isiOS() && !isiPad;\n      var isAndroid3 = os.isAndroid() && os.version.major === 3;\n      var isAndroid4 = os.isAndroid() && os.version.major === 4;\n      var isTablet = isiPad || isAndroid3 || isAndroid4 && /mobile/i.test(userAgent) === true;\n      var isTouch = os.isiOS() || os.isAndroid();\n      var isPhone = isTouch && !isTablet;\n      var iOSwebview = browser.isSafari() && os.isiOS() && /safari/i.test(userAgent) === false;\n      return {\n        isiPad: constant(isiPad),\n        isiPhone: constant(isiPhone),\n        isTablet: constant(isTablet),\n        isPhone: constant(isPhone),\n        isTouch: constant(isTouch),\n        isAndroid: os.isAndroid,\n        isiOS: os.isiOS,\n        isWebView: constant(iOSwebview)\n      };\n    };\n\n    var detect$1 = function (candidates, userAgent) {\n      var agent = String(userAgent).toLowerCase();\n      return find(candidates, function (candidate) {\n        return candidate.search(agent);\n      });\n    };\n    var detectBrowser = function (browsers, userAgent) {\n      return detect$1(browsers, userAgent).map(function (browser) {\n        var version = Version.detect(browser.versionRegexes, userAgent);\n        return {\n          current: browser.name,\n          version: version\n        };\n      });\n    };\n    var detectOs = function (oses, userAgent) {\n      return detect$1(oses, userAgent).map(function (os) {\n        var version = Version.detect(os.versionRegexes, userAgent);\n        return {\n          current: os.name,\n          version: version\n        };\n      });\n    };\n    var UaString = {\n      detectBrowser: detectBrowser,\n      detectOs: detectOs\n    };\n\n    var contains = function (str, substr) {\n      return str.indexOf(substr) !== -1;\n    };\n\n    var normalVersionRegex = /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/;\n    var checkContains = function (target) {\n      return function (uastring) {\n        return contains(uastring, target);\n      };\n    };\n    var browsers = [\n      {\n        name: 'Edge',\n        versionRegexes: [/.*?edge\\/ ?([0-9]+)\\.([0-9]+)$/],\n        search: function (uastring) {\n          return contains(uastring, 'edge/') && contains(uastring, 'chrome') && contains(uastring, 'safari') && contains(uastring, 'applewebkit');\n        }\n      },\n      {\n        name: 'Chrome',\n        versionRegexes: [\n          /.*?chrome\\/([0-9]+)\\.([0-9]+).*/,\n          normalVersionRegex\n        ],\n        search: function (uastring) {\n          return contains(uastring, 'chrome') && !contains(uastring, 'chromeframe');\n        }\n      },\n      {\n        name: 'IE',\n        versionRegexes: [\n          /.*?msie\\ ?([0-9]+)\\.([0-9]+).*/,\n          /.*?rv:([0-9]+)\\.([0-9]+).*/\n        ],\n        search: function (uastring) {\n          return contains(uastring, 'msie') || contains(uastring, 'trident');\n        }\n      },\n      {\n        name: 'Opera',\n        versionRegexes: [\n          normalVersionRegex,\n          /.*?opera\\/([0-9]+)\\.([0-9]+).*/\n        ],\n        search: checkContains('opera')\n      },\n      {\n        name: 'Firefox',\n        versionRegexes: [/.*?firefox\\/\\ ?([0-9]+)\\.([0-9]+).*/],\n        search: checkContains('firefox')\n      },\n      {\n        name: 'Safari',\n        versionRegexes: [\n          normalVersionRegex,\n          /.*?cpu os ([0-9]+)_([0-9]+).*/\n        ],\n        search: function (uastring) {\n          return (contains(uastring, 'safari') || contains(uastring, 'mobile/')) && contains(uastring, 'applewebkit');\n        }\n      }\n    ];\n    var oses = [\n      {\n        name: 'Windows',\n        search: checkContains('win'),\n        versionRegexes: [/.*?windows\\ nt\\ ?([0-9]+)\\.([0-9]+).*/]\n      },\n      {\n        name: 'iOS',\n        search: function (uastring) {\n          return contains(uastring, 'iphone') || contains(uastring, 'ipad');\n        },\n        versionRegexes: [\n          /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/,\n          /.*cpu os ([0-9]+)_([0-9]+).*/,\n          /.*cpu iphone os ([0-9]+)_([0-9]+).*/\n        ]\n      },\n      {\n        name: 'Android',\n        search: checkContains('android'),\n        versionRegexes: [/.*?android\\ ?([0-9]+)\\.([0-9]+).*/]\n      },\n      {\n        name: 'OSX',\n        search: checkContains('os x'),\n        versionRegexes: [/.*?os\\ x\\ ?([0-9]+)_([0-9]+).*/]\n      },\n      {\n        name: 'Linux',\n        search: checkContains('linux'),\n        versionRegexes: []\n      },\n      {\n        name: 'Solaris',\n        search: checkContains('sunos'),\n        versionRegexes: []\n      },\n      {\n        name: 'FreeBSD',\n        search: checkContains('freebsd'),\n        versionRegexes: []\n      }\n    ];\n    var PlatformInfo = {\n      browsers: constant(browsers),\n      oses: constant(oses)\n    };\n\n    var detect$2 = function (userAgent) {\n      var browsers = PlatformInfo.browsers();\n      var oses = PlatformInfo.oses();\n      var browser = UaString.detectBrowser(browsers, userAgent).fold(Browser.unknown, Browser.nu);\n      var os = UaString.detectOs(oses, userAgent).fold(OperatingSystem.unknown, OperatingSystem.nu);\n      var deviceType = DeviceType(os, browser, userAgent);\n      return {\n        browser: browser,\n        os: os,\n        deviceType: deviceType\n      };\n    };\n    var PlatformDetection = { detect: detect$2 };\n\n    var detect$3 = cached(function () {\n      var userAgent = domGlobals.navigator.userAgent;\n      return PlatformDetection.detect(userAgent);\n    });\n    var PlatformDetection$1 = { detect: detect$3 };\n\n    var ATTRIBUTE = domGlobals.Node.ATTRIBUTE_NODE;\n    var CDATA_SECTION = domGlobals.Node.CDATA_SECTION_NODE;\n    var COMMENT = domGlobals.Node.COMMENT_NODE;\n    var DOCUMENT = domGlobals.Node.DOCUMENT_NODE;\n    var DOCUMENT_TYPE = domGlobals.Node.DOCUMENT_TYPE_NODE;\n    var DOCUMENT_FRAGMENT = domGlobals.Node.DOCUMENT_FRAGMENT_NODE;\n    var ELEMENT = domGlobals.Node.ELEMENT_NODE;\n    var TEXT = domGlobals.Node.TEXT_NODE;\n    var PROCESSING_INSTRUCTION = domGlobals.Node.PROCESSING_INSTRUCTION_NODE;\n    var ENTITY_REFERENCE = domGlobals.Node.ENTITY_REFERENCE_NODE;\n    var ENTITY = domGlobals.Node.ENTITY_NODE;\n    var NOTATION = domGlobals.Node.NOTATION_NODE;\n\n    var ELEMENT$1 = ELEMENT;\n    var is = function (element, selector) {\n      var dom = element.dom();\n      if (dom.nodeType !== ELEMENT$1) {\n        return false;\n      } else {\n        var elem = dom;\n        if (elem.matches !== undefined) {\n          return elem.matches(selector);\n        } else if (elem.msMatchesSelector !== undefined) {\n          return elem.msMatchesSelector(selector);\n        } else if (elem.webkitMatchesSelector !== undefined) {\n          return elem.webkitMatchesSelector(selector);\n        } else if (elem.mozMatchesSelector !== undefined) {\n          return elem.mozMatchesSelector(selector);\n        } else {\n          throw new Error('Browser lacks native selectors');\n        }\n      }\n    };\n\n    var eq = function (e1, e2) {\n      return e1.dom() === e2.dom();\n    };\n    var regularContains = function (e1, e2) {\n      var d1 = e1.dom();\n      var d2 = e2.dom();\n      return d1 === d2 ? false : d1.contains(d2);\n    };\n    var ieContains = function (e1, e2) {\n      return Node.documentPositionContainedBy(e1.dom(), e2.dom());\n    };\n    var browser = PlatformDetection$1.detect().browser;\n    var contains$1 = browser.isIE() ? ieContains : regularContains;\n    var is$1 = is;\n\n    var parent = function (element) {\n      return Option.from(element.dom().parentNode).map(Element.fromDom);\n    };\n    var children = function (element) {\n      return map(element.dom().childNodes, Element.fromDom);\n    };\n    var child = function (element, index) {\n      var cs = element.dom().childNodes;\n      return Option.from(cs[index]).map(Element.fromDom);\n    };\n    var firstChild = function (element) {\n      return child(element, 0);\n    };\n    var lastChild = function (element) {\n      return child(element, element.dom().childNodes.length - 1);\n    };\n    var spot = Immutable('element', 'offset');\n\n    var before = function (marker, element) {\n      var parent$1 = parent(marker);\n      parent$1.each(function (v) {\n        v.dom().insertBefore(element.dom(), marker.dom());\n      });\n    };\n    var append = function (parent, element) {\n      parent.dom().appendChild(element.dom());\n    };\n\n    var before$1 = function (marker, elements) {\n      each(elements, function (x) {\n        before(marker, x);\n      });\n    };\n    var append$1 = function (parent, elements) {\n      each(elements, function (x) {\n        append(parent, x);\n      });\n    };\n\n    var remove = function (element) {\n      var dom = element.dom();\n      if (dom.parentNode !== null) {\n        dom.parentNode.removeChild(dom);\n      }\n    };\n\n    var name = function (element) {\n      var r = element.dom().nodeName;\n      return r.toLowerCase();\n    };\n    var type = function (element) {\n      return element.dom().nodeType;\n    };\n    var isType$1 = function (t) {\n      return function (element) {\n        return type(element) === t;\n      };\n    };\n    var isElement = isType$1(ELEMENT);\n\n    var rawSet = function (dom, key, value) {\n      if (isString(value) || isBoolean(value) || isNumber(value)) {\n        dom.setAttribute(key, value + '');\n      } else {\n        domGlobals.console.error('Invalid call to Attr.set. Key ', key, ':: Value ', value, ':: Element ', dom);\n        throw new Error('Attribute value was not simple');\n      }\n    };\n    var setAll = function (element, attrs) {\n      var dom = element.dom();\n      each$1(attrs, function (v, k) {\n        rawSet(dom, k, v);\n      });\n    };\n    var clone = function (element) {\n      return foldl(element.dom().attributes, function (acc, attr) {\n        acc[attr.name] = attr.value;\n        return acc;\n      }, {});\n    };\n\n    var isSupported = function (dom) {\n      return dom.style !== undefined && isFunction(dom.style.getPropertyValue);\n    };\n\n    var internalSet = function (dom, property, value) {\n      if (!isString(value)) {\n        domGlobals.console.error('Invalid call to CSS.set. Property ', property, ':: Value ', value, ':: Element ', dom);\n        throw new Error('CSS value must be a string: ' + value);\n      }\n      if (isSupported(dom)) {\n        dom.style.setProperty(property, value);\n      }\n    };\n    var set = function (element, property, value) {\n      var dom = element.dom();\n      internalSet(dom, property, value);\n    };\n\n    var clone$1 = function (original, isDeep) {\n      return Element.fromDom(original.dom().cloneNode(isDeep));\n    };\n    var deep = function (original) {\n      return clone$1(original, true);\n    };\n    var shallowAs = function (original, tag) {\n      var nu = Element.fromTag(tag);\n      var attributes = clone(original);\n      setAll(nu, attributes);\n      return nu;\n    };\n    var mutate = function (original, tag) {\n      var nu = shallowAs(original, tag);\n      before(original, nu);\n      var children$1 = children(original);\n      append$1(nu, children$1);\n      remove(original);\n      return nu;\n    };\n\n    var joinSegment = function (parent, child) {\n      append(parent.item, child.list);\n    };\n    var joinSegments = function (segments) {\n      for (var i = 1; i < segments.length; i++) {\n        joinSegment(segments[i - 1], segments[i]);\n      }\n    };\n    var appendSegments = function (head$1, tail) {\n      lift2(last(head$1), head(tail), joinSegment);\n    };\n    var createSegment = function (scope, listType) {\n      var segment = {\n        list: Element.fromTag(listType, scope),\n        item: Element.fromTag('li', scope)\n      };\n      append(segment.list, segment.item);\n      return segment;\n    };\n    var createSegments = function (scope, entry, size) {\n      var segments = [];\n      for (var i = 0; i < size; i++) {\n        segments.push(createSegment(scope, entry.listType));\n      }\n      return segments;\n    };\n    var populateSegments = function (segments, entry) {\n      for (var i = 0; i < segments.length - 1; i++) {\n        set(segments[i].item, 'list-style-type', 'none');\n      }\n      last(segments).each(function (segment) {\n        setAll(segment.list, entry.listAttributes);\n        setAll(segment.item, entry.itemAttributes);\n        append$1(segment.item, entry.content);\n      });\n    };\n    var normalizeSegment = function (segment, entry) {\n      if (name(segment.list) !== entry.listType) {\n        segment.list = mutate(segment.list, entry.listType);\n      }\n      setAll(segment.list, entry.listAttributes);\n    };\n    var createItem = function (scope, attr, content) {\n      var item = Element.fromTag('li', scope);\n      setAll(item, attr);\n      append$1(item, content);\n      return item;\n    };\n    var appendItem = function (segment, item) {\n      append(segment.list, item);\n      segment.item = item;\n    };\n    var writeShallow = function (scope, cast, entry) {\n      var newCast = cast.slice(0, entry.depth);\n      last(newCast).each(function (segment) {\n        var item = createItem(scope, entry.itemAttributes, entry.content);\n        appendItem(segment, item);\n        normalizeSegment(segment, entry);\n      });\n      return newCast;\n    };\n    var writeDeep = function (scope, cast, entry) {\n      var segments = createSegments(scope, entry, entry.depth - cast.length);\n      joinSegments(segments);\n      populateSegments(segments, entry);\n      appendSegments(cast, segments);\n      return cast.concat(segments);\n    };\n    var composeList = function (scope, entries) {\n      var cast = foldl(entries, function (cast, entry) {\n        return entry.depth > cast.length ? writeDeep(scope, cast, entry) : writeShallow(scope, cast, entry);\n      }, []);\n      return head(cast).map(function (segment) {\n        return segment.list;\n      });\n    };\n\n    var isList$1 = function (el) {\n      return is$1(el, 'OL,UL');\n    };\n    var hasFirstChildList = function (el) {\n      return firstChild(el).map(isList$1).getOr(false);\n    };\n    var hasLastChildList = function (el) {\n      return lastChild(el).map(isList$1).getOr(false);\n    };\n\n    var isIndented = function (entry) {\n      return entry.depth > 0;\n    };\n    var isSelected = function (entry) {\n      return entry.isSelected;\n    };\n    var cloneItemContent = function (li) {\n      var children$1 = children(li);\n      var content = hasLastChildList(li) ? children$1.slice(0, -1) : children$1;\n      return map(content, deep);\n    };\n    var createEntry = function (li, depth, isSelected) {\n      return parent(li).filter(isElement).map(function (list) {\n        return {\n          depth: depth,\n          isSelected: isSelected,\n          content: cloneItemContent(li),\n          itemAttributes: clone(li),\n          listAttributes: clone(list),\n          listType: name(list)\n        };\n      });\n    };\n\n    var indentEntry = function (indentation, entry) {\n      switch (indentation) {\n      case 'Indent':\n        entry.depth++;\n        break;\n      case 'Outdent':\n        entry.depth--;\n        break;\n      case 'Flatten':\n        entry.depth = 0;\n      }\n    };\n\n    var hasOwnProperty = Object.prototype.hasOwnProperty;\n    var shallow = function (old, nu) {\n      return nu;\n    };\n    var baseMerge = function (merger) {\n      return function () {\n        var objects = new Array(arguments.length);\n        for (var i = 0; i < objects.length; i++) {\n          objects[i] = arguments[i];\n        }\n        if (objects.length === 0) {\n          throw new Error('Can\\'t merge zero objects');\n        }\n        var ret = {};\n        for (var j = 0; j < objects.length; j++) {\n          var curObject = objects[j];\n          for (var key in curObject) {\n            if (hasOwnProperty.call(curObject, key)) {\n              ret[key] = merger(ret[key], curObject[key]);\n            }\n          }\n        }\n        return ret;\n      };\n    };\n    var merge = baseMerge(shallow);\n\n    var cloneListProperties = function (target, source) {\n      target.listType = source.listType;\n      target.listAttributes = merge({}, source.listAttributes);\n    };\n    var previousSiblingEntry = function (entries, start) {\n      var depth = entries[start].depth;\n      for (var i = start - 1; i >= 0; i--) {\n        if (entries[i].depth === depth) {\n          return Option.some(entries[i]);\n        }\n        if (entries[i].depth < depth) {\n          break;\n        }\n      }\n      return Option.none();\n    };\n    var normalizeEntries = function (entries) {\n      each(entries, function (entry, i) {\n        previousSiblingEntry(entries, i).each(function (matchingEntry) {\n          cloneListProperties(entry, matchingEntry);\n        });\n      });\n    };\n\n    var Cell = function (initial) {\n      var value = initial;\n      var get = function () {\n        return value;\n      };\n      var set = function (v) {\n        value = v;\n      };\n      var clone = function () {\n        return Cell(get());\n      };\n      return {\n        get: get,\n        set: set,\n        clone: clone\n      };\n    };\n\n    var parseItem = function (depth, itemSelection, selectionState, item) {\n      return firstChild(item).filter(isList$1).fold(function () {\n        itemSelection.each(function (selection) {\n          if (eq(selection.start, item)) {\n            selectionState.set(true);\n          }\n        });\n        var currentItemEntry = createEntry(item, depth, selectionState.get());\n        itemSelection.each(function (selection) {\n          if (eq(selection.end, item)) {\n            selectionState.set(false);\n          }\n        });\n        var childListEntries = lastChild(item).filter(isList$1).map(function (list) {\n          return parseList(depth, itemSelection, selectionState, list);\n        }).getOr([]);\n        return currentItemEntry.toArray().concat(childListEntries);\n      }, function (list) {\n        return parseList(depth, itemSelection, selectionState, list);\n      });\n    };\n    var parseList = function (depth, itemSelection, selectionState, list) {\n      return bind(children(list), function (element) {\n        var parser = isList$1(element) ? parseList : parseItem;\n        var newDepth = depth + 1;\n        return parser(newDepth, itemSelection, selectionState, element);\n      });\n    };\n    var parseLists = function (lists, itemSelection) {\n      var selectionState = Cell(false);\n      var initialDepth = 0;\n      return map(lists, function (list) {\n        return {\n          sourceList: list,\n          entries: parseList(initialDepth, itemSelection, selectionState, list)\n        };\n      });\n    };\n\n    var global$8 = tinymce.util.Tools.resolve('tinymce.Env');\n\n    var createTextBlock = function (editor, contentNode) {\n      var dom = editor.dom;\n      var blockElements = editor.schema.getBlockElements();\n      var fragment = dom.createFragment();\n      var node, textBlock, blockName, hasContentNode;\n      if (editor.settings.forced_root_block) {\n        blockName = editor.settings.forced_root_block;\n      }\n      if (blockName) {\n        textBlock = dom.create(blockName);\n        if (textBlock.tagName === editor.settings.forced_root_block) {\n          dom.setAttribs(textBlock, editor.settings.forced_root_block_attrs);\n        }\n        if (!NodeType.isBlock(contentNode.firstChild, blockElements)) {\n          fragment.appendChild(textBlock);\n        }\n      }\n      if (contentNode) {\n        while (node = contentNode.firstChild) {\n          var nodeName = node.nodeName;\n          if (!hasContentNode && (nodeName !== 'SPAN' || node.getAttribute('data-mce-type') !== 'bookmark')) {\n            hasContentNode = true;\n          }\n          if (NodeType.isBlock(node, blockElements)) {\n            fragment.appendChild(node);\n            textBlock = null;\n          } else {\n            if (blockName) {\n              if (!textBlock) {\n                textBlock = dom.create(blockName);\n                fragment.appendChild(textBlock);\n              }\n              textBlock.appendChild(node);\n            } else {\n              fragment.appendChild(node);\n            }\n          }\n        }\n      }\n      if (!editor.settings.forced_root_block) {\n        fragment.appendChild(dom.create('br'));\n      } else {\n        if (!hasContentNode && (!global$8.ie || global$8.ie > 10)) {\n          textBlock.appendChild(dom.create('br', { 'data-mce-bogus': '1' }));\n        }\n      }\n      return fragment;\n    };\n\n    var outdentedComposer = function (editor, entries) {\n      return map(entries, function (entry) {\n        var content = fromElements(entry.content);\n        return Element.fromDom(createTextBlock(editor, content.dom()));\n      });\n    };\n    var indentedComposer = function (editor, entries) {\n      normalizeEntries(entries);\n      return composeList(editor.contentDocument, entries).toArray();\n    };\n    var composeEntries = function (editor, entries) {\n      return bind(groupBy(entries, isIndented), function (entries) {\n        var groupIsIndented = head(entries).map(isIndented).getOr(false);\n        return groupIsIndented ? indentedComposer(editor, entries) : outdentedComposer(editor, entries);\n      });\n    };\n    var indentSelectedEntries = function (entries, indentation) {\n      each(filter(entries, isSelected), function (entry) {\n        return indentEntry(indentation, entry);\n      });\n    };\n    var getItemSelection = function (editor) {\n      var selectedListItems = map(Selection.getSelectedListItems(editor), Element.fromDom);\n      return lift2(find(selectedListItems, not(hasFirstChildList)), find(reverse(selectedListItems), not(hasFirstChildList)), function (start, end) {\n        return {\n          start: start,\n          end: end\n        };\n      });\n    };\n    var listsIndentation = function (editor, lists, indentation) {\n      var entrySets = parseLists(lists, getItemSelection(editor));\n      each(entrySets, function (entrySet) {\n        indentSelectedEntries(entrySet.entries, indentation);\n        before$1(entrySet.sourceList, composeEntries(editor, entrySet.entries));\n        remove(entrySet.sourceList);\n      });\n    };\n\n    var DOM$1 = global$6.DOM;\n    var splitList = function (editor, ul, li) {\n      var tmpRng, fragment, bookmarks, node, newBlock;\n      var removeAndKeepBookmarks = function (targetNode) {\n        global$5.each(bookmarks, function (node) {\n          targetNode.parentNode.insertBefore(node, li.parentNode);\n        });\n        DOM$1.remove(targetNode);\n      };\n      bookmarks = DOM$1.select('span[data-mce-type=\"bookmark\"]', ul);\n      newBlock = createTextBlock(editor, li);\n      tmpRng = DOM$1.createRng();\n      tmpRng.setStartAfter(li);\n      tmpRng.setEndAfter(ul);\n      fragment = tmpRng.extractContents();\n      for (node = fragment.firstChild; node; node = node.firstChild) {\n        if (node.nodeName === 'LI' && editor.dom.isEmpty(node)) {\n          DOM$1.remove(node);\n          break;\n        }\n      }\n      if (!editor.dom.isEmpty(fragment)) {\n        DOM$1.insertAfter(fragment, ul);\n      }\n      DOM$1.insertAfter(newBlock, ul);\n      if (NodeType.isEmpty(editor.dom, li.parentNode)) {\n        removeAndKeepBookmarks(li.parentNode);\n      }\n      DOM$1.remove(li);\n      if (NodeType.isEmpty(editor.dom, ul)) {\n        DOM$1.remove(ul);\n      }\n    };\n    var SplitList = { splitList: splitList };\n\n    var outdentDlItem = function (editor, item) {\n      if (is$1(item, 'dd')) {\n        mutate(item, 'dt');\n      } else if (is$1(item, 'dt')) {\n        parent(item).each(function (dl) {\n          return SplitList.splitList(editor, dl.dom(), item.dom());\n        });\n      }\n    };\n    var indentDlItem = function (item) {\n      if (is$1(item, 'dt')) {\n        mutate(item, 'dd');\n      }\n    };\n    var dlIndentation = function (editor, indentation, dlItems) {\n      if (indentation === 'Indent') {\n        each(dlItems, indentDlItem);\n      } else {\n        each(dlItems, function (item) {\n          return outdentDlItem(editor, item);\n        });\n      }\n    };\n\n    var selectionIndentation = function (editor, indentation) {\n      var lists = map(Selection.getSelectedListRoots(editor), Element.fromDom);\n      var dlItems = map(Selection.getSelectedDlItems(editor), Element.fromDom);\n      var isHandled = false;\n      if (lists.length || dlItems.length) {\n        var bookmark = editor.selection.getBookmark();\n        listsIndentation(editor, lists, indentation);\n        dlIndentation(editor, indentation, dlItems);\n        editor.selection.moveToBookmark(bookmark);\n        editor.selection.setRng(Range.normalizeRange(editor.selection.getRng()));\n        editor.nodeChanged();\n        isHandled = true;\n      }\n      return isHandled;\n    };\n    var indentListSelection = function (editor) {\n      return selectionIndentation(editor, 'Indent');\n    };\n    var outdentListSelection = function (editor) {\n      return selectionIndentation(editor, 'Outdent');\n    };\n    var flattenListSelection = function (editor) {\n      return selectionIndentation(editor, 'Flatten');\n    };\n\n    var updateListStyle = function (dom, el, detail) {\n      var type = detail['list-style-type'] ? detail['list-style-type'] : null;\n      dom.setStyle(el, 'list-style-type', type);\n    };\n    var setAttribs = function (elm, attrs) {\n      global$5.each(attrs, function (value, key) {\n        elm.setAttribute(key, value);\n      });\n    };\n    var updateListAttrs = function (dom, el, detail) {\n      setAttribs(el, detail['list-attributes']);\n      global$5.each(dom.select('li', el), function (li) {\n        setAttribs(li, detail['list-item-attributes']);\n      });\n    };\n    var updateListWithDetails = function (dom, el, detail) {\n      updateListStyle(dom, el, detail);\n      updateListAttrs(dom, el, detail);\n    };\n    var removeStyles = function (dom, element, styles) {\n      global$5.each(styles, function (style) {\n        var _a;\n        return dom.setStyle(element, (_a = {}, _a[style] = '', _a));\n      });\n    };\n    var getEndPointNode = function (editor, rng, start, root) {\n      var container, offset;\n      container = rng[start ? 'startContainer' : 'endContainer'];\n      offset = rng[start ? 'startOffset' : 'endOffset'];\n      if (container.nodeType === 1) {\n        container = container.childNodes[Math.min(offset, container.childNodes.length - 1)] || container;\n      }\n      if (!start && NodeType.isBr(container.nextSibling)) {\n        container = container.nextSibling;\n      }\n      while (container.parentNode !== root) {\n        if (NodeType.isTextBlock(editor, container)) {\n          return container;\n        }\n        if (/^(TD|TH)$/.test(container.parentNode.nodeName)) {\n          return container;\n        }\n        container = container.parentNode;\n      }\n      return container;\n    };\n    var getSelectedTextBlocks = function (editor, rng, root) {\n      var textBlocks = [], dom = editor.dom;\n      var startNode = getEndPointNode(editor, rng, true, root);\n      var endNode = getEndPointNode(editor, rng, false, root);\n      var block;\n      var siblings = [];\n      for (var node = startNode; node; node = node.nextSibling) {\n        siblings.push(node);\n        if (node === endNode) {\n          break;\n        }\n      }\n      global$5.each(siblings, function (node) {\n        if (NodeType.isTextBlock(editor, node)) {\n          textBlocks.push(node);\n          block = null;\n          return;\n        }\n        if (dom.isBlock(node) || NodeType.isBr(node)) {\n          if (NodeType.isBr(node)) {\n            dom.remove(node);\n          }\n          block = null;\n          return;\n        }\n        var nextSibling = node.nextSibling;\n        if (global$4.isBookmarkNode(node)) {\n          if (NodeType.isTextBlock(editor, nextSibling) || !nextSibling && node.parentNode === root) {\n            block = null;\n            return;\n          }\n        }\n        if (!block) {\n          block = dom.create('p');\n          node.parentNode.insertBefore(block, node);\n          textBlocks.push(block);\n        }\n        block.appendChild(node);\n      });\n      return textBlocks;\n    };\n    var hasCompatibleStyle = function (dom, sib, detail) {\n      var sibStyle = dom.getStyle(sib, 'list-style-type');\n      var detailStyle = detail ? detail['list-style-type'] : '';\n      detailStyle = detailStyle === null ? '' : detailStyle;\n      return sibStyle === detailStyle;\n    };\n    var applyList = function (editor, listName, detail) {\n      if (detail === void 0) {\n        detail = {};\n      }\n      var rng = editor.selection.getRng(true);\n      var bookmark;\n      var listItemName = 'LI';\n      var root = Selection.getClosestListRootElm(editor, editor.selection.getStart(true));\n      var dom = editor.dom;\n      if (dom.getContentEditable(editor.selection.getNode()) === 'false') {\n        return;\n      }\n      listName = listName.toUpperCase();\n      if (listName === 'DL') {\n        listItemName = 'DT';\n      }\n      bookmark = Bookmark.createBookmark(rng);\n      global$5.each(getSelectedTextBlocks(editor, rng, root), function (block) {\n        var listBlock, sibling;\n        sibling = block.previousSibling;\n        if (sibling && NodeType.isListNode(sibling) && sibling.nodeName === listName && hasCompatibleStyle(dom, sibling, detail)) {\n          listBlock = sibling;\n          block = dom.rename(block, listItemName);\n          sibling.appendChild(block);\n        } else {\n          listBlock = dom.create(listName);\n          block.parentNode.insertBefore(listBlock, block);\n          listBlock.appendChild(block);\n          block = dom.rename(block, listItemName);\n        }\n        removeStyles(dom, block, [\n          'margin',\n          'margin-right',\n          'margin-bottom',\n          'margin-left',\n          'margin-top',\n          'padding',\n          'padding-right',\n          'padding-bottom',\n          'padding-left',\n          'padding-top'\n        ]);\n        updateListWithDetails(dom, listBlock, detail);\n        mergeWithAdjacentLists(editor.dom, listBlock);\n      });\n      editor.selection.setRng(Bookmark.resolveBookmark(bookmark));\n    };\n    var isValidLists = function (list1, list2) {\n      return list1 && list2 && NodeType.isListNode(list1) && list1.nodeName === list2.nodeName;\n    };\n    var hasSameListStyle = function (dom, list1, list2) {\n      var targetStyle = dom.getStyle(list1, 'list-style-type', true);\n      var style = dom.getStyle(list2, 'list-style-type', true);\n      return targetStyle === style;\n    };\n    var hasSameClasses = function (elm1, elm2) {\n      return elm1.className === elm2.className;\n    };\n    var shouldMerge = function (dom, list1, list2) {\n      return isValidLists(list1, list2) && hasSameListStyle(dom, list1, list2) && hasSameClasses(list1, list2);\n    };\n    var mergeWithAdjacentLists = function (dom, listBlock) {\n      var sibling, node;\n      sibling = listBlock.nextSibling;\n      if (shouldMerge(dom, listBlock, sibling)) {\n        while (node = sibling.firstChild) {\n          listBlock.appendChild(node);\n        }\n        dom.remove(sibling);\n      }\n      sibling = listBlock.previousSibling;\n      if (shouldMerge(dom, listBlock, sibling)) {\n        while (node = sibling.lastChild) {\n          listBlock.insertBefore(node, listBlock.firstChild);\n        }\n        dom.remove(sibling);\n      }\n    };\n    var updateList = function (dom, list, listName, detail) {\n      if (list.nodeName !== listName) {\n        var newList = dom.rename(list, listName);\n        updateListWithDetails(dom, newList, detail);\n      } else {\n        updateListWithDetails(dom, list, detail);\n      }\n    };\n    var toggleMultipleLists = function (editor, parentList, lists, listName, detail) {\n      if (parentList.nodeName === listName && !hasListStyleDetail(detail)) {\n        flattenListSelection(editor);\n      } else {\n        var bookmark = Bookmark.createBookmark(editor.selection.getRng(true));\n        global$5.each([parentList].concat(lists), function (elm) {\n          updateList(editor.dom, elm, listName, detail);\n        });\n        editor.selection.setRng(Bookmark.resolveBookmark(bookmark));\n      }\n    };\n    var hasListStyleDetail = function (detail) {\n      return 'list-style-type' in detail;\n    };\n    var toggleSingleList = function (editor, parentList, listName, detail) {\n      if (parentList === editor.getBody()) {\n        return;\n      }\n      if (parentList) {\n        if (parentList.nodeName === listName && !hasListStyleDetail(detail)) {\n          flattenListSelection(editor);\n        } else {\n          var bookmark = Bookmark.createBookmark(editor.selection.getRng(true));\n          updateListWithDetails(editor.dom, parentList, detail);\n          mergeWithAdjacentLists(editor.dom, editor.dom.rename(parentList, listName));\n          editor.selection.setRng(Bookmark.resolveBookmark(bookmark));\n        }\n      } else {\n        applyList(editor, listName, detail);\n      }\n    };\n    var toggleList = function (editor, listName, detail) {\n      var parentList = Selection.getParentList(editor);\n      var selectedSubLists = Selection.getSelectedSubLists(editor);\n      detail = detail ? detail : {};\n      if (parentList && selectedSubLists.length > 0) {\n        toggleMultipleLists(editor, parentList, selectedSubLists, listName, detail);\n      } else {\n        toggleSingleList(editor, parentList, listName, detail);\n      }\n    };\n    var ToggleList = {\n      toggleList: toggleList,\n      mergeWithAdjacentLists: mergeWithAdjacentLists\n    };\n\n    var DOM$2 = global$6.DOM;\n    var normalizeList = function (dom, ul) {\n      var sibling;\n      var parentNode = ul.parentNode;\n      if (parentNode.nodeName === 'LI' && parentNode.firstChild === ul) {\n        sibling = parentNode.previousSibling;\n        if (sibling && sibling.nodeName === 'LI') {\n          sibling.appendChild(ul);\n          if (NodeType.isEmpty(dom, parentNode)) {\n            DOM$2.remove(parentNode);\n          }\n        } else {\n          DOM$2.setStyle(parentNode, 'listStyleType', 'none');\n        }\n      }\n      if (NodeType.isListNode(parentNode)) {\n        sibling = parentNode.previousSibling;\n        if (sibling && sibling.nodeName === 'LI') {\n          sibling.appendChild(ul);\n        }\n      }\n    };\n    var normalizeLists = function (dom, element) {\n      global$5.each(global$5.grep(dom.select('ol,ul', element)), function (ul) {\n        normalizeList(dom, ul);\n      });\n    };\n    var NormalizeLists = {\n      normalizeList: normalizeList,\n      normalizeLists: normalizeLists\n    };\n\n    var findNextCaretContainer = function (editor, rng, isForward, root) {\n      var node = rng.startContainer;\n      var offset = rng.startOffset;\n      var nonEmptyBlocks, walker;\n      if (node.nodeType === 3 && (isForward ? offset < node.data.length : offset > 0)) {\n        return node;\n      }\n      nonEmptyBlocks = editor.schema.getNonEmptyElements();\n      if (node.nodeType === 1) {\n        node = global$1.getNode(node, offset);\n      }\n      walker = new global$2(node, root);\n      if (isForward) {\n        if (NodeType.isBogusBr(editor.dom, node)) {\n          walker.next();\n        }\n      }\n      while (node = walker[isForward ? 'next' : 'prev2']()) {\n        if (node.nodeName === 'LI' && !node.hasChildNodes()) {\n          return node;\n        }\n        if (nonEmptyBlocks[node.nodeName]) {\n          return node;\n        }\n        if (node.nodeType === 3 && node.data.length > 0) {\n          return node;\n        }\n      }\n    };\n    var hasOnlyOneBlockChild = function (dom, elm) {\n      var childNodes = elm.childNodes;\n      return childNodes.length === 1 && !NodeType.isListNode(childNodes[0]) && dom.isBlock(childNodes[0]);\n    };\n    var unwrapSingleBlockChild = function (dom, elm) {\n      if (hasOnlyOneBlockChild(dom, elm)) {\n        dom.remove(elm.firstChild, true);\n      }\n    };\n    var moveChildren = function (dom, fromElm, toElm) {\n      var node, targetElm;\n      targetElm = hasOnlyOneBlockChild(dom, toElm) ? toElm.firstChild : toElm;\n      unwrapSingleBlockChild(dom, fromElm);\n      if (!NodeType.isEmpty(dom, fromElm, true)) {\n        while (node = fromElm.firstChild) {\n          targetElm.appendChild(node);\n        }\n      }\n    };\n    var mergeLiElements = function (dom, fromElm, toElm) {\n      var node, listNode;\n      var ul = fromElm.parentNode;\n      if (!NodeType.isChildOfBody(dom, fromElm) || !NodeType.isChildOfBody(dom, toElm)) {\n        return;\n      }\n      if (NodeType.isListNode(toElm.lastChild)) {\n        listNode = toElm.lastChild;\n      }\n      if (ul === toElm.lastChild) {\n        if (NodeType.isBr(ul.previousSibling)) {\n          dom.remove(ul.previousSibling);\n        }\n      }\n      node = toElm.lastChild;\n      if (node && NodeType.isBr(node) && fromElm.hasChildNodes()) {\n        dom.remove(node);\n      }\n      if (NodeType.isEmpty(dom, toElm, true)) {\n        dom.$(toElm).empty();\n      }\n      moveChildren(dom, fromElm, toElm);\n      if (listNode) {\n        toElm.appendChild(listNode);\n      }\n      var contains = contains$1(Element.fromDom(toElm), Element.fromDom(fromElm));\n      var nestedLists = contains ? dom.getParents(fromElm, NodeType.isListNode, toElm) : [];\n      dom.remove(fromElm);\n      each(nestedLists, function (list) {\n        if (NodeType.isEmpty(dom, list) && list !== dom.getRoot()) {\n          dom.remove(list);\n        }\n      });\n    };\n    var mergeIntoEmptyLi = function (editor, fromLi, toLi) {\n      editor.dom.$(toLi).empty();\n      mergeLiElements(editor.dom, fromLi, toLi);\n      editor.selection.setCursorLocation(toLi);\n    };\n    var mergeForward = function (editor, rng, fromLi, toLi) {\n      var dom = editor.dom;\n      if (dom.isEmpty(toLi)) {\n        mergeIntoEmptyLi(editor, fromLi, toLi);\n      } else {\n        var bookmark = Bookmark.createBookmark(rng);\n        mergeLiElements(dom, fromLi, toLi);\n        editor.selection.setRng(Bookmark.resolveBookmark(bookmark));\n      }\n    };\n    var mergeBackward = function (editor, rng, fromLi, toLi) {\n      var bookmark = Bookmark.createBookmark(rng);\n      mergeLiElements(editor.dom, fromLi, toLi);\n      var resolvedBookmark = Bookmark.resolveBookmark(bookmark);\n      editor.selection.setRng(resolvedBookmark);\n    };\n    var backspaceDeleteFromListToListCaret = function (editor, isForward) {\n      var dom = editor.dom, selection = editor.selection;\n      var selectionStartElm = selection.getStart();\n      var root = Selection.getClosestListRootElm(editor, selectionStartElm);\n      var li = dom.getParent(selection.getStart(), 'LI', root);\n      var ul, rng, otherLi;\n      if (li) {\n        ul = li.parentNode;\n        if (ul === editor.getBody() && NodeType.isEmpty(dom, ul)) {\n          return true;\n        }\n        rng = Range.normalizeRange(selection.getRng(true));\n        otherLi = dom.getParent(findNextCaretContainer(editor, rng, isForward, root), 'LI', root);\n        if (otherLi && otherLi !== li) {\n          if (isForward) {\n            mergeForward(editor, rng, otherLi, li);\n          } else {\n            mergeBackward(editor, rng, li, otherLi);\n          }\n          return true;\n        } else if (!otherLi) {\n          if (!isForward) {\n            flattenListSelection(editor);\n            return true;\n          }\n        }\n      }\n      return false;\n    };\n    var removeBlock = function (dom, block, root) {\n      var parentBlock = dom.getParent(block.parentNode, dom.isBlock, root);\n      dom.remove(block);\n      if (parentBlock && dom.isEmpty(parentBlock)) {\n        dom.remove(parentBlock);\n      }\n    };\n    var backspaceDeleteIntoListCaret = function (editor, isForward) {\n      var dom = editor.dom;\n      var selectionStartElm = editor.selection.getStart();\n      var root = Selection.getClosestListRootElm(editor, selectionStartElm);\n      var block = dom.getParent(selectionStartElm, dom.isBlock, root);\n      if (block && dom.isEmpty(block)) {\n        var rng = Range.normalizeRange(editor.selection.getRng(true));\n        var otherLi_1 = dom.getParent(findNextCaretContainer(editor, rng, isForward, root), 'LI', root);\n        if (otherLi_1) {\n          editor.undoManager.transact(function () {\n            removeBlock(dom, block, root);\n            ToggleList.mergeWithAdjacentLists(dom, otherLi_1.parentNode);\n            editor.selection.select(otherLi_1, true);\n            editor.selection.collapse(isForward);\n          });\n          return true;\n        }\n      }\n      return false;\n    };\n    var backspaceDeleteCaret = function (editor, isForward) {\n      return backspaceDeleteFromListToListCaret(editor, isForward) || backspaceDeleteIntoListCaret(editor, isForward);\n    };\n    var backspaceDeleteRange = function (editor) {\n      var selectionStartElm = editor.selection.getStart();\n      var root = Selection.getClosestListRootElm(editor, selectionStartElm);\n      var startListParent = editor.dom.getParent(selectionStartElm, 'LI,DT,DD', root);\n      if (startListParent || Selection.getSelectedListItems(editor).length > 0) {\n        editor.undoManager.transact(function () {\n          editor.execCommand('Delete');\n          NormalizeLists.normalizeLists(editor.dom, editor.getBody());\n        });\n        return true;\n      }\n      return false;\n    };\n    var backspaceDelete = function (editor, isForward) {\n      return editor.selection.isCollapsed() ? backspaceDeleteCaret(editor, isForward) : backspaceDeleteRange(editor);\n    };\n    var setup = function (editor) {\n      editor.on('keydown', function (e) {\n        if (e.keyCode === global$3.BACKSPACE) {\n          if (backspaceDelete(editor, false)) {\n            e.preventDefault();\n          }\n        } else if (e.keyCode === global$3.DELETE) {\n          if (backspaceDelete(editor, true)) {\n            e.preventDefault();\n          }\n        }\n      });\n    };\n    var Delete = {\n      setup: setup,\n      backspaceDelete: backspaceDelete\n    };\n\n    var get = function (editor) {\n      return {\n        backspaceDelete: function (isForward) {\n          Delete.backspaceDelete(editor, isForward);\n        }\n      };\n    };\n    var Api = { get: get };\n\n    var queryListCommandState = function (editor, listName) {\n      return function () {\n        var parentList = editor.dom.getParent(editor.selection.getStart(), 'UL,OL,DL');\n        return parentList && parentList.nodeName === listName;\n      };\n    };\n    var register = function (editor) {\n      editor.on('BeforeExecCommand', function (e) {\n        var cmd = e.command.toLowerCase();\n        if (cmd === 'indent') {\n          indentListSelection(editor);\n        } else if (cmd === 'outdent') {\n          outdentListSelection(editor);\n        }\n      });\n      editor.addCommand('InsertUnorderedList', function (ui, detail) {\n        ToggleList.toggleList(editor, 'UL', detail);\n      });\n      editor.addCommand('InsertOrderedList', function (ui, detail) {\n        ToggleList.toggleList(editor, 'OL', detail);\n      });\n      editor.addCommand('InsertDefinitionList', function (ui, detail) {\n        ToggleList.toggleList(editor, 'DL', detail);\n      });\n      editor.addCommand('RemoveList', function () {\n        flattenListSelection(editor);\n      });\n      editor.addQueryStateHandler('InsertUnorderedList', queryListCommandState(editor, 'UL'));\n      editor.addQueryStateHandler('InsertOrderedList', queryListCommandState(editor, 'OL'));\n      editor.addQueryStateHandler('InsertDefinitionList', queryListCommandState(editor, 'DL'));\n    };\n    var Commands = { register: register };\n\n    var shouldIndentOnTab = function (editor) {\n      return editor.getParam('lists_indent_on_tab', true);\n    };\n    var Settings = { shouldIndentOnTab: shouldIndentOnTab };\n\n    var setupTabKey = function (editor) {\n      editor.on('keydown', function (e) {\n        if (e.keyCode !== global$3.TAB || global$3.metaKeyPressed(e)) {\n          return;\n        }\n        editor.undoManager.transact(function () {\n          if (e.shiftKey ? outdentListSelection(editor) : indentListSelection(editor)) {\n            e.preventDefault();\n          }\n        });\n      });\n    };\n    var setup$1 = function (editor) {\n      if (Settings.shouldIndentOnTab(editor)) {\n        setupTabKey(editor);\n      }\n      Delete.setup(editor);\n    };\n    var Keyboard = { setup: setup$1 };\n\n    var findIndex = function (list, predicate) {\n      for (var index = 0; index < list.length; index++) {\n        var element = list[index];\n        if (predicate(element)) {\n          return index;\n        }\n      }\n      return -1;\n    };\n    var listState = function (editor, listName) {\n      return function (e) {\n        var ctrl = e.control;\n        editor.on('NodeChange', function (e) {\n          var tableCellIndex = findIndex(e.parents, NodeType.isTableCellNode);\n          var parents = tableCellIndex !== -1 ? e.parents.slice(0, tableCellIndex) : e.parents;\n          var lists = global$5.grep(parents, NodeType.isListNode);\n          ctrl.active(lists.length > 0 && lists[0].nodeName === listName);\n        });\n      };\n    };\n    var register$1 = function (editor) {\n      var hasPlugin = function (editor, plugin) {\n        var plugins = editor.settings.plugins ? editor.settings.plugins : '';\n        return global$5.inArray(plugins.split(/[ ,]/), plugin) !== -1;\n      };\n      if (!hasPlugin(editor, 'advlist')) {\n        editor.addButton('numlist', {\n          active: false,\n          title: 'Numbered list',\n          cmd: 'InsertOrderedList',\n          onPostRender: listState(editor, 'OL')\n        });\n        editor.addButton('bullist', {\n          active: false,\n          title: 'Bullet list',\n          cmd: 'InsertUnorderedList',\n          onPostRender: listState(editor, 'UL')\n        });\n      }\n      editor.addButton('indent', {\n        icon: 'indent',\n        title: 'Increase indent',\n        cmd: 'Indent'\n      });\n    };\n    var Buttons = { register: register$1 };\n\n    global.add('lists', function (editor) {\n      Keyboard.setup(editor);\n      Buttons.register(editor);\n      Commands.register(editor);\n      return Api.get(editor);\n    });\n    function Plugin () {\n    }\n\n    return Plugin;\n\n}(window));\n})();\n","// Exports the \"media\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/media')\n//   ES2015:\n//     import 'tinymce/plugins/media'\nrequire('./plugin.js');","(function () {\nvar media = (function () {\n    'use strict';\n\n    var global = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.Env');\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var getScripts = function (editor) {\n      return editor.getParam('media_scripts');\n    };\n    var getAudioTemplateCallback = function (editor) {\n      return editor.getParam('audio_template_callback');\n    };\n    var getVideoTemplateCallback = function (editor) {\n      return editor.getParam('video_template_callback');\n    };\n    var hasLiveEmbeds = function (editor) {\n      return editor.getParam('media_live_embeds', true);\n    };\n    var shouldFilterHtml = function (editor) {\n      return editor.getParam('media_filter_html', true);\n    };\n    var getUrlResolver = function (editor) {\n      return editor.getParam('media_url_resolver');\n    };\n    var hasAltSource = function (editor) {\n      return editor.getParam('media_alt_source', true);\n    };\n    var hasPoster = function (editor) {\n      return editor.getParam('media_poster', true);\n    };\n    var hasDimensions = function (editor) {\n      return editor.getParam('media_dimensions', true);\n    };\n    var Settings = {\n      getScripts: getScripts,\n      getAudioTemplateCallback: getAudioTemplateCallback,\n      getVideoTemplateCallback: getVideoTemplateCallback,\n      hasLiveEmbeds: hasLiveEmbeds,\n      shouldFilterHtml: shouldFilterHtml,\n      getUrlResolver: getUrlResolver,\n      hasAltSource: hasAltSource,\n      hasPoster: hasPoster,\n      hasDimensions: hasDimensions\n    };\n\n    var Cell = function (initial) {\n      var value = initial;\n      var get = function () {\n        return value;\n      };\n      var set = function (v) {\n        value = v;\n      };\n      var clone = function () {\n        return Cell(get());\n      };\n      return {\n        get: get,\n        set: set,\n        clone: clone\n      };\n    };\n\n    var noop = function () {\n    };\n    var constant = function (value) {\n      return function () {\n        return value;\n      };\n    };\n    var never = constant(false);\n    var always = constant(true);\n\n    var none = function () {\n      return NONE;\n    };\n    var NONE = function () {\n      var eq = function (o) {\n        return o.isNone();\n      };\n      var call = function (thunk) {\n        return thunk();\n      };\n      var id = function (n) {\n        return n;\n      };\n      var me = {\n        fold: function (n, s) {\n          return n();\n        },\n        is: never,\n        isSome: never,\n        isNone: always,\n        getOr: id,\n        getOrThunk: call,\n        getOrDie: function (msg) {\n          throw new Error(msg || 'error: getOrDie called on none.');\n        },\n        getOrNull: constant(null),\n        getOrUndefined: constant(undefined),\n        or: id,\n        orThunk: call,\n        map: none,\n        each: noop,\n        bind: none,\n        exists: never,\n        forall: always,\n        filter: none,\n        equals: eq,\n        equals_: eq,\n        toArray: function () {\n          return [];\n        },\n        toString: constant('none()')\n      };\n      if (Object.freeze) {\n        Object.freeze(me);\n      }\n      return me;\n    }();\n    var some = function (a) {\n      var constant_a = constant(a);\n      var self = function () {\n        return me;\n      };\n      var bind = function (f) {\n        return f(a);\n      };\n      var me = {\n        fold: function (n, s) {\n          return s(a);\n        },\n        is: function (v) {\n          return a === v;\n        },\n        isSome: always,\n        isNone: never,\n        getOr: constant_a,\n        getOrThunk: constant_a,\n        getOrDie: constant_a,\n        getOrNull: constant_a,\n        getOrUndefined: constant_a,\n        or: self,\n        orThunk: self,\n        map: function (f) {\n          return some(f(a));\n        },\n        each: function (f) {\n          f(a);\n        },\n        bind: bind,\n        exists: bind,\n        forall: bind,\n        filter: function (f) {\n          return f(a) ? me : NONE;\n        },\n        toArray: function () {\n          return [a];\n        },\n        toString: function () {\n          return 'some(' + a + ')';\n        },\n        equals: function (o) {\n          return o.is(a);\n        },\n        equals_: function (o, elementEq) {\n          return o.fold(never, function (b) {\n            return elementEq(a, b);\n          });\n        }\n      };\n      return me;\n    };\n    var from = function (value) {\n      return value === null || value === undefined ? NONE : some(value);\n    };\n    var Option = {\n      some: some,\n      none: none,\n      from: from\n    };\n\n    var hasOwnProperty = Object.hasOwnProperty;\n    var get = function (obj, key) {\n      return has(obj, key) ? Option.from(obj[key]) : Option.none();\n    };\n    var has = function (obj, key) {\n      return hasOwnProperty.call(obj, key);\n    };\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');\n\n    var global$4 = tinymce.util.Tools.resolve('tinymce.html.SaxParser');\n\n    var getVideoScriptMatch = function (prefixes, src) {\n      if (prefixes) {\n        for (var i = 0; i < prefixes.length; i++) {\n          if (src.indexOf(prefixes[i].filter) !== -1) {\n            return prefixes[i];\n          }\n        }\n      }\n    };\n    var VideoScript = { getVideoScriptMatch: getVideoScriptMatch };\n\n    var DOM = global$3.DOM;\n    var trimPx = function (value) {\n      return value.replace(/px$/, '');\n    };\n    var getEphoxEmbedData = function (attrs) {\n      var style = attrs.map.style;\n      var styles = style ? DOM.parseStyle(style) : {};\n      return {\n        type: 'ephox-embed-iri',\n        source1: attrs.map['data-ephox-embed-iri'],\n        source2: '',\n        poster: '',\n        width: get(styles, 'max-width').map(trimPx).getOr(''),\n        height: get(styles, 'max-height').map(trimPx).getOr('')\n      };\n    };\n    var htmlToData = function (prefixes, html) {\n      var isEphoxEmbed = Cell(false);\n      var data = {};\n      global$4({\n        validate: false,\n        allow_conditional_comments: true,\n        special: 'script,noscript',\n        start: function (name, attrs) {\n          if (isEphoxEmbed.get()) ; else if (has(attrs.map, 'data-ephox-embed-iri')) {\n            isEphoxEmbed.set(true);\n            data = getEphoxEmbedData(attrs);\n          } else {\n            if (!data.source1 && name === 'param') {\n              data.source1 = attrs.map.movie;\n            }\n            if (name === 'iframe' || name === 'object' || name === 'embed' || name === 'video' || name === 'audio') {\n              if (!data.type) {\n                data.type = name;\n              }\n              data = global$2.extend(attrs.map, data);\n            }\n            if (name === 'script') {\n              var videoScript = VideoScript.getVideoScriptMatch(prefixes, attrs.map.src);\n              if (!videoScript) {\n                return;\n              }\n              data = {\n                type: 'script',\n                source1: attrs.map.src,\n                width: videoScript.width,\n                height: videoScript.height\n              };\n            }\n            if (name === 'source') {\n              if (!data.source1) {\n                data.source1 = attrs.map.src;\n              } else if (!data.source2) {\n                data.source2 = attrs.map.src;\n              }\n            }\n            if (name === 'img' && !data.poster) {\n              data.poster = attrs.map.src;\n            }\n          }\n        }\n      }).parse(html);\n      data.source1 = data.source1 || data.src || data.data;\n      data.source2 = data.source2 || '';\n      data.poster = data.poster || '';\n      return data;\n    };\n    var HtmlToData = { htmlToData: htmlToData };\n\n    var global$5 = tinymce.util.Tools.resolve('tinymce.util.Promise');\n\n    var guess = function (url) {\n      var mimes = {\n        mp3: 'audio/mpeg',\n        wav: 'audio/wav',\n        mp4: 'video/mp4',\n        webm: 'video/webm',\n        ogg: 'video/ogg',\n        swf: 'application/x-shockwave-flash'\n      };\n      var fileEnd = url.toLowerCase().split('.').pop();\n      var mime = mimes[fileEnd];\n      return mime ? mime : '';\n    };\n    var Mime = { guess: guess };\n\n    var global$6 = tinymce.util.Tools.resolve('tinymce.html.Schema');\n\n    var global$7 = tinymce.util.Tools.resolve('tinymce.html.Writer');\n\n    var DOM$1 = global$3.DOM;\n    var addPx = function (value) {\n      return /^[0-9.]+$/.test(value) ? value + 'px' : value;\n    };\n    var setAttributes = function (attrs, updatedAttrs) {\n      for (var name in updatedAttrs) {\n        var value = '' + updatedAttrs[name];\n        if (attrs.map[name]) {\n          var i = attrs.length;\n          while (i--) {\n            var attr = attrs[i];\n            if (attr.name === name) {\n              if (value) {\n                attrs.map[name] = value;\n                attr.value = value;\n              } else {\n                delete attrs.map[name];\n                attrs.splice(i, 1);\n              }\n            }\n          }\n        } else if (value) {\n          attrs.push({\n            name: name,\n            value: value\n          });\n          attrs.map[name] = value;\n        }\n      }\n    };\n    var updateEphoxEmbed = function (data, attrs) {\n      var style = attrs.map.style;\n      var styleMap = style ? DOM$1.parseStyle(style) : {};\n      styleMap['max-width'] = addPx(data.width);\n      styleMap['max-height'] = addPx(data.height);\n      setAttributes(attrs, { style: DOM$1.serializeStyle(styleMap) });\n    };\n    var updateHtml = function (html, data, updateAll) {\n      var writer = global$7();\n      var isEphoxEmbed = Cell(false);\n      var sourceCount = 0;\n      var hasImage;\n      global$4({\n        validate: false,\n        allow_conditional_comments: true,\n        special: 'script,noscript',\n        comment: function (text) {\n          writer.comment(text);\n        },\n        cdata: function (text) {\n          writer.cdata(text);\n        },\n        text: function (text, raw) {\n          writer.text(text, raw);\n        },\n        start: function (name, attrs, empty) {\n          if (isEphoxEmbed.get()) ; else if (has(attrs.map, 'data-ephox-embed-iri')) {\n            isEphoxEmbed.set(true);\n            updateEphoxEmbed(data, attrs);\n          } else {\n            switch (name) {\n            case 'video':\n            case 'object':\n            case 'embed':\n            case 'img':\n            case 'iframe':\n              if (data.height !== undefined && data.width !== undefined) {\n                setAttributes(attrs, {\n                  width: data.width,\n                  height: data.height\n                });\n              }\n              break;\n            }\n            if (updateAll) {\n              switch (name) {\n              case 'video':\n                setAttributes(attrs, {\n                  poster: data.poster,\n                  src: ''\n                });\n                if (data.source2) {\n                  setAttributes(attrs, { src: '' });\n                }\n                break;\n              case 'iframe':\n                setAttributes(attrs, { src: data.source1 });\n                break;\n              case 'source':\n                sourceCount++;\n                if (sourceCount <= 2) {\n                  setAttributes(attrs, {\n                    src: data['source' + sourceCount],\n                    type: data['source' + sourceCount + 'mime']\n                  });\n                  if (!data['source' + sourceCount]) {\n                    return;\n                  }\n                }\n                break;\n              case 'img':\n                if (!data.poster) {\n                  return;\n                }\n                hasImage = true;\n                break;\n              }\n            }\n          }\n          writer.start(name, attrs, empty);\n        },\n        end: function (name) {\n          if (!isEphoxEmbed.get()) {\n            if (name === 'video' && updateAll) {\n              for (var index = 1; index <= 2; index++) {\n                if (data['source' + index]) {\n                  var attrs = [];\n                  attrs.map = {};\n                  if (sourceCount < index) {\n                    setAttributes(attrs, {\n                      src: data['source' + index],\n                      type: data['source' + index + 'mime']\n                    });\n                    writer.start('source', attrs, true);\n                  }\n                }\n              }\n            }\n            if (data.poster && name === 'object' && updateAll && !hasImage) {\n              var imgAttrs = [];\n              imgAttrs.map = {};\n              setAttributes(imgAttrs, {\n                src: data.poster,\n                width: data.width,\n                height: data.height\n              });\n              writer.start('img', imgAttrs, true);\n            }\n          }\n          writer.end(name);\n        }\n      }, global$6({})).parse(html);\n      return writer.getContent();\n    };\n    var UpdateHtml = { updateHtml: updateHtml };\n\n    var urlPatterns = [\n      {\n        regex: /youtu\\.be\\/([\\w\\-_\\?&=.]+)/i,\n        type: 'iframe',\n        w: 560,\n        h: 314,\n        url: '//www.youtube.com/embed/$1',\n        allowFullscreen: true\n      },\n      {\n        regex: /youtube\\.com(.+)v=([^&]+)(&([a-z0-9&=\\-_]+))?/i,\n        type: 'iframe',\n        w: 560,\n        h: 314,\n        url: '//www.youtube.com/embed/$2?$4',\n        allowFullscreen: true\n      },\n      {\n        regex: /youtube.com\\/embed\\/([a-z0-9\\?&=\\-_]+)/i,\n        type: 'iframe',\n        w: 560,\n        h: 314,\n        url: '//www.youtube.com/embed/$1',\n        allowFullscreen: true\n      },\n      {\n        regex: /vimeo\\.com\\/([0-9]+)/,\n        type: 'iframe',\n        w: 425,\n        h: 350,\n        url: '//player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc',\n        allowFullscreen: true\n      },\n      {\n        regex: /vimeo\\.com\\/(.*)\\/([0-9]+)/,\n        type: 'iframe',\n        w: 425,\n        h: 350,\n        url: '//player.vimeo.com/video/$2?title=0&amp;byline=0',\n        allowFullscreen: true\n      },\n      {\n        regex: /maps\\.google\\.([a-z]{2,3})\\/maps\\/(.+)msid=(.+)/,\n        type: 'iframe',\n        w: 425,\n        h: 350,\n        url: '//maps.google.com/maps/ms?msid=$2&output=embed\"',\n        allowFullscreen: false\n      },\n      {\n        regex: /dailymotion\\.com\\/video\\/([^_]+)/,\n        type: 'iframe',\n        w: 480,\n        h: 270,\n        url: '//www.dailymotion.com/embed/video/$1',\n        allowFullscreen: true\n      },\n      {\n        regex: /dai\\.ly\\/([^_]+)/,\n        type: 'iframe',\n        w: 480,\n        h: 270,\n        url: '//www.dailymotion.com/embed/video/$1',\n        allowFullscreen: true\n      }\n    ];\n    var getUrl = function (pattern, url) {\n      var match = pattern.regex.exec(url);\n      var newUrl = pattern.url;\n      var _loop_1 = function (i) {\n        newUrl = newUrl.replace('$' + i, function () {\n          return match[i] ? match[i] : '';\n        });\n      };\n      for (var i = 0; i < match.length; i++) {\n        _loop_1(i);\n      }\n      return newUrl.replace(/\\?$/, '');\n    };\n    var matchPattern = function (url) {\n      var pattern = urlPatterns.filter(function (pattern) {\n        return pattern.regex.test(url);\n      });\n      if (pattern.length > 0) {\n        return global$2.extend({}, pattern[0], { url: getUrl(pattern[0], url) });\n      } else {\n        return null;\n      }\n    };\n\n    var getIframeHtml = function (data) {\n      var allowFullscreen = data.allowFullscreen ? ' allowFullscreen=\"1\"' : '';\n      return '<iframe src=\"' + data.source1 + '\" width=\"' + data.width + '\" height=\"' + data.height + '\"' + allowFullscreen + '></iframe>';\n    };\n    var getFlashHtml = function (data) {\n      var html = '<object data=\"' + data.source1 + '\" width=\"' + data.width + '\" height=\"' + data.height + '\" type=\"application/x-shockwave-flash\">';\n      if (data.poster) {\n        html += '<img src=\"' + data.poster + '\" width=\"' + data.width + '\" height=\"' + data.height + '\" />';\n      }\n      html += '</object>';\n      return html;\n    };\n    var getAudioHtml = function (data, audioTemplateCallback) {\n      if (audioTemplateCallback) {\n        return audioTemplateCallback(data);\n      } else {\n        return '<audio controls=\"controls\" src=\"' + data.source1 + '\">' + (data.source2 ? '\\n<source src=\"' + data.source2 + '\"' + (data.source2mime ? ' type=\"' + data.source2mime + '\"' : '') + ' />\\n' : '') + '</audio>';\n      }\n    };\n    var getVideoHtml = function (data, videoTemplateCallback) {\n      if (videoTemplateCallback) {\n        return videoTemplateCallback(data);\n      } else {\n        return '<video width=\"' + data.width + '\" height=\"' + data.height + '\"' + (data.poster ? ' poster=\"' + data.poster + '\"' : '') + ' controls=\"controls\">\\n' + '<source src=\"' + data.source1 + '\"' + (data.source1mime ? ' type=\"' + data.source1mime + '\"' : '') + ' />\\n' + (data.source2 ? '<source src=\"' + data.source2 + '\"' + (data.source2mime ? ' type=\"' + data.source2mime + '\"' : '') + ' />\\n' : '') + '</video>';\n      }\n    };\n    var getScriptHtml = function (data) {\n      return '<script src=\"' + data.source1 + '\"></script>';\n    };\n    var dataToHtml = function (editor, dataIn) {\n      var data = global$2.extend({}, dataIn);\n      if (!data.source1) {\n        global$2.extend(data, HtmlToData.htmlToData(Settings.getScripts(editor), data.embed));\n        if (!data.source1) {\n          return '';\n        }\n      }\n      if (!data.source2) {\n        data.source2 = '';\n      }\n      if (!data.poster) {\n        data.poster = '';\n      }\n      data.source1 = editor.convertURL(data.source1, 'source');\n      data.source2 = editor.convertURL(data.source2, 'source');\n      data.source1mime = Mime.guess(data.source1);\n      data.source2mime = Mime.guess(data.source2);\n      data.poster = editor.convertURL(data.poster, 'poster');\n      var pattern = matchPattern(data.source1);\n      if (pattern) {\n        data.source1 = pattern.url;\n        data.type = pattern.type;\n        data.allowFullscreen = pattern.allowFullscreen;\n        data.width = data.width || pattern.w;\n        data.height = data.height || pattern.h;\n      }\n      if (data.embed) {\n        return UpdateHtml.updateHtml(data.embed, data, true);\n      } else {\n        var videoScript = VideoScript.getVideoScriptMatch(Settings.getScripts(editor), data.source1);\n        if (videoScript) {\n          data.type = 'script';\n          data.width = videoScript.width;\n          data.height = videoScript.height;\n        }\n        var audioTemplateCallback = Settings.getAudioTemplateCallback(editor);\n        var videoTemplateCallback = Settings.getVideoTemplateCallback(editor);\n        data.width = data.width || 300;\n        data.height = data.height || 150;\n        global$2.each(data, function (value, key) {\n          data[key] = editor.dom.encode(value);\n        });\n        if (data.type === 'iframe') {\n          return getIframeHtml(data);\n        } else if (data.source1mime === 'application/x-shockwave-flash') {\n          return getFlashHtml(data);\n        } else if (data.source1mime.indexOf('audio') !== -1) {\n          return getAudioHtml(data, audioTemplateCallback);\n        } else if (data.type === 'script') {\n          return getScriptHtml(data);\n        } else {\n          return getVideoHtml(data, videoTemplateCallback);\n        }\n      }\n    };\n    var DataToHtml = { dataToHtml: dataToHtml };\n\n    var cache = {};\n    var embedPromise = function (data, dataToHtml, handler) {\n      return new global$5(function (res, rej) {\n        var wrappedResolve = function (response) {\n          if (response.html) {\n            cache[data.source1] = response;\n          }\n          return res({\n            url: data.source1,\n            html: response.html ? response.html : dataToHtml(data)\n          });\n        };\n        if (cache[data.source1]) {\n          wrappedResolve(cache[data.source1]);\n        } else {\n          handler({ url: data.source1 }, wrappedResolve, rej);\n        }\n      });\n    };\n    var defaultPromise = function (data, dataToHtml) {\n      return new global$5(function (res) {\n        res({\n          html: dataToHtml(data),\n          url: data.source1\n        });\n      });\n    };\n    var loadedData = function (editor) {\n      return function (data) {\n        return DataToHtml.dataToHtml(editor, data);\n      };\n    };\n    var getEmbedHtml = function (editor, data) {\n      var embedHandler = Settings.getUrlResolver(editor);\n      return embedHandler ? embedPromise(data, loadedData(editor), embedHandler) : defaultPromise(data, loadedData(editor));\n    };\n    var isCached = function (url) {\n      return cache.hasOwnProperty(url);\n    };\n    var Service = {\n      getEmbedHtml: getEmbedHtml,\n      isCached: isCached\n    };\n\n    var trimPx$1 = function (value) {\n      return value.replace(/px$/, '');\n    };\n    var addPx$1 = function (value) {\n      return /^[0-9.]+$/.test(value) ? value + 'px' : value;\n    };\n    var getSize = function (name) {\n      return function (elm) {\n        return elm ? trimPx$1(elm.style[name]) : '';\n      };\n    };\n    var setSize = function (name) {\n      return function (elm, value) {\n        if (elm) {\n          elm.style[name] = addPx$1(value);\n        }\n      };\n    };\n    var Size = {\n      getMaxWidth: getSize('maxWidth'),\n      getMaxHeight: getSize('maxHeight'),\n      setMaxWidth: setSize('maxWidth'),\n      setMaxHeight: setSize('maxHeight')\n    };\n\n    var doSyncSize = function (widthCtrl, heightCtrl) {\n      widthCtrl.state.set('oldVal', widthCtrl.value());\n      heightCtrl.state.set('oldVal', heightCtrl.value());\n    };\n    var doSizeControls = function (win, f) {\n      var widthCtrl = win.find('#width')[0];\n      var heightCtrl = win.find('#height')[0];\n      var constrained = win.find('#constrain')[0];\n      if (widthCtrl && heightCtrl && constrained) {\n        f(widthCtrl, heightCtrl, constrained.checked());\n      }\n    };\n    var doUpdateSize = function (widthCtrl, heightCtrl, isContrained) {\n      var oldWidth = widthCtrl.state.get('oldVal');\n      var oldHeight = heightCtrl.state.get('oldVal');\n      var newWidth = widthCtrl.value();\n      var newHeight = heightCtrl.value();\n      if (isContrained && oldWidth && oldHeight && newWidth && newHeight) {\n        if (newWidth !== oldWidth) {\n          newHeight = Math.round(newWidth / oldWidth * newHeight);\n          if (!isNaN(newHeight)) {\n            heightCtrl.value(newHeight);\n          }\n        } else {\n          newWidth = Math.round(newHeight / oldHeight * newWidth);\n          if (!isNaN(newWidth)) {\n            widthCtrl.value(newWidth);\n          }\n        }\n      }\n      doSyncSize(widthCtrl, heightCtrl);\n    };\n    var syncSize = function (win) {\n      doSizeControls(win, doSyncSize);\n    };\n    var updateSize = function (win) {\n      doSizeControls(win, doUpdateSize);\n    };\n    var createUi = function (onChange) {\n      var recalcSize = function () {\n        onChange(function (win) {\n          updateSize(win);\n        });\n      };\n      return {\n        type: 'container',\n        label: 'Dimensions',\n        layout: 'flex',\n        align: 'center',\n        spacing: 5,\n        items: [\n          {\n            name: 'width',\n            type: 'textbox',\n            maxLength: 5,\n            size: 5,\n            onchange: recalcSize,\n            ariaLabel: 'Width'\n          },\n          {\n            type: 'label',\n            text: 'x'\n          },\n          {\n            name: 'height',\n            type: 'textbox',\n            maxLength: 5,\n            size: 5,\n            onchange: recalcSize,\n            ariaLabel: 'Height'\n          },\n          {\n            name: 'constrain',\n            type: 'checkbox',\n            checked: true,\n            text: 'Constrain proportions'\n          }\n        ]\n      };\n    };\n    var SizeManager = {\n      createUi: createUi,\n      syncSize: syncSize,\n      updateSize: updateSize\n    };\n\n    var embedChange = global$1.ie && global$1.ie <= 8 ? 'onChange' : 'onInput';\n    var handleError = function (editor) {\n      return function (error) {\n        var errorMessage = error && error.msg ? 'Media embed handler error: ' + error.msg : 'Media embed handler threw unknown error.';\n        editor.notificationManager.open({\n          type: 'error',\n          text: errorMessage\n        });\n      };\n    };\n    var getData = function (editor) {\n      var element = editor.selection.getNode();\n      var dataEmbed = element.getAttribute('data-ephox-embed-iri');\n      if (dataEmbed) {\n        return {\n          'source1': dataEmbed,\n          'data-ephox-embed-iri': dataEmbed,\n          'width': Size.getMaxWidth(element),\n          'height': Size.getMaxHeight(element)\n        };\n      }\n      return element.getAttribute('data-mce-object') ? HtmlToData.htmlToData(Settings.getScripts(editor), editor.serializer.serialize(element, { selection: true })) : {};\n    };\n    var getSource = function (editor) {\n      var elm = editor.selection.getNode();\n      if (elm.getAttribute('data-mce-object') || elm.getAttribute('data-ephox-embed-iri')) {\n        return editor.selection.getContent();\n      }\n    };\n    var addEmbedHtml = function (win, editor) {\n      return function (response) {\n        var html = response.html;\n        var embed = win.find('#embed')[0];\n        var data = global$2.extend(HtmlToData.htmlToData(Settings.getScripts(editor), html), { source1: response.url });\n        win.fromJSON(data);\n        if (embed) {\n          embed.value(html);\n          SizeManager.updateSize(win);\n        }\n      };\n    };\n    var selectPlaceholder = function (editor, beforeObjects) {\n      var i;\n      var y;\n      var afterObjects = editor.dom.select('img[data-mce-object]');\n      for (i = 0; i < beforeObjects.length; i++) {\n        for (y = afterObjects.length - 1; y >= 0; y--) {\n          if (beforeObjects[i] === afterObjects[y]) {\n            afterObjects.splice(y, 1);\n          }\n        }\n      }\n      editor.selection.select(afterObjects[0]);\n    };\n    var handleInsert = function (editor, html) {\n      var beforeObjects = editor.dom.select('img[data-mce-object]');\n      editor.insertContent(html);\n      selectPlaceholder(editor, beforeObjects);\n      editor.nodeChanged();\n    };\n    var submitForm = function (win, editor) {\n      var data = win.toJSON();\n      data.embed = UpdateHtml.updateHtml(data.embed, data);\n      if (data.embed && Service.isCached(data.source1)) {\n        handleInsert(editor, data.embed);\n      } else {\n        Service.getEmbedHtml(editor, data).then(function (response) {\n          handleInsert(editor, response.html);\n        }).catch(handleError(editor));\n      }\n    };\n    var populateMeta = function (win, meta) {\n      global$2.each(meta, function (value, key) {\n        win.find('#' + key).value(value);\n      });\n    };\n    var showDialog = function (editor) {\n      var win;\n      var data;\n      var generalFormItems = [{\n          name: 'source1',\n          type: 'filepicker',\n          filetype: 'media',\n          size: 40,\n          autofocus: true,\n          label: 'Source',\n          onpaste: function () {\n            setTimeout(function () {\n              Service.getEmbedHtml(editor, win.toJSON()).then(addEmbedHtml(win, editor)).catch(handleError(editor));\n            }, 1);\n          },\n          onchange: function (e) {\n            Service.getEmbedHtml(editor, win.toJSON()).then(addEmbedHtml(win, editor)).catch(handleError(editor));\n            populateMeta(win, e.meta);\n          },\n          onbeforecall: function (e) {\n            e.meta = win.toJSON();\n          }\n        }];\n      var advancedFormItems = [];\n      var reserialise = function (update) {\n        update(win);\n        data = win.toJSON();\n        win.find('#embed').value(UpdateHtml.updateHtml(data.embed, data));\n      };\n      if (Settings.hasAltSource(editor)) {\n        advancedFormItems.push({\n          name: 'source2',\n          type: 'filepicker',\n          filetype: 'media',\n          size: 40,\n          label: 'Alternative source'\n        });\n      }\n      if (Settings.hasPoster(editor)) {\n        advancedFormItems.push({\n          name: 'poster',\n          type: 'filepicker',\n          filetype: 'image',\n          size: 40,\n          label: 'Poster'\n        });\n      }\n      if (Settings.hasDimensions(editor)) {\n        var control = SizeManager.createUi(reserialise);\n        generalFormItems.push(control);\n      }\n      data = getData(editor);\n      var embedTextBox = {\n        id: 'mcemediasource',\n        type: 'textbox',\n        flex: 1,\n        name: 'embed',\n        value: getSource(editor),\n        multiline: true,\n        rows: 5,\n        label: 'Source'\n      };\n      var updateValueOnChange = function () {\n        data = global$2.extend({}, HtmlToData.htmlToData(Settings.getScripts(editor), this.value()));\n        this.parent().parent().fromJSON(data);\n      };\n      embedTextBox[embedChange] = updateValueOnChange;\n      var body = [\n        {\n          title: 'General',\n          type: 'form',\n          items: generalFormItems\n        },\n        {\n          title: 'Embed',\n          type: 'container',\n          layout: 'flex',\n          direction: 'column',\n          align: 'stretch',\n          padding: 10,\n          spacing: 10,\n          items: [\n            {\n              type: 'label',\n              text: 'Paste your embed code below:',\n              forId: 'mcemediasource'\n            },\n            embedTextBox\n          ]\n        }\n      ];\n      if (advancedFormItems.length > 0) {\n        body.push({\n          title: 'Advanced',\n          type: 'form',\n          items: advancedFormItems\n        });\n      }\n      win = editor.windowManager.open({\n        title: 'Insert/edit media',\n        data: data,\n        bodyType: 'tabpanel',\n        body: body,\n        onSubmit: function () {\n          SizeManager.updateSize(win);\n          submitForm(win, editor);\n        }\n      });\n      SizeManager.syncSize(win);\n    };\n    var Dialog = { showDialog: showDialog };\n\n    var get$1 = function (editor) {\n      var showDialog = function () {\n        Dialog.showDialog(editor);\n      };\n      return { showDialog: showDialog };\n    };\n    var Api = { get: get$1 };\n\n    var register = function (editor) {\n      var showDialog = function () {\n        Dialog.showDialog(editor);\n      };\n      editor.addCommand('mceMedia', showDialog);\n    };\n    var Commands = { register: register };\n\n    var global$8 = tinymce.util.Tools.resolve('tinymce.html.Node');\n\n    var sanitize = function (editor, html) {\n      if (Settings.shouldFilterHtml(editor) === false) {\n        return html;\n      }\n      var writer = global$7();\n      var blocked;\n      global$4({\n        validate: false,\n        allow_conditional_comments: false,\n        special: 'script,noscript',\n        comment: function (text) {\n          writer.comment(text);\n        },\n        cdata: function (text) {\n          writer.cdata(text);\n        },\n        text: function (text, raw) {\n          writer.text(text, raw);\n        },\n        start: function (name, attrs, empty) {\n          blocked = true;\n          if (name === 'script' || name === 'noscript' || name === 'svg') {\n            return;\n          }\n          for (var i = attrs.length - 1; i >= 0; i--) {\n            var attrName = attrs[i].name;\n            if (attrName.indexOf('on') === 0) {\n              delete attrs.map[attrName];\n              attrs.splice(i, 1);\n            }\n            if (attrName === 'style') {\n              attrs[i].value = editor.dom.serializeStyle(editor.dom.parseStyle(attrs[i].value), name);\n            }\n          }\n          writer.start(name, attrs, empty);\n          blocked = false;\n        },\n        end: function (name) {\n          if (blocked) {\n            return;\n          }\n          writer.end(name);\n        }\n      }, global$6({})).parse(html);\n      return writer.getContent();\n    };\n    var Sanitize = { sanitize: sanitize };\n\n    var createPlaceholderNode = function (editor, node) {\n      var placeHolder;\n      var name = node.name;\n      placeHolder = new global$8('img', 1);\n      placeHolder.shortEnded = true;\n      retainAttributesAndInnerHtml(editor, node, placeHolder);\n      placeHolder.attr({\n        'width': node.attr('width') || '300',\n        'height': node.attr('height') || (name === 'audio' ? '30' : '150'),\n        'style': node.attr('style'),\n        'src': global$1.transparentSrc,\n        'data-mce-object': name,\n        'class': 'mce-object mce-object-' + name\n      });\n      return placeHolder;\n    };\n    var createPreviewIframeNode = function (editor, node) {\n      var previewWrapper;\n      var previewNode;\n      var shimNode;\n      var name = node.name;\n      previewWrapper = new global$8('span', 1);\n      previewWrapper.attr({\n        'contentEditable': 'false',\n        'style': node.attr('style'),\n        'data-mce-object': name,\n        'class': 'mce-preview-object mce-object-' + name\n      });\n      retainAttributesAndInnerHtml(editor, node, previewWrapper);\n      previewNode = new global$8(name, 1);\n      previewNode.attr({\n        src: node.attr('src'),\n        allowfullscreen: node.attr('allowfullscreen'),\n        style: node.attr('style'),\n        class: node.attr('class'),\n        width: node.attr('width'),\n        height: node.attr('height'),\n        frameborder: '0'\n      });\n      shimNode = new global$8('span', 1);\n      shimNode.attr('class', 'mce-shim');\n      previewWrapper.append(previewNode);\n      previewWrapper.append(shimNode);\n      return previewWrapper;\n    };\n    var retainAttributesAndInnerHtml = function (editor, sourceNode, targetNode) {\n      var attrName;\n      var attrValue;\n      var attribs;\n      var ai;\n      var innerHtml;\n      attribs = sourceNode.attributes;\n      ai = attribs.length;\n      while (ai--) {\n        attrName = attribs[ai].name;\n        attrValue = attribs[ai].value;\n        if (attrName !== 'width' && attrName !== 'height' && attrName !== 'style') {\n          if (attrName === 'data' || attrName === 'src') {\n            attrValue = editor.convertURL(attrValue, attrName);\n          }\n          targetNode.attr('data-mce-p-' + attrName, attrValue);\n        }\n      }\n      innerHtml = sourceNode.firstChild && sourceNode.firstChild.value;\n      if (innerHtml) {\n        targetNode.attr('data-mce-html', escape(Sanitize.sanitize(editor, innerHtml)));\n        targetNode.firstChild = null;\n      }\n    };\n    var isWithinEphoxEmbed = function (node) {\n      while (node = node.parent) {\n        if (node.attr('data-ephox-embed-iri')) {\n          return true;\n        }\n      }\n      return false;\n    };\n    var placeHolderConverter = function (editor) {\n      return function (nodes) {\n        var i = nodes.length;\n        var node;\n        var videoScript;\n        while (i--) {\n          node = nodes[i];\n          if (!node.parent) {\n            continue;\n          }\n          if (node.parent.attr('data-mce-object')) {\n            continue;\n          }\n          if (node.name === 'script') {\n            videoScript = VideoScript.getVideoScriptMatch(Settings.getScripts(editor), node.attr('src'));\n            if (!videoScript) {\n              continue;\n            }\n          }\n          if (videoScript) {\n            if (videoScript.width) {\n              node.attr('width', videoScript.width.toString());\n            }\n            if (videoScript.height) {\n              node.attr('height', videoScript.height.toString());\n            }\n          }\n          if (node.name === 'iframe' && Settings.hasLiveEmbeds(editor) && global$1.ceFalse) {\n            if (!isWithinEphoxEmbed(node)) {\n              node.replace(createPreviewIframeNode(editor, node));\n            }\n          } else {\n            if (!isWithinEphoxEmbed(node)) {\n              node.replace(createPlaceholderNode(editor, node));\n            }\n          }\n        }\n      };\n    };\n    var Nodes = {\n      createPreviewIframeNode: createPreviewIframeNode,\n      createPlaceholderNode: createPlaceholderNode,\n      placeHolderConverter: placeHolderConverter\n    };\n\n    var setup = function (editor) {\n      editor.on('preInit', function () {\n        var specialElements = editor.schema.getSpecialElements();\n        global$2.each('video audio iframe object'.split(' '), function (name) {\n          specialElements[name] = new RegExp('</' + name + '[^>]*>', 'gi');\n        });\n        var boolAttrs = editor.schema.getBoolAttrs();\n        global$2.each('webkitallowfullscreen mozallowfullscreen allowfullscreen'.split(' '), function (name) {\n          boolAttrs[name] = {};\n        });\n        editor.parser.addNodeFilter('iframe,video,audio,object,embed,script', Nodes.placeHolderConverter(editor));\n        editor.serializer.addAttributeFilter('data-mce-object', function (nodes, name) {\n          var i = nodes.length;\n          var node;\n          var realElm;\n          var ai;\n          var attribs;\n          var innerHtml;\n          var innerNode;\n          var realElmName;\n          var className;\n          while (i--) {\n            node = nodes[i];\n            if (!node.parent) {\n              continue;\n            }\n            realElmName = node.attr(name);\n            realElm = new global$8(realElmName, 1);\n            if (realElmName !== 'audio' && realElmName !== 'script') {\n              className = node.attr('class');\n              if (className && className.indexOf('mce-preview-object') !== -1) {\n                realElm.attr({\n                  width: node.firstChild.attr('width'),\n                  height: node.firstChild.attr('height')\n                });\n              } else {\n                realElm.attr({\n                  width: node.attr('width'),\n                  height: node.attr('height')\n                });\n              }\n            }\n            realElm.attr({ style: node.attr('style') });\n            attribs = node.attributes;\n            ai = attribs.length;\n            while (ai--) {\n              var attrName = attribs[ai].name;\n              if (attrName.indexOf('data-mce-p-') === 0) {\n                realElm.attr(attrName.substr(11), attribs[ai].value);\n              }\n            }\n            if (realElmName === 'script') {\n              realElm.attr('type', 'text/javascript');\n            }\n            innerHtml = node.attr('data-mce-html');\n            if (innerHtml) {\n              innerNode = new global$8('#text', 3);\n              innerNode.raw = true;\n              innerNode.value = Sanitize.sanitize(editor, unescape(innerHtml));\n              realElm.append(innerNode);\n            }\n            node.replace(realElm);\n          }\n        });\n      });\n      editor.on('setContent', function () {\n        editor.$('span.mce-preview-object').each(function (index, elm) {\n          var $elm = editor.$(elm);\n          if ($elm.find('span.mce-shim', elm).length === 0) {\n            $elm.append('<span class=\"mce-shim\"></span>');\n          }\n        });\n      });\n    };\n    var FilterContent = { setup: setup };\n\n    var setup$1 = function (editor) {\n      editor.on('ResolveName', function (e) {\n        var name;\n        if (e.target.nodeType === 1 && (name = e.target.getAttribute('data-mce-object'))) {\n          e.name = name;\n        }\n      });\n    };\n    var ResolveName = { setup: setup$1 };\n\n    var setup$2 = function (editor) {\n      editor.on('click keyup', function () {\n        var selectedNode = editor.selection.getNode();\n        if (selectedNode && editor.dom.hasClass(selectedNode, 'mce-preview-object')) {\n          if (editor.dom.getAttrib(selectedNode, 'data-mce-selected')) {\n            selectedNode.setAttribute('data-mce-selected', '2');\n          }\n        }\n      });\n      editor.on('ObjectSelected', function (e) {\n        var objectType = e.target.getAttribute('data-mce-object');\n        if (objectType === 'audio' || objectType === 'script') {\n          e.preventDefault();\n        }\n      });\n      editor.on('objectResized', function (e) {\n        var target = e.target;\n        var html;\n        if (target.getAttribute('data-mce-object')) {\n          html = target.getAttribute('data-mce-html');\n          if (html) {\n            html = unescape(html);\n            target.setAttribute('data-mce-html', escape(UpdateHtml.updateHtml(html, {\n              width: e.width,\n              height: e.height\n            })));\n          }\n        }\n      });\n    };\n    var Selection = { setup: setup$2 };\n\n    var register$1 = function (editor) {\n      editor.addButton('media', {\n        tooltip: 'Insert/edit media',\n        cmd: 'mceMedia',\n        stateSelector: [\n          'img[data-mce-object]',\n          'span[data-mce-object]',\n          'div[data-ephox-embed-iri]'\n        ]\n      });\n      editor.addMenuItem('media', {\n        icon: 'media',\n        text: 'Media',\n        cmd: 'mceMedia',\n        context: 'insert',\n        prependToContext: true\n      });\n    };\n    var Buttons = { register: register$1 };\n\n    global.add('media', function (editor) {\n      Commands.register(editor);\n      Buttons.register(editor);\n      ResolveName.setup(editor);\n      FilterContent.setup(editor);\n      Selection.setup(editor);\n      return Api.get(editor);\n    });\n    function Plugin () {\n    }\n\n    return Plugin;\n\n}());\n})();\n","// Exports the \"nonbreaking\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/nonbreaking')\n//   ES2015:\n//     import 'tinymce/plugins/nonbreaking'\nrequire('./plugin.js');","(function () {\nvar nonbreaking = (function () {\n    'use strict';\n\n    var global = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var stringRepeat = function (string, repeats) {\n      var str = '';\n      for (var index = 0; index < repeats; index++) {\n        str += string;\n      }\n      return str;\n    };\n    var isVisualCharsEnabled = function (editor) {\n      return editor.plugins.visualchars ? editor.plugins.visualchars.isEnabled() : false;\n    };\n    var insertNbsp = function (editor, times) {\n      var nbsp = isVisualCharsEnabled(editor) ? '<span class=\"mce-nbsp\">&nbsp;</span>' : '&nbsp;';\n      editor.insertContent(stringRepeat(nbsp, times));\n      editor.dom.setAttrib(editor.dom.select('span.mce-nbsp'), 'data-mce-bogus', '1');\n    };\n    var Actions = { insertNbsp: insertNbsp };\n\n    var register = function (editor) {\n      editor.addCommand('mceNonBreaking', function () {\n        Actions.insertNbsp(editor, 1);\n      });\n    };\n    var Commands = { register: register };\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.util.VK');\n\n    var getKeyboardSpaces = function (editor) {\n      var spaces = editor.getParam('nonbreaking_force_tab', 0);\n      if (typeof spaces === 'boolean') {\n        return spaces === true ? 3 : 0;\n      } else {\n        return spaces;\n      }\n    };\n    var Settings = { getKeyboardSpaces: getKeyboardSpaces };\n\n    var setup = function (editor) {\n      var spaces = Settings.getKeyboardSpaces(editor);\n      if (spaces > 0) {\n        editor.on('keydown', function (e) {\n          if (e.keyCode === global$1.TAB && !e.isDefaultPrevented()) {\n            if (e.shiftKey) {\n              return;\n            }\n            e.preventDefault();\n            e.stopImmediatePropagation();\n            Actions.insertNbsp(editor, spaces);\n          }\n        });\n      }\n    };\n    var Keyboard = { setup: setup };\n\n    var register$1 = function (editor) {\n      editor.addButton('nonbreaking', {\n        title: 'Nonbreaking space',\n        cmd: 'mceNonBreaking'\n      });\n      editor.addMenuItem('nonbreaking', {\n        icon: 'nonbreaking',\n        text: 'Nonbreaking space',\n        cmd: 'mceNonBreaking',\n        context: 'insert'\n      });\n    };\n    var Buttons = { register: register$1 };\n\n    global.add('nonbreaking', function (editor) {\n      Commands.register(editor);\n      Buttons.register(editor);\n      Keyboard.setup(editor);\n    });\n    function Plugin () {\n    }\n\n    return Plugin;\n\n}());\n})();\n","// Exports the \"noneditable\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/noneditable')\n//   ES2015:\n//     import 'tinymce/plugins/noneditable'\nrequire('./plugin.js');","(function () {\nvar noneditable = (function () {\n    'use strict';\n\n    var global = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var getNonEditableClass = function (editor) {\n      return editor.getParam('noneditable_noneditable_class', 'mceNonEditable');\n    };\n    var getEditableClass = function (editor) {\n      return editor.getParam('noneditable_editable_class', 'mceEditable');\n    };\n    var getNonEditableRegExps = function (editor) {\n      var nonEditableRegExps = editor.getParam('noneditable_regexp', []);\n      if (nonEditableRegExps && nonEditableRegExps.constructor === RegExp) {\n        return [nonEditableRegExps];\n      } else {\n        return nonEditableRegExps;\n      }\n    };\n    var Settings = {\n      getNonEditableClass: getNonEditableClass,\n      getEditableClass: getEditableClass,\n      getNonEditableRegExps: getNonEditableRegExps\n    };\n\n    var hasClass = function (checkClassName) {\n      return function (node) {\n        return (' ' + node.attr('class') + ' ').indexOf(checkClassName) !== -1;\n      };\n    };\n    var replaceMatchWithSpan = function (editor, content, cls) {\n      return function (match) {\n        var args = arguments, index = args[args.length - 2];\n        var prevChar = index > 0 ? content.charAt(index - 1) : '';\n        if (prevChar === '\"') {\n          return match;\n        }\n        if (prevChar === '>') {\n          var findStartTagIndex = content.lastIndexOf('<', index);\n          if (findStartTagIndex !== -1) {\n            var tagHtml = content.substring(findStartTagIndex, index);\n            if (tagHtml.indexOf('contenteditable=\"false\"') !== -1) {\n              return match;\n            }\n          }\n        }\n        return '<span class=\"' + cls + '\" data-mce-content=\"' + editor.dom.encode(args[0]) + '\">' + editor.dom.encode(typeof args[1] === 'string' ? args[1] : args[0]) + '</span>';\n      };\n    };\n    var convertRegExpsToNonEditable = function (editor, nonEditableRegExps, e) {\n      var i = nonEditableRegExps.length, content = e.content;\n      if (e.format === 'raw') {\n        return;\n      }\n      while (i--) {\n        content = content.replace(nonEditableRegExps[i], replaceMatchWithSpan(editor, content, Settings.getNonEditableClass(editor)));\n      }\n      e.content = content;\n    };\n    var setup = function (editor) {\n      var editClass, nonEditClass;\n      var contentEditableAttrName = 'contenteditable';\n      editClass = ' ' + global$1.trim(Settings.getEditableClass(editor)) + ' ';\n      nonEditClass = ' ' + global$1.trim(Settings.getNonEditableClass(editor)) + ' ';\n      var hasEditClass = hasClass(editClass);\n      var hasNonEditClass = hasClass(nonEditClass);\n      var nonEditableRegExps = Settings.getNonEditableRegExps(editor);\n      editor.on('PreInit', function () {\n        if (nonEditableRegExps.length > 0) {\n          editor.on('BeforeSetContent', function (e) {\n            convertRegExpsToNonEditable(editor, nonEditableRegExps, e);\n          });\n        }\n        editor.parser.addAttributeFilter('class', function (nodes) {\n          var i = nodes.length, node;\n          while (i--) {\n            node = nodes[i];\n            if (hasEditClass(node)) {\n              node.attr(contentEditableAttrName, 'true');\n            } else if (hasNonEditClass(node)) {\n              node.attr(contentEditableAttrName, 'false');\n            }\n          }\n        });\n        editor.serializer.addAttributeFilter(contentEditableAttrName, function (nodes) {\n          var i = nodes.length, node;\n          while (i--) {\n            node = nodes[i];\n            if (!hasEditClass(node) && !hasNonEditClass(node)) {\n              continue;\n            }\n            if (nonEditableRegExps.length > 0 && node.attr('data-mce-content')) {\n              node.name = '#text';\n              node.type = 3;\n              node.raw = true;\n              node.value = node.attr('data-mce-content');\n            } else {\n              node.attr(contentEditableAttrName, null);\n            }\n          }\n        });\n      });\n    };\n    var FilterContent = { setup: setup };\n\n    global.add('noneditable', function (editor) {\n      FilterContent.setup(editor);\n    });\n    function Plugin () {\n    }\n\n    return Plugin;\n\n}());\n})();\n","// Exports the \"pagebreak\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/pagebreak')\n//   ES2015:\n//     import 'tinymce/plugins/pagebreak'\nrequire('./plugin.js');","(function () {\nvar pagebreak = (function () {\n    'use strict';\n\n    var global = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.Env');\n\n    var getSeparatorHtml = function (editor) {\n      return editor.getParam('pagebreak_separator', '<!-- pagebreak -->');\n    };\n    var shouldSplitBlock = function (editor) {\n      return editor.getParam('pagebreak_split_block', false);\n    };\n    var Settings = {\n      getSeparatorHtml: getSeparatorHtml,\n      shouldSplitBlock: shouldSplitBlock\n    };\n\n    var getPageBreakClass = function () {\n      return 'mce-pagebreak';\n    };\n    var getPlaceholderHtml = function () {\n      return '<img src=\"' + global$1.transparentSrc + '\" class=\"' + getPageBreakClass() + '\" data-mce-resize=\"false\" data-mce-placeholder />';\n    };\n    var setup = function (editor) {\n      var separatorHtml = Settings.getSeparatorHtml(editor);\n      var pageBreakSeparatorRegExp = new RegExp(separatorHtml.replace(/[\\?\\.\\*\\[\\]\\(\\)\\{\\}\\+\\^\\$\\:]/g, function (a) {\n        return '\\\\' + a;\n      }), 'gi');\n      editor.on('BeforeSetContent', function (e) {\n        e.content = e.content.replace(pageBreakSeparatorRegExp, getPlaceholderHtml());\n      });\n      editor.on('PreInit', function () {\n        editor.serializer.addNodeFilter('img', function (nodes) {\n          var i = nodes.length, node, className;\n          while (i--) {\n            node = nodes[i];\n            className = node.attr('class');\n            if (className && className.indexOf('mce-pagebreak') !== -1) {\n              var parentNode = node.parent;\n              if (editor.schema.getBlockElements()[parentNode.name] && Settings.shouldSplitBlock(editor)) {\n                parentNode.type = 3;\n                parentNode.value = separatorHtml;\n                parentNode.raw = true;\n                node.remove();\n                continue;\n              }\n              node.type = 3;\n              node.value = separatorHtml;\n              node.raw = true;\n            }\n          }\n        });\n      });\n    };\n    var FilterContent = {\n      setup: setup,\n      getPlaceholderHtml: getPlaceholderHtml,\n      getPageBreakClass: getPageBreakClass\n    };\n\n    var register = function (editor) {\n      editor.addCommand('mcePageBreak', function () {\n        if (editor.settings.pagebreak_split_block) {\n          editor.insertContent('<p>' + FilterContent.getPlaceholderHtml() + '</p>');\n        } else {\n          editor.insertContent(FilterContent.getPlaceholderHtml());\n        }\n      });\n    };\n    var Commands = { register: register };\n\n    var setup$1 = function (editor) {\n      editor.on('ResolveName', function (e) {\n        if (e.target.nodeName === 'IMG' && editor.dom.hasClass(e.target, FilterContent.getPageBreakClass())) {\n          e.name = 'pagebreak';\n        }\n      });\n    };\n    var ResolveName = { setup: setup$1 };\n\n    var register$1 = function (editor) {\n      editor.addButton('pagebreak', {\n        title: 'Page break',\n        cmd: 'mcePageBreak'\n      });\n      editor.addMenuItem('pagebreak', {\n        text: 'Page break',\n        icon: 'pagebreak',\n        cmd: 'mcePageBreak',\n        context: 'insert'\n      });\n    };\n    var Buttons = { register: register$1 };\n\n    global.add('pagebreak', function (editor) {\n      Commands.register(editor);\n      Buttons.register(editor);\n      FilterContent.setup(editor);\n      ResolveName.setup(editor);\n    });\n    function Plugin () {\n    }\n\n    return Plugin;\n\n}());\n})();\n","// Exports the \"paste\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/paste')\n//   ES2015:\n//     import 'tinymce/plugins/paste'\nrequire('./plugin.js');","(function () {\nvar paste = (function (domGlobals) {\n    'use strict';\n\n    var Cell = function (initial) {\n      var value = initial;\n      var get = function () {\n        return value;\n      };\n      var set = function (v) {\n        value = v;\n      };\n      var clone = function () {\n        return Cell(get());\n      };\n      return {\n        get: get,\n        set: set,\n        clone: clone\n      };\n    };\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var hasProPlugin = function (editor) {\n      if (/(^|[ ,])powerpaste([, ]|$)/.test(editor.settings.plugins) && global$1.get('powerpaste')) {\n        if (typeof domGlobals.window.console !== 'undefined' && domGlobals.window.console.log) {\n          domGlobals.window.console.log('PowerPaste is incompatible with Paste plugin! Remove \\'paste\\' from the \\'plugins\\' option.');\n        }\n        return true;\n      } else {\n        return false;\n      }\n    };\n    var DetectProPlugin = { hasProPlugin: hasProPlugin };\n\n    var get = function (clipboard, quirks) {\n      return {\n        clipboard: clipboard,\n        quirks: quirks\n      };\n    };\n    var Api = { get: get };\n\n    var firePastePreProcess = function (editor, html, internal, isWordHtml) {\n      return editor.fire('PastePreProcess', {\n        content: html,\n        internal: internal,\n        wordContent: isWordHtml\n      });\n    };\n    var firePastePostProcess = function (editor, node, internal, isWordHtml) {\n      return editor.fire('PastePostProcess', {\n        node: node,\n        internal: internal,\n        wordContent: isWordHtml\n      });\n    };\n    var firePastePlainTextToggle = function (editor, state) {\n      return editor.fire('PastePlainTextToggle', { state: state });\n    };\n    var firePaste = function (editor, ieFake) {\n      return editor.fire('paste', { ieFake: ieFake });\n    };\n    var Events = {\n      firePastePreProcess: firePastePreProcess,\n      firePastePostProcess: firePastePostProcess,\n      firePastePlainTextToggle: firePastePlainTextToggle,\n      firePaste: firePaste\n    };\n\n    var shouldPlainTextInform = function (editor) {\n      return editor.getParam('paste_plaintext_inform', true);\n    };\n    var shouldBlockDrop = function (editor) {\n      return editor.getParam('paste_block_drop', false);\n    };\n    var shouldPasteDataImages = function (editor) {\n      return editor.getParam('paste_data_images', false);\n    };\n    var shouldFilterDrop = function (editor) {\n      return editor.getParam('paste_filter_drop', true);\n    };\n    var getPreProcess = function (editor) {\n      return editor.getParam('paste_preprocess');\n    };\n    var getPostProcess = function (editor) {\n      return editor.getParam('paste_postprocess');\n    };\n    var getWebkitStyles = function (editor) {\n      return editor.getParam('paste_webkit_styles');\n    };\n    var shouldRemoveWebKitStyles = function (editor) {\n      return editor.getParam('paste_remove_styles_if_webkit', true);\n    };\n    var shouldMergeFormats = function (editor) {\n      return editor.getParam('paste_merge_formats', true);\n    };\n    var isSmartPasteEnabled = function (editor) {\n      return editor.getParam('smart_paste', true);\n    };\n    var isPasteAsTextEnabled = function (editor) {\n      return editor.getParam('paste_as_text', false);\n    };\n    var getRetainStyleProps = function (editor) {\n      return editor.getParam('paste_retain_style_properties');\n    };\n    var getWordValidElements = function (editor) {\n      var defaultValidElements = '-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,' + '-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,' + 'td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody';\n      return editor.getParam('paste_word_valid_elements', defaultValidElements);\n    };\n    var shouldConvertWordFakeLists = function (editor) {\n      return editor.getParam('paste_convert_word_fake_lists', true);\n    };\n    var shouldUseDefaultFilters = function (editor) {\n      return editor.getParam('paste_enable_default_filters', true);\n    };\n    var Settings = {\n      shouldPlainTextInform: shouldPlainTextInform,\n      shouldBlockDrop: shouldBlockDrop,\n      shouldPasteDataImages: shouldPasteDataImages,\n      shouldFilterDrop: shouldFilterDrop,\n      getPreProcess: getPreProcess,\n      getPostProcess: getPostProcess,\n      getWebkitStyles: getWebkitStyles,\n      shouldRemoveWebKitStyles: shouldRemoveWebKitStyles,\n      shouldMergeFormats: shouldMergeFormats,\n      isSmartPasteEnabled: isSmartPasteEnabled,\n      isPasteAsTextEnabled: isPasteAsTextEnabled,\n      getRetainStyleProps: getRetainStyleProps,\n      getWordValidElements: getWordValidElements,\n      shouldConvertWordFakeLists: shouldConvertWordFakeLists,\n      shouldUseDefaultFilters: shouldUseDefaultFilters\n    };\n\n    var shouldInformUserAboutPlainText = function (editor, userIsInformedState) {\n      return userIsInformedState.get() === false && Settings.shouldPlainTextInform(editor);\n    };\n    var displayNotification = function (editor, message) {\n      editor.notificationManager.open({\n        text: editor.translate(message),\n        type: 'info'\n      });\n    };\n    var togglePlainTextPaste = function (editor, clipboard, userIsInformedState) {\n      if (clipboard.pasteFormat.get() === 'text') {\n        clipboard.pasteFormat.set('html');\n        Events.firePastePlainTextToggle(editor, false);\n      } else {\n        clipboard.pasteFormat.set('text');\n        Events.firePastePlainTextToggle(editor, true);\n        if (shouldInformUserAboutPlainText(editor, userIsInformedState)) {\n          displayNotification(editor, 'Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.');\n          userIsInformedState.set(true);\n        }\n      }\n      editor.focus();\n    };\n    var Actions = { togglePlainTextPaste: togglePlainTextPaste };\n\n    var register = function (editor, clipboard, userIsInformedState) {\n      editor.addCommand('mceTogglePlainTextPaste', function () {\n        Actions.togglePlainTextPaste(editor, clipboard, userIsInformedState);\n      });\n      editor.addCommand('mceInsertClipboardContent', function (ui, value) {\n        if (value.content) {\n          clipboard.pasteHtml(value.content, value.internal);\n        }\n        if (value.text) {\n          clipboard.pasteText(value.text);\n        }\n      });\n    };\n    var Commands = { register: register };\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.Env');\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.util.Delay');\n\n    var global$4 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var global$5 = tinymce.util.Tools.resolve('tinymce.util.VK');\n\n    var internalMimeType = 'x-tinymce/html';\n    var internalMark = '<!-- ' + internalMimeType + ' -->';\n    var mark = function (html) {\n      return internalMark + html;\n    };\n    var unmark = function (html) {\n      return html.replace(internalMark, '');\n    };\n    var isMarked = function (html) {\n      return html.indexOf(internalMark) !== -1;\n    };\n    var InternalHtml = {\n      mark: mark,\n      unmark: unmark,\n      isMarked: isMarked,\n      internalHtmlMime: function () {\n        return internalMimeType;\n      }\n    };\n\n    var global$6 = tinymce.util.Tools.resolve('tinymce.html.Entities');\n\n    var isPlainText = function (text) {\n      return !/<(?:\\/?(?!(?:div|p|br|span)>)\\w+|(?:(?!(?:span style=\"white-space:\\s?pre;?\">)|br\\s?\\/>))\\w+\\s[^>]+)>/i.test(text);\n    };\n    var toBRs = function (text) {\n      return text.replace(/\\r?\\n/g, '<br>');\n    };\n    var openContainer = function (rootTag, rootAttrs) {\n      var key;\n      var attrs = [];\n      var tag = '<' + rootTag;\n      if (typeof rootAttrs === 'object') {\n        for (key in rootAttrs) {\n          if (rootAttrs.hasOwnProperty(key)) {\n            attrs.push(key + '=\"' + global$6.encodeAllRaw(rootAttrs[key]) + '\"');\n          }\n        }\n        if (attrs.length) {\n          tag += ' ' + attrs.join(' ');\n        }\n      }\n      return tag + '>';\n    };\n    var toBlockElements = function (text, rootTag, rootAttrs) {\n      var blocks = text.split(/\\n\\n/);\n      var tagOpen = openContainer(rootTag, rootAttrs);\n      var tagClose = '</' + rootTag + '>';\n      var paragraphs = global$4.map(blocks, function (p) {\n        return p.split(/\\n/).join('<br />');\n      });\n      var stitch = function (p) {\n        return tagOpen + p + tagClose;\n      };\n      return paragraphs.length === 1 ? paragraphs[0] : global$4.map(paragraphs, stitch).join('');\n    };\n    var convert = function (text, rootTag, rootAttrs) {\n      return rootTag ? toBlockElements(text, rootTag, rootAttrs) : toBRs(text);\n    };\n    var Newlines = {\n      isPlainText: isPlainText,\n      convert: convert,\n      toBRs: toBRs,\n      toBlockElements: toBlockElements\n    };\n\n    var global$7 = tinymce.util.Tools.resolve('tinymce.html.DomParser');\n\n    var global$8 = tinymce.util.Tools.resolve('tinymce.html.Serializer');\n\n    var global$9 = tinymce.util.Tools.resolve('tinymce.html.Node');\n\n    var global$a = tinymce.util.Tools.resolve('tinymce.html.Schema');\n\n    function filter(content, items) {\n      global$4.each(items, function (v) {\n        if (v.constructor === RegExp) {\n          content = content.replace(v, '');\n        } else {\n          content = content.replace(v[0], v[1]);\n        }\n      });\n      return content;\n    }\n    function innerText(html) {\n      var schema = global$a();\n      var domParser = global$7({}, schema);\n      var text = '';\n      var shortEndedElements = schema.getShortEndedElements();\n      var ignoreElements = global$4.makeMap('script noscript style textarea video audio iframe object', ' ');\n      var blockElements = schema.getBlockElements();\n      function walk(node) {\n        var name = node.name, currentNode = node;\n        if (name === 'br') {\n          text += '\\n';\n          return;\n        }\n        if (name === 'wbr') {\n          return;\n        }\n        if (shortEndedElements[name]) {\n          text += ' ';\n        }\n        if (ignoreElements[name]) {\n          text += ' ';\n          return;\n        }\n        if (node.type === 3) {\n          text += node.value;\n        }\n        if (!node.shortEnded) {\n          if (node = node.firstChild) {\n            do {\n              walk(node);\n            } while (node = node.next);\n          }\n        }\n        if (blockElements[name] && currentNode.next) {\n          text += '\\n';\n          if (name === 'p') {\n            text += '\\n';\n          }\n        }\n      }\n      html = filter(html, [/<!\\[[^\\]]+\\]>/g]);\n      walk(domParser.parse(html));\n      return text;\n    }\n    function trimHtml(html) {\n      function trimSpaces(all, s1, s2) {\n        if (!s1 && !s2) {\n          return ' ';\n        }\n        return '\\xA0';\n      }\n      html = filter(html, [\n        /^[\\s\\S]*<body[^>]*>\\s*|\\s*<\\/body[^>]*>[\\s\\S]*$/ig,\n        /<!--StartFragment-->|<!--EndFragment-->/g,\n        [\n          /( ?)<span class=\"Apple-converted-space\">\\u00a0<\\/span>( ?)/g,\n          trimSpaces\n        ],\n        /<br class=\"Apple-interchange-newline\">/g,\n        /<br>$/i\n      ]);\n      return html;\n    }\n    function createIdGenerator(prefix) {\n      var count = 0;\n      return function () {\n        return prefix + count++;\n      };\n    }\n    var isMsEdge = function () {\n      return domGlobals.navigator.userAgent.indexOf(' Edge/') !== -1;\n    };\n    var Utils = {\n      filter: filter,\n      innerText: innerText,\n      trimHtml: trimHtml,\n      createIdGenerator: createIdGenerator,\n      isMsEdge: isMsEdge\n    };\n\n    function isWordContent(content) {\n      return /<font face=\"Times New Roman\"|class=\"?Mso|style=\"[^\"]*\\bmso-|style='[^'']*\\bmso-|w:WordDocument/i.test(content) || /class=\"OutlineElement/.test(content) || /id=\"?docs\\-internal\\-guid\\-/.test(content);\n    }\n    function isNumericList(text) {\n      var found, patterns;\n      patterns = [\n        /^[IVXLMCD]{1,2}\\.[ \\u00a0]/,\n        /^[ivxlmcd]{1,2}\\.[ \\u00a0]/,\n        /^[a-z]{1,2}[\\.\\)][ \\u00a0]/,\n        /^[A-Z]{1,2}[\\.\\)][ \\u00a0]/,\n        /^[0-9]+\\.[ \\u00a0]/,\n        /^[\\u3007\\u4e00\\u4e8c\\u4e09\\u56db\\u4e94\\u516d\\u4e03\\u516b\\u4e5d]+\\.[ \\u00a0]/,\n        /^[\\u58f1\\u5f10\\u53c2\\u56db\\u4f0d\\u516d\\u4e03\\u516b\\u4e5d\\u62fe]+\\.[ \\u00a0]/\n      ];\n      text = text.replace(/^[\\u00a0 ]+/, '');\n      global$4.each(patterns, function (pattern) {\n        if (pattern.test(text)) {\n          found = true;\n          return false;\n        }\n      });\n      return found;\n    }\n    function isBulletList(text) {\n      return /^[\\s\\u00a0]*[\\u2022\\u00b7\\u00a7\\u25CF]\\s*/.test(text);\n    }\n    function convertFakeListsToProperLists(node) {\n      var currentListNode, prevListNode, lastLevel = 1;\n      function getText(node) {\n        var txt = '';\n        if (node.type === 3) {\n          return node.value;\n        }\n        if (node = node.firstChild) {\n          do {\n            txt += getText(node);\n          } while (node = node.next);\n        }\n        return txt;\n      }\n      function trimListStart(node, regExp) {\n        if (node.type === 3) {\n          if (regExp.test(node.value)) {\n            node.value = node.value.replace(regExp, '');\n            return false;\n          }\n        }\n        if (node = node.firstChild) {\n          do {\n            if (!trimListStart(node, regExp)) {\n              return false;\n            }\n          } while (node = node.next);\n        }\n        return true;\n      }\n      function removeIgnoredNodes(node) {\n        if (node._listIgnore) {\n          node.remove();\n          return;\n        }\n        if (node = node.firstChild) {\n          do {\n            removeIgnoredNodes(node);\n          } while (node = node.next);\n        }\n      }\n      function convertParagraphToLi(paragraphNode, listName, start) {\n        var level = paragraphNode._listLevel || lastLevel;\n        if (level !== lastLevel) {\n          if (level < lastLevel) {\n            if (currentListNode) {\n              currentListNode = currentListNode.parent.parent;\n            }\n          } else {\n            prevListNode = currentListNode;\n            currentListNode = null;\n          }\n        }\n        if (!currentListNode || currentListNode.name !== listName) {\n          prevListNode = prevListNode || currentListNode;\n          currentListNode = new global$9(listName, 1);\n          if (start > 1) {\n            currentListNode.attr('start', '' + start);\n          }\n          paragraphNode.wrap(currentListNode);\n        } else {\n          currentListNode.append(paragraphNode);\n        }\n        paragraphNode.name = 'li';\n        if (level > lastLevel && prevListNode) {\n          prevListNode.lastChild.append(currentListNode);\n        }\n        lastLevel = level;\n        removeIgnoredNodes(paragraphNode);\n        trimListStart(paragraphNode, /^\\u00a0+/);\n        trimListStart(paragraphNode, /^\\s*([\\u2022\\u00b7\\u00a7\\u25CF]|\\w+\\.)/);\n        trimListStart(paragraphNode, /^\\u00a0+/);\n      }\n      var elements = [];\n      var child = node.firstChild;\n      while (typeof child !== 'undefined' && child !== null) {\n        elements.push(child);\n        child = child.walk();\n        if (child !== null) {\n          while (typeof child !== 'undefined' && child.parent !== node) {\n            child = child.walk();\n          }\n        }\n      }\n      for (var i = 0; i < elements.length; i++) {\n        node = elements[i];\n        if (node.name === 'p' && node.firstChild) {\n          var nodeText = getText(node);\n          if (isBulletList(nodeText)) {\n            convertParagraphToLi(node, 'ul');\n            continue;\n          }\n          if (isNumericList(nodeText)) {\n            var matches = /([0-9]+)\\./.exec(nodeText);\n            var start = 1;\n            if (matches) {\n              start = parseInt(matches[1], 10);\n            }\n            convertParagraphToLi(node, 'ol', start);\n            continue;\n          }\n          if (node._listLevel) {\n            convertParagraphToLi(node, 'ul', 1);\n            continue;\n          }\n          currentListNode = null;\n        } else {\n          prevListNode = currentListNode;\n          currentListNode = null;\n        }\n      }\n    }\n    function filterStyles(editor, validStyles, node, styleValue) {\n      var outputStyles = {}, matches;\n      var styles = editor.dom.parseStyle(styleValue);\n      global$4.each(styles, function (value, name) {\n        switch (name) {\n        case 'mso-list':\n          matches = /\\w+ \\w+([0-9]+)/i.exec(styleValue);\n          if (matches) {\n            node._listLevel = parseInt(matches[1], 10);\n          }\n          if (/Ignore/i.test(value) && node.firstChild) {\n            node._listIgnore = true;\n            node.firstChild._listIgnore = true;\n          }\n          break;\n        case 'horiz-align':\n          name = 'text-align';\n          break;\n        case 'vert-align':\n          name = 'vertical-align';\n          break;\n        case 'font-color':\n        case 'mso-foreground':\n          name = 'color';\n          break;\n        case 'mso-background':\n        case 'mso-highlight':\n          name = 'background';\n          break;\n        case 'font-weight':\n        case 'font-style':\n          if (value !== 'normal') {\n            outputStyles[name] = value;\n          }\n          return;\n        case 'mso-element':\n          if (/^(comment|comment-list)$/i.test(value)) {\n            node.remove();\n            return;\n          }\n          break;\n        }\n        if (name.indexOf('mso-comment') === 0) {\n          node.remove();\n          return;\n        }\n        if (name.indexOf('mso-') === 0) {\n          return;\n        }\n        if (Settings.getRetainStyleProps(editor) === 'all' || validStyles && validStyles[name]) {\n          outputStyles[name] = value;\n        }\n      });\n      if (/(bold)/i.test(outputStyles['font-weight'])) {\n        delete outputStyles['font-weight'];\n        node.wrap(new global$9('b', 1));\n      }\n      if (/(italic)/i.test(outputStyles['font-style'])) {\n        delete outputStyles['font-style'];\n        node.wrap(new global$9('i', 1));\n      }\n      outputStyles = editor.dom.serializeStyle(outputStyles, node.name);\n      if (outputStyles) {\n        return outputStyles;\n      }\n      return null;\n    }\n    var filterWordContent = function (editor, content) {\n      var retainStyleProperties, validStyles;\n      retainStyleProperties = Settings.getRetainStyleProps(editor);\n      if (retainStyleProperties) {\n        validStyles = global$4.makeMap(retainStyleProperties.split(/[, ]/));\n      }\n      content = Utils.filter(content, [\n        /<br class=\"?Apple-interchange-newline\"?>/gi,\n        /<b[^>]+id=\"?docs-internal-[^>]*>/gi,\n        /<!--[\\s\\S]+?-->/gi,\n        /<(!|script[^>]*>.*?<\\/script(?=[>\\s])|\\/?(\\?xml(:\\w+)?|img|meta|link|style|\\w:\\w+)(?=[\\s\\/>]))[^>]*>/gi,\n        [\n          /<(\\/?)s>/gi,\n          '<$1strike>'\n        ],\n        [\n          /&nbsp;/gi,\n          '\\xA0'\n        ],\n        [\n          /<span\\s+style\\s*=\\s*\"\\s*mso-spacerun\\s*:\\s*yes\\s*;?\\s*\"\\s*>([\\s\\u00a0]*)<\\/span>/gi,\n          function (str, spaces) {\n            return spaces.length > 0 ? spaces.replace(/./, ' ').slice(Math.floor(spaces.length / 2)).split('').join('\\xA0') : '';\n          }\n        ]\n      ]);\n      var validElements = Settings.getWordValidElements(editor);\n      var schema = global$a({\n        valid_elements: validElements,\n        valid_children: '-li[p]'\n      });\n      global$4.each(schema.elements, function (rule) {\n        if (!rule.attributes.class) {\n          rule.attributes.class = {};\n          rule.attributesOrder.push('class');\n        }\n        if (!rule.attributes.style) {\n          rule.attributes.style = {};\n          rule.attributesOrder.push('style');\n        }\n      });\n      var domParser = global$7({}, schema);\n      domParser.addAttributeFilter('style', function (nodes) {\n        var i = nodes.length, node;\n        while (i--) {\n          node = nodes[i];\n          node.attr('style', filterStyles(editor, validStyles, node, node.attr('style')));\n          if (node.name === 'span' && node.parent && !node.attributes.length) {\n            node.unwrap();\n          }\n        }\n      });\n      domParser.addAttributeFilter('class', function (nodes) {\n        var i = nodes.length, node, className;\n        while (i--) {\n          node = nodes[i];\n          className = node.attr('class');\n          if (/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(className)) {\n            node.remove();\n          }\n          node.attr('class', null);\n        }\n      });\n      domParser.addNodeFilter('del', function (nodes) {\n        var i = nodes.length;\n        while (i--) {\n          nodes[i].remove();\n        }\n      });\n      domParser.addNodeFilter('a', function (nodes) {\n        var i = nodes.length, node, href, name;\n        while (i--) {\n          node = nodes[i];\n          href = node.attr('href');\n          name = node.attr('name');\n          if (href && href.indexOf('#_msocom_') !== -1) {\n            node.remove();\n            continue;\n          }\n          if (href && href.indexOf('file://') === 0) {\n            href = href.split('#')[1];\n            if (href) {\n              href = '#' + href;\n            }\n          }\n          if (!href && !name) {\n            node.unwrap();\n          } else {\n            if (name && !/^_?(?:toc|edn|ftn)/i.test(name)) {\n              node.unwrap();\n              continue;\n            }\n            node.attr({\n              href: href,\n              name: name\n            });\n          }\n        }\n      });\n      var rootNode = domParser.parse(content);\n      if (Settings.shouldConvertWordFakeLists(editor)) {\n        convertFakeListsToProperLists(rootNode);\n      }\n      content = global$8({ validate: editor.settings.validate }, schema).serialize(rootNode);\n      return content;\n    };\n    var preProcess = function (editor, content) {\n      return Settings.shouldUseDefaultFilters(editor) ? filterWordContent(editor, content) : content;\n    };\n    var WordFilter = {\n      preProcess: preProcess,\n      isWordContent: isWordContent\n    };\n\n    var preProcess$1 = function (editor, html) {\n      var parser = global$7({}, editor.schema);\n      parser.addNodeFilter('meta', function (nodes) {\n        global$4.each(nodes, function (node) {\n          return node.remove();\n        });\n      });\n      var fragment = parser.parse(html, {\n        forced_root_block: false,\n        isRootContent: true\n      });\n      return global$8({ validate: editor.settings.validate }, editor.schema).serialize(fragment);\n    };\n    var processResult = function (content, cancelled) {\n      return {\n        content: content,\n        cancelled: cancelled\n      };\n    };\n    var postProcessFilter = function (editor, html, internal, isWordHtml) {\n      var tempBody = editor.dom.create('div', { style: 'display:none' }, html);\n      var postProcessArgs = Events.firePastePostProcess(editor, tempBody, internal, isWordHtml);\n      return processResult(postProcessArgs.node.innerHTML, postProcessArgs.isDefaultPrevented());\n    };\n    var filterContent = function (editor, content, internal, isWordHtml) {\n      var preProcessArgs = Events.firePastePreProcess(editor, content, internal, isWordHtml);\n      var filteredContent = preProcess$1(editor, preProcessArgs.content);\n      if (editor.hasEventListeners('PastePostProcess') && !preProcessArgs.isDefaultPrevented()) {\n        return postProcessFilter(editor, filteredContent, internal, isWordHtml);\n      } else {\n        return processResult(filteredContent, preProcessArgs.isDefaultPrevented());\n      }\n    };\n    var process = function (editor, html, internal) {\n      var isWordHtml = WordFilter.isWordContent(html);\n      var content = isWordHtml ? WordFilter.preProcess(editor, html) : html;\n      return filterContent(editor, content, internal, isWordHtml);\n    };\n    var ProcessFilters = { process: process };\n\n    var pasteHtml = function (editor, html) {\n      editor.insertContent(html, {\n        merge: Settings.shouldMergeFormats(editor),\n        paste: true\n      });\n      return true;\n    };\n    var isAbsoluteUrl = function (url) {\n      return /^https?:\\/\\/[\\w\\?\\-\\/+=.&%@~#]+$/i.test(url);\n    };\n    var isImageUrl = function (url) {\n      return isAbsoluteUrl(url) && /.(gif|jpe?g|png)$/.test(url);\n    };\n    var createImage = function (editor, url, pasteHtmlFn) {\n      editor.undoManager.extra(function () {\n        pasteHtmlFn(editor, url);\n      }, function () {\n        editor.insertContent('<img src=\"' + url + '\">');\n      });\n      return true;\n    };\n    var createLink = function (editor, url, pasteHtmlFn) {\n      editor.undoManager.extra(function () {\n        pasteHtmlFn(editor, url);\n      }, function () {\n        editor.execCommand('mceInsertLink', false, url);\n      });\n      return true;\n    };\n    var linkSelection = function (editor, html, pasteHtmlFn) {\n      return editor.selection.isCollapsed() === false && isAbsoluteUrl(html) ? createLink(editor, html, pasteHtmlFn) : false;\n    };\n    var insertImage = function (editor, html, pasteHtmlFn) {\n      return isImageUrl(html) ? createImage(editor, html, pasteHtmlFn) : false;\n    };\n    var smartInsertContent = function (editor, html) {\n      global$4.each([\n        linkSelection,\n        insertImage,\n        pasteHtml\n      ], function (action) {\n        return action(editor, html, pasteHtml) !== true;\n      });\n    };\n    var insertContent = function (editor, html) {\n      if (Settings.isSmartPasteEnabled(editor) === false) {\n        pasteHtml(editor, html);\n      } else {\n        smartInsertContent(editor, html);\n      }\n    };\n    var SmartPaste = {\n      isImageUrl: isImageUrl,\n      isAbsoluteUrl: isAbsoluteUrl,\n      insertContent: insertContent\n    };\n\n    var noop = function () {\n    };\n    var constant = function (value) {\n      return function () {\n        return value;\n      };\n    };\n    function curry(fn) {\n      var initialArgs = [];\n      for (var _i = 1; _i < arguments.length; _i++) {\n        initialArgs[_i - 1] = arguments[_i];\n      }\n      return function () {\n        var restArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          restArgs[_i] = arguments[_i];\n        }\n        var all = initialArgs.concat(restArgs);\n        return fn.apply(null, all);\n      };\n    }\n    var never = constant(false);\n    var always = constant(true);\n\n    var none = function () {\n      return NONE;\n    };\n    var NONE = function () {\n      var eq = function (o) {\n        return o.isNone();\n      };\n      var call = function (thunk) {\n        return thunk();\n      };\n      var id = function (n) {\n        return n;\n      };\n      var me = {\n        fold: function (n, s) {\n          return n();\n        },\n        is: never,\n        isSome: never,\n        isNone: always,\n        getOr: id,\n        getOrThunk: call,\n        getOrDie: function (msg) {\n          throw new Error(msg || 'error: getOrDie called on none.');\n        },\n        getOrNull: constant(null),\n        getOrUndefined: constant(undefined),\n        or: id,\n        orThunk: call,\n        map: none,\n        each: noop,\n        bind: none,\n        exists: never,\n        forall: always,\n        filter: none,\n        equals: eq,\n        equals_: eq,\n        toArray: function () {\n          return [];\n        },\n        toString: constant('none()')\n      };\n      if (Object.freeze) {\n        Object.freeze(me);\n      }\n      return me;\n    }();\n    var some = function (a) {\n      var constant_a = constant(a);\n      var self = function () {\n        return me;\n      };\n      var bind = function (f) {\n        return f(a);\n      };\n      var me = {\n        fold: function (n, s) {\n          return s(a);\n        },\n        is: function (v) {\n          return a === v;\n        },\n        isSome: always,\n        isNone: never,\n        getOr: constant_a,\n        getOrThunk: constant_a,\n        getOrDie: constant_a,\n        getOrNull: constant_a,\n        getOrUndefined: constant_a,\n        or: self,\n        orThunk: self,\n        map: function (f) {\n          return some(f(a));\n        },\n        each: function (f) {\n          f(a);\n        },\n        bind: bind,\n        exists: bind,\n        forall: bind,\n        filter: function (f) {\n          return f(a) ? me : NONE;\n        },\n        toArray: function () {\n          return [a];\n        },\n        toString: function () {\n          return 'some(' + a + ')';\n        },\n        equals: function (o) {\n          return o.is(a);\n        },\n        equals_: function (o, elementEq) {\n          return o.fold(never, function (b) {\n            return elementEq(a, b);\n          });\n        }\n      };\n      return me;\n    };\n    var from = function (value) {\n      return value === null || value === undefined ? NONE : some(value);\n    };\n    var Option = {\n      some: some,\n      none: none,\n      from: from\n    };\n\n    var typeOf = function (x) {\n      if (x === null) {\n        return 'null';\n      }\n      var t = typeof x;\n      if (t === 'object' && (Array.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'Array')) {\n        return 'array';\n      }\n      if (t === 'object' && (String.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'String')) {\n        return 'string';\n      }\n      return t;\n    };\n    var isType = function (type) {\n      return function (value) {\n        return typeOf(value) === type;\n      };\n    };\n    var isFunction = isType('function');\n\n    var nativeSlice = Array.prototype.slice;\n    var map = function (xs, f) {\n      var len = xs.length;\n      var r = new Array(len);\n      for (var i = 0; i < len; i++) {\n        var x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    var each = function (xs, f) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        f(x, i);\n      }\n    };\n    var filter$1 = function (xs, pred) {\n      var r = [];\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          r.push(x);\n        }\n      }\n      return r;\n    };\n    var from$1 = isFunction(Array.from) ? Array.from : function (x) {\n      return nativeSlice.call(x);\n    };\n\n    var exports$1 = {}, module = { exports: exports$1 };\n    (function (define, exports, module, require) {\n      (function (f) {\n        if (typeof exports === 'object' && typeof module !== 'undefined') {\n          module.exports = f();\n        } else if (typeof define === 'function' && define.amd) {\n          define([], f);\n        } else {\n          var g;\n          if (typeof window !== 'undefined') {\n            g = window;\n          } else if (typeof global !== 'undefined') {\n            g = global;\n          } else if (typeof self !== 'undefined') {\n            g = self;\n          } else {\n            g = this;\n          }\n          g.EphoxContactWrapper = f();\n        }\n      }(function () {\n        return function () {\n          function r(e, n, t) {\n            function o(i, f) {\n              if (!n[i]) {\n                if (!e[i]) {\n                  var c = 'function' == typeof require && require;\n                  if (!f && c)\n                    return c(i, !0);\n                  if (u)\n                    return u(i, !0);\n                  var a = new Error('Cannot find module \\'' + i + '\\'');\n                  throw a.code = 'MODULE_NOT_FOUND', a;\n                }\n                var p = n[i] = { exports: {} };\n                e[i][0].call(p.exports, function (r) {\n                  var n = e[i][1][r];\n                  return o(n || r);\n                }, p, p.exports, r, e, n, t);\n              }\n              return n[i].exports;\n            }\n            for (var u = 'function' == typeof require && require, i = 0; i < t.length; i++)\n              o(t[i]);\n            return o;\n          }\n          return r;\n        }()({\n          1: [\n            function (require, module, exports) {\n              var process = module.exports = {};\n              var cachedSetTimeout;\n              var cachedClearTimeout;\n              function defaultSetTimout() {\n                throw new Error('setTimeout has not been defined');\n              }\n              function defaultClearTimeout() {\n                throw new Error('clearTimeout has not been defined');\n              }\n              (function () {\n                try {\n                  if (typeof setTimeout === 'function') {\n                    cachedSetTimeout = setTimeout;\n                  } else {\n                    cachedSetTimeout = defaultSetTimout;\n                  }\n                } catch (e) {\n                  cachedSetTimeout = defaultSetTimout;\n                }\n                try {\n                  if (typeof clearTimeout === 'function') {\n                    cachedClearTimeout = clearTimeout;\n                  } else {\n                    cachedClearTimeout = defaultClearTimeout;\n                  }\n                } catch (e) {\n                  cachedClearTimeout = defaultClearTimeout;\n                }\n              }());\n              function runTimeout(fun) {\n                if (cachedSetTimeout === setTimeout) {\n                  return setTimeout(fun, 0);\n                }\n                if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n                  cachedSetTimeout = setTimeout;\n                  return setTimeout(fun, 0);\n                }\n                try {\n                  return cachedSetTimeout(fun, 0);\n                } catch (e) {\n                  try {\n                    return cachedSetTimeout.call(null, fun, 0);\n                  } catch (e) {\n                    return cachedSetTimeout.call(this, fun, 0);\n                  }\n                }\n              }\n              function runClearTimeout(marker) {\n                if (cachedClearTimeout === clearTimeout) {\n                  return clearTimeout(marker);\n                }\n                if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n                  cachedClearTimeout = clearTimeout;\n                  return clearTimeout(marker);\n                }\n                try {\n                  return cachedClearTimeout(marker);\n                } catch (e) {\n                  try {\n                    return cachedClearTimeout.call(null, marker);\n                  } catch (e) {\n                    return cachedClearTimeout.call(this, marker);\n                  }\n                }\n              }\n              var queue = [];\n              var draining = false;\n              var currentQueue;\n              var queueIndex = -1;\n              function cleanUpNextTick() {\n                if (!draining || !currentQueue) {\n                  return;\n                }\n                draining = false;\n                if (currentQueue.length) {\n                  queue = currentQueue.concat(queue);\n                } else {\n                  queueIndex = -1;\n                }\n                if (queue.length) {\n                  drainQueue();\n                }\n              }\n              function drainQueue() {\n                if (draining) {\n                  return;\n                }\n                var timeout = runTimeout(cleanUpNextTick);\n                draining = true;\n                var len = queue.length;\n                while (len) {\n                  currentQueue = queue;\n                  queue = [];\n                  while (++queueIndex < len) {\n                    if (currentQueue) {\n                      currentQueue[queueIndex].run();\n                    }\n                  }\n                  queueIndex = -1;\n                  len = queue.length;\n                }\n                currentQueue = null;\n                draining = false;\n                runClearTimeout(timeout);\n              }\n              process.nextTick = function (fun) {\n                var args = new Array(arguments.length - 1);\n                if (arguments.length > 1) {\n                  for (var i = 1; i < arguments.length; i++) {\n                    args[i - 1] = arguments[i];\n                  }\n                }\n                queue.push(new Item(fun, args));\n                if (queue.length === 1 && !draining) {\n                  runTimeout(drainQueue);\n                }\n              };\n              function Item(fun, array) {\n                this.fun = fun;\n                this.array = array;\n              }\n              Item.prototype.run = function () {\n                this.fun.apply(null, this.array);\n              };\n              process.title = 'browser';\n              process.browser = true;\n              process.env = {};\n              process.argv = [];\n              process.version = '';\n              process.versions = {};\n              function noop() {\n              }\n              process.on = noop;\n              process.addListener = noop;\n              process.once = noop;\n              process.off = noop;\n              process.removeListener = noop;\n              process.removeAllListeners = noop;\n              process.emit = noop;\n              process.prependListener = noop;\n              process.prependOnceListener = noop;\n              process.listeners = function (name) {\n                return [];\n              };\n              process.binding = function (name) {\n                throw new Error('process.binding is not supported');\n              };\n              process.cwd = function () {\n                return '/';\n              };\n              process.chdir = function (dir) {\n                throw new Error('process.chdir is not supported');\n              };\n              process.umask = function () {\n                return 0;\n              };\n            },\n            {}\n          ],\n          2: [\n            function (require, module, exports) {\n              (function (setImmediate) {\n                (function (root) {\n                  var setTimeoutFunc = setTimeout;\n                  function noop() {\n                  }\n                  function bind(fn, thisArg) {\n                    return function () {\n                      fn.apply(thisArg, arguments);\n                    };\n                  }\n                  function Promise(fn) {\n                    if (typeof this !== 'object')\n                      throw new TypeError('Promises must be constructed via new');\n                    if (typeof fn !== 'function')\n                      throw new TypeError('not a function');\n                    this._state = 0;\n                    this._handled = false;\n                    this._value = undefined;\n                    this._deferreds = [];\n                    doResolve(fn, this);\n                  }\n                  function handle(self, deferred) {\n                    while (self._state === 3) {\n                      self = self._value;\n                    }\n                    if (self._state === 0) {\n                      self._deferreds.push(deferred);\n                      return;\n                    }\n                    self._handled = true;\n                    Promise._immediateFn(function () {\n                      var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;\n                      if (cb === null) {\n                        (self._state === 1 ? resolve : reject)(deferred.promise, self._value);\n                        return;\n                      }\n                      var ret;\n                      try {\n                        ret = cb(self._value);\n                      } catch (e) {\n                        reject(deferred.promise, e);\n                        return;\n                      }\n                      resolve(deferred.promise, ret);\n                    });\n                  }\n                  function resolve(self, newValue) {\n                    try {\n                      if (newValue === self)\n                        throw new TypeError('A promise cannot be resolved with itself.');\n                      if (newValue && (typeof newValue === 'object' || typeof newValue === 'function')) {\n                        var then = newValue.then;\n                        if (newValue instanceof Promise) {\n                          self._state = 3;\n                          self._value = newValue;\n                          finale(self);\n                          return;\n                        } else if (typeof then === 'function') {\n                          doResolve(bind(then, newValue), self);\n                          return;\n                        }\n                      }\n                      self._state = 1;\n                      self._value = newValue;\n                      finale(self);\n                    } catch (e) {\n                      reject(self, e);\n                    }\n                  }\n                  function reject(self, newValue) {\n                    self._state = 2;\n                    self._value = newValue;\n                    finale(self);\n                  }\n                  function finale(self) {\n                    if (self._state === 2 && self._deferreds.length === 0) {\n                      Promise._immediateFn(function () {\n                        if (!self._handled) {\n                          Promise._unhandledRejectionFn(self._value);\n                        }\n                      });\n                    }\n                    for (var i = 0, len = self._deferreds.length; i < len; i++) {\n                      handle(self, self._deferreds[i]);\n                    }\n                    self._deferreds = null;\n                  }\n                  function Handler(onFulfilled, onRejected, promise) {\n                    this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n                    this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n                    this.promise = promise;\n                  }\n                  function doResolve(fn, self) {\n                    var done = false;\n                    try {\n                      fn(function (value) {\n                        if (done)\n                          return;\n                        done = true;\n                        resolve(self, value);\n                      }, function (reason) {\n                        if (done)\n                          return;\n                        done = true;\n                        reject(self, reason);\n                      });\n                    } catch (ex) {\n                      if (done)\n                        return;\n                      done = true;\n                      reject(self, ex);\n                    }\n                  }\n                  Promise.prototype['catch'] = function (onRejected) {\n                    return this.then(null, onRejected);\n                  };\n                  Promise.prototype.then = function (onFulfilled, onRejected) {\n                    var prom = new this.constructor(noop);\n                    handle(this, new Handler(onFulfilled, onRejected, prom));\n                    return prom;\n                  };\n                  Promise.all = function (arr) {\n                    var args = Array.prototype.slice.call(arr);\n                    return new Promise(function (resolve, reject) {\n                      if (args.length === 0)\n                        return resolve([]);\n                      var remaining = args.length;\n                      function res(i, val) {\n                        try {\n                          if (val && (typeof val === 'object' || typeof val === 'function')) {\n                            var then = val.then;\n                            if (typeof then === 'function') {\n                              then.call(val, function (val) {\n                                res(i, val);\n                              }, reject);\n                              return;\n                            }\n                          }\n                          args[i] = val;\n                          if (--remaining === 0) {\n                            resolve(args);\n                          }\n                        } catch (ex) {\n                          reject(ex);\n                        }\n                      }\n                      for (var i = 0; i < args.length; i++) {\n                        res(i, args[i]);\n                      }\n                    });\n                  };\n                  Promise.resolve = function (value) {\n                    if (value && typeof value === 'object' && value.constructor === Promise) {\n                      return value;\n                    }\n                    return new Promise(function (resolve) {\n                      resolve(value);\n                    });\n                  };\n                  Promise.reject = function (value) {\n                    return new Promise(function (resolve, reject) {\n                      reject(value);\n                    });\n                  };\n                  Promise.race = function (values) {\n                    return new Promise(function (resolve, reject) {\n                      for (var i = 0, len = values.length; i < len; i++) {\n                        values[i].then(resolve, reject);\n                      }\n                    });\n                  };\n                  Promise._immediateFn = typeof setImmediate === 'function' ? function (fn) {\n                    setImmediate(fn);\n                  } : function (fn) {\n                    setTimeoutFunc(fn, 0);\n                  };\n                  Promise._unhandledRejectionFn = function _unhandledRejectionFn(err) {\n                    if (typeof console !== 'undefined' && console) {\n                      console.warn('Possible Unhandled Promise Rejection:', err);\n                    }\n                  };\n                  Promise._setImmediateFn = function _setImmediateFn(fn) {\n                    Promise._immediateFn = fn;\n                  };\n                  Promise._setUnhandledRejectionFn = function _setUnhandledRejectionFn(fn) {\n                    Promise._unhandledRejectionFn = fn;\n                  };\n                  if (typeof module !== 'undefined' && module.exports) {\n                    module.exports = Promise;\n                  } else if (!root.Promise) {\n                    root.Promise = Promise;\n                  }\n                }(this));\n              }.call(this, require('timers').setImmediate));\n            },\n            { 'timers': 3 }\n          ],\n          3: [\n            function (require, module, exports) {\n              (function (setImmediate, clearImmediate) {\n                var nextTick = require('process/browser.js').nextTick;\n                var apply = Function.prototype.apply;\n                var slice = Array.prototype.slice;\n                var immediateIds = {};\n                var nextImmediateId = 0;\n                exports.setTimeout = function () {\n                  return new Timeout(apply.call(setTimeout, window, arguments), clearTimeout);\n                };\n                exports.setInterval = function () {\n                  return new Timeout(apply.call(setInterval, window, arguments), clearInterval);\n                };\n                exports.clearTimeout = exports.clearInterval = function (timeout) {\n                  timeout.close();\n                };\n                function Timeout(id, clearFn) {\n                  this._id = id;\n                  this._clearFn = clearFn;\n                }\n                Timeout.prototype.unref = Timeout.prototype.ref = function () {\n                };\n                Timeout.prototype.close = function () {\n                  this._clearFn.call(window, this._id);\n                };\n                exports.enroll = function (item, msecs) {\n                  clearTimeout(item._idleTimeoutId);\n                  item._idleTimeout = msecs;\n                };\n                exports.unenroll = function (item) {\n                  clearTimeout(item._idleTimeoutId);\n                  item._idleTimeout = -1;\n                };\n                exports._unrefActive = exports.active = function (item) {\n                  clearTimeout(item._idleTimeoutId);\n                  var msecs = item._idleTimeout;\n                  if (msecs >= 0) {\n                    item._idleTimeoutId = setTimeout(function onTimeout() {\n                      if (item._onTimeout)\n                        item._onTimeout();\n                    }, msecs);\n                  }\n                };\n                exports.setImmediate = typeof setImmediate === 'function' ? setImmediate : function (fn) {\n                  var id = nextImmediateId++;\n                  var args = arguments.length < 2 ? false : slice.call(arguments, 1);\n                  immediateIds[id] = true;\n                  nextTick(function onNextTick() {\n                    if (immediateIds[id]) {\n                      if (args) {\n                        fn.apply(null, args);\n                      } else {\n                        fn.call(null);\n                      }\n                      exports.clearImmediate(id);\n                    }\n                  });\n                  return id;\n                };\n                exports.clearImmediate = typeof clearImmediate === 'function' ? clearImmediate : function (id) {\n                  delete immediateIds[id];\n                };\n              }.call(this, require('timers').setImmediate, require('timers').clearImmediate));\n            },\n            {\n              'process/browser.js': 1,\n              'timers': 3\n            }\n          ],\n          4: [\n            function (require, module, exports) {\n              var promisePolyfill = require('promise-polyfill');\n              var Global = function () {\n                if (typeof window !== 'undefined') {\n                  return window;\n                } else {\n                  return Function('return this;')();\n                }\n              }();\n              module.exports = { boltExport: Global.Promise || promisePolyfill };\n            },\n            { 'promise-polyfill': 2 }\n          ]\n        }, {}, [4])(4);\n      }));\n    }(undefined, exports$1, module, undefined));\n    var Promise = module.exports.boltExport;\n\n    var nu = function (baseFn) {\n      var data = Option.none();\n      var callbacks = [];\n      var map = function (f) {\n        return nu(function (nCallback) {\n          get(function (data) {\n            nCallback(f(data));\n          });\n        });\n      };\n      var get = function (nCallback) {\n        if (isReady()) {\n          call(nCallback);\n        } else {\n          callbacks.push(nCallback);\n        }\n      };\n      var set = function (x) {\n        data = Option.some(x);\n        run(callbacks);\n        callbacks = [];\n      };\n      var isReady = function () {\n        return data.isSome();\n      };\n      var run = function (cbs) {\n        each(cbs, call);\n      };\n      var call = function (cb) {\n        data.each(function (x) {\n          domGlobals.setTimeout(function () {\n            cb(x);\n          }, 0);\n        });\n      };\n      baseFn(set);\n      return {\n        get: get,\n        map: map,\n        isReady: isReady\n      };\n    };\n    var pure = function (a) {\n      return nu(function (callback) {\n        callback(a);\n      });\n    };\n    var LazyValue = {\n      nu: nu,\n      pure: pure\n    };\n\n    var errorReporter = function (err) {\n      domGlobals.setTimeout(function () {\n        throw err;\n      }, 0);\n    };\n    var make = function (run) {\n      var get = function (callback) {\n        run().then(callback, errorReporter);\n      };\n      var map = function (fab) {\n        return make(function () {\n          return run().then(fab);\n        });\n      };\n      var bind = function (aFutureB) {\n        return make(function () {\n          return run().then(function (v) {\n            return aFutureB(v).toPromise();\n          });\n        });\n      };\n      var anonBind = function (futureB) {\n        return make(function () {\n          return run().then(function () {\n            return futureB.toPromise();\n          });\n        });\n      };\n      var toLazy = function () {\n        return LazyValue.nu(get);\n      };\n      var toCached = function () {\n        var cache = null;\n        return make(function () {\n          if (cache === null) {\n            cache = run();\n          }\n          return cache;\n        });\n      };\n      var toPromise = run;\n      return {\n        map: map,\n        bind: bind,\n        anonBind: anonBind,\n        toLazy: toLazy,\n        toCached: toCached,\n        toPromise: toPromise,\n        get: get\n      };\n    };\n    var nu$1 = function (baseFn) {\n      return make(function () {\n        return new Promise(baseFn);\n      });\n    };\n    var pure$1 = function (a) {\n      return make(function () {\n        return Promise.resolve(a);\n      });\n    };\n    var Future = {\n      nu: nu$1,\n      pure: pure$1\n    };\n\n    var par = function (asyncValues, nu) {\n      return nu(function (callback) {\n        var r = [];\n        var count = 0;\n        var cb = function (i) {\n          return function (value) {\n            r[i] = value;\n            count++;\n            if (count >= asyncValues.length) {\n              callback(r);\n            }\n          };\n        };\n        if (asyncValues.length === 0) {\n          callback([]);\n        } else {\n          each(asyncValues, function (asyncValue, i) {\n            asyncValue.get(cb(i));\n          });\n        }\n      });\n    };\n\n    var par$1 = function (futures) {\n      return par(futures, Future.nu);\n    };\n    var traverse = function (array, fn) {\n      return par$1(map(array, fn));\n    };\n    var mapM = traverse;\n\n    var value = function () {\n      var subject = Cell(Option.none());\n      var clear = function () {\n        subject.set(Option.none());\n      };\n      var set = function (s) {\n        subject.set(Option.some(s));\n      };\n      var on = function (f) {\n        subject.get().each(f);\n      };\n      var isSet = function () {\n        return subject.get().isSome();\n      };\n      return {\n        clear: clear,\n        set: set,\n        isSet: isSet,\n        on: on\n      };\n    };\n\n    var pasteHtml$1 = function (editor, html, internalFlag) {\n      var internal = internalFlag ? internalFlag : InternalHtml.isMarked(html);\n      var args = ProcessFilters.process(editor, InternalHtml.unmark(html), internal);\n      if (args.cancelled === false) {\n        SmartPaste.insertContent(editor, args.content);\n      }\n    };\n    var pasteText = function (editor, text) {\n      text = editor.dom.encode(text).replace(/\\r\\n/g, '\\n');\n      text = Newlines.convert(text, editor.settings.forced_root_block, editor.settings.forced_root_block_attrs);\n      pasteHtml$1(editor, text, false);\n    };\n    var getDataTransferItems = function (dataTransfer) {\n      var items = {};\n      var mceInternalUrlPrefix = 'data:text/mce-internal,';\n      if (dataTransfer) {\n        if (dataTransfer.getData) {\n          var legacyText = dataTransfer.getData('Text');\n          if (legacyText && legacyText.length > 0) {\n            if (legacyText.indexOf(mceInternalUrlPrefix) === -1) {\n              items['text/plain'] = legacyText;\n            }\n          }\n        }\n        if (dataTransfer.types) {\n          for (var i = 0; i < dataTransfer.types.length; i++) {\n            var contentType = dataTransfer.types[i];\n            try {\n              items[contentType] = dataTransfer.getData(contentType);\n            } catch (ex) {\n              items[contentType] = '';\n            }\n          }\n        }\n      }\n      return items;\n    };\n    var getClipboardContent = function (editor, clipboardEvent) {\n      var content = getDataTransferItems(clipboardEvent.clipboardData || editor.getDoc().dataTransfer);\n      return Utils.isMsEdge() ? global$4.extend(content, { 'text/html': '' }) : content;\n    };\n    var hasContentType = function (clipboardContent, mimeType) {\n      return mimeType in clipboardContent && clipboardContent[mimeType].length > 0;\n    };\n    var hasHtmlOrText = function (content) {\n      return hasContentType(content, 'text/html') || hasContentType(content, 'text/plain');\n    };\n    var getBase64FromUri = function (uri) {\n      var idx;\n      idx = uri.indexOf(',');\n      if (idx !== -1) {\n        return uri.substr(idx + 1);\n      }\n      return null;\n    };\n    var isValidDataUriImage = function (settings, imgElm) {\n      return settings.images_dataimg_filter ? settings.images_dataimg_filter(imgElm) : true;\n    };\n    var extractFilename = function (editor, str) {\n      var m = str.match(/([\\s\\S]+?)\\.(?:jpeg|jpg|png|gif)$/i);\n      return m ? editor.dom.encode(m[1]) : null;\n    };\n    var uniqueId = Utils.createIdGenerator('mceclip');\n    var pasteImage = function (editor, imageItem) {\n      var base64 = getBase64FromUri(imageItem.uri);\n      var id = uniqueId();\n      var name = editor.settings.images_reuse_filename && imageItem.blob.name ? extractFilename(editor, imageItem.blob.name) : id;\n      var img = new domGlobals.Image();\n      img.src = imageItem.uri;\n      if (isValidDataUriImage(editor.settings, img)) {\n        var blobCache = editor.editorUpload.blobCache;\n        var blobInfo = void 0, existingBlobInfo = void 0;\n        existingBlobInfo = blobCache.findFirst(function (cachedBlobInfo) {\n          return cachedBlobInfo.base64() === base64;\n        });\n        if (!existingBlobInfo) {\n          blobInfo = blobCache.create(id, imageItem.blob, base64, name);\n          blobCache.add(blobInfo);\n        } else {\n          blobInfo = existingBlobInfo;\n        }\n        pasteHtml$1(editor, '<img src=\"' + blobInfo.blobUri() + '\">', false);\n      } else {\n        pasteHtml$1(editor, '<img src=\"' + imageItem.uri + '\">', false);\n      }\n    };\n    var isClipboardEvent = function (event) {\n      return event.type === 'paste';\n    };\n    var readBlobsAsDataUris = function (items) {\n      return mapM(items, function (item) {\n        return Future.nu(function (resolve) {\n          var blob = item.getAsFile ? item.getAsFile() : item;\n          var reader = new window.FileReader();\n          reader.onload = function () {\n            resolve({\n              blob: blob,\n              uri: reader.result\n            });\n          };\n          reader.readAsDataURL(blob);\n        });\n      });\n    };\n    var getImagesFromDataTransfer = function (dataTransfer) {\n      var items = dataTransfer.items ? map(from$1(dataTransfer.items), function (item) {\n        return item.getAsFile();\n      }) : [];\n      var files = dataTransfer.files ? from$1(dataTransfer.files) : [];\n      var images = filter$1(items.length > 0 ? items : files, function (file) {\n        return /^image\\/(jpeg|png|gif|bmp)$/.test(file.type);\n      });\n      return images;\n    };\n    var pasteImageData = function (editor, e, rng) {\n      var dataTransfer = isClipboardEvent(e) ? e.clipboardData : e.dataTransfer;\n      if (editor.settings.paste_data_images && dataTransfer) {\n        var images = getImagesFromDataTransfer(dataTransfer);\n        if (images.length > 0) {\n          e.preventDefault();\n          readBlobsAsDataUris(images).get(function (blobResults) {\n            if (rng) {\n              editor.selection.setRng(rng);\n            }\n            each(blobResults, function (result) {\n              pasteImage(editor, result);\n            });\n          });\n          return true;\n        }\n      }\n      return false;\n    };\n    var isBrokenAndroidClipboardEvent = function (e) {\n      var clipboardData = e.clipboardData;\n      return domGlobals.navigator.userAgent.indexOf('Android') !== -1 && clipboardData && clipboardData.items && clipboardData.items.length === 0;\n    };\n    var isKeyboardPasteEvent = function (e) {\n      return global$5.metaKeyPressed(e) && e.keyCode === 86 || e.shiftKey && e.keyCode === 45;\n    };\n    var registerEventHandlers = function (editor, pasteBin, pasteFormat) {\n      var keyboardPasteEvent = value();\n      var keyboardPastePlainTextState;\n      editor.on('keydown', function (e) {\n        function removePasteBinOnKeyUp(e) {\n          if (isKeyboardPasteEvent(e) && !e.isDefaultPrevented()) {\n            pasteBin.remove();\n          }\n        }\n        if (isKeyboardPasteEvent(e) && !e.isDefaultPrevented()) {\n          keyboardPastePlainTextState = e.shiftKey && e.keyCode === 86;\n          if (keyboardPastePlainTextState && global$2.webkit && domGlobals.navigator.userAgent.indexOf('Version/') !== -1) {\n            return;\n          }\n          e.stopImmediatePropagation();\n          keyboardPasteEvent.set(e);\n          window.setTimeout(function () {\n            keyboardPasteEvent.clear();\n          }, 100);\n          if (global$2.ie && keyboardPastePlainTextState) {\n            e.preventDefault();\n            Events.firePaste(editor, true);\n            return;\n          }\n          pasteBin.remove();\n          pasteBin.create();\n          editor.once('keyup', removePasteBinOnKeyUp);\n          editor.once('paste', function () {\n            editor.off('keyup', removePasteBinOnKeyUp);\n          });\n        }\n      });\n      function insertClipboardContent(clipboardContent, isKeyBoardPaste, plainTextMode, internal) {\n        var content, isPlainTextHtml;\n        if (hasContentType(clipboardContent, 'text/html')) {\n          content = clipboardContent['text/html'];\n        } else {\n          content = pasteBin.getHtml();\n          internal = internal ? internal : InternalHtml.isMarked(content);\n          if (pasteBin.isDefaultContent(content)) {\n            plainTextMode = true;\n          }\n        }\n        content = Utils.trimHtml(content);\n        pasteBin.remove();\n        isPlainTextHtml = internal === false && Newlines.isPlainText(content);\n        if (!content.length || isPlainTextHtml) {\n          plainTextMode = true;\n        }\n        if (plainTextMode) {\n          if (hasContentType(clipboardContent, 'text/plain') && isPlainTextHtml) {\n            content = clipboardContent['text/plain'];\n          } else {\n            content = Utils.innerText(content);\n          }\n        }\n        if (pasteBin.isDefaultContent(content)) {\n          if (!isKeyBoardPaste) {\n            editor.windowManager.alert('Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents.');\n          }\n          return;\n        }\n        if (plainTextMode) {\n          pasteText(editor, content);\n        } else {\n          pasteHtml$1(editor, content, internal);\n        }\n      }\n      var getLastRng = function () {\n        return pasteBin.getLastRng() || editor.selection.getRng();\n      };\n      editor.on('paste', function (e) {\n        var isKeyBoardPaste = keyboardPasteEvent.isSet();\n        var clipboardContent = getClipboardContent(editor, e);\n        var plainTextMode = pasteFormat.get() === 'text' || keyboardPastePlainTextState;\n        var internal = hasContentType(clipboardContent, InternalHtml.internalHtmlMime());\n        keyboardPastePlainTextState = false;\n        if (e.isDefaultPrevented() || isBrokenAndroidClipboardEvent(e)) {\n          pasteBin.remove();\n          return;\n        }\n        if (!hasHtmlOrText(clipboardContent) && pasteImageData(editor, e, getLastRng())) {\n          pasteBin.remove();\n          return;\n        }\n        if (!isKeyBoardPaste) {\n          e.preventDefault();\n        }\n        if (global$2.ie && (!isKeyBoardPaste || e.ieFake) && !hasContentType(clipboardContent, 'text/html')) {\n          pasteBin.create();\n          editor.dom.bind(pasteBin.getEl(), 'paste', function (e) {\n            e.stopPropagation();\n          });\n          editor.getDoc().execCommand('Paste', false, null);\n          clipboardContent['text/html'] = pasteBin.getHtml();\n        }\n        if (hasContentType(clipboardContent, 'text/html')) {\n          e.preventDefault();\n          if (!internal) {\n            internal = InternalHtml.isMarked(clipboardContent['text/html']);\n          }\n          insertClipboardContent(clipboardContent, isKeyBoardPaste, plainTextMode, internal);\n        } else {\n          global$3.setEditorTimeout(editor, function () {\n            insertClipboardContent(clipboardContent, isKeyBoardPaste, plainTextMode, internal);\n          }, 0);\n        }\n      });\n    };\n    var registerEventsAndFilters = function (editor, pasteBin, pasteFormat) {\n      registerEventHandlers(editor, pasteBin, pasteFormat);\n      var src;\n      editor.parser.addNodeFilter('img', function (nodes, name, args) {\n        var isPasteInsert = function (args) {\n          return args.data && args.data.paste === true;\n        };\n        var remove = function (node) {\n          if (!node.attr('data-mce-object') && src !== global$2.transparentSrc) {\n            node.remove();\n          }\n        };\n        var isWebKitFakeUrl = function (src) {\n          return src.indexOf('webkit-fake-url') === 0;\n        };\n        var isDataUri = function (src) {\n          return src.indexOf('data:') === 0;\n        };\n        if (!editor.settings.paste_data_images && isPasteInsert(args)) {\n          var i = nodes.length;\n          while (i--) {\n            src = nodes[i].attributes.map.src;\n            if (!src) {\n              continue;\n            }\n            if (isWebKitFakeUrl(src)) {\n              remove(nodes[i]);\n            } else if (!editor.settings.allow_html_data_urls && isDataUri(src)) {\n              remove(nodes[i]);\n            }\n          }\n        }\n      });\n    };\n\n    var getPasteBinParent = function (editor) {\n      return global$2.ie && editor.inline ? domGlobals.document.body : editor.getBody();\n    };\n    var isExternalPasteBin = function (editor) {\n      return getPasteBinParent(editor) !== editor.getBody();\n    };\n    var delegatePasteEvents = function (editor, pasteBinElm, pasteBinDefaultContent) {\n      if (isExternalPasteBin(editor)) {\n        editor.dom.bind(pasteBinElm, 'paste keyup', function (e) {\n          if (!isDefault(editor, pasteBinDefaultContent)) {\n            editor.fire('paste');\n          }\n        });\n      }\n    };\n    var create = function (editor, lastRngCell, pasteBinDefaultContent) {\n      var dom = editor.dom, body = editor.getBody();\n      var pasteBinElm;\n      lastRngCell.set(editor.selection.getRng());\n      pasteBinElm = editor.dom.add(getPasteBinParent(editor), 'div', {\n        'id': 'mcepastebin',\n        'class': 'mce-pastebin',\n        'contentEditable': true,\n        'data-mce-bogus': 'all',\n        'style': 'position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0'\n      }, pasteBinDefaultContent);\n      if (global$2.ie || global$2.gecko) {\n        dom.setStyle(pasteBinElm, 'left', dom.getStyle(body, 'direction', true) === 'rtl' ? 65535 : -65535);\n      }\n      dom.bind(pasteBinElm, 'beforedeactivate focusin focusout', function (e) {\n        e.stopPropagation();\n      });\n      delegatePasteEvents(editor, pasteBinElm, pasteBinDefaultContent);\n      pasteBinElm.focus();\n      editor.selection.select(pasteBinElm, true);\n    };\n    var remove = function (editor, lastRngCell) {\n      if (getEl(editor)) {\n        var pasteBinClone = void 0;\n        var lastRng = lastRngCell.get();\n        while (pasteBinClone = editor.dom.get('mcepastebin')) {\n          editor.dom.remove(pasteBinClone);\n          editor.dom.unbind(pasteBinClone);\n        }\n        if (lastRng) {\n          editor.selection.setRng(lastRng);\n        }\n      }\n      lastRngCell.set(null);\n    };\n    var getEl = function (editor) {\n      return editor.dom.get('mcepastebin');\n    };\n    var getHtml = function (editor) {\n      var pasteBinElm, pasteBinClones, i, dirtyWrappers, cleanWrapper;\n      var copyAndRemove = function (toElm, fromElm) {\n        toElm.appendChild(fromElm);\n        editor.dom.remove(fromElm, true);\n      };\n      pasteBinClones = global$4.grep(getPasteBinParent(editor).childNodes, function (elm) {\n        return elm.id === 'mcepastebin';\n      });\n      pasteBinElm = pasteBinClones.shift();\n      global$4.each(pasteBinClones, function (pasteBinClone) {\n        copyAndRemove(pasteBinElm, pasteBinClone);\n      });\n      dirtyWrappers = editor.dom.select('div[id=mcepastebin]', pasteBinElm);\n      for (i = dirtyWrappers.length - 1; i >= 0; i--) {\n        cleanWrapper = editor.dom.create('div');\n        pasteBinElm.insertBefore(cleanWrapper, dirtyWrappers[i]);\n        copyAndRemove(cleanWrapper, dirtyWrappers[i]);\n      }\n      return pasteBinElm ? pasteBinElm.innerHTML : '';\n    };\n    var getLastRng = function (lastRng) {\n      return lastRng.get();\n    };\n    var isDefaultContent = function (pasteBinDefaultContent, content) {\n      return content === pasteBinDefaultContent;\n    };\n    var isPasteBin = function (elm) {\n      return elm && elm.id === 'mcepastebin';\n    };\n    var isDefault = function (editor, pasteBinDefaultContent) {\n      var pasteBinElm = getEl(editor);\n      return isPasteBin(pasteBinElm) && isDefaultContent(pasteBinDefaultContent, pasteBinElm.innerHTML);\n    };\n    var PasteBin = function (editor) {\n      var lastRng = Cell(null);\n      var pasteBinDefaultContent = '%MCEPASTEBIN%';\n      return {\n        create: function () {\n          return create(editor, lastRng, pasteBinDefaultContent);\n        },\n        remove: function () {\n          return remove(editor, lastRng);\n        },\n        getEl: function () {\n          return getEl(editor);\n        },\n        getHtml: function () {\n          return getHtml(editor);\n        },\n        getLastRng: function () {\n          return getLastRng(lastRng);\n        },\n        isDefault: function () {\n          return isDefault(editor, pasteBinDefaultContent);\n        },\n        isDefaultContent: function (content) {\n          return isDefaultContent(pasteBinDefaultContent, content);\n        }\n      };\n    };\n\n    var Clipboard = function (editor, pasteFormat) {\n      var pasteBin = PasteBin(editor);\n      editor.on('preInit', function () {\n        return registerEventsAndFilters(editor, pasteBin, pasteFormat);\n      });\n      return {\n        pasteFormat: pasteFormat,\n        pasteHtml: function (html, internalFlag) {\n          return pasteHtml$1(editor, html, internalFlag);\n        },\n        pasteText: function (text) {\n          return pasteText(editor, text);\n        },\n        pasteImageData: function (e, rng) {\n          return pasteImageData(editor, e, rng);\n        },\n        getDataTransferItems: getDataTransferItems,\n        hasHtmlOrText: hasHtmlOrText,\n        hasContentType: hasContentType\n      };\n    };\n\n    var noop$1 = function () {\n    };\n    var hasWorkingClipboardApi = function (clipboardData) {\n      return global$2.iOS === false && clipboardData !== undefined && typeof clipboardData.setData === 'function' && Utils.isMsEdge() !== true;\n    };\n    var setHtml5Clipboard = function (clipboardData, html, text) {\n      if (hasWorkingClipboardApi(clipboardData)) {\n        try {\n          clipboardData.clearData();\n          clipboardData.setData('text/html', html);\n          clipboardData.setData('text/plain', text);\n          clipboardData.setData(InternalHtml.internalHtmlMime(), html);\n          return true;\n        } catch (e) {\n          return false;\n        }\n      } else {\n        return false;\n      }\n    };\n    var setClipboardData = function (evt, data, fallback, done) {\n      if (setHtml5Clipboard(evt.clipboardData, data.html, data.text)) {\n        evt.preventDefault();\n        done();\n      } else {\n        fallback(data.html, done);\n      }\n    };\n    var fallback = function (editor) {\n      return function (html, done) {\n        var markedHtml = InternalHtml.mark(html);\n        var outer = editor.dom.create('div', {\n          'contenteditable': 'false',\n          'data-mce-bogus': 'all'\n        });\n        var inner = editor.dom.create('div', { contenteditable: 'true' }, markedHtml);\n        editor.dom.setStyles(outer, {\n          position: 'fixed',\n          top: '0',\n          left: '-3000px',\n          width: '1000px',\n          overflow: 'hidden'\n        });\n        outer.appendChild(inner);\n        editor.dom.add(editor.getBody(), outer);\n        var range = editor.selection.getRng();\n        inner.focus();\n        var offscreenRange = editor.dom.createRng();\n        offscreenRange.selectNodeContents(inner);\n        editor.selection.setRng(offscreenRange);\n        setTimeout(function () {\n          editor.selection.setRng(range);\n          outer.parentNode.removeChild(outer);\n          done();\n        }, 0);\n      };\n    };\n    var getData = function (editor) {\n      return {\n        html: editor.selection.getContent({ contextual: true }),\n        text: editor.selection.getContent({ format: 'text' })\n      };\n    };\n    var isTableSelection = function (editor) {\n      return !!editor.dom.getParent(editor.selection.getStart(), 'td[data-mce-selected],th[data-mce-selected]', editor.getBody());\n    };\n    var hasSelectedContent = function (editor) {\n      return !editor.selection.isCollapsed() || isTableSelection(editor);\n    };\n    var cut = function (editor) {\n      return function (evt) {\n        if (hasSelectedContent(editor)) {\n          setClipboardData(evt, getData(editor), fallback(editor), function () {\n            setTimeout(function () {\n              editor.execCommand('Delete');\n            }, 0);\n          });\n        }\n      };\n    };\n    var copy = function (editor) {\n      return function (evt) {\n        if (hasSelectedContent(editor)) {\n          setClipboardData(evt, getData(editor), fallback(editor), noop$1);\n        }\n      };\n    };\n    var register$1 = function (editor) {\n      editor.on('cut', cut(editor));\n      editor.on('copy', copy(editor));\n    };\n    var CutCopy = { register: register$1 };\n\n    var global$b = tinymce.util.Tools.resolve('tinymce.dom.RangeUtils');\n\n    var getCaretRangeFromEvent = function (editor, e) {\n      return global$b.getCaretRangeFromPoint(e.clientX, e.clientY, editor.getDoc());\n    };\n    var isPlainTextFileUrl = function (content) {\n      var plainTextContent = content['text/plain'];\n      return plainTextContent ? plainTextContent.indexOf('file://') === 0 : false;\n    };\n    var setFocusedRange = function (editor, rng) {\n      editor.focus();\n      editor.selection.setRng(rng);\n    };\n    var setup = function (editor, clipboard, draggingInternallyState) {\n      if (Settings.shouldBlockDrop(editor)) {\n        editor.on('dragend dragover draggesture dragdrop drop drag', function (e) {\n          e.preventDefault();\n          e.stopPropagation();\n        });\n      }\n      if (!Settings.shouldPasteDataImages(editor)) {\n        editor.on('drop', function (e) {\n          var dataTransfer = e.dataTransfer;\n          if (dataTransfer && dataTransfer.files && dataTransfer.files.length > 0) {\n            e.preventDefault();\n          }\n        });\n      }\n      editor.on('drop', function (e) {\n        var dropContent, rng;\n        rng = getCaretRangeFromEvent(editor, e);\n        if (e.isDefaultPrevented() || draggingInternallyState.get()) {\n          return;\n        }\n        dropContent = clipboard.getDataTransferItems(e.dataTransfer);\n        var internal = clipboard.hasContentType(dropContent, InternalHtml.internalHtmlMime());\n        if ((!clipboard.hasHtmlOrText(dropContent) || isPlainTextFileUrl(dropContent)) && clipboard.pasteImageData(e, rng)) {\n          return;\n        }\n        if (rng && Settings.shouldFilterDrop(editor)) {\n          var content_1 = dropContent['mce-internal'] || dropContent['text/html'] || dropContent['text/plain'];\n          if (content_1) {\n            e.preventDefault();\n            global$3.setEditorTimeout(editor, function () {\n              editor.undoManager.transact(function () {\n                if (dropContent['mce-internal']) {\n                  editor.execCommand('Delete');\n                }\n                setFocusedRange(editor, rng);\n                content_1 = Utils.trimHtml(content_1);\n                if (!dropContent['text/html']) {\n                  clipboard.pasteText(content_1);\n                } else {\n                  clipboard.pasteHtml(content_1, internal);\n                }\n              });\n            });\n          }\n        }\n      });\n      editor.on('dragstart', function (e) {\n        draggingInternallyState.set(true);\n      });\n      editor.on('dragover dragend', function (e) {\n        if (Settings.shouldPasteDataImages(editor) && draggingInternallyState.get() === false) {\n          e.preventDefault();\n          setFocusedRange(editor, getCaretRangeFromEvent(editor, e));\n        }\n        if (e.type === 'dragend') {\n          draggingInternallyState.set(false);\n        }\n      });\n    };\n    var DragDrop = { setup: setup };\n\n    var setup$1 = function (editor) {\n      var plugin = editor.plugins.paste;\n      var preProcess = Settings.getPreProcess(editor);\n      if (preProcess) {\n        editor.on('PastePreProcess', function (e) {\n          preProcess.call(plugin, plugin, e);\n        });\n      }\n      var postProcess = Settings.getPostProcess(editor);\n      if (postProcess) {\n        editor.on('PastePostProcess', function (e) {\n          postProcess.call(plugin, plugin, e);\n        });\n      }\n    };\n    var PrePostProcess = { setup: setup$1 };\n\n    function addPreProcessFilter(editor, filterFunc) {\n      editor.on('PastePreProcess', function (e) {\n        e.content = filterFunc(editor, e.content, e.internal, e.wordContent);\n      });\n    }\n    function addPostProcessFilter(editor, filterFunc) {\n      editor.on('PastePostProcess', function (e) {\n        filterFunc(editor, e.node);\n      });\n    }\n    function removeExplorerBrElementsAfterBlocks(editor, html) {\n      if (!WordFilter.isWordContent(html)) {\n        return html;\n      }\n      var blockElements = [];\n      global$4.each(editor.schema.getBlockElements(), function (block, blockName) {\n        blockElements.push(blockName);\n      });\n      var explorerBlocksRegExp = new RegExp('(?:<br>&nbsp;[\\\\s\\\\r\\\\n]+|<br>)*(<\\\\/?(' + blockElements.join('|') + ')[^>]*>)(?:<br>&nbsp;[\\\\s\\\\r\\\\n]+|<br>)*', 'g');\n      html = Utils.filter(html, [[\n          explorerBlocksRegExp,\n          '$1'\n        ]]);\n      html = Utils.filter(html, [\n        [\n          /<br><br>/g,\n          '<BR><BR>'\n        ],\n        [\n          /<br>/g,\n          ' '\n        ],\n        [\n          /<BR><BR>/g,\n          '<br>'\n        ]\n      ]);\n      return html;\n    }\n    function removeWebKitStyles(editor, content, internal, isWordHtml) {\n      if (isWordHtml || internal) {\n        return content;\n      }\n      var webKitStylesSetting = Settings.getWebkitStyles(editor);\n      var webKitStyles;\n      if (Settings.shouldRemoveWebKitStyles(editor) === false || webKitStylesSetting === 'all') {\n        return content;\n      }\n      if (webKitStylesSetting) {\n        webKitStyles = webKitStylesSetting.split(/[, ]/);\n      }\n      if (webKitStyles) {\n        var dom_1 = editor.dom, node_1 = editor.selection.getNode();\n        content = content.replace(/(<[^>]+) style=\"([^\"]*)\"([^>]*>)/gi, function (all, before, value, after) {\n          var inputStyles = dom_1.parseStyle(dom_1.decode(value));\n          var outputStyles = {};\n          if (webKitStyles === 'none') {\n            return before + after;\n          }\n          for (var i = 0; i < webKitStyles.length; i++) {\n            var inputValue = inputStyles[webKitStyles[i]], currentValue = dom_1.getStyle(node_1, webKitStyles[i], true);\n            if (/color/.test(webKitStyles[i])) {\n              inputValue = dom_1.toHex(inputValue);\n              currentValue = dom_1.toHex(currentValue);\n            }\n            if (currentValue !== inputValue) {\n              outputStyles[webKitStyles[i]] = inputValue;\n            }\n          }\n          outputStyles = dom_1.serializeStyle(outputStyles, 'span');\n          if (outputStyles) {\n            return before + ' style=\"' + outputStyles + '\"' + after;\n          }\n          return before + after;\n        });\n      } else {\n        content = content.replace(/(<[^>]+) style=\"([^\"]*)\"([^>]*>)/gi, '$1$3');\n      }\n      content = content.replace(/(<[^>]+) data-mce-style=\"([^\"]+)\"([^>]*>)/gi, function (all, before, value, after) {\n        return before + ' style=\"' + value + '\"' + after;\n      });\n      return content;\n    }\n    function removeUnderlineAndFontInAnchor(editor, root) {\n      editor.$('a', root).find('font,u').each(function (i, node) {\n        editor.dom.remove(node, true);\n      });\n    }\n    var setup$2 = function (editor) {\n      if (global$2.webkit) {\n        addPreProcessFilter(editor, removeWebKitStyles);\n      }\n      if (global$2.ie) {\n        addPreProcessFilter(editor, removeExplorerBrElementsAfterBlocks);\n        addPostProcessFilter(editor, removeUnderlineAndFontInAnchor);\n      }\n    };\n    var Quirks = { setup: setup$2 };\n\n    var stateChange = function (editor, clipboard, e) {\n      var ctrl = e.control;\n      ctrl.active(clipboard.pasteFormat.get() === 'text');\n      editor.on('PastePlainTextToggle', function (e) {\n        ctrl.active(e.state);\n      });\n    };\n    var register$2 = function (editor, clipboard) {\n      var postRender = curry(stateChange, editor, clipboard);\n      editor.addButton('pastetext', {\n        active: false,\n        icon: 'pastetext',\n        tooltip: 'Paste as text',\n        cmd: 'mceTogglePlainTextPaste',\n        onPostRender: postRender\n      });\n      editor.addMenuItem('pastetext', {\n        text: 'Paste as text',\n        selectable: true,\n        active: clipboard.pasteFormat,\n        cmd: 'mceTogglePlainTextPaste',\n        onPostRender: postRender\n      });\n    };\n    var Buttons = { register: register$2 };\n\n    global$1.add('paste', function (editor) {\n      if (DetectProPlugin.hasProPlugin(editor) === false) {\n        var userIsInformedState = Cell(false);\n        var draggingInternallyState = Cell(false);\n        var pasteFormat = Cell(Settings.isPasteAsTextEnabled(editor) ? 'text' : 'html');\n        var clipboard = Clipboard(editor, pasteFormat);\n        var quirks = Quirks.setup(editor);\n        Buttons.register(editor, clipboard);\n        Commands.register(editor, clipboard, userIsInformedState);\n        PrePostProcess.setup(editor);\n        CutCopy.register(editor);\n        DragDrop.setup(editor, clipboard, draggingInternallyState);\n        return Api.get(clipboard, quirks);\n      }\n    });\n    function Plugin () {\n    }\n\n    return Plugin;\n\n}(window));\n})();\n","// Exports the \"preview\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/preview')\n//   ES2015:\n//     import 'tinymce/plugins/preview'\nrequire('./plugin.js');","(function () {\nvar preview = (function () {\n    'use strict';\n\n    var global = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.Env');\n\n    var getPreviewDialogWidth = function (editor) {\n      return parseInt(editor.getParam('plugin_preview_width', '650'), 10);\n    };\n    var getPreviewDialogHeight = function (editor) {\n      return parseInt(editor.getParam('plugin_preview_height', '500'), 10);\n    };\n    var getContentStyle = function (editor) {\n      return editor.getParam('content_style', '');\n    };\n    var Settings = {\n      getPreviewDialogWidth: getPreviewDialogWidth,\n      getPreviewDialogHeight: getPreviewDialogHeight,\n      getContentStyle: getContentStyle\n    };\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var getPreviewHtml = function (editor) {\n      var previewHtml;\n      var headHtml = '';\n      var encode = editor.dom.encode;\n      var contentStyle = Settings.getContentStyle(editor);\n      headHtml += '<base href=\"' + encode(editor.documentBaseURI.getURI()) + '\">';\n      if (contentStyle) {\n        headHtml += '<style type=\"text/css\">' + contentStyle + '</style>';\n      }\n      global$2.each(editor.contentCSS, function (url) {\n        headHtml += '<link type=\"text/css\" rel=\"stylesheet\" href=\"' + encode(editor.documentBaseURI.toAbsolute(url)) + '\">';\n      });\n      var bodyId = editor.settings.body_id || 'tinymce';\n      if (bodyId.indexOf('=') !== -1) {\n        bodyId = editor.getParam('body_id', '', 'hash');\n        bodyId = bodyId[editor.id] || bodyId;\n      }\n      var bodyClass = editor.settings.body_class || '';\n      if (bodyClass.indexOf('=') !== -1) {\n        bodyClass = editor.getParam('body_class', '', 'hash');\n        bodyClass = bodyClass[editor.id] || '';\n      }\n      var preventClicksOnLinksScript = '<script>' + 'document.addEventListener && document.addEventListener(\"click\", function(e) {' + 'for (var elm = e.target; elm; elm = elm.parentNode) {' + 'if (elm.nodeName === \"A\") {' + 'e.preventDefault();' + '}' + '}' + '}, false);' + '</script> ';\n      var dirAttr = editor.settings.directionality ? ' dir=\"' + editor.settings.directionality + '\"' : '';\n      previewHtml = '<!DOCTYPE html>' + '<html>' + '<head>' + headHtml + '</head>' + '<body id=\"' + encode(bodyId) + '\" class=\"mce-content-body ' + encode(bodyClass) + '\"' + encode(dirAttr) + '>' + editor.getContent() + preventClicksOnLinksScript + '</body>' + '</html>';\n      return previewHtml;\n    };\n    var injectIframeContent = function (editor, iframe, sandbox) {\n      var previewHtml = getPreviewHtml(editor);\n      if (!sandbox) {\n        var doc = iframe.contentWindow.document;\n        doc.open();\n        doc.write(previewHtml);\n        doc.close();\n      } else {\n        iframe.src = 'data:text/html;charset=utf-8,' + encodeURIComponent(previewHtml);\n      }\n    };\n    var IframeContent = {\n      getPreviewHtml: getPreviewHtml,\n      injectIframeContent: injectIframeContent\n    };\n\n    var open = function (editor) {\n      var sandbox = !global$1.ie;\n      var dialogHtml = '<iframe src=\"\" frameborder=\"0\"' + (sandbox ? ' sandbox=\"allow-scripts\"' : '') + '></iframe>';\n      var dialogWidth = Settings.getPreviewDialogWidth(editor);\n      var dialogHeight = Settings.getPreviewDialogHeight(editor);\n      editor.windowManager.open({\n        title: 'Preview',\n        width: dialogWidth,\n        height: dialogHeight,\n        html: dialogHtml,\n        buttons: {\n          text: 'Close',\n          onclick: function (e) {\n            e.control.parent().parent().close();\n          }\n        },\n        onPostRender: function (e) {\n          var iframeElm = e.control.getEl('body').firstChild;\n          IframeContent.injectIframeContent(editor, iframeElm, sandbox);\n        }\n      });\n    };\n    var Dialog = { open: open };\n\n    var register = function (editor) {\n      editor.addCommand('mcePreview', function () {\n        Dialog.open(editor);\n      });\n    };\n    var Commands = { register: register };\n\n    var register$1 = function (editor) {\n      editor.addButton('preview', {\n        title: 'Preview',\n        cmd: 'mcePreview'\n      });\n      editor.addMenuItem('preview', {\n        text: 'Preview',\n        cmd: 'mcePreview',\n        context: 'view'\n      });\n    };\n    var Buttons = { register: register$1 };\n\n    global.add('preview', function (editor) {\n      Commands.register(editor);\n      Buttons.register(editor);\n    });\n    function Plugin () {\n    }\n\n    return Plugin;\n\n}());\n})();\n","// Exports the \"print\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/print')\n//   ES2015:\n//     import 'tinymce/plugins/print'\nrequire('./plugin.js');","(function () {\nvar print = (function () {\n    'use strict';\n\n    var global = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.Env');\n\n    var register = function (editor) {\n      editor.addCommand('mcePrint', function () {\n        if (global$1.ie && global$1.ie <= 11) {\n          editor.getDoc().execCommand('print', false, null);\n        } else {\n          editor.getWin().print();\n        }\n      });\n    };\n    var Commands = { register: register };\n\n    var register$1 = function (editor) {\n      editor.addButton('print', {\n        title: 'Print',\n        cmd: 'mcePrint'\n      });\n      editor.addMenuItem('print', {\n        text: 'Print',\n        cmd: 'mcePrint',\n        icon: 'print'\n      });\n    };\n    var Buttons = { register: register$1 };\n\n    global.add('print', function (editor) {\n      Commands.register(editor);\n      Buttons.register(editor);\n      editor.addShortcut('Meta+P', '', 'mcePrint');\n    });\n    function Plugin () {\n    }\n\n    return Plugin;\n\n}());\n})();\n","// Exports the \"save\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/save')\n//   ES2015:\n//     import 'tinymce/plugins/save'\nrequire('./plugin.js');","(function () {\nvar save = (function () {\n    'use strict';\n\n    var global = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var enableWhenDirty = function (editor) {\n      return editor.getParam('save_enablewhendirty', true);\n    };\n    var hasOnSaveCallback = function (editor) {\n      return !!editor.getParam('save_onsavecallback');\n    };\n    var hasOnCancelCallback = function (editor) {\n      return !!editor.getParam('save_oncancelcallback');\n    };\n    var Settings = {\n      enableWhenDirty: enableWhenDirty,\n      hasOnSaveCallback: hasOnSaveCallback,\n      hasOnCancelCallback: hasOnCancelCallback\n    };\n\n    var displayErrorMessage = function (editor, message) {\n      editor.notificationManager.open({\n        text: editor.translate(message),\n        type: 'error'\n      });\n    };\n    var save = function (editor) {\n      var formObj;\n      formObj = global$1.DOM.getParent(editor.id, 'form');\n      if (Settings.enableWhenDirty(editor) && !editor.isDirty()) {\n        return;\n      }\n      editor.save();\n      if (Settings.hasOnSaveCallback(editor)) {\n        editor.execCallback('save_onsavecallback', editor);\n        editor.nodeChanged();\n        return;\n      }\n      if (formObj) {\n        editor.setDirty(false);\n        if (!formObj.onsubmit || formObj.onsubmit()) {\n          if (typeof formObj.submit === 'function') {\n            formObj.submit();\n          } else {\n            displayErrorMessage(editor, 'Error: Form submit field collision.');\n          }\n        }\n        editor.nodeChanged();\n      } else {\n        displayErrorMessage(editor, 'Error: No form element found.');\n      }\n    };\n    var cancel = function (editor) {\n      var h = global$2.trim(editor.startContent);\n      if (Settings.hasOnCancelCallback(editor)) {\n        editor.execCallback('save_oncancelcallback', editor);\n        return;\n      }\n      editor.setContent(h);\n      editor.undoManager.clear();\n      editor.nodeChanged();\n    };\n    var Actions = {\n      save: save,\n      cancel: cancel\n    };\n\n    var register = function (editor) {\n      editor.addCommand('mceSave', function () {\n        Actions.save(editor);\n      });\n      editor.addCommand('mceCancel', function () {\n        Actions.cancel(editor);\n      });\n    };\n    var Commands = { register: register };\n\n    var stateToggle = function (editor) {\n      return function (e) {\n        var ctrl = e.control;\n        editor.on('nodeChange dirty', function () {\n          ctrl.disabled(Settings.enableWhenDirty(editor) && !editor.isDirty());\n        });\n      };\n    };\n    var register$1 = function (editor) {\n      editor.addButton('save', {\n        icon: 'save',\n        text: 'Save',\n        cmd: 'mceSave',\n        disabled: true,\n        onPostRender: stateToggle(editor)\n      });\n      editor.addButton('cancel', {\n        text: 'Cancel',\n        icon: false,\n        cmd: 'mceCancel',\n        disabled: true,\n        onPostRender: stateToggle(editor)\n      });\n      editor.addShortcut('Meta+S', '', 'mceSave');\n    };\n    var Buttons = { register: register$1 };\n\n    global.add('save', function (editor) {\n      Buttons.register(editor);\n      Commands.register(editor);\n    });\n    function Plugin () {\n    }\n\n    return Plugin;\n\n}());\n})();\n","// Exports the \"searchreplace\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/searchreplace')\n//   ES2015:\n//     import 'tinymce/plugins/searchreplace'\nrequire('./plugin.js');","(function () {\nvar searchreplace = (function () {\n    'use strict';\n\n    var Cell = function (initial) {\n      var value = initial;\n      var get = function () {\n        return value;\n      };\n      var set = function (v) {\n        value = v;\n      };\n      var clone = function () {\n        return Cell(get());\n      };\n      return {\n        get: get,\n        set: set,\n        clone: clone\n      };\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    function isContentEditableFalse(node) {\n      return node && node.nodeType === 1 && node.contentEditable === 'false';\n    }\n    function findAndReplaceDOMText(regex, node, replacementNode, captureGroup, schema) {\n      var m;\n      var matches = [];\n      var text, count = 0, doc;\n      var blockElementsMap, hiddenTextElementsMap, shortEndedElementsMap;\n      doc = node.ownerDocument;\n      blockElementsMap = schema.getBlockElements();\n      hiddenTextElementsMap = schema.getWhiteSpaceElements();\n      shortEndedElementsMap = schema.getShortEndedElements();\n      function getMatchIndexes(m, captureGroup) {\n        captureGroup = captureGroup || 0;\n        if (!m[0]) {\n          throw new Error('findAndReplaceDOMText cannot handle zero-length matches');\n        }\n        var index = m.index;\n        if (captureGroup > 0) {\n          var cg = m[captureGroup];\n          if (!cg) {\n            throw new Error('Invalid capture group');\n          }\n          index += m[0].indexOf(cg);\n          m[0] = cg;\n        }\n        return [\n          index,\n          index + m[0].length,\n          [m[0]]\n        ];\n      }\n      function getText(node) {\n        var txt;\n        if (node.nodeType === 3) {\n          return node.data;\n        }\n        if (hiddenTextElementsMap[node.nodeName] && !blockElementsMap[node.nodeName]) {\n          return '';\n        }\n        txt = '';\n        if (isContentEditableFalse(node)) {\n          return '\\n';\n        }\n        if (blockElementsMap[node.nodeName] || shortEndedElementsMap[node.nodeName]) {\n          txt += '\\n';\n        }\n        if (node = node.firstChild) {\n          do {\n            txt += getText(node);\n          } while (node = node.nextSibling);\n        }\n        return txt;\n      }\n      function stepThroughMatches(node, matches, replaceFn) {\n        var startNode, endNode, startNodeIndex, endNodeIndex, innerNodes = [], atIndex = 0, curNode = node, matchLocation = matches.shift(), matchIndex = 0;\n        out:\n          while (true) {\n            if (blockElementsMap[curNode.nodeName] || shortEndedElementsMap[curNode.nodeName] || isContentEditableFalse(curNode)) {\n              atIndex++;\n            }\n            if (curNode.nodeType === 3) {\n              if (!endNode && curNode.length + atIndex >= matchLocation[1]) {\n                endNode = curNode;\n                endNodeIndex = matchLocation[1] - atIndex;\n              } else if (startNode) {\n                innerNodes.push(curNode);\n              }\n              if (!startNode && curNode.length + atIndex > matchLocation[0]) {\n                startNode = curNode;\n                startNodeIndex = matchLocation[0] - atIndex;\n              }\n              atIndex += curNode.length;\n            }\n            if (startNode && endNode) {\n              curNode = replaceFn({\n                startNode: startNode,\n                startNodeIndex: startNodeIndex,\n                endNode: endNode,\n                endNodeIndex: endNodeIndex,\n                innerNodes: innerNodes,\n                match: matchLocation[2],\n                matchIndex: matchIndex\n              });\n              atIndex -= endNode.length - endNodeIndex;\n              startNode = null;\n              endNode = null;\n              innerNodes = [];\n              matchLocation = matches.shift();\n              matchIndex++;\n              if (!matchLocation) {\n                break;\n              }\n            } else if ((!hiddenTextElementsMap[curNode.nodeName] || blockElementsMap[curNode.nodeName]) && curNode.firstChild) {\n              if (!isContentEditableFalse(curNode)) {\n                curNode = curNode.firstChild;\n                continue;\n              }\n            } else if (curNode.nextSibling) {\n              curNode = curNode.nextSibling;\n              continue;\n            }\n            while (true) {\n              if (curNode.nextSibling) {\n                curNode = curNode.nextSibling;\n                break;\n              } else if (curNode.parentNode !== node) {\n                curNode = curNode.parentNode;\n              } else {\n                break out;\n              }\n            }\n          }\n      }\n      function genReplacer(nodeName) {\n        var makeReplacementNode;\n        if (typeof nodeName !== 'function') {\n          var stencilNode_1 = nodeName.nodeType ? nodeName : doc.createElement(nodeName);\n          makeReplacementNode = function (fill, matchIndex) {\n            var clone = stencilNode_1.cloneNode(false);\n            clone.setAttribute('data-mce-index', matchIndex);\n            if (fill) {\n              clone.appendChild(doc.createTextNode(fill));\n            }\n            return clone;\n          };\n        } else {\n          makeReplacementNode = nodeName;\n        }\n        return function (range) {\n          var before;\n          var after;\n          var parentNode;\n          var startNode = range.startNode;\n          var endNode = range.endNode;\n          var matchIndex = range.matchIndex;\n          if (startNode === endNode) {\n            var node_1 = startNode;\n            parentNode = node_1.parentNode;\n            if (range.startNodeIndex > 0) {\n              before = doc.createTextNode(node_1.data.substring(0, range.startNodeIndex));\n              parentNode.insertBefore(before, node_1);\n            }\n            var el = makeReplacementNode(range.match[0], matchIndex);\n            parentNode.insertBefore(el, node_1);\n            if (range.endNodeIndex < node_1.length) {\n              after = doc.createTextNode(node_1.data.substring(range.endNodeIndex));\n              parentNode.insertBefore(after, node_1);\n            }\n            node_1.parentNode.removeChild(node_1);\n            return el;\n          }\n          before = doc.createTextNode(startNode.data.substring(0, range.startNodeIndex));\n          after = doc.createTextNode(endNode.data.substring(range.endNodeIndex));\n          var elA = makeReplacementNode(startNode.data.substring(range.startNodeIndex), matchIndex);\n          for (var i = 0, l = range.innerNodes.length; i < l; ++i) {\n            var innerNode = range.innerNodes[i];\n            var innerEl = makeReplacementNode(innerNode.data, matchIndex);\n            innerNode.parentNode.replaceChild(innerEl, innerNode);\n          }\n          var elB = makeReplacementNode(endNode.data.substring(0, range.endNodeIndex), matchIndex);\n          parentNode = startNode.parentNode;\n          parentNode.insertBefore(before, startNode);\n          parentNode.insertBefore(elA, startNode);\n          parentNode.removeChild(startNode);\n          parentNode = endNode.parentNode;\n          parentNode.insertBefore(elB, endNode);\n          parentNode.insertBefore(after, endNode);\n          parentNode.removeChild(endNode);\n          return elB;\n        };\n      }\n      text = getText(node);\n      if (!text) {\n        return;\n      }\n      if (regex.global) {\n        while (m = regex.exec(text)) {\n          matches.push(getMatchIndexes(m, captureGroup));\n        }\n      } else {\n        m = text.match(regex);\n        matches.push(getMatchIndexes(m, captureGroup));\n      }\n      if (matches.length) {\n        count = matches.length;\n        stepThroughMatches(node, matches, genReplacer(replacementNode));\n      }\n      return count;\n    }\n    var FindReplaceText = { findAndReplaceDOMText: findAndReplaceDOMText };\n\n    var getElmIndex = function (elm) {\n      var value = elm.getAttribute('data-mce-index');\n      if (typeof value === 'number') {\n        return '' + value;\n      }\n      return value;\n    };\n    var markAllMatches = function (editor, currentIndexState, regex) {\n      var node, marker;\n      marker = editor.dom.create('span', { 'data-mce-bogus': 1 });\n      marker.className = 'mce-match-marker';\n      node = editor.getBody();\n      done(editor, currentIndexState, false);\n      return FindReplaceText.findAndReplaceDOMText(regex, node, marker, false, editor.schema);\n    };\n    var unwrap = function (node) {\n      var parentNode = node.parentNode;\n      if (node.firstChild) {\n        parentNode.insertBefore(node.firstChild, node);\n      }\n      node.parentNode.removeChild(node);\n    };\n    var findSpansByIndex = function (editor, index) {\n      var nodes;\n      var spans = [];\n      nodes = global$1.toArray(editor.getBody().getElementsByTagName('span'));\n      if (nodes.length) {\n        for (var i = 0; i < nodes.length; i++) {\n          var nodeIndex = getElmIndex(nodes[i]);\n          if (nodeIndex === null || !nodeIndex.length) {\n            continue;\n          }\n          if (nodeIndex === index.toString()) {\n            spans.push(nodes[i]);\n          }\n        }\n      }\n      return spans;\n    };\n    var moveSelection = function (editor, currentIndexState, forward) {\n      var testIndex = currentIndexState.get();\n      var dom = editor.dom;\n      forward = forward !== false;\n      if (forward) {\n        testIndex++;\n      } else {\n        testIndex--;\n      }\n      dom.removeClass(findSpansByIndex(editor, currentIndexState.get()), 'mce-match-marker-selected');\n      var spans = findSpansByIndex(editor, testIndex);\n      if (spans.length) {\n        dom.addClass(findSpansByIndex(editor, testIndex), 'mce-match-marker-selected');\n        editor.selection.scrollIntoView(spans[0]);\n        return testIndex;\n      }\n      return -1;\n    };\n    var removeNode = function (dom, node) {\n      var parent = node.parentNode;\n      dom.remove(node);\n      if (dom.isEmpty(parent)) {\n        dom.remove(parent);\n      }\n    };\n    var find = function (editor, currentIndexState, text, matchCase, wholeWord) {\n      text = text.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\n      text = text.replace(/\\s/g, '[^\\\\S\\\\r\\\\n]');\n      text = wholeWord ? '\\\\b' + text + '\\\\b' : text;\n      var count = markAllMatches(editor, currentIndexState, new RegExp(text, matchCase ? 'g' : 'gi'));\n      if (count) {\n        currentIndexState.set(-1);\n        currentIndexState.set(moveSelection(editor, currentIndexState, true));\n      }\n      return count;\n    };\n    var next = function (editor, currentIndexState) {\n      var index = moveSelection(editor, currentIndexState, true);\n      if (index !== -1) {\n        currentIndexState.set(index);\n      }\n    };\n    var prev = function (editor, currentIndexState) {\n      var index = moveSelection(editor, currentIndexState, false);\n      if (index !== -1) {\n        currentIndexState.set(index);\n      }\n    };\n    var isMatchSpan = function (node) {\n      var matchIndex = getElmIndex(node);\n      return matchIndex !== null && matchIndex.length > 0;\n    };\n    var replace = function (editor, currentIndexState, text, forward, all) {\n      var i, nodes, node, matchIndex, currentMatchIndex, nextIndex = currentIndexState.get(), hasMore;\n      forward = forward !== false;\n      node = editor.getBody();\n      nodes = global$1.grep(global$1.toArray(node.getElementsByTagName('span')), isMatchSpan);\n      for (i = 0; i < nodes.length; i++) {\n        var nodeIndex = getElmIndex(nodes[i]);\n        matchIndex = currentMatchIndex = parseInt(nodeIndex, 10);\n        if (all || matchIndex === currentIndexState.get()) {\n          if (text.length) {\n            nodes[i].firstChild.nodeValue = text;\n            unwrap(nodes[i]);\n          } else {\n            removeNode(editor.dom, nodes[i]);\n          }\n          while (nodes[++i]) {\n            matchIndex = parseInt(getElmIndex(nodes[i]), 10);\n            if (matchIndex === currentMatchIndex) {\n              removeNode(editor.dom, nodes[i]);\n            } else {\n              i--;\n              break;\n            }\n          }\n          if (forward) {\n            nextIndex--;\n          }\n        } else if (currentMatchIndex > currentIndexState.get()) {\n          nodes[i].setAttribute('data-mce-index', currentMatchIndex - 1);\n        }\n      }\n      currentIndexState.set(nextIndex);\n      if (forward) {\n        hasMore = hasNext(editor, currentIndexState);\n        next(editor, currentIndexState);\n      } else {\n        hasMore = hasPrev(editor, currentIndexState);\n        prev(editor, currentIndexState);\n      }\n      return !all && hasMore;\n    };\n    var done = function (editor, currentIndexState, keepEditorSelection) {\n      var i, nodes, startContainer, endContainer;\n      nodes = global$1.toArray(editor.getBody().getElementsByTagName('span'));\n      for (i = 0; i < nodes.length; i++) {\n        var nodeIndex = getElmIndex(nodes[i]);\n        if (nodeIndex !== null && nodeIndex.length) {\n          if (nodeIndex === currentIndexState.get().toString()) {\n            if (!startContainer) {\n              startContainer = nodes[i].firstChild;\n            }\n            endContainer = nodes[i].firstChild;\n          }\n          unwrap(nodes[i]);\n        }\n      }\n      if (startContainer && endContainer) {\n        var rng = editor.dom.createRng();\n        rng.setStart(startContainer, 0);\n        rng.setEnd(endContainer, endContainer.data.length);\n        if (keepEditorSelection !== false) {\n          editor.selection.setRng(rng);\n        }\n        return rng;\n      }\n    };\n    var hasNext = function (editor, currentIndexState) {\n      return findSpansByIndex(editor, currentIndexState.get() + 1).length > 0;\n    };\n    var hasPrev = function (editor, currentIndexState) {\n      return findSpansByIndex(editor, currentIndexState.get() - 1).length > 0;\n    };\n    var Actions = {\n      done: done,\n      find: find,\n      next: next,\n      prev: prev,\n      replace: replace,\n      hasNext: hasNext,\n      hasPrev: hasPrev\n    };\n\n    var get = function (editor, currentIndexState) {\n      var done = function (keepEditorSelection) {\n        return Actions.done(editor, currentIndexState, keepEditorSelection);\n      };\n      var find = function (text, matchCase, wholeWord) {\n        return Actions.find(editor, currentIndexState, text, matchCase, wholeWord);\n      };\n      var next = function () {\n        return Actions.next(editor, currentIndexState);\n      };\n      var prev = function () {\n        return Actions.prev(editor, currentIndexState);\n      };\n      var replace = function (text, forward, all) {\n        return Actions.replace(editor, currentIndexState, text, forward, all);\n      };\n      return {\n        done: done,\n        find: find,\n        next: next,\n        prev: prev,\n        replace: replace\n      };\n    };\n    var Api = { get: get };\n\n    var open = function (editor, currentIndexState) {\n      var last = {}, selectedText;\n      editor.undoManager.add();\n      selectedText = global$1.trim(editor.selection.getContent({ format: 'text' }));\n      function updateButtonStates() {\n        win.statusbar.find('#next').disabled(Actions.hasNext(editor, currentIndexState) === false);\n        win.statusbar.find('#prev').disabled(Actions.hasPrev(editor, currentIndexState) === false);\n      }\n      function notFoundAlert() {\n        editor.windowManager.alert('Could not find the specified string.', function () {\n          win.find('#find')[0].focus();\n        });\n      }\n      var win = editor.windowManager.open({\n        layout: 'flex',\n        pack: 'center',\n        align: 'center',\n        onClose: function () {\n          editor.focus();\n          Actions.done(editor, currentIndexState);\n          editor.undoManager.add();\n        },\n        onSubmit: function (e) {\n          var count, caseState, text, wholeWord;\n          e.preventDefault();\n          caseState = win.find('#case').checked();\n          wholeWord = win.find('#words').checked();\n          text = win.find('#find').value();\n          if (!text.length) {\n            Actions.done(editor, currentIndexState, false);\n            win.statusbar.items().slice(1).disabled(true);\n            return;\n          }\n          if (last.text === text && last.caseState === caseState && last.wholeWord === wholeWord) {\n            if (!Actions.hasNext(editor, currentIndexState)) {\n              notFoundAlert();\n              return;\n            }\n            Actions.next(editor, currentIndexState);\n            updateButtonStates();\n            return;\n          }\n          count = Actions.find(editor, currentIndexState, text, caseState, wholeWord);\n          if (!count) {\n            notFoundAlert();\n          }\n          win.statusbar.items().slice(1).disabled(count === 0);\n          updateButtonStates();\n          last = {\n            text: text,\n            caseState: caseState,\n            wholeWord: wholeWord\n          };\n        },\n        buttons: [\n          {\n            text: 'Find',\n            subtype: 'primary',\n            onclick: function () {\n              win.submit();\n            }\n          },\n          {\n            text: 'Replace',\n            disabled: true,\n            onclick: function () {\n              if (!Actions.replace(editor, currentIndexState, win.find('#replace').value())) {\n                win.statusbar.items().slice(1).disabled(true);\n                currentIndexState.set(-1);\n                last = {};\n              }\n            }\n          },\n          {\n            text: 'Replace all',\n            disabled: true,\n            onclick: function () {\n              Actions.replace(editor, currentIndexState, win.find('#replace').value(), true, true);\n              win.statusbar.items().slice(1).disabled(true);\n              last = {};\n            }\n          },\n          {\n            type: 'spacer',\n            flex: 1\n          },\n          {\n            text: 'Prev',\n            name: 'prev',\n            disabled: true,\n            onclick: function () {\n              Actions.prev(editor, currentIndexState);\n              updateButtonStates();\n            }\n          },\n          {\n            text: 'Next',\n            name: 'next',\n            disabled: true,\n            onclick: function () {\n              Actions.next(editor, currentIndexState);\n              updateButtonStates();\n            }\n          }\n        ],\n        title: 'Find and replace',\n        items: {\n          type: 'form',\n          padding: 20,\n          labelGap: 30,\n          spacing: 10,\n          items: [\n            {\n              type: 'textbox',\n              name: 'find',\n              size: 40,\n              label: 'Find',\n              value: selectedText\n            },\n            {\n              type: 'textbox',\n              name: 'replace',\n              size: 40,\n              label: 'Replace with'\n            },\n            {\n              type: 'checkbox',\n              name: 'case',\n              text: 'Match case',\n              label: ' '\n            },\n            {\n              type: 'checkbox',\n              name: 'words',\n              text: 'Whole words',\n              label: ' '\n            }\n          ]\n        }\n      });\n    };\n    var Dialog = { open: open };\n\n    var register = function (editor, currentIndexState) {\n      editor.addCommand('SearchReplace', function () {\n        Dialog.open(editor, currentIndexState);\n      });\n    };\n    var Commands = { register: register };\n\n    var showDialog = function (editor, currentIndexState) {\n      return function () {\n        Dialog.open(editor, currentIndexState);\n      };\n    };\n    var register$1 = function (editor, currentIndexState) {\n      editor.addMenuItem('searchreplace', {\n        text: 'Find and replace',\n        shortcut: 'Meta+F',\n        onclick: showDialog(editor, currentIndexState),\n        separator: 'before',\n        context: 'edit'\n      });\n      editor.addButton('searchreplace', {\n        tooltip: 'Find and replace',\n        onclick: showDialog(editor, currentIndexState)\n      });\n      editor.shortcuts.add('Meta+F', '', showDialog(editor, currentIndexState));\n    };\n    var Buttons = { register: register$1 };\n\n    global.add('searchreplace', function (editor) {\n      var currentIndexState = Cell(-1);\n      Commands.register(editor, currentIndexState);\n      Buttons.register(editor, currentIndexState);\n      return Api.get(editor, currentIndexState);\n    });\n    function Plugin () {\n    }\n\n    return Plugin;\n\n}());\n})();\n","// Exports the \"spellchecker\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/spellchecker')\n//   ES2015:\n//     import 'tinymce/plugins/spellchecker'\nrequire('./plugin.js');","(function () {\nvar spellchecker = (function (domGlobals) {\n    'use strict';\n\n    var Cell = function (initial) {\n      var value = initial;\n      var get = function () {\n        return value;\n      };\n      var set = function (v) {\n        value = v;\n      };\n      var clone = function () {\n        return Cell(get());\n      };\n      return {\n        get: get,\n        set: set,\n        clone: clone\n      };\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var hasProPlugin = function (editor) {\n      if (/(^|[ ,])tinymcespellchecker([, ]|$)/.test(editor.settings.plugins) && global.get('tinymcespellchecker')) {\n        if (typeof domGlobals.window.console !== 'undefined' && domGlobals.window.console.log) {\n          domGlobals.window.console.log('Spell Checker Pro is incompatible with Spell Checker plugin! ' + 'Remove \\'spellchecker\\' from the \\'plugins\\' option.');\n        }\n        return true;\n      } else {\n        return false;\n      }\n    };\n    var DetectProPlugin = { hasProPlugin: hasProPlugin };\n\n    var getLanguages = function (editor) {\n      var defaultLanguages = 'English=en,Danish=da,Dutch=nl,Finnish=fi,French=fr_FR,German=de,Italian=it,Polish=pl,Portuguese=pt_BR,Spanish=es,Swedish=sv';\n      return editor.getParam('spellchecker_languages', defaultLanguages);\n    };\n    var getLanguage = function (editor) {\n      var defaultLanguage = editor.getParam('language', 'en');\n      return editor.getParam('spellchecker_language', defaultLanguage);\n    };\n    var getRpcUrl = function (editor) {\n      return editor.getParam('spellchecker_rpc_url');\n    };\n    var getSpellcheckerCallback = function (editor) {\n      return editor.getParam('spellchecker_callback');\n    };\n    var getSpellcheckerWordcharPattern = function (editor) {\n      var defaultPattern = new RegExp('[^' + '\\\\s!\"#$%&()*+,-./:;<=>?@[\\\\]^_{|}`' + '\\xA7\\xA9\\xAB\\xAE\\xB1\\xB6\\xB7\\xB8\\xBB' + '\\xBC\\xBD\\xBE\\xBF\\xD7\\xF7\\xA4\\u201D\\u201C\\u201E\\xA0\\u2002\\u2003\\u2009' + ']+', 'g');\n      return editor.getParam('spellchecker_wordchar_pattern', defaultPattern);\n    };\n    var Settings = {\n      getLanguages: getLanguages,\n      getLanguage: getLanguage,\n      getRpcUrl: getRpcUrl,\n      getSpellcheckerCallback: getSpellcheckerCallback,\n      getSpellcheckerWordcharPattern: getSpellcheckerWordcharPattern\n    };\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.util.URI');\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.util.XHR');\n\n    var fireSpellcheckStart = function (editor) {\n      return editor.fire('SpellcheckStart');\n    };\n    var fireSpellcheckEnd = function (editor) {\n      return editor.fire('SpellcheckEnd');\n    };\n    var Events = {\n      fireSpellcheckStart: fireSpellcheckStart,\n      fireSpellcheckEnd: fireSpellcheckEnd\n    };\n\n    function isContentEditableFalse(node) {\n      return node && node.nodeType === 1 && node.contentEditable === 'false';\n    }\n    var DomTextMatcher = function (node, editor) {\n      var m, matches = [], text;\n      var dom = editor.dom;\n      var blockElementsMap, hiddenTextElementsMap, shortEndedElementsMap;\n      blockElementsMap = editor.schema.getBlockElements();\n      hiddenTextElementsMap = editor.schema.getWhiteSpaceElements();\n      shortEndedElementsMap = editor.schema.getShortEndedElements();\n      function createMatch(m, data) {\n        if (!m[0]) {\n          throw new Error('findAndReplaceDOMText cannot handle zero-length matches');\n        }\n        return {\n          start: m.index,\n          end: m.index + m[0].length,\n          text: m[0],\n          data: data\n        };\n      }\n      function getText(node) {\n        var txt;\n        if (node.nodeType === 3) {\n          return node.data;\n        }\n        if (hiddenTextElementsMap[node.nodeName] && !blockElementsMap[node.nodeName]) {\n          return '';\n        }\n        if (isContentEditableFalse(node)) {\n          return '\\n';\n        }\n        txt = '';\n        if (blockElementsMap[node.nodeName] || shortEndedElementsMap[node.nodeName]) {\n          txt += '\\n';\n        }\n        if (node = node.firstChild) {\n          do {\n            txt += getText(node);\n          } while (node = node.nextSibling);\n        }\n        return txt;\n      }\n      function stepThroughMatches(node, matches, replaceFn) {\n        var startNode, endNode, startNodeIndex, endNodeIndex, innerNodes = [], atIndex = 0, curNode = node, matchLocation, matchIndex = 0;\n        matches = matches.slice(0);\n        matches.sort(function (a, b) {\n          return a.start - b.start;\n        });\n        matchLocation = matches.shift();\n        out:\n          while (true) {\n            if (blockElementsMap[curNode.nodeName] || shortEndedElementsMap[curNode.nodeName] || isContentEditableFalse(curNode)) {\n              atIndex++;\n            }\n            if (curNode.nodeType === 3) {\n              if (!endNode && curNode.length + atIndex >= matchLocation.end) {\n                endNode = curNode;\n                endNodeIndex = matchLocation.end - atIndex;\n              } else if (startNode) {\n                innerNodes.push(curNode);\n              }\n              if (!startNode && curNode.length + atIndex > matchLocation.start) {\n                startNode = curNode;\n                startNodeIndex = matchLocation.start - atIndex;\n              }\n              atIndex += curNode.length;\n            }\n            if (startNode && endNode) {\n              curNode = replaceFn({\n                startNode: startNode,\n                startNodeIndex: startNodeIndex,\n                endNode: endNode,\n                endNodeIndex: endNodeIndex,\n                innerNodes: innerNodes,\n                match: matchLocation.text,\n                matchIndex: matchIndex\n              });\n              atIndex -= endNode.length - endNodeIndex;\n              startNode = null;\n              endNode = null;\n              innerNodes = [];\n              matchLocation = matches.shift();\n              matchIndex++;\n              if (!matchLocation) {\n                break;\n              }\n            } else if ((!hiddenTextElementsMap[curNode.nodeName] || blockElementsMap[curNode.nodeName]) && curNode.firstChild) {\n              if (!isContentEditableFalse(curNode)) {\n                curNode = curNode.firstChild;\n                continue;\n              }\n            } else if (curNode.nextSibling) {\n              curNode = curNode.nextSibling;\n              continue;\n            }\n            while (true) {\n              if (curNode.nextSibling) {\n                curNode = curNode.nextSibling;\n                break;\n              } else if (curNode.parentNode !== node) {\n                curNode = curNode.parentNode;\n              } else {\n                break out;\n              }\n            }\n          }\n      }\n      function genReplacer(callback) {\n        function makeReplacementNode(fill, matchIndex) {\n          var match = matches[matchIndex];\n          if (!match.stencil) {\n            match.stencil = callback(match);\n          }\n          var clone = match.stencil.cloneNode(false);\n          clone.setAttribute('data-mce-index', matchIndex);\n          if (fill) {\n            clone.appendChild(dom.doc.createTextNode(fill));\n          }\n          return clone;\n        }\n        return function (range) {\n          var before;\n          var after;\n          var parentNode;\n          var startNode = range.startNode;\n          var endNode = range.endNode;\n          var matchIndex = range.matchIndex;\n          var doc = dom.doc;\n          if (startNode === endNode) {\n            var node_1 = startNode;\n            parentNode = node_1.parentNode;\n            if (range.startNodeIndex > 0) {\n              before = doc.createTextNode(node_1.data.substring(0, range.startNodeIndex));\n              parentNode.insertBefore(before, node_1);\n            }\n            var el = makeReplacementNode(range.match, matchIndex);\n            parentNode.insertBefore(el, node_1);\n            if (range.endNodeIndex < node_1.length) {\n              after = doc.createTextNode(node_1.data.substring(range.endNodeIndex));\n              parentNode.insertBefore(after, node_1);\n            }\n            node_1.parentNode.removeChild(node_1);\n            return el;\n          }\n          before = doc.createTextNode(startNode.data.substring(0, range.startNodeIndex));\n          after = doc.createTextNode(endNode.data.substring(range.endNodeIndex));\n          var elA = makeReplacementNode(startNode.data.substring(range.startNodeIndex), matchIndex);\n          for (var i = 0, l = range.innerNodes.length; i < l; ++i) {\n            var innerNode = range.innerNodes[i];\n            var innerEl = makeReplacementNode(innerNode.data, matchIndex);\n            innerNode.parentNode.replaceChild(innerEl, innerNode);\n          }\n          var elB = makeReplacementNode(endNode.data.substring(0, range.endNodeIndex), matchIndex);\n          parentNode = startNode.parentNode;\n          parentNode.insertBefore(before, startNode);\n          parentNode.insertBefore(elA, startNode);\n          parentNode.removeChild(startNode);\n          parentNode = endNode.parentNode;\n          parentNode.insertBefore(elB, endNode);\n          parentNode.insertBefore(after, endNode);\n          parentNode.removeChild(endNode);\n          return elB;\n        };\n      }\n      function unwrapElement(element) {\n        var parentNode = element.parentNode;\n        parentNode.insertBefore(element.firstChild, element);\n        element.parentNode.removeChild(element);\n      }\n      function hasClass(elm) {\n        return elm.className.indexOf('mce-spellchecker-word') !== -1;\n      }\n      function getWrappersByIndex(index) {\n        var elements = node.getElementsByTagName('*'), wrappers = [];\n        index = typeof index === 'number' ? '' + index : null;\n        for (var i = 0; i < elements.length; i++) {\n          var element = elements[i], dataIndex = element.getAttribute('data-mce-index');\n          if (dataIndex !== null && dataIndex.length && hasClass(element)) {\n            if (dataIndex === index || index === null) {\n              wrappers.push(element);\n            }\n          }\n        }\n        return wrappers;\n      }\n      function indexOf(match) {\n        var i = matches.length;\n        while (i--) {\n          if (matches[i] === match) {\n            return i;\n          }\n        }\n        return -1;\n      }\n      function filter(callback) {\n        var filteredMatches = [];\n        each(function (match, i) {\n          if (callback(match, i)) {\n            filteredMatches.push(match);\n          }\n        });\n        matches = filteredMatches;\n        return this;\n      }\n      function each(callback) {\n        for (var i = 0, l = matches.length; i < l; i++) {\n          if (callback(matches[i], i) === false) {\n            break;\n          }\n        }\n        return this;\n      }\n      function wrap(callback) {\n        if (matches.length) {\n          stepThroughMatches(node, matches, genReplacer(callback));\n        }\n        return this;\n      }\n      function find(regex, data) {\n        if (text && regex.global) {\n          while (m = regex.exec(text)) {\n            matches.push(createMatch(m, data));\n          }\n        }\n        return this;\n      }\n      function unwrap(match) {\n        var i;\n        var elements = getWrappersByIndex(match ? indexOf(match) : null);\n        i = elements.length;\n        while (i--) {\n          unwrapElement(elements[i]);\n        }\n        return this;\n      }\n      function matchFromElement(element) {\n        return matches[element.getAttribute('data-mce-index')];\n      }\n      function elementFromMatch(match) {\n        return getWrappersByIndex(indexOf(match))[0];\n      }\n      function add(start, length, data) {\n        matches.push({\n          start: start,\n          end: start + length,\n          text: text.substr(start, length),\n          data: data\n        });\n        return this;\n      }\n      function rangeFromMatch(match) {\n        var wrappers = getWrappersByIndex(indexOf(match));\n        var rng = editor.dom.createRng();\n        rng.setStartBefore(wrappers[0]);\n        rng.setEndAfter(wrappers[wrappers.length - 1]);\n        return rng;\n      }\n      function replace(match, text) {\n        var rng = rangeFromMatch(match);\n        rng.deleteContents();\n        if (text.length > 0) {\n          rng.insertNode(editor.dom.doc.createTextNode(text));\n        }\n        return rng;\n      }\n      function reset() {\n        matches.splice(0, matches.length);\n        unwrap();\n        return this;\n      }\n      text = getText(node);\n      return {\n        text: text,\n        matches: matches,\n        each: each,\n        filter: filter,\n        reset: reset,\n        matchFromElement: matchFromElement,\n        elementFromMatch: elementFromMatch,\n        find: find,\n        add: add,\n        wrap: wrap,\n        unwrap: unwrap,\n        replace: replace,\n        rangeFromMatch: rangeFromMatch,\n        indexOf: indexOf\n      };\n    };\n\n    var getTextMatcher = function (editor, textMatcherState) {\n      if (!textMatcherState.get()) {\n        var textMatcher = DomTextMatcher(editor.getBody(), editor);\n        textMatcherState.set(textMatcher);\n      }\n      return textMatcherState.get();\n    };\n    var isEmpty = function (obj) {\n      for (var _ in obj) {\n        return false;\n      }\n      return true;\n    };\n    var defaultSpellcheckCallback = function (editor, pluginUrl, currentLanguageState) {\n      return function (method, text, doneCallback, errorCallback) {\n        var data = {\n          method: method,\n          lang: currentLanguageState.get()\n        };\n        var postData = '';\n        data[method === 'addToDictionary' ? 'word' : 'text'] = text;\n        global$1.each(data, function (value, key) {\n          if (postData) {\n            postData += '&';\n          }\n          postData += key + '=' + encodeURIComponent(value);\n        });\n        global$3.send({\n          url: new global$2(pluginUrl).toAbsolute(Settings.getRpcUrl(editor)),\n          type: 'post',\n          content_type: 'application/x-www-form-urlencoded',\n          data: postData,\n          success: function (result) {\n            result = JSON.parse(result);\n            if (!result) {\n              var message = editor.translate('Server response wasn\\'t proper JSON.');\n              errorCallback(message);\n            } else if (result.error) {\n              errorCallback(result.error);\n            } else {\n              doneCallback(result);\n            }\n          },\n          error: function () {\n            var message = editor.translate('The spelling service was not found: (') + Settings.getRpcUrl(editor) + editor.translate(')');\n            errorCallback(message);\n          }\n        });\n      };\n    };\n    var sendRpcCall = function (editor, pluginUrl, currentLanguageState, name, data, successCallback, errorCallback) {\n      var userSpellcheckCallback = Settings.getSpellcheckerCallback(editor);\n      var spellCheckCallback = userSpellcheckCallback ? userSpellcheckCallback : defaultSpellcheckCallback(editor, pluginUrl, currentLanguageState);\n      spellCheckCallback.call(editor.plugins.spellchecker, name, data, successCallback, errorCallback);\n    };\n    var spellcheck = function (editor, pluginUrl, startedState, textMatcherState, lastSuggestionsState, currentLanguageState) {\n      if (finish(editor, startedState, textMatcherState)) {\n        return;\n      }\n      var errorCallback = function (message) {\n        editor.notificationManager.open({\n          text: message,\n          type: 'error'\n        });\n        editor.setProgressState(false);\n        finish(editor, startedState, textMatcherState);\n      };\n      var successCallback = function (data) {\n        markErrors(editor, startedState, textMatcherState, lastSuggestionsState, data);\n      };\n      editor.setProgressState(true);\n      sendRpcCall(editor, pluginUrl, currentLanguageState, 'spellcheck', getTextMatcher(editor, textMatcherState).text, successCallback, errorCallback);\n      editor.focus();\n    };\n    var checkIfFinished = function (editor, startedState, textMatcherState) {\n      if (!editor.dom.select('span.mce-spellchecker-word').length) {\n        finish(editor, startedState, textMatcherState);\n      }\n    };\n    var addToDictionary = function (editor, pluginUrl, startedState, textMatcherState, currentLanguageState, word, spans) {\n      editor.setProgressState(true);\n      sendRpcCall(editor, pluginUrl, currentLanguageState, 'addToDictionary', word, function () {\n        editor.setProgressState(false);\n        editor.dom.remove(spans, true);\n        checkIfFinished(editor, startedState, textMatcherState);\n      }, function (message) {\n        editor.notificationManager.open({\n          text: message,\n          type: 'error'\n        });\n        editor.setProgressState(false);\n      });\n    };\n    var ignoreWord = function (editor, startedState, textMatcherState, word, spans, all) {\n      editor.selection.collapse();\n      if (all) {\n        global$1.each(editor.dom.select('span.mce-spellchecker-word'), function (span) {\n          if (span.getAttribute('data-mce-word') === word) {\n            editor.dom.remove(span, true);\n          }\n        });\n      } else {\n        editor.dom.remove(spans, true);\n      }\n      checkIfFinished(editor, startedState, textMatcherState);\n    };\n    var finish = function (editor, startedState, textMatcherState) {\n      var bookmark = editor.selection.getBookmark();\n      getTextMatcher(editor, textMatcherState).reset();\n      editor.selection.moveToBookmark(bookmark);\n      textMatcherState.set(null);\n      if (startedState.get()) {\n        startedState.set(false);\n        Events.fireSpellcheckEnd(editor);\n        return true;\n      }\n    };\n    var getElmIndex = function (elm) {\n      var value = elm.getAttribute('data-mce-index');\n      if (typeof value === 'number') {\n        return '' + value;\n      }\n      return value;\n    };\n    var findSpansByIndex = function (editor, index) {\n      var nodes;\n      var spans = [];\n      nodes = global$1.toArray(editor.getBody().getElementsByTagName('span'));\n      if (nodes.length) {\n        for (var i = 0; i < nodes.length; i++) {\n          var nodeIndex = getElmIndex(nodes[i]);\n          if (nodeIndex === null || !nodeIndex.length) {\n            continue;\n          }\n          if (nodeIndex === index.toString()) {\n            spans.push(nodes[i]);\n          }\n        }\n      }\n      return spans;\n    };\n    var markErrors = function (editor, startedState, textMatcherState, lastSuggestionsState, data) {\n      var suggestions, hasDictionarySupport;\n      if (typeof data !== 'string' && data.words) {\n        hasDictionarySupport = !!data.dictionary;\n        suggestions = data.words;\n      } else {\n        suggestions = data;\n      }\n      editor.setProgressState(false);\n      if (isEmpty(suggestions)) {\n        var message = editor.translate('No misspellings found.');\n        editor.notificationManager.open({\n          text: message,\n          type: 'info'\n        });\n        startedState.set(false);\n        return;\n      }\n      lastSuggestionsState.set({\n        suggestions: suggestions,\n        hasDictionarySupport: hasDictionarySupport\n      });\n      var bookmark = editor.selection.getBookmark();\n      getTextMatcher(editor, textMatcherState).find(Settings.getSpellcheckerWordcharPattern(editor)).filter(function (match) {\n        return !!suggestions[match.text];\n      }).wrap(function (match) {\n        return editor.dom.create('span', {\n          'class': 'mce-spellchecker-word',\n          'data-mce-bogus': 1,\n          'data-mce-word': match.text\n        });\n      });\n      editor.selection.moveToBookmark(bookmark);\n      startedState.set(true);\n      Events.fireSpellcheckStart(editor);\n    };\n    var Actions = {\n      spellcheck: spellcheck,\n      checkIfFinished: checkIfFinished,\n      addToDictionary: addToDictionary,\n      ignoreWord: ignoreWord,\n      findSpansByIndex: findSpansByIndex,\n      getElmIndex: getElmIndex,\n      markErrors: markErrors\n    };\n\n    var get = function (editor, startedState, lastSuggestionsState, textMatcherState, currentLanguageState, url) {\n      var getLanguage = function () {\n        return currentLanguageState.get();\n      };\n      var getWordCharPattern = function () {\n        return Settings.getSpellcheckerWordcharPattern(editor);\n      };\n      var markErrors = function (data) {\n        Actions.markErrors(editor, startedState, textMatcherState, lastSuggestionsState, data);\n      };\n      var getTextMatcher = function () {\n        return textMatcherState.get();\n      };\n      return {\n        getTextMatcher: getTextMatcher,\n        getWordCharPattern: getWordCharPattern,\n        markErrors: markErrors,\n        getLanguage: getLanguage\n      };\n    };\n    var Api = { get: get };\n\n    var register = function (editor, pluginUrl, startedState, textMatcherState, lastSuggestionsState, currentLanguageState) {\n      editor.addCommand('mceSpellCheck', function () {\n        Actions.spellcheck(editor, pluginUrl, startedState, textMatcherState, lastSuggestionsState, currentLanguageState);\n      });\n    };\n    var Commands = { register: register };\n\n    var buildMenuItems = function (listName, languageValues) {\n      var items = [];\n      global$1.each(languageValues, function (languageValue) {\n        items.push({\n          selectable: true,\n          text: languageValue.name,\n          data: languageValue.value\n        });\n      });\n      return items;\n    };\n    var updateSelection = function (editor, currentLanguageState) {\n      return function (e) {\n        var selectedLanguage = currentLanguageState.get();\n        e.control.items().each(function (ctrl) {\n          ctrl.active(ctrl.settings.data === selectedLanguage);\n        });\n      };\n    };\n    var getItems = function (editor) {\n      return global$1.map(Settings.getLanguages(editor).split(','), function (langPair) {\n        langPair = langPair.split('=');\n        return {\n          name: langPair[0],\n          value: langPair[1]\n        };\n      });\n    };\n    var register$1 = function (editor, pluginUrl, startedState, textMatcherState, currentLanguageState, lastSuggestionsState) {\n      var languageMenuItems = buildMenuItems('Language', getItems(editor));\n      var startSpellchecking = function () {\n        Actions.spellcheck(editor, pluginUrl, startedState, textMatcherState, lastSuggestionsState, currentLanguageState);\n      };\n      var buttonArgs = {\n        tooltip: 'Spellcheck',\n        onclick: startSpellchecking,\n        onPostRender: function (e) {\n          var ctrl = e.control;\n          editor.on('SpellcheckStart SpellcheckEnd', function () {\n            ctrl.active(startedState.get());\n          });\n        }\n      };\n      if (languageMenuItems.length > 1) {\n        buttonArgs.type = 'splitbutton';\n        buttonArgs.menu = languageMenuItems;\n        buttonArgs.onshow = updateSelection(editor, currentLanguageState);\n        buttonArgs.onselect = function (e) {\n          currentLanguageState.set(e.control.settings.data);\n        };\n      }\n      editor.addButton('spellchecker', buttonArgs);\n      editor.addMenuItem('spellchecker', {\n        text: 'Spellcheck',\n        context: 'tools',\n        onclick: startSpellchecking,\n        selectable: true,\n        onPostRender: function () {\n          var self = this;\n          self.active(startedState.get());\n          editor.on('SpellcheckStart SpellcheckEnd', function () {\n            self.active(startedState.get());\n          });\n        }\n      });\n    };\n    var Buttons = { register: register$1 };\n\n    var global$4 = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');\n\n    var global$5 = tinymce.util.Tools.resolve('tinymce.ui.Factory');\n\n    var suggestionsMenu;\n    var showSuggestions = function (editor, pluginUrl, lastSuggestionsState, startedState, textMatcherState, currentLanguageState, word, spans) {\n      var items = [], suggestions = lastSuggestionsState.get().suggestions[word];\n      global$1.each(suggestions, function (suggestion) {\n        items.push({\n          text: suggestion,\n          onclick: function () {\n            editor.insertContent(editor.dom.encode(suggestion));\n            editor.dom.remove(spans);\n            Actions.checkIfFinished(editor, startedState, textMatcherState);\n          }\n        });\n      });\n      items.push({ text: '-' });\n      var hasDictionarySupport = lastSuggestionsState.get().hasDictionarySupport;\n      if (hasDictionarySupport) {\n        items.push({\n          text: 'Add to Dictionary',\n          onclick: function () {\n            Actions.addToDictionary(editor, pluginUrl, startedState, textMatcherState, currentLanguageState, word, spans);\n          }\n        });\n      }\n      items.push.apply(items, [\n        {\n          text: 'Ignore',\n          onclick: function () {\n            Actions.ignoreWord(editor, startedState, textMatcherState, word, spans);\n          }\n        },\n        {\n          text: 'Ignore all',\n          onclick: function () {\n            Actions.ignoreWord(editor, startedState, textMatcherState, word, spans, true);\n          }\n        }\n      ]);\n      suggestionsMenu = global$5.create('menu', {\n        items: items,\n        context: 'contextmenu',\n        onautohide: function (e) {\n          if (e.target.className.indexOf('spellchecker') !== -1) {\n            e.preventDefault();\n          }\n        },\n        onhide: function () {\n          suggestionsMenu.remove();\n          suggestionsMenu = null;\n        }\n      });\n      suggestionsMenu.renderTo(domGlobals.document.body);\n      var pos = global$4.DOM.getPos(editor.getContentAreaContainer());\n      var targetPos = editor.dom.getPos(spans[0]);\n      var root = editor.dom.getRoot();\n      if (root.nodeName === 'BODY') {\n        targetPos.x -= root.ownerDocument.documentElement.scrollLeft || root.scrollLeft;\n        targetPos.y -= root.ownerDocument.documentElement.scrollTop || root.scrollTop;\n      } else {\n        targetPos.x -= root.scrollLeft;\n        targetPos.y -= root.scrollTop;\n      }\n      pos.x += targetPos.x;\n      pos.y += targetPos.y;\n      suggestionsMenu.moveTo(pos.x, pos.y + spans[0].offsetHeight);\n    };\n    var setup = function (editor, pluginUrl, lastSuggestionsState, startedState, textMatcherState, currentLanguageState) {\n      editor.on('click', function (e) {\n        var target = e.target;\n        if (target.className === 'mce-spellchecker-word') {\n          e.preventDefault();\n          var spans = Actions.findSpansByIndex(editor, Actions.getElmIndex(target));\n          if (spans.length > 0) {\n            var rng = editor.dom.createRng();\n            rng.setStartBefore(spans[0]);\n            rng.setEndAfter(spans[spans.length - 1]);\n            editor.selection.setRng(rng);\n            showSuggestions(editor, pluginUrl, lastSuggestionsState, startedState, textMatcherState, currentLanguageState, target.getAttribute('data-mce-word'), spans);\n          }\n        }\n      });\n    };\n    var SuggestionsMenu = { setup: setup };\n\n    global.add('spellchecker', function (editor, pluginUrl) {\n      if (DetectProPlugin.hasProPlugin(editor) === false) {\n        var startedState = Cell(false);\n        var currentLanguageState = Cell(Settings.getLanguage(editor));\n        var textMatcherState = Cell(null);\n        var lastSuggestionsState = Cell(null);\n        Buttons.register(editor, pluginUrl, startedState, textMatcherState, currentLanguageState, lastSuggestionsState);\n        SuggestionsMenu.setup(editor, pluginUrl, lastSuggestionsState, startedState, textMatcherState, currentLanguageState);\n        Commands.register(editor, pluginUrl, startedState, textMatcherState, lastSuggestionsState, currentLanguageState);\n        return Api.get(editor, startedState, lastSuggestionsState, textMatcherState, currentLanguageState, pluginUrl);\n      }\n    });\n    function Plugin () {\n    }\n\n    return Plugin;\n\n}(window));\n})();\n","// Exports the \"tabfocus\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/tabfocus')\n//   ES2015:\n//     import 'tinymce/plugins/tabfocus'\nrequire('./plugin.js');","(function () {\nvar tabfocus = (function (domGlobals) {\n    'use strict';\n\n    var global = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.EditorManager');\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.Env');\n\n    var global$4 = tinymce.util.Tools.resolve('tinymce.util.Delay');\n\n    var global$5 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var global$6 = tinymce.util.Tools.resolve('tinymce.util.VK');\n\n    var getTabFocusElements = function (editor) {\n      return editor.getParam('tabfocus_elements', ':prev,:next');\n    };\n    var getTabFocus = function (editor) {\n      return editor.getParam('tab_focus', getTabFocusElements(editor));\n    };\n    var Settings = { getTabFocus: getTabFocus };\n\n    var DOM = global$1.DOM;\n    var tabCancel = function (e) {\n      if (e.keyCode === global$6.TAB && !e.ctrlKey && !e.altKey && !e.metaKey) {\n        e.preventDefault();\n      }\n    };\n    var setup = function (editor) {\n      function tabHandler(e) {\n        var x, el, v, i;\n        if (e.keyCode !== global$6.TAB || e.ctrlKey || e.altKey || e.metaKey || e.isDefaultPrevented()) {\n          return;\n        }\n        function find(direction) {\n          el = DOM.select(':input:enabled,*[tabindex]:not(iframe)');\n          function canSelectRecursive(e) {\n            return e.nodeName === 'BODY' || e.type !== 'hidden' && e.style.display !== 'none' && e.style.visibility !== 'hidden' && canSelectRecursive(e.parentNode);\n          }\n          function canSelect(el) {\n            return /INPUT|TEXTAREA|BUTTON/.test(el.tagName) && global$2.get(e.id) && el.tabIndex !== -1 && canSelectRecursive(el);\n          }\n          global$5.each(el, function (e, i) {\n            if (e.id === editor.id) {\n              x = i;\n              return false;\n            }\n          });\n          if (direction > 0) {\n            for (i = x + 1; i < el.length; i++) {\n              if (canSelect(el[i])) {\n                return el[i];\n              }\n            }\n          } else {\n            for (i = x - 1; i >= 0; i--) {\n              if (canSelect(el[i])) {\n                return el[i];\n              }\n            }\n          }\n          return null;\n        }\n        v = global$5.explode(Settings.getTabFocus(editor));\n        if (v.length === 1) {\n          v[1] = v[0];\n          v[0] = ':prev';\n        }\n        if (e.shiftKey) {\n          if (v[0] === ':prev') {\n            el = find(-1);\n          } else {\n            el = DOM.get(v[0]);\n          }\n        } else {\n          if (v[1] === ':next') {\n            el = find(1);\n          } else {\n            el = DOM.get(v[1]);\n          }\n        }\n        if (el) {\n          var focusEditor = global$2.get(el.id || el.name);\n          if (el.id && focusEditor) {\n            focusEditor.focus();\n          } else {\n            global$4.setTimeout(function () {\n              if (!global$3.webkit) {\n                domGlobals.window.focus();\n              }\n              el.focus();\n            }, 10);\n          }\n          e.preventDefault();\n        }\n      }\n      editor.on('init', function () {\n        if (editor.inline) {\n          DOM.setAttrib(editor.getBody(), 'tabIndex', null);\n        }\n        editor.on('keyup', tabCancel);\n        if (global$3.gecko) {\n          editor.on('keypress keydown', tabHandler);\n        } else {\n          editor.on('keydown', tabHandler);\n        }\n      });\n    };\n    var Keyboard = { setup: setup };\n\n    global.add('tabfocus', function (editor) {\n      Keyboard.setup(editor);\n    });\n    function Plugin () {\n    }\n\n    return Plugin;\n\n}(window));\n})();\n","// Exports the \"table\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/table')\n//   ES2015:\n//     import 'tinymce/plugins/table'\nrequire('./plugin.js');","(function () {\nvar table = (function (domGlobals) {\n    'use strict';\n\n    var global = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var noop = function () {\n    };\n    var compose = function (fa, fb) {\n      return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        return fa(fb.apply(null, args));\n      };\n    };\n    var constant = function (value) {\n      return function () {\n        return value;\n      };\n    };\n    var identity = function (x) {\n      return x;\n    };\n    function curry(fn) {\n      var initialArgs = [];\n      for (var _i = 1; _i < arguments.length; _i++) {\n        initialArgs[_i - 1] = arguments[_i];\n      }\n      return function () {\n        var restArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          restArgs[_i] = arguments[_i];\n        }\n        var all = initialArgs.concat(restArgs);\n        return fn.apply(null, all);\n      };\n    }\n    var not = function (f) {\n      return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        return !f.apply(null, args);\n      };\n    };\n    var die = function (msg) {\n      return function () {\n        throw new Error(msg);\n      };\n    };\n    var never = constant(false);\n    var always = constant(true);\n\n    var none = function () {\n      return NONE;\n    };\n    var NONE = function () {\n      var eq = function (o) {\n        return o.isNone();\n      };\n      var call = function (thunk) {\n        return thunk();\n      };\n      var id = function (n) {\n        return n;\n      };\n      var me = {\n        fold: function (n, s) {\n          return n();\n        },\n        is: never,\n        isSome: never,\n        isNone: always,\n        getOr: id,\n        getOrThunk: call,\n        getOrDie: function (msg) {\n          throw new Error(msg || 'error: getOrDie called on none.');\n        },\n        getOrNull: constant(null),\n        getOrUndefined: constant(undefined),\n        or: id,\n        orThunk: call,\n        map: none,\n        each: noop,\n        bind: none,\n        exists: never,\n        forall: always,\n        filter: none,\n        equals: eq,\n        equals_: eq,\n        toArray: function () {\n          return [];\n        },\n        toString: constant('none()')\n      };\n      if (Object.freeze) {\n        Object.freeze(me);\n      }\n      return me;\n    }();\n    var some = function (a) {\n      var constant_a = constant(a);\n      var self = function () {\n        return me;\n      };\n      var bind = function (f) {\n        return f(a);\n      };\n      var me = {\n        fold: function (n, s) {\n          return s(a);\n        },\n        is: function (v) {\n          return a === v;\n        },\n        isSome: always,\n        isNone: never,\n        getOr: constant_a,\n        getOrThunk: constant_a,\n        getOrDie: constant_a,\n        getOrNull: constant_a,\n        getOrUndefined: constant_a,\n        or: self,\n        orThunk: self,\n        map: function (f) {\n          return some(f(a));\n        },\n        each: function (f) {\n          f(a);\n        },\n        bind: bind,\n        exists: bind,\n        forall: bind,\n        filter: function (f) {\n          return f(a) ? me : NONE;\n        },\n        toArray: function () {\n          return [a];\n        },\n        toString: function () {\n          return 'some(' + a + ')';\n        },\n        equals: function (o) {\n          return o.is(a);\n        },\n        equals_: function (o, elementEq) {\n          return o.fold(never, function (b) {\n            return elementEq(a, b);\n          });\n        }\n      };\n      return me;\n    };\n    var from = function (value) {\n      return value === null || value === undefined ? NONE : some(value);\n    };\n    var Option = {\n      some: some,\n      none: none,\n      from: from\n    };\n\n    var typeOf = function (x) {\n      if (x === null) {\n        return 'null';\n      }\n      var t = typeof x;\n      if (t === 'object' && (Array.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'Array')) {\n        return 'array';\n      }\n      if (t === 'object' && (String.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'String')) {\n        return 'string';\n      }\n      return t;\n    };\n    var isType = function (type) {\n      return function (value) {\n        return typeOf(value) === type;\n      };\n    };\n    var isString = isType('string');\n    var isArray = isType('array');\n    var isBoolean = isType('boolean');\n    var isFunction = isType('function');\n    var isNumber = isType('number');\n\n    var nativeSlice = Array.prototype.slice;\n    var nativeIndexOf = Array.prototype.indexOf;\n    var nativePush = Array.prototype.push;\n    var rawIndexOf = function (ts, t) {\n      return nativeIndexOf.call(ts, t);\n    };\n    var contains = function (xs, x) {\n      return rawIndexOf(xs, x) > -1;\n    };\n    var exists = function (xs, pred) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          return true;\n        }\n      }\n      return false;\n    };\n    var map = function (xs, f) {\n      var len = xs.length;\n      var r = new Array(len);\n      for (var i = 0; i < len; i++) {\n        var x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    var each = function (xs, f) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        f(x, i);\n      }\n    };\n    var eachr = function (xs, f) {\n      for (var i = xs.length - 1; i >= 0; i--) {\n        var x = xs[i];\n        f(x, i);\n      }\n    };\n    var filter = function (xs, pred) {\n      var r = [];\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          r.push(x);\n        }\n      }\n      return r;\n    };\n    var foldr = function (xs, f, acc) {\n      eachr(xs, function (x) {\n        acc = f(acc, x);\n      });\n      return acc;\n    };\n    var foldl = function (xs, f, acc) {\n      each(xs, function (x) {\n        acc = f(acc, x);\n      });\n      return acc;\n    };\n    var find = function (xs, pred) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          return Option.some(x);\n        }\n      }\n      return Option.none();\n    };\n    var findIndex = function (xs, pred) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          return Option.some(i);\n        }\n      }\n      return Option.none();\n    };\n    var flatten = function (xs) {\n      var r = [];\n      for (var i = 0, len = xs.length; i < len; ++i) {\n        if (!isArray(xs[i])) {\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        }\n        nativePush.apply(r, xs[i]);\n      }\n      return r;\n    };\n    var bind = function (xs, f) {\n      var output = map(xs, f);\n      return flatten(output);\n    };\n    var forall = function (xs, pred) {\n      for (var i = 0, len = xs.length; i < len; ++i) {\n        var x = xs[i];\n        if (pred(x, i) !== true) {\n          return false;\n        }\n      }\n      return true;\n    };\n    var reverse = function (xs) {\n      var r = nativeSlice.call(xs, 0);\n      r.reverse();\n      return r;\n    };\n    var last = function (xs) {\n      return xs.length === 0 ? Option.none() : Option.some(xs[xs.length - 1]);\n    };\n    var from$1 = isFunction(Array.from) ? Array.from : function (x) {\n      return nativeSlice.call(x);\n    };\n\n    var keys = Object.keys;\n    var each$1 = function (obj, f) {\n      var props = keys(obj);\n      for (var k = 0, len = props.length; k < len; k++) {\n        var i = props[k];\n        var x = obj[i];\n        f(x, i);\n      }\n    };\n    var map$1 = function (obj, f) {\n      return tupleMap(obj, function (x, i) {\n        return {\n          k: i,\n          v: f(x, i)\n        };\n      });\n    };\n    var tupleMap = function (obj, f) {\n      var r = {};\n      each$1(obj, function (x, i) {\n        var tuple = f(x, i);\n        r[tuple.k] = tuple.v;\n      });\n      return r;\n    };\n\n    var Immutable = function () {\n      var fields = [];\n      for (var _i = 0; _i < arguments.length; _i++) {\n        fields[_i] = arguments[_i];\n      }\n      return function () {\n        var values = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          values[_i] = arguments[_i];\n        }\n        if (fields.length !== values.length) {\n          throw new Error('Wrong number of arguments to struct. Expected \"[' + fields.length + ']\", got ' + values.length + ' arguments');\n        }\n        var struct = {};\n        each(fields, function (name, i) {\n          struct[name] = constant(values[i]);\n        });\n        return struct;\n      };\n    };\n\n    var sort = function (arr) {\n      return arr.slice(0).sort();\n    };\n    var reqMessage = function (required, keys) {\n      throw new Error('All required keys (' + sort(required).join(', ') + ') were not specified. Specified keys were: ' + sort(keys).join(', ') + '.');\n    };\n    var unsuppMessage = function (unsupported) {\n      throw new Error('Unsupported keys for object: ' + sort(unsupported).join(', '));\n    };\n    var validateStrArr = function (label, array) {\n      if (!isArray(array)) {\n        throw new Error('The ' + label + ' fields must be an array. Was: ' + array + '.');\n      }\n      each(array, function (a) {\n        if (!isString(a)) {\n          throw new Error('The value ' + a + ' in the ' + label + ' fields was not a string.');\n        }\n      });\n    };\n    var invalidTypeMessage = function (incorrect, type) {\n      throw new Error('All values need to be of type: ' + type + '. Keys (' + sort(incorrect).join(', ') + ') were not.');\n    };\n    var checkDupes = function (everything) {\n      var sorted = sort(everything);\n      var dupe = find(sorted, function (s, i) {\n        return i < sorted.length - 1 && s === sorted[i + 1];\n      });\n      dupe.each(function (d) {\n        throw new Error('The field: ' + d + ' occurs more than once in the combined fields: [' + sorted.join(', ') + '].');\n      });\n    };\n\n    var MixedBag = function (required, optional) {\n      var everything = required.concat(optional);\n      if (everything.length === 0) {\n        throw new Error('You must specify at least one required or optional field.');\n      }\n      validateStrArr('required', required);\n      validateStrArr('optional', optional);\n      checkDupes(everything);\n      return function (obj) {\n        var keys$1 = keys(obj);\n        var allReqd = forall(required, function (req) {\n          return contains(keys$1, req);\n        });\n        if (!allReqd) {\n          reqMessage(required, keys$1);\n        }\n        var unsupported = filter(keys$1, function (key) {\n          return !contains(everything, key);\n        });\n        if (unsupported.length > 0) {\n          unsuppMessage(unsupported);\n        }\n        var r = {};\n        each(required, function (req) {\n          r[req] = constant(obj[req]);\n        });\n        each(optional, function (opt) {\n          r[opt] = constant(Object.prototype.hasOwnProperty.call(obj, opt) ? Option.some(obj[opt]) : Option.none());\n        });\n        return r;\n      };\n    };\n\n    var ATTRIBUTE = domGlobals.Node.ATTRIBUTE_NODE;\n    var CDATA_SECTION = domGlobals.Node.CDATA_SECTION_NODE;\n    var COMMENT = domGlobals.Node.COMMENT_NODE;\n    var DOCUMENT = domGlobals.Node.DOCUMENT_NODE;\n    var DOCUMENT_TYPE = domGlobals.Node.DOCUMENT_TYPE_NODE;\n    var DOCUMENT_FRAGMENT = domGlobals.Node.DOCUMENT_FRAGMENT_NODE;\n    var ELEMENT = domGlobals.Node.ELEMENT_NODE;\n    var TEXT = domGlobals.Node.TEXT_NODE;\n    var PROCESSING_INSTRUCTION = domGlobals.Node.PROCESSING_INSTRUCTION_NODE;\n    var ENTITY_REFERENCE = domGlobals.Node.ENTITY_REFERENCE_NODE;\n    var ENTITY = domGlobals.Node.ENTITY_NODE;\n    var NOTATION = domGlobals.Node.NOTATION_NODE;\n\n    var Global = typeof domGlobals.window !== 'undefined' ? domGlobals.window : Function('return this;')();\n\n    var path = function (parts, scope) {\n      var o = scope !== undefined && scope !== null ? scope : Global;\n      for (var i = 0; i < parts.length && o !== undefined && o !== null; ++i) {\n        o = o[parts[i]];\n      }\n      return o;\n    };\n    var resolve = function (p, scope) {\n      var parts = p.split('.');\n      return path(parts, scope);\n    };\n\n    var unsafe = function (name, scope) {\n      return resolve(name, scope);\n    };\n    var getOrDie = function (name, scope) {\n      var actual = unsafe(name, scope);\n      if (actual === undefined || actual === null) {\n        throw new Error(name + ' not available on this browser');\n      }\n      return actual;\n    };\n    var Global$1 = { getOrDie: getOrDie };\n\n    var name = function (element) {\n      var r = element.dom().nodeName;\n      return r.toLowerCase();\n    };\n    var type = function (element) {\n      return element.dom().nodeType;\n    };\n    var isType$1 = function (t) {\n      return function (element) {\n        return type(element) === t;\n      };\n    };\n    var isComment = function (element) {\n      return type(element) === COMMENT || name(element) === '#comment';\n    };\n    var isElement = isType$1(ELEMENT);\n    var isText = isType$1(TEXT);\n\n    var rawSet = function (dom, key, value) {\n      if (isString(value) || isBoolean(value) || isNumber(value)) {\n        dom.setAttribute(key, value + '');\n      } else {\n        domGlobals.console.error('Invalid call to Attr.set. Key ', key, ':: Value ', value, ':: Element ', dom);\n        throw new Error('Attribute value was not simple');\n      }\n    };\n    var set = function (element, key, value) {\n      rawSet(element.dom(), key, value);\n    };\n    var setAll = function (element, attrs) {\n      var dom = element.dom();\n      each$1(attrs, function (v, k) {\n        rawSet(dom, k, v);\n      });\n    };\n    var get = function (element, key) {\n      var v = element.dom().getAttribute(key);\n      return v === null ? undefined : v;\n    };\n    var has = function (element, key) {\n      var dom = element.dom();\n      return dom && dom.hasAttribute ? dom.hasAttribute(key) : false;\n    };\n    var remove = function (element, key) {\n      element.dom().removeAttribute(key);\n    };\n    var clone = function (element) {\n      return foldl(element.dom().attributes, function (acc, attr) {\n        acc[attr.name] = attr.value;\n        return acc;\n      }, {});\n    };\n\n    var checkRange = function (str, substr, start) {\n      if (substr === '') {\n        return true;\n      }\n      if (str.length < substr.length) {\n        return false;\n      }\n      var x = str.substr(start, start + substr.length);\n      return x === substr;\n    };\n    var contains$1 = function (str, substr) {\n      return str.indexOf(substr) !== -1;\n    };\n    var endsWith = function (str, suffix) {\n      return checkRange(str, suffix, str.length - suffix.length);\n    };\n    var trim = function (str) {\n      return str.replace(/^\\s+|\\s+$/g, '');\n    };\n\n    var isSupported = function (dom) {\n      return dom.style !== undefined && isFunction(dom.style.getPropertyValue);\n    };\n\n    var cached = function (f) {\n      var called = false;\n      var r;\n      return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        if (!called) {\n          called = true;\n          r = f.apply(null, args);\n        }\n        return r;\n      };\n    };\n\n    var fromHtml = function (html, scope) {\n      var doc = scope || domGlobals.document;\n      var div = doc.createElement('div');\n      div.innerHTML = html;\n      if (!div.hasChildNodes() || div.childNodes.length > 1) {\n        domGlobals.console.error('HTML does not have a single root node', html);\n        throw new Error('HTML must have a single root node');\n      }\n      return fromDom(div.childNodes[0]);\n    };\n    var fromTag = function (tag, scope) {\n      var doc = scope || domGlobals.document;\n      var node = doc.createElement(tag);\n      return fromDom(node);\n    };\n    var fromText = function (text, scope) {\n      var doc = scope || domGlobals.document;\n      var node = doc.createTextNode(text);\n      return fromDom(node);\n    };\n    var fromDom = function (node) {\n      if (node === null || node === undefined) {\n        throw new Error('Node cannot be null or undefined');\n      }\n      return { dom: constant(node) };\n    };\n    var fromPoint = function (docElm, x, y) {\n      var doc = docElm.dom();\n      return Option.from(doc.elementFromPoint(x, y)).map(fromDom);\n    };\n    var Element = {\n      fromHtml: fromHtml,\n      fromTag: fromTag,\n      fromText: fromText,\n      fromDom: fromDom,\n      fromPoint: fromPoint\n    };\n\n    var inBody = function (element) {\n      var dom = isText(element) ? element.dom().parentNode : element.dom();\n      return dom !== undefined && dom !== null && dom.ownerDocument.body.contains(dom);\n    };\n    var body = cached(function () {\n      return getBody(Element.fromDom(domGlobals.document));\n    });\n    var getBody = function (doc) {\n      var b = doc.dom().body;\n      if (b === null || b === undefined) {\n        throw new Error('Body is not available yet');\n      }\n      return Element.fromDom(b);\n    };\n\n    var internalSet = function (dom, property, value) {\n      if (!isString(value)) {\n        domGlobals.console.error('Invalid call to CSS.set. Property ', property, ':: Value ', value, ':: Element ', dom);\n        throw new Error('CSS value must be a string: ' + value);\n      }\n      if (isSupported(dom)) {\n        dom.style.setProperty(property, value);\n      }\n    };\n    var internalRemove = function (dom, property) {\n      if (isSupported(dom)) {\n        dom.style.removeProperty(property);\n      }\n    };\n    var set$1 = function (element, property, value) {\n      var dom = element.dom();\n      internalSet(dom, property, value);\n    };\n    var setAll$1 = function (element, css) {\n      var dom = element.dom();\n      each$1(css, function (v, k) {\n        internalSet(dom, k, v);\n      });\n    };\n    var get$1 = function (element, property) {\n      var dom = element.dom();\n      var styles = domGlobals.window.getComputedStyle(dom);\n      var r = styles.getPropertyValue(property);\n      var v = r === '' && !inBody(element) ? getUnsafeProperty(dom, property) : r;\n      return v === null ? undefined : v;\n    };\n    var getUnsafeProperty = function (dom, property) {\n      return isSupported(dom) ? dom.style.getPropertyValue(property) : '';\n    };\n    var getRaw = function (element, property) {\n      var dom = element.dom();\n      var raw = getUnsafeProperty(dom, property);\n      return Option.from(raw).filter(function (r) {\n        return r.length > 0;\n      });\n    };\n    var remove$1 = function (element, property) {\n      var dom = element.dom();\n      internalRemove(dom, property);\n      if (has(element, 'style') && trim(get(element, 'style')) === '') {\n        remove(element, 'style');\n      }\n    };\n    var copy = function (source, target) {\n      var sourceDom = source.dom();\n      var targetDom = target.dom();\n      if (isSupported(sourceDom) && isSupported(targetDom)) {\n        targetDom.style.cssText = sourceDom.style.cssText;\n      }\n    };\n\n    var node = function () {\n      var f = Global$1.getOrDie('Node');\n      return f;\n    };\n    var compareDocumentPosition = function (a, b, match) {\n      return (a.compareDocumentPosition(b) & match) !== 0;\n    };\n    var documentPositionPreceding = function (a, b) {\n      return compareDocumentPosition(a, b, node().DOCUMENT_POSITION_PRECEDING);\n    };\n    var documentPositionContainedBy = function (a, b) {\n      return compareDocumentPosition(a, b, node().DOCUMENT_POSITION_CONTAINED_BY);\n    };\n    var Node = {\n      documentPositionPreceding: documentPositionPreceding,\n      documentPositionContainedBy: documentPositionContainedBy\n    };\n\n    var firstMatch = function (regexes, s) {\n      for (var i = 0; i < regexes.length; i++) {\n        var x = regexes[i];\n        if (x.test(s)) {\n          return x;\n        }\n      }\n      return undefined;\n    };\n    var find$1 = function (regexes, agent) {\n      var r = firstMatch(regexes, agent);\n      if (!r) {\n        return {\n          major: 0,\n          minor: 0\n        };\n      }\n      var group = function (i) {\n        return Number(agent.replace(r, '$' + i));\n      };\n      return nu(group(1), group(2));\n    };\n    var detect = function (versionRegexes, agent) {\n      var cleanedAgent = String(agent).toLowerCase();\n      if (versionRegexes.length === 0) {\n        return unknown();\n      }\n      return find$1(versionRegexes, cleanedAgent);\n    };\n    var unknown = function () {\n      return nu(0, 0);\n    };\n    var nu = function (major, minor) {\n      return {\n        major: major,\n        minor: minor\n      };\n    };\n    var Version = {\n      nu: nu,\n      detect: detect,\n      unknown: unknown\n    };\n\n    var edge = 'Edge';\n    var chrome = 'Chrome';\n    var ie = 'IE';\n    var opera = 'Opera';\n    var firefox = 'Firefox';\n    var safari = 'Safari';\n    var isBrowser = function (name, current) {\n      return function () {\n        return current === name;\n      };\n    };\n    var unknown$1 = function () {\n      return nu$1({\n        current: undefined,\n        version: Version.unknown()\n      });\n    };\n    var nu$1 = function (info) {\n      var current = info.current;\n      var version = info.version;\n      return {\n        current: current,\n        version: version,\n        isEdge: isBrowser(edge, current),\n        isChrome: isBrowser(chrome, current),\n        isIE: isBrowser(ie, current),\n        isOpera: isBrowser(opera, current),\n        isFirefox: isBrowser(firefox, current),\n        isSafari: isBrowser(safari, current)\n      };\n    };\n    var Browser = {\n      unknown: unknown$1,\n      nu: nu$1,\n      edge: constant(edge),\n      chrome: constant(chrome),\n      ie: constant(ie),\n      opera: constant(opera),\n      firefox: constant(firefox),\n      safari: constant(safari)\n    };\n\n    var windows = 'Windows';\n    var ios = 'iOS';\n    var android = 'Android';\n    var linux = 'Linux';\n    var osx = 'OSX';\n    var solaris = 'Solaris';\n    var freebsd = 'FreeBSD';\n    var isOS = function (name, current) {\n      return function () {\n        return current === name;\n      };\n    };\n    var unknown$2 = function () {\n      return nu$2({\n        current: undefined,\n        version: Version.unknown()\n      });\n    };\n    var nu$2 = function (info) {\n      var current = info.current;\n      var version = info.version;\n      return {\n        current: current,\n        version: version,\n        isWindows: isOS(windows, current),\n        isiOS: isOS(ios, current),\n        isAndroid: isOS(android, current),\n        isOSX: isOS(osx, current),\n        isLinux: isOS(linux, current),\n        isSolaris: isOS(solaris, current),\n        isFreeBSD: isOS(freebsd, current)\n      };\n    };\n    var OperatingSystem = {\n      unknown: unknown$2,\n      nu: nu$2,\n      windows: constant(windows),\n      ios: constant(ios),\n      android: constant(android),\n      linux: constant(linux),\n      osx: constant(osx),\n      solaris: constant(solaris),\n      freebsd: constant(freebsd)\n    };\n\n    var DeviceType = function (os, browser, userAgent) {\n      var isiPad = os.isiOS() && /ipad/i.test(userAgent) === true;\n      var isiPhone = os.isiOS() && !isiPad;\n      var isAndroid3 = os.isAndroid() && os.version.major === 3;\n      var isAndroid4 = os.isAndroid() && os.version.major === 4;\n      var isTablet = isiPad || isAndroid3 || isAndroid4 && /mobile/i.test(userAgent) === true;\n      var isTouch = os.isiOS() || os.isAndroid();\n      var isPhone = isTouch && !isTablet;\n      var iOSwebview = browser.isSafari() && os.isiOS() && /safari/i.test(userAgent) === false;\n      return {\n        isiPad: constant(isiPad),\n        isiPhone: constant(isiPhone),\n        isTablet: constant(isTablet),\n        isPhone: constant(isPhone),\n        isTouch: constant(isTouch),\n        isAndroid: os.isAndroid,\n        isiOS: os.isiOS,\n        isWebView: constant(iOSwebview)\n      };\n    };\n\n    var detect$1 = function (candidates, userAgent) {\n      var agent = String(userAgent).toLowerCase();\n      return find(candidates, function (candidate) {\n        return candidate.search(agent);\n      });\n    };\n    var detectBrowser = function (browsers, userAgent) {\n      return detect$1(browsers, userAgent).map(function (browser) {\n        var version = Version.detect(browser.versionRegexes, userAgent);\n        return {\n          current: browser.name,\n          version: version\n        };\n      });\n    };\n    var detectOs = function (oses, userAgent) {\n      return detect$1(oses, userAgent).map(function (os) {\n        var version = Version.detect(os.versionRegexes, userAgent);\n        return {\n          current: os.name,\n          version: version\n        };\n      });\n    };\n    var UaString = {\n      detectBrowser: detectBrowser,\n      detectOs: detectOs\n    };\n\n    var normalVersionRegex = /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/;\n    var checkContains = function (target) {\n      return function (uastring) {\n        return contains$1(uastring, target);\n      };\n    };\n    var browsers = [\n      {\n        name: 'Edge',\n        versionRegexes: [/.*?edge\\/ ?([0-9]+)\\.([0-9]+)$/],\n        search: function (uastring) {\n          return contains$1(uastring, 'edge/') && contains$1(uastring, 'chrome') && contains$1(uastring, 'safari') && contains$1(uastring, 'applewebkit');\n        }\n      },\n      {\n        name: 'Chrome',\n        versionRegexes: [\n          /.*?chrome\\/([0-9]+)\\.([0-9]+).*/,\n          normalVersionRegex\n        ],\n        search: function (uastring) {\n          return contains$1(uastring, 'chrome') && !contains$1(uastring, 'chromeframe');\n        }\n      },\n      {\n        name: 'IE',\n        versionRegexes: [\n          /.*?msie\\ ?([0-9]+)\\.([0-9]+).*/,\n          /.*?rv:([0-9]+)\\.([0-9]+).*/\n        ],\n        search: function (uastring) {\n          return contains$1(uastring, 'msie') || contains$1(uastring, 'trident');\n        }\n      },\n      {\n        name: 'Opera',\n        versionRegexes: [\n          normalVersionRegex,\n          /.*?opera\\/([0-9]+)\\.([0-9]+).*/\n        ],\n        search: checkContains('opera')\n      },\n      {\n        name: 'Firefox',\n        versionRegexes: [/.*?firefox\\/\\ ?([0-9]+)\\.([0-9]+).*/],\n        search: checkContains('firefox')\n      },\n      {\n        name: 'Safari',\n        versionRegexes: [\n          normalVersionRegex,\n          /.*?cpu os ([0-9]+)_([0-9]+).*/\n        ],\n        search: function (uastring) {\n          return (contains$1(uastring, 'safari') || contains$1(uastring, 'mobile/')) && contains$1(uastring, 'applewebkit');\n        }\n      }\n    ];\n    var oses = [\n      {\n        name: 'Windows',\n        search: checkContains('win'),\n        versionRegexes: [/.*?windows\\ nt\\ ?([0-9]+)\\.([0-9]+).*/]\n      },\n      {\n        name: 'iOS',\n        search: function (uastring) {\n          return contains$1(uastring, 'iphone') || contains$1(uastring, 'ipad');\n        },\n        versionRegexes: [\n          /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/,\n          /.*cpu os ([0-9]+)_([0-9]+).*/,\n          /.*cpu iphone os ([0-9]+)_([0-9]+).*/\n        ]\n      },\n      {\n        name: 'Android',\n        search: checkContains('android'),\n        versionRegexes: [/.*?android\\ ?([0-9]+)\\.([0-9]+).*/]\n      },\n      {\n        name: 'OSX',\n        search: checkContains('os x'),\n        versionRegexes: [/.*?os\\ x\\ ?([0-9]+)_([0-9]+).*/]\n      },\n      {\n        name: 'Linux',\n        search: checkContains('linux'),\n        versionRegexes: []\n      },\n      {\n        name: 'Solaris',\n        search: checkContains('sunos'),\n        versionRegexes: []\n      },\n      {\n        name: 'FreeBSD',\n        search: checkContains('freebsd'),\n        versionRegexes: []\n      }\n    ];\n    var PlatformInfo = {\n      browsers: constant(browsers),\n      oses: constant(oses)\n    };\n\n    var detect$2 = function (userAgent) {\n      var browsers = PlatformInfo.browsers();\n      var oses = PlatformInfo.oses();\n      var browser = UaString.detectBrowser(browsers, userAgent).fold(Browser.unknown, Browser.nu);\n      var os = UaString.detectOs(oses, userAgent).fold(OperatingSystem.unknown, OperatingSystem.nu);\n      var deviceType = DeviceType(os, browser, userAgent);\n      return {\n        browser: browser,\n        os: os,\n        deviceType: deviceType\n      };\n    };\n    var PlatformDetection = { detect: detect$2 };\n\n    var detect$3 = cached(function () {\n      var userAgent = domGlobals.navigator.userAgent;\n      return PlatformDetection.detect(userAgent);\n    });\n    var PlatformDetection$1 = { detect: detect$3 };\n\n    var ELEMENT$1 = ELEMENT;\n    var DOCUMENT$1 = DOCUMENT;\n    var is = function (element, selector) {\n      var dom = element.dom();\n      if (dom.nodeType !== ELEMENT$1) {\n        return false;\n      } else {\n        var elem = dom;\n        if (elem.matches !== undefined) {\n          return elem.matches(selector);\n        } else if (elem.msMatchesSelector !== undefined) {\n          return elem.msMatchesSelector(selector);\n        } else if (elem.webkitMatchesSelector !== undefined) {\n          return elem.webkitMatchesSelector(selector);\n        } else if (elem.mozMatchesSelector !== undefined) {\n          return elem.mozMatchesSelector(selector);\n        } else {\n          throw new Error('Browser lacks native selectors');\n        }\n      }\n    };\n    var bypassSelector = function (dom) {\n      return dom.nodeType !== ELEMENT$1 && dom.nodeType !== DOCUMENT$1 || dom.childElementCount === 0;\n    };\n    var all = function (selector, scope) {\n      var base = scope === undefined ? domGlobals.document : scope.dom();\n      return bypassSelector(base) ? [] : map(base.querySelectorAll(selector), Element.fromDom);\n    };\n    var one = function (selector, scope) {\n      var base = scope === undefined ? domGlobals.document : scope.dom();\n      return bypassSelector(base) ? Option.none() : Option.from(base.querySelector(selector)).map(Element.fromDom);\n    };\n\n    var eq = function (e1, e2) {\n      return e1.dom() === e2.dom();\n    };\n    var regularContains = function (e1, e2) {\n      var d1 = e1.dom();\n      var d2 = e2.dom();\n      return d1 === d2 ? false : d1.contains(d2);\n    };\n    var ieContains = function (e1, e2) {\n      return Node.documentPositionContainedBy(e1.dom(), e2.dom());\n    };\n    var browser = PlatformDetection$1.detect().browser;\n    var contains$2 = browser.isIE() ? ieContains : regularContains;\n    var is$1 = is;\n\n    var owner = function (element) {\n      return Element.fromDom(element.dom().ownerDocument);\n    };\n    var defaultView = function (element) {\n      return Element.fromDom(element.dom().ownerDocument.defaultView);\n    };\n    var parent = function (element) {\n      return Option.from(element.dom().parentNode).map(Element.fromDom);\n    };\n    var parents = function (element, isRoot) {\n      var stop = isFunction(isRoot) ? isRoot : never;\n      var dom = element.dom();\n      var ret = [];\n      while (dom.parentNode !== null && dom.parentNode !== undefined) {\n        var rawParent = dom.parentNode;\n        var p = Element.fromDom(rawParent);\n        ret.push(p);\n        if (stop(p) === true) {\n          break;\n        } else {\n          dom = rawParent;\n        }\n      }\n      return ret;\n    };\n    var prevSibling = function (element) {\n      return Option.from(element.dom().previousSibling).map(Element.fromDom);\n    };\n    var nextSibling = function (element) {\n      return Option.from(element.dom().nextSibling).map(Element.fromDom);\n    };\n    var children = function (element) {\n      return map(element.dom().childNodes, Element.fromDom);\n    };\n    var child = function (element, index) {\n      var cs = element.dom().childNodes;\n      return Option.from(cs[index]).map(Element.fromDom);\n    };\n    var firstChild = function (element) {\n      return child(element, 0);\n    };\n    var spot = Immutable('element', 'offset');\n\n    var before = function (marker, element) {\n      var parent$1 = parent(marker);\n      parent$1.each(function (v) {\n        v.dom().insertBefore(element.dom(), marker.dom());\n      });\n    };\n    var after = function (marker, element) {\n      var sibling = nextSibling(marker);\n      sibling.fold(function () {\n        var parent$1 = parent(marker);\n        parent$1.each(function (v) {\n          append(v, element);\n        });\n      }, function (v) {\n        before(v, element);\n      });\n    };\n    var prepend = function (parent, element) {\n      var firstChild$1 = firstChild(parent);\n      firstChild$1.fold(function () {\n        append(parent, element);\n      }, function (v) {\n        parent.dom().insertBefore(element.dom(), v.dom());\n      });\n    };\n    var append = function (parent, element) {\n      parent.dom().appendChild(element.dom());\n    };\n    var wrap = function (element, wrapper) {\n      before(element, wrapper);\n      append(wrapper, element);\n    };\n\n    var before$1 = function (marker, elements) {\n      each(elements, function (x) {\n        before(marker, x);\n      });\n    };\n    var after$1 = function (marker, elements) {\n      each(elements, function (x, i) {\n        var e = i === 0 ? marker : elements[i - 1];\n        after(e, x);\n      });\n    };\n    var append$1 = function (parent, elements) {\n      each(elements, function (x) {\n        append(parent, x);\n      });\n    };\n\n    var empty = function (element) {\n      element.dom().textContent = '';\n      each(children(element), function (rogue) {\n        remove$2(rogue);\n      });\n    };\n    var remove$2 = function (element) {\n      var dom = element.dom();\n      if (dom.parentNode !== null) {\n        dom.parentNode.removeChild(dom);\n      }\n    };\n    var unwrap = function (wrapper) {\n      var children$1 = children(wrapper);\n      if (children$1.length > 0) {\n        before$1(wrapper, children$1);\n      }\n      remove$2(wrapper);\n    };\n\n    var dimension = Immutable('width', 'height');\n    var dimensions = Immutable('width', 'height');\n    var grid = Immutable('rows', 'columns');\n    var address = Immutable('row', 'column');\n    var coords = Immutable('x', 'y');\n    var detail = Immutable('element', 'rowspan', 'colspan');\n    var detailnew = Immutable('element', 'rowspan', 'colspan', 'isNew');\n    var extended = Immutable('element', 'rowspan', 'colspan', 'row', 'column');\n    var rowdata = Immutable('element', 'cells', 'section');\n    var elementnew = Immutable('element', 'isNew');\n    var rowdatanew = Immutable('element', 'cells', 'section', 'isNew');\n    var rowcells = Immutable('cells', 'section');\n    var rowdetails = Immutable('details', 'section');\n    var bounds = Immutable('startRow', 'startCol', 'finishRow', 'finishCol');\n\n    var ancestors = function (scope, predicate, isRoot) {\n      return filter(parents(scope, isRoot), predicate);\n    };\n    var children$1 = function (scope, predicate) {\n      return filter(children(scope), predicate);\n    };\n    var descendants = function (scope, predicate) {\n      var result = [];\n      each(children(scope), function (x) {\n        if (predicate(x)) {\n          result = result.concat([x]);\n        }\n        result = result.concat(descendants(x, predicate));\n      });\n      return result;\n    };\n\n    var ancestors$1 = function (scope, selector, isRoot) {\n      return ancestors(scope, function (e) {\n        return is(e, selector);\n      }, isRoot);\n    };\n    var children$2 = function (scope, selector) {\n      return children$1(scope, function (e) {\n        return is(e, selector);\n      });\n    };\n    var descendants$1 = function (scope, selector) {\n      return all(selector, scope);\n    };\n\n    function ClosestOrAncestor (is, ancestor, scope, a, isRoot) {\n      return is(scope, a) ? Option.some(scope) : isFunction(isRoot) && isRoot(scope) ? Option.none() : ancestor(scope, a, isRoot);\n    }\n\n    var ancestor = function (scope, predicate, isRoot) {\n      var element = scope.dom();\n      var stop = isFunction(isRoot) ? isRoot : constant(false);\n      while (element.parentNode) {\n        element = element.parentNode;\n        var el = Element.fromDom(element);\n        if (predicate(el)) {\n          return Option.some(el);\n        } else if (stop(el)) {\n          break;\n        }\n      }\n      return Option.none();\n    };\n    var closest = function (scope, predicate, isRoot) {\n      var is = function (s, test) {\n        return test(s);\n      };\n      return ClosestOrAncestor(is, ancestor, scope, predicate, isRoot);\n    };\n    var child$1 = function (scope, predicate) {\n      var pred = function (node) {\n        return predicate(Element.fromDom(node));\n      };\n      var result = find(scope.dom().childNodes, pred);\n      return result.map(Element.fromDom);\n    };\n    var descendant = function (scope, predicate) {\n      var descend = function (node) {\n        for (var i = 0; i < node.childNodes.length; i++) {\n          var child_1 = Element.fromDom(node.childNodes[i]);\n          if (predicate(child_1)) {\n            return Option.some(child_1);\n          }\n          var res = descend(node.childNodes[i]);\n          if (res.isSome()) {\n            return res;\n          }\n        }\n        return Option.none();\n      };\n      return descend(scope.dom());\n    };\n\n    var ancestor$1 = function (scope, selector, isRoot) {\n      return ancestor(scope, function (e) {\n        return is(e, selector);\n      }, isRoot);\n    };\n    var child$2 = function (scope, selector) {\n      return child$1(scope, function (e) {\n        return is(e, selector);\n      });\n    };\n    var descendant$1 = function (scope, selector) {\n      return one(selector, scope);\n    };\n    var closest$1 = function (scope, selector, isRoot) {\n      return ClosestOrAncestor(is, ancestor$1, scope, selector, isRoot);\n    };\n\n    var firstLayer = function (scope, selector) {\n      return filterFirstLayer(scope, selector, constant(true));\n    };\n    var filterFirstLayer = function (scope, selector, predicate) {\n      return bind(children(scope), function (x) {\n        return is(x, selector) ? predicate(x) ? [x] : [] : filterFirstLayer(x, selector, predicate);\n      });\n    };\n    var LayerSelector = {\n      firstLayer: firstLayer,\n      filterFirstLayer: filterFirstLayer\n    };\n\n    var lookup = function (tags, element, isRoot) {\n      if (isRoot === void 0) {\n        isRoot = never;\n      }\n      if (isRoot(element)) {\n        return Option.none();\n      }\n      if (contains(tags, name(element))) {\n        return Option.some(element);\n      }\n      var isRootOrUpperTable = function (elm) {\n        return is(elm, 'table') || isRoot(elm);\n      };\n      return ancestor$1(element, tags.join(','), isRootOrUpperTable);\n    };\n    var cell = function (element, isRoot) {\n      return lookup([\n        'td',\n        'th'\n      ], element, isRoot);\n    };\n    var cells = function (ancestor) {\n      return LayerSelector.firstLayer(ancestor, 'th,td');\n    };\n    var notCell = function (element, isRoot) {\n      return lookup([\n        'caption',\n        'tr',\n        'tbody',\n        'tfoot',\n        'thead'\n      ], element, isRoot);\n    };\n    var neighbours = function (selector, element) {\n      return parent(element).map(function (parent) {\n        return children$2(parent, selector);\n      });\n    };\n    var neighbourCells = curry(neighbours, 'th,td');\n    var neighbourRows = curry(neighbours, 'tr');\n    var firstCell = function (ancestor) {\n      return descendant$1(ancestor, 'th,td');\n    };\n    var table = function (element, isRoot) {\n      return closest$1(element, 'table', isRoot);\n    };\n    var row = function (element, isRoot) {\n      return lookup(['tr'], element, isRoot);\n    };\n    var rows = function (ancestor) {\n      return LayerSelector.firstLayer(ancestor, 'tr');\n    };\n    var attr = function (element, property) {\n      return parseInt(get(element, property), 10);\n    };\n    var grid$1 = function (element, rowProp, colProp) {\n      var rowsCount = attr(element, rowProp);\n      var cols = attr(element, colProp);\n      return grid(rowsCount, cols);\n    };\n    var TableLookup = {\n      cell: cell,\n      firstCell: firstCell,\n      cells: cells,\n      neighbourCells: neighbourCells,\n      table: table,\n      row: row,\n      rows: rows,\n      notCell: notCell,\n      neighbourRows: neighbourRows,\n      attr: attr,\n      grid: grid$1\n    };\n\n    var fromTable = function (table) {\n      var rows = TableLookup.rows(table);\n      return map(rows, function (row) {\n        var element = row;\n        var parent$1 = parent(element);\n        var parentSection = parent$1.map(function (p) {\n          var parentName = name(p);\n          return parentName === 'tfoot' || parentName === 'thead' || parentName === 'tbody' ? parentName : 'tbody';\n        }).getOr('tbody');\n        var cells = map(TableLookup.cells(row), function (cell) {\n          var rowspan = has(cell, 'rowspan') ? parseInt(get(cell, 'rowspan'), 10) : 1;\n          var colspan = has(cell, 'colspan') ? parseInt(get(cell, 'colspan'), 10) : 1;\n          return detail(cell, rowspan, colspan);\n        });\n        return rowdata(element, cells, parentSection);\n      });\n    };\n    var fromPastedRows = function (rows, example) {\n      return map(rows, function (row) {\n        var cells = map(TableLookup.cells(row), function (cell) {\n          var rowspan = has(cell, 'rowspan') ? parseInt(get(cell, 'rowspan'), 10) : 1;\n          var colspan = has(cell, 'colspan') ? parseInt(get(cell, 'colspan'), 10) : 1;\n          return detail(cell, rowspan, colspan);\n        });\n        return rowdata(row, cells, example.section());\n      });\n    };\n    var DetailsList = {\n      fromTable: fromTable,\n      fromPastedRows: fromPastedRows\n    };\n\n    var key = function (row, column) {\n      return row + ',' + column;\n    };\n    var getAt = function (warehouse, row, column) {\n      var raw = warehouse.access()[key(row, column)];\n      return raw !== undefined ? Option.some(raw) : Option.none();\n    };\n    var findItem = function (warehouse, item, comparator) {\n      var filtered = filterItems(warehouse, function (detail) {\n        return comparator(item, detail.element());\n      });\n      return filtered.length > 0 ? Option.some(filtered[0]) : Option.none();\n    };\n    var filterItems = function (warehouse, predicate) {\n      var all = bind(warehouse.all(), function (r) {\n        return r.cells();\n      });\n      return filter(all, predicate);\n    };\n    var generate = function (list) {\n      var access = {};\n      var cells = [];\n      var maxRows = list.length;\n      var maxColumns = 0;\n      each(list, function (details, r) {\n        var currentRow = [];\n        each(details.cells(), function (detail) {\n          var start = 0;\n          while (access[key(r, start)] !== undefined) {\n            start++;\n          }\n          var current = extended(detail.element(), detail.rowspan(), detail.colspan(), r, start);\n          for (var i = 0; i < detail.colspan(); i++) {\n            for (var j = 0; j < detail.rowspan(); j++) {\n              var cr = r + j;\n              var cc = start + i;\n              var newpos = key(cr, cc);\n              access[newpos] = current;\n              maxColumns = Math.max(maxColumns, cc + 1);\n            }\n          }\n          currentRow.push(current);\n        });\n        cells.push(rowdata(details.element(), currentRow, details.section()));\n      });\n      var grid$1 = grid(maxRows, maxColumns);\n      return {\n        grid: constant(grid$1),\n        access: constant(access),\n        all: constant(cells)\n      };\n    };\n    var justCells = function (warehouse) {\n      var rows = map(warehouse.all(), function (w) {\n        return w.cells();\n      });\n      return flatten(rows);\n    };\n    var Warehouse = {\n      generate: generate,\n      getAt: getAt,\n      findItem: findItem,\n      filterItems: filterItems,\n      justCells: justCells\n    };\n\n    var statsStruct = Immutable('minRow', 'minCol', 'maxRow', 'maxCol');\n    var findSelectedStats = function (house, isSelected) {\n      var totalColumns = house.grid().columns();\n      var totalRows = house.grid().rows();\n      var minRow = totalRows;\n      var minCol = totalColumns;\n      var maxRow = 0;\n      var maxCol = 0;\n      each$1(house.access(), function (detail) {\n        if (isSelected(detail)) {\n          var startRow = detail.row();\n          var endRow = startRow + detail.rowspan() - 1;\n          var startCol = detail.column();\n          var endCol = startCol + detail.colspan() - 1;\n          if (startRow < minRow) {\n            minRow = startRow;\n          } else if (endRow > maxRow) {\n            maxRow = endRow;\n          }\n          if (startCol < minCol) {\n            minCol = startCol;\n          } else if (endCol > maxCol) {\n            maxCol = endCol;\n          }\n        }\n      });\n      return statsStruct(minRow, minCol, maxRow, maxCol);\n    };\n    var makeCell = function (list, seenSelected, rowIndex) {\n      var row = list[rowIndex].element();\n      var td = Element.fromTag('td');\n      append(td, Element.fromTag('br'));\n      var f = seenSelected ? append : prepend;\n      f(row, td);\n    };\n    var fillInGaps = function (list, house, stats, isSelected) {\n      var totalColumns = house.grid().columns();\n      var totalRows = house.grid().rows();\n      for (var i = 0; i < totalRows; i++) {\n        var seenSelected = false;\n        for (var j = 0; j < totalColumns; j++) {\n          if (!(i < stats.minRow() || i > stats.maxRow() || j < stats.minCol() || j > stats.maxCol())) {\n            var needCell = Warehouse.getAt(house, i, j).filter(isSelected).isNone();\n            if (needCell) {\n              makeCell(list, seenSelected, i);\n            } else {\n              seenSelected = true;\n            }\n          }\n        }\n      }\n    };\n    var clean = function (table, stats) {\n      var emptyRows = filter(LayerSelector.firstLayer(table, 'tr'), function (row) {\n        return row.dom().childElementCount === 0;\n      });\n      each(emptyRows, remove$2);\n      if (stats.minCol() === stats.maxCol() || stats.minRow() === stats.maxRow()) {\n        each(LayerSelector.firstLayer(table, 'th,td'), function (cell) {\n          remove(cell, 'rowspan');\n          remove(cell, 'colspan');\n        });\n      }\n      remove(table, 'width');\n      remove(table, 'height');\n      remove$1(table, 'width');\n      remove$1(table, 'height');\n    };\n    var extract = function (table, selectedSelector) {\n      var isSelected = function (detail) {\n        return is(detail.element(), selectedSelector);\n      };\n      var list = DetailsList.fromTable(table);\n      var house = Warehouse.generate(list);\n      var stats = findSelectedStats(house, isSelected);\n      var selector = 'th:not(' + selectedSelector + ')' + ',td:not(' + selectedSelector + ')';\n      var unselectedCells = LayerSelector.filterFirstLayer(table, 'th,td', function (cell) {\n        return is(cell, selector);\n      });\n      each(unselectedCells, remove$2);\n      fillInGaps(list, house, stats, isSelected);\n      clean(table, stats);\n      return table;\n    };\n    var CopySelected = { extract: extract };\n\n    function NodeValue (is, name) {\n      var get = function (element) {\n        if (!is(element)) {\n          throw new Error('Can only get ' + name + ' value of a ' + name + ' node');\n        }\n        return getOption(element).getOr('');\n      };\n      var getOption = function (element) {\n        return is(element) ? Option.from(element.dom().nodeValue) : Option.none();\n      };\n      var set = function (element, value) {\n        if (!is(element)) {\n          throw new Error('Can only set raw ' + name + ' value of a ' + name + ' node');\n        }\n        element.dom().nodeValue = value;\n      };\n      return {\n        get: get,\n        getOption: getOption,\n        set: set\n      };\n    }\n\n    var api = NodeValue(isText, 'text');\n    var get$2 = function (element) {\n      return api.get(element);\n    };\n    var getOption = function (element) {\n      return api.getOption(element);\n    };\n    var set$2 = function (element, value) {\n      api.set(element, value);\n    };\n\n    var getEnd = function (element) {\n      return name(element) === 'img' ? 1 : getOption(element).fold(function () {\n        return children(element).length;\n      }, function (v) {\n        return v.length;\n      });\n    };\n    var NBSP = '\\xA0';\n    var isTextNodeWithCursorPosition = function (el) {\n      return getOption(el).filter(function (text) {\n        return text.trim().length !== 0 || text.indexOf(NBSP) > -1;\n      }).isSome();\n    };\n    var elementsWithCursorPosition = [\n      'img',\n      'br'\n    ];\n    var isCursorPosition = function (elem) {\n      var hasCursorPosition = isTextNodeWithCursorPosition(elem);\n      return hasCursorPosition || contains(elementsWithCursorPosition, name(elem));\n    };\n\n    var first = function (element) {\n      return descendant(element, isCursorPosition);\n    };\n    var last$1 = function (element) {\n      return descendantRtl(element, isCursorPosition);\n    };\n    var descendantRtl = function (scope, predicate) {\n      var descend = function (element) {\n        var children$1 = children(element);\n        for (var i = children$1.length - 1; i >= 0; i--) {\n          var child = children$1[i];\n          if (predicate(child)) {\n            return Option.some(child);\n          }\n          var res = descend(child);\n          if (res.isSome()) {\n            return res;\n          }\n        }\n        return Option.none();\n      };\n      return descend(scope);\n    };\n\n    var clone$1 = function (original, isDeep) {\n      return Element.fromDom(original.dom().cloneNode(isDeep));\n    };\n    var shallow = function (original) {\n      return clone$1(original, false);\n    };\n    var deep = function (original) {\n      return clone$1(original, true);\n    };\n    var shallowAs = function (original, tag) {\n      var nu = Element.fromTag(tag);\n      var attributes = clone(original);\n      setAll(nu, attributes);\n      return nu;\n    };\n    var copy$1 = function (original, tag) {\n      var nu = shallowAs(original, tag);\n      var cloneChildren = children(deep(original));\n      append$1(nu, cloneChildren);\n      return nu;\n    };\n\n    var createCell = function () {\n      var td = Element.fromTag('td');\n      append(td, Element.fromTag('br'));\n      return td;\n    };\n    var replace = function (cell, tag, attrs) {\n      var replica = copy$1(cell, tag);\n      each$1(attrs, function (v, k) {\n        if (v === null) {\n          remove(replica, k);\n        } else {\n          set(replica, k, v);\n        }\n      });\n      return replica;\n    };\n    var pasteReplace = function (cell) {\n      return cell;\n    };\n    var newRow = function (doc) {\n      return function () {\n        return Element.fromTag('tr', doc.dom());\n      };\n    };\n    var cloneFormats = function (oldCell, newCell, formats) {\n      var first$1 = first(oldCell);\n      return first$1.map(function (firstText) {\n        var formatSelector = formats.join(',');\n        var parents = ancestors$1(firstText, formatSelector, function (element) {\n          return eq(element, oldCell);\n        });\n        return foldr(parents, function (last, parent) {\n          var clonedFormat = shallow(parent);\n          remove(clonedFormat, 'contenteditable');\n          append(last, clonedFormat);\n          return clonedFormat;\n        }, newCell);\n      }).getOr(newCell);\n    };\n    var cellOperations = function (mutate, doc, formatsToClone) {\n      var newCell = function (prev) {\n        var docu = owner(prev.element());\n        var td = Element.fromTag(name(prev.element()), docu.dom());\n        var formats = formatsToClone.getOr([\n          'strong',\n          'em',\n          'b',\n          'i',\n          'span',\n          'font',\n          'h1',\n          'h2',\n          'h3',\n          'h4',\n          'h5',\n          'h6',\n          'p',\n          'div'\n        ]);\n        var lastNode = formats.length > 0 ? cloneFormats(prev.element(), td, formats) : td;\n        append(lastNode, Element.fromTag('br'));\n        copy(prev.element(), td);\n        remove$1(td, 'height');\n        if (prev.colspan() !== 1) {\n          remove$1(prev.element(), 'width');\n        }\n        mutate(prev.element(), td);\n        return td;\n      };\n      return {\n        row: newRow(doc),\n        cell: newCell,\n        replace: replace,\n        gap: createCell\n      };\n    };\n    var paste = function (doc) {\n      return {\n        row: newRow(doc),\n        cell: createCell,\n        replace: pasteReplace,\n        gap: createCell\n      };\n    };\n    var TableFill = {\n      cellOperations: cellOperations,\n      paste: paste\n    };\n\n    var fromHtml$1 = function (html, scope) {\n      var doc = scope || domGlobals.document;\n      var div = doc.createElement('div');\n      div.innerHTML = html;\n      return children(Element.fromDom(div));\n    };\n\n    var inSelection = function (bounds, detail) {\n      var leftEdge = detail.column();\n      var rightEdge = detail.column() + detail.colspan() - 1;\n      var topEdge = detail.row();\n      var bottomEdge = detail.row() + detail.rowspan() - 1;\n      return leftEdge <= bounds.finishCol() && rightEdge >= bounds.startCol() && (topEdge <= bounds.finishRow() && bottomEdge >= bounds.startRow());\n    };\n    var isWithin = function (bounds, detail) {\n      return detail.column() >= bounds.startCol() && detail.column() + detail.colspan() - 1 <= bounds.finishCol() && detail.row() >= bounds.startRow() && detail.row() + detail.rowspan() - 1 <= bounds.finishRow();\n    };\n    var isRectangular = function (warehouse, bounds) {\n      var isRect = true;\n      var detailIsWithin = curry(isWithin, bounds);\n      for (var i = bounds.startRow(); i <= bounds.finishRow(); i++) {\n        for (var j = bounds.startCol(); j <= bounds.finishCol(); j++) {\n          isRect = isRect && Warehouse.getAt(warehouse, i, j).exists(detailIsWithin);\n        }\n      }\n      return isRect ? Option.some(bounds) : Option.none();\n    };\n    var CellBounds = {\n      inSelection: inSelection,\n      isWithin: isWithin,\n      isRectangular: isRectangular\n    };\n\n    var getBounds = function (detailA, detailB) {\n      return bounds(Math.min(detailA.row(), detailB.row()), Math.min(detailA.column(), detailB.column()), Math.max(detailA.row() + detailA.rowspan() - 1, detailB.row() + detailB.rowspan() - 1), Math.max(detailA.column() + detailA.colspan() - 1, detailB.column() + detailB.colspan() - 1));\n    };\n    var getAnyBox = function (warehouse, startCell, finishCell) {\n      var startCoords = Warehouse.findItem(warehouse, startCell, eq);\n      var finishCoords = Warehouse.findItem(warehouse, finishCell, eq);\n      return startCoords.bind(function (sc) {\n        return finishCoords.map(function (fc) {\n          return getBounds(sc, fc);\n        });\n      });\n    };\n    var getBox = function (warehouse, startCell, finishCell) {\n      return getAnyBox(warehouse, startCell, finishCell).bind(function (bounds) {\n        return CellBounds.isRectangular(warehouse, bounds);\n      });\n    };\n    var CellGroup = {\n      getAnyBox: getAnyBox,\n      getBox: getBox\n    };\n\n    var moveBy = function (warehouse, cell, row, column) {\n      return Warehouse.findItem(warehouse, cell, eq).bind(function (detail) {\n        var startRow = row > 0 ? detail.row() + detail.rowspan() - 1 : detail.row();\n        var startCol = column > 0 ? detail.column() + detail.colspan() - 1 : detail.column();\n        var dest = Warehouse.getAt(warehouse, startRow + row, startCol + column);\n        return dest.map(function (d) {\n          return d.element();\n        });\n      });\n    };\n    var intercepts = function (warehouse, start, finish) {\n      return CellGroup.getAnyBox(warehouse, start, finish).map(function (bounds) {\n        var inside = Warehouse.filterItems(warehouse, curry(CellBounds.inSelection, bounds));\n        return map(inside, function (detail) {\n          return detail.element();\n        });\n      });\n    };\n    var parentCell = function (warehouse, innerCell) {\n      var isContainedBy = function (c1, c2) {\n        return contains$2(c2, c1);\n      };\n      return Warehouse.findItem(warehouse, innerCell, isContainedBy).map(function (detail) {\n        return detail.element();\n      });\n    };\n    var CellFinder = {\n      moveBy: moveBy,\n      intercepts: intercepts,\n      parentCell: parentCell\n    };\n\n    var moveBy$1 = function (cell, deltaRow, deltaColumn) {\n      return TableLookup.table(cell).bind(function (table) {\n        var warehouse = getWarehouse(table);\n        return CellFinder.moveBy(warehouse, cell, deltaRow, deltaColumn);\n      });\n    };\n    var intercepts$1 = function (table, first, last) {\n      var warehouse = getWarehouse(table);\n      return CellFinder.intercepts(warehouse, first, last);\n    };\n    var nestedIntercepts = function (table, first, firstTable, last, lastTable) {\n      var warehouse = getWarehouse(table);\n      var optStartCell = eq(table, firstTable) ? Option.some(first) : CellFinder.parentCell(warehouse, first);\n      var optLastCell = eq(table, lastTable) ? Option.some(last) : CellFinder.parentCell(warehouse, last);\n      return optStartCell.bind(function (startCell) {\n        return optLastCell.bind(function (lastCell) {\n          return CellFinder.intercepts(warehouse, startCell, lastCell);\n        });\n      });\n    };\n    var getBox$1 = function (table, first, last) {\n      var warehouse = getWarehouse(table);\n      return CellGroup.getBox(warehouse, first, last);\n    };\n    var getWarehouse = function (table) {\n      var list = DetailsList.fromTable(table);\n      return Warehouse.generate(list);\n    };\n    var TablePositions = {\n      moveBy: moveBy$1,\n      intercepts: intercepts$1,\n      nestedIntercepts: nestedIntercepts,\n      getBox: getBox$1\n    };\n\n    var TagBoundaries = [\n      'body',\n      'p',\n      'div',\n      'article',\n      'aside',\n      'figcaption',\n      'figure',\n      'footer',\n      'header',\n      'nav',\n      'section',\n      'ol',\n      'ul',\n      'li',\n      'table',\n      'thead',\n      'tbody',\n      'tfoot',\n      'caption',\n      'tr',\n      'td',\n      'th',\n      'h1',\n      'h2',\n      'h3',\n      'h4',\n      'h5',\n      'h6',\n      'blockquote',\n      'pre',\n      'address'\n    ];\n\n    function DomUniverse () {\n      var clone$1 = function (element) {\n        return Element.fromDom(element.dom().cloneNode(false));\n      };\n      var document = function (element) {\n        return element.dom().ownerDocument;\n      };\n      var isBoundary = function (element) {\n        if (!isElement(element)) {\n          return false;\n        }\n        if (name(element) === 'body') {\n          return true;\n        }\n        return contains(TagBoundaries, name(element));\n      };\n      var isEmptyTag = function (element) {\n        if (!isElement(element)) {\n          return false;\n        }\n        return contains([\n          'br',\n          'img',\n          'hr',\n          'input'\n        ], name(element));\n      };\n      var comparePosition = function (element, other) {\n        return element.dom().compareDocumentPosition(other.dom());\n      };\n      var copyAttributesTo = function (source, destination) {\n        var as = clone(source);\n        setAll(destination, as);\n      };\n      return {\n        up: constant({\n          selector: ancestor$1,\n          closest: closest$1,\n          predicate: ancestor,\n          all: parents\n        }),\n        down: constant({\n          selector: descendants$1,\n          predicate: descendants\n        }),\n        styles: constant({\n          get: get$1,\n          getRaw: getRaw,\n          set: set$1,\n          remove: remove$1\n        }),\n        attrs: constant({\n          get: get,\n          set: set,\n          remove: remove,\n          copyTo: copyAttributesTo\n        }),\n        insert: constant({\n          before: before,\n          after: after,\n          afterAll: after$1,\n          append: append,\n          appendAll: append$1,\n          prepend: prepend,\n          wrap: wrap\n        }),\n        remove: constant({\n          unwrap: unwrap,\n          remove: remove$2\n        }),\n        create: constant({\n          nu: Element.fromTag,\n          clone: clone$1,\n          text: Element.fromText\n        }),\n        query: constant({\n          comparePosition: comparePosition,\n          prevSibling: prevSibling,\n          nextSibling: nextSibling\n        }),\n        property: constant({\n          children: children,\n          name: name,\n          parent: parent,\n          document: document,\n          isText: isText,\n          isComment: isComment,\n          isElement: isElement,\n          getText: get$2,\n          setText: set$2,\n          isBoundary: isBoundary,\n          isEmptyTag: isEmptyTag\n        }),\n        eq: eq,\n        is: is$1\n      };\n    }\n\n    var leftRight = Immutable('left', 'right');\n    var brokenPath = Immutable('first', 'second', 'splits');\n    var bisect = function (universe, parent, child) {\n      var children = universe.property().children(parent);\n      var index = findIndex(children, curry(universe.eq, child));\n      return index.map(function (ind) {\n        return {\n          before: constant(children.slice(0, ind)),\n          after: constant(children.slice(ind + 1))\n        };\n      });\n    };\n    var breakToRight = function (universe, parent, child) {\n      return bisect(universe, parent, child).map(function (parts) {\n        var second = universe.create().clone(parent);\n        universe.insert().appendAll(second, parts.after());\n        universe.insert().after(parent, second);\n        return leftRight(parent, second);\n      });\n    };\n    var breakToLeft = function (universe, parent, child) {\n      return bisect(universe, parent, child).map(function (parts) {\n        var prior = universe.create().clone(parent);\n        universe.insert().appendAll(prior, parts.before().concat([child]));\n        universe.insert().appendAll(parent, parts.after());\n        universe.insert().before(parent, prior);\n        return leftRight(prior, parent);\n      });\n    };\n    var breakPath = function (universe, item, isTop, breaker) {\n      var next = function (child, group, splits) {\n        var fallback = brokenPath(child, Option.none(), splits);\n        if (isTop(child)) {\n          return brokenPath(child, group, splits);\n        } else {\n          return universe.property().parent(child).bind(function (parent) {\n            return breaker(universe, parent, child).map(function (breakage) {\n              var extra = [{\n                  first: breakage.left,\n                  second: breakage.right\n                }];\n              var nextChild = isTop(parent) ? parent : breakage.left();\n              return next(nextChild, Option.some(breakage.right()), splits.concat(extra));\n            });\n          }).getOr(fallback);\n        }\n      };\n      return next(item, Option.none(), []);\n    };\n\n    var all$1 = function (universe, look, elements, f) {\n      var head = elements[0];\n      var tail = elements.slice(1);\n      return f(universe, look, head, tail);\n    };\n    var oneAll = function (universe, look, elements) {\n      return elements.length > 0 ? all$1(universe, look, elements, unsafeOne) : Option.none();\n    };\n    var unsafeOne = function (universe, look, head, tail) {\n      var start = look(universe, head);\n      return foldr(tail, function (b, a) {\n        var current = look(universe, a);\n        return commonElement(universe, b, current);\n      }, start);\n    };\n    var commonElement = function (universe, start, end) {\n      return start.bind(function (s) {\n        return end.filter(curry(universe.eq, s));\n      });\n    };\n\n    var eq$1 = function (universe, item) {\n      return curry(universe.eq, item);\n    };\n    var unsafeSubset = function (universe, common, ps1, ps2) {\n      var children = universe.property().children(common);\n      if (universe.eq(common, ps1[0])) {\n        return Option.some([ps1[0]]);\n      }\n      if (universe.eq(common, ps2[0])) {\n        return Option.some([ps2[0]]);\n      }\n      var finder = function (ps) {\n        var topDown = reverse(ps);\n        var index = findIndex(topDown, eq$1(universe, common)).getOr(-1);\n        var item = index < topDown.length - 1 ? topDown[index + 1] : topDown[index];\n        return findIndex(children, eq$1(universe, item));\n      };\n      var startIndex = finder(ps1);\n      var endIndex = finder(ps2);\n      return startIndex.bind(function (sIndex) {\n        return endIndex.map(function (eIndex) {\n          var first = Math.min(sIndex, eIndex);\n          var last = Math.max(sIndex, eIndex);\n          return children.slice(first, last + 1);\n        });\n      });\n    };\n    var ancestors$2 = function (universe, start, end, isRoot) {\n      if (isRoot === void 0) {\n        isRoot = never;\n      }\n      var ps1 = [start].concat(universe.up().all(start));\n      var ps2 = [end].concat(universe.up().all(end));\n      var prune = function (path) {\n        var index = findIndex(path, isRoot);\n        return index.fold(function () {\n          return path;\n        }, function (ind) {\n          return path.slice(0, ind + 1);\n        });\n      };\n      var pruned1 = prune(ps1);\n      var pruned2 = prune(ps2);\n      var shared = find(pruned1, function (x) {\n        return exists(pruned2, eq$1(universe, x));\n      });\n      return {\n        firstpath: constant(pruned1),\n        secondpath: constant(pruned2),\n        shared: constant(shared)\n      };\n    };\n    var subset = function (universe, start, end) {\n      var ancs = ancestors$2(universe, start, end);\n      return ancs.shared().bind(function (shared) {\n        return unsafeSubset(universe, shared, ancs.firstpath(), ancs.secondpath());\n      });\n    };\n    var SubsetFn = {\n      subset: subset,\n      ancestors: ancestors$2\n    };\n\n    var sharedOne = oneAll;\n    var subset$1 = SubsetFn.subset;\n    var ancestors$3 = SubsetFn.ancestors;\n    var breakToLeft$1 = breakToLeft;\n    var breakToRight$1 = breakToRight;\n    var breakPath$1 = breakPath;\n    var Parent = {\n      sharedOne: sharedOne,\n      subset: subset$1,\n      ancestors: ancestors$3,\n      breakToLeft: breakToLeft$1,\n      breakToRight: breakToRight$1,\n      breakPath: breakPath$1\n    };\n\n    var universe = DomUniverse();\n    var sharedOne$1 = function (look, elements) {\n      return Parent.sharedOne(universe, function (_universe, element) {\n        return look(element);\n      }, elements);\n    };\n    var subset$2 = function (start, finish) {\n      return Parent.subset(universe, start, finish);\n    };\n    var ancestors$4 = function (start, finish, isRoot) {\n      return Parent.ancestors(universe, start, finish, isRoot);\n    };\n    var breakToLeft$2 = function (parent, child) {\n      return Parent.breakToLeft(universe, parent, child);\n    };\n    var breakToRight$2 = function (parent, child) {\n      return Parent.breakToRight(universe, parent, child);\n    };\n    var breakPath$2 = function (child, isTop, breaker) {\n      return Parent.breakPath(universe, child, isTop, function (u, p, c) {\n        return breaker(p, c);\n      });\n    };\n    var DomParent = {\n      sharedOne: sharedOne$1,\n      subset: subset$2,\n      ancestors: ancestors$4,\n      breakToLeft: breakToLeft$2,\n      breakToRight: breakToRight$2,\n      breakPath: breakPath$2\n    };\n\n    var create = MixedBag([\n      'boxes',\n      'start',\n      'finish'\n    ], []);\n    var Identified = { create: create };\n\n    var lookupTable = function (container) {\n      return ancestor$1(container, 'table');\n    };\n    var identify = function (start, finish, isRoot) {\n      var getIsRoot = function (rootTable) {\n        return function (element) {\n          return isRoot !== undefined && isRoot(element) || eq(element, rootTable);\n        };\n      };\n      if (eq(start, finish)) {\n        return Option.some(Identified.create({\n          boxes: Option.some([start]),\n          start: start,\n          finish: finish\n        }));\n      } else {\n        return lookupTable(start).bind(function (startTable) {\n          return lookupTable(finish).bind(function (finishTable) {\n            if (eq(startTable, finishTable)) {\n              return Option.some(Identified.create({\n                boxes: TablePositions.intercepts(startTable, start, finish),\n                start: start,\n                finish: finish\n              }));\n            } else if (contains$2(startTable, finishTable)) {\n              var ancestorCells = ancestors$1(finish, 'td,th', getIsRoot(startTable));\n              var finishCell = ancestorCells.length > 0 ? ancestorCells[ancestorCells.length - 1] : finish;\n              return Option.some(Identified.create({\n                boxes: TablePositions.nestedIntercepts(startTable, start, startTable, finish, finishTable),\n                start: start,\n                finish: finishCell\n              }));\n            } else if (contains$2(finishTable, startTable)) {\n              var ancestorCells = ancestors$1(start, 'td,th', getIsRoot(finishTable));\n              var startCell = ancestorCells.length > 0 ? ancestorCells[ancestorCells.length - 1] : start;\n              return Option.some(Identified.create({\n                boxes: TablePositions.nestedIntercepts(finishTable, start, startTable, finish, finishTable),\n                start: start,\n                finish: startCell\n              }));\n            } else {\n              return DomParent.ancestors(start, finish).shared().bind(function (lca) {\n                return closest$1(lca, 'table', isRoot).bind(function (lcaTable) {\n                  var finishAncestorCells = ancestors$1(finish, 'td,th', getIsRoot(lcaTable));\n                  var finishCell = finishAncestorCells.length > 0 ? finishAncestorCells[finishAncestorCells.length - 1] : finish;\n                  var startAncestorCells = ancestors$1(start, 'td,th', getIsRoot(lcaTable));\n                  var startCell = startAncestorCells.length > 0 ? startAncestorCells[startAncestorCells.length - 1] : start;\n                  return Option.some(Identified.create({\n                    boxes: TablePositions.nestedIntercepts(lcaTable, start, startTable, finish, finishTable),\n                    start: startCell,\n                    finish: finishCell\n                  }));\n                });\n              });\n            }\n          });\n        });\n      }\n    };\n    var retrieve = function (container, selector) {\n      var sels = descendants$1(container, selector);\n      return sels.length > 0 ? Option.some(sels) : Option.none();\n    };\n    var getLast = function (boxes, lastSelectedSelector) {\n      return find(boxes, function (box) {\n        return is(box, lastSelectedSelector);\n      });\n    };\n    var getEdges = function (container, firstSelectedSelector, lastSelectedSelector) {\n      return descendant$1(container, firstSelectedSelector).bind(function (first) {\n        return descendant$1(container, lastSelectedSelector).bind(function (last) {\n          return DomParent.sharedOne(lookupTable, [\n            first,\n            last\n          ]).map(function (tbl) {\n            return {\n              first: constant(first),\n              last: constant(last),\n              table: constant(tbl)\n            };\n          });\n        });\n      });\n    };\n    var expandTo = function (finish, firstSelectedSelector) {\n      return ancestor$1(finish, 'table').bind(function (table) {\n        return descendant$1(table, firstSelectedSelector).bind(function (start) {\n          return identify(start, finish).bind(function (identified) {\n            return identified.boxes().map(function (boxes) {\n              return {\n                boxes: constant(boxes),\n                start: constant(identified.start()),\n                finish: constant(identified.finish())\n              };\n            });\n          });\n        });\n      });\n    };\n    var shiftSelection = function (boxes, deltaRow, deltaColumn, firstSelectedSelector, lastSelectedSelector) {\n      return getLast(boxes, lastSelectedSelector).bind(function (last) {\n        return TablePositions.moveBy(last, deltaRow, deltaColumn).bind(function (finish) {\n          return expandTo(finish, firstSelectedSelector);\n        });\n      });\n    };\n    var CellSelection = {\n      identify: identify,\n      retrieve: retrieve,\n      shiftSelection: shiftSelection,\n      getEdges: getEdges\n    };\n\n    var retrieve$1 = function (container, selector) {\n      return CellSelection.retrieve(container, selector);\n    };\n    var retrieveBox = function (container, firstSelectedSelector, lastSelectedSelector) {\n      return CellSelection.getEdges(container, firstSelectedSelector, lastSelectedSelector).bind(function (edges) {\n        var isRoot = function (ancestor) {\n          return eq(container, ancestor);\n        };\n        var firstAncestor = ancestor$1(edges.first(), 'thead,tfoot,tbody,table', isRoot);\n        var lastAncestor = ancestor$1(edges.last(), 'thead,tfoot,tbody,table', isRoot);\n        return firstAncestor.bind(function (fA) {\n          return lastAncestor.bind(function (lA) {\n            return eq(fA, lA) ? TablePositions.getBox(edges.table(), edges.first(), edges.last()) : Option.none();\n          });\n        });\n      });\n    };\n    var TableSelection = {\n      retrieve: retrieve$1,\n      retrieveBox: retrieveBox\n    };\n\n    var selected = 'data-mce-selected';\n    var selectedSelector = 'td[' + selected + '],th[' + selected + ']';\n    var attributeSelector = '[' + selected + ']';\n    var firstSelected = 'data-mce-first-selected';\n    var firstSelectedSelector = 'td[' + firstSelected + '],th[' + firstSelected + ']';\n    var lastSelected = 'data-mce-last-selected';\n    var lastSelectedSelector = 'td[' + lastSelected + '],th[' + lastSelected + ']';\n    var Ephemera = {\n      selected: constant(selected),\n      selectedSelector: constant(selectedSelector),\n      attributeSelector: constant(attributeSelector),\n      firstSelected: constant(firstSelected),\n      firstSelectedSelector: constant(firstSelectedSelector),\n      lastSelected: constant(lastSelected),\n      lastSelectedSelector: constant(lastSelectedSelector)\n    };\n\n    var generate$1 = function (cases) {\n      if (!isArray(cases)) {\n        throw new Error('cases must be an array');\n      }\n      if (cases.length === 0) {\n        throw new Error('there must be at least one case');\n      }\n      var constructors = [];\n      var adt = {};\n      each(cases, function (acase, count) {\n        var keys$1 = keys(acase);\n        if (keys$1.length !== 1) {\n          throw new Error('one and only one name per case');\n        }\n        var key = keys$1[0];\n        var value = acase[key];\n        if (adt[key] !== undefined) {\n          throw new Error('duplicate key detected:' + key);\n        } else if (key === 'cata') {\n          throw new Error('cannot have a case named cata (sorry)');\n        } else if (!isArray(value)) {\n          throw new Error('case arguments must be an array');\n        }\n        constructors.push(key);\n        adt[key] = function () {\n          var argLength = arguments.length;\n          if (argLength !== value.length) {\n            throw new Error('Wrong number of arguments to case ' + key + '. Expected ' + value.length + ' (' + value + '), got ' + argLength);\n          }\n          var args = new Array(argLength);\n          for (var i = 0; i < args.length; i++) {\n            args[i] = arguments[i];\n          }\n          var match = function (branches) {\n            var branchKeys = keys(branches);\n            if (constructors.length !== branchKeys.length) {\n              throw new Error('Wrong number of arguments to match. Expected: ' + constructors.join(',') + '\\nActual: ' + branchKeys.join(','));\n            }\n            var allReqd = forall(constructors, function (reqKey) {\n              return contains(branchKeys, reqKey);\n            });\n            if (!allReqd) {\n              throw new Error('Not all branches were specified when using match. Specified: ' + branchKeys.join(', ') + '\\nRequired: ' + constructors.join(', '));\n            }\n            return branches[key].apply(null, args);\n          };\n          return {\n            fold: function () {\n              if (arguments.length !== cases.length) {\n                throw new Error('Wrong number of arguments to fold. Expected ' + cases.length + ', got ' + arguments.length);\n              }\n              var target = arguments[count];\n              return target.apply(null, args);\n            },\n            match: match,\n            log: function (label) {\n              domGlobals.console.log(label, {\n                constructors: constructors,\n                constructor: key,\n                params: args\n              });\n            }\n          };\n        };\n      });\n      return adt;\n    };\n    var Adt = { generate: generate$1 };\n\n    var type$1 = Adt.generate([\n      { none: [] },\n      { multiple: ['elements'] },\n      { single: ['selection'] }\n    ]);\n    var cata = function (subject, onNone, onMultiple, onSingle) {\n      return subject.fold(onNone, onMultiple, onSingle);\n    };\n    var SelectionTypes = {\n      cata: cata,\n      none: type$1.none,\n      multiple: type$1.multiple,\n      single: type$1.single\n    };\n\n    var selection = function (cell, selections) {\n      return SelectionTypes.cata(selections.get(), constant([]), identity, constant([cell]));\n    };\n    var unmergable = function (cell, selections) {\n      var hasSpan = function (elem) {\n        return has(elem, 'rowspan') && parseInt(get(elem, 'rowspan'), 10) > 1 || has(elem, 'colspan') && parseInt(get(elem, 'colspan'), 10) > 1;\n      };\n      var candidates = selection(cell, selections);\n      return candidates.length > 0 && forall(candidates, hasSpan) ? Option.some(candidates) : Option.none();\n    };\n    var mergable = function (table, selections) {\n      return SelectionTypes.cata(selections.get(), Option.none, function (cells, _env) {\n        if (cells.length === 0) {\n          return Option.none();\n        }\n        return TableSelection.retrieveBox(table, Ephemera.firstSelectedSelector(), Ephemera.lastSelectedSelector()).bind(function (bounds) {\n          return cells.length > 1 ? Option.some({\n            bounds: constant(bounds),\n            cells: constant(cells)\n          }) : Option.none();\n        });\n      }, Option.none);\n    };\n    var CellOperations = {\n      mergable: mergable,\n      unmergable: unmergable,\n      selection: selection\n    };\n\n    var noMenu = function (cell) {\n      return {\n        element: constant(cell),\n        mergable: Option.none,\n        unmergable: Option.none,\n        selection: constant([cell])\n      };\n    };\n    var forMenu = function (selections, table, cell) {\n      return {\n        element: constant(cell),\n        mergable: constant(CellOperations.mergable(table, selections)),\n        unmergable: constant(CellOperations.unmergable(cell, selections)),\n        selection: constant(CellOperations.selection(cell, selections))\n      };\n    };\n    var notCell$1 = function (element) {\n      return noMenu(element);\n    };\n    var paste$1 = Immutable('element', 'clipboard', 'generators');\n    var pasteRows = function (selections, table, cell, clipboard, generators) {\n      return {\n        element: constant(cell),\n        mergable: Option.none,\n        unmergable: Option.none,\n        selection: constant(CellOperations.selection(cell, selections)),\n        clipboard: constant(clipboard),\n        generators: constant(generators)\n      };\n    };\n    var TableTargets = {\n      noMenu: noMenu,\n      forMenu: forMenu,\n      notCell: notCell$1,\n      paste: paste$1,\n      pasteRows: pasteRows\n    };\n\n    var extractSelected = function (cells) {\n      return TableLookup.table(cells[0]).map(deep).map(function (replica) {\n        return [CopySelected.extract(replica, Ephemera.attributeSelector())];\n      });\n    };\n    var serializeElements = function (editor, elements) {\n      return map(elements, function (elm) {\n        return editor.selection.serializer.serialize(elm.dom(), {});\n      }).join('');\n    };\n    var getTextContent = function (elements) {\n      return map(elements, function (element) {\n        return element.dom().innerText;\n      }).join('');\n    };\n    var registerEvents = function (editor, selections, actions, cellSelection) {\n      editor.on('BeforeGetContent', function (e) {\n        var multiCellContext = function (cells) {\n          e.preventDefault();\n          extractSelected(cells).each(function (elements) {\n            e.content = e.format === 'text' ? getTextContent(elements) : serializeElements(editor, elements);\n          });\n        };\n        if (e.selection === true) {\n          SelectionTypes.cata(selections.get(), noop, multiCellContext, noop);\n        }\n      });\n      editor.on('BeforeSetContent', function (e) {\n        if (e.selection === true && e.paste === true) {\n          var cellOpt = Option.from(editor.dom.getParent(editor.selection.getStart(), 'th,td'));\n          cellOpt.each(function (domCell) {\n            var cell = Element.fromDom(domCell);\n            TableLookup.table(cell).each(function (table) {\n              var elements = filter(fromHtml$1(e.content), function (content) {\n                return name(content) !== 'meta';\n              });\n              if (elements.length === 1 && name(elements[0]) === 'table') {\n                e.preventDefault();\n                var doc = Element.fromDom(editor.getDoc());\n                var generators = TableFill.paste(doc);\n                var targets = TableTargets.paste(cell, elements[0], generators);\n                actions.pasteCells(table, targets).each(function (rng) {\n                  editor.selection.setRng(rng);\n                  editor.focus();\n                  cellSelection.clear(table);\n                });\n              }\n            });\n          });\n        }\n      });\n    };\n    var Clipboard = { registerEvents: registerEvents };\n\n    function Dimension (name, getOffset) {\n      var set = function (element, h) {\n        if (!isNumber(h) && !h.match(/^[0-9]+$/)) {\n          throw new Error(name + '.set accepts only positive integer values. Value was ' + h);\n        }\n        var dom = element.dom();\n        if (isSupported(dom)) {\n          dom.style[name] = h + 'px';\n        }\n      };\n      var get = function (element) {\n        var r = getOffset(element);\n        if (r <= 0 || r === null) {\n          var css = get$1(element, name);\n          return parseFloat(css) || 0;\n        }\n        return r;\n      };\n      var getOuter = get;\n      var aggregate = function (element, properties) {\n        return foldl(properties, function (acc, property) {\n          var val = get$1(element, property);\n          var value = val === undefined ? 0 : parseInt(val, 10);\n          return isNaN(value) ? acc : acc + value;\n        }, 0);\n      };\n      var max = function (element, value, properties) {\n        var cumulativeInclusions = aggregate(element, properties);\n        var absoluteMax = value > cumulativeInclusions ? value - cumulativeInclusions : 0;\n        return absoluteMax;\n      };\n      return {\n        set: set,\n        get: get,\n        getOuter: getOuter,\n        aggregate: aggregate,\n        max: max\n      };\n    }\n\n    var api$1 = Dimension('height', function (element) {\n      var dom = element.dom();\n      return inBody(element) ? dom.getBoundingClientRect().height : dom.offsetHeight;\n    });\n    var get$3 = function (element) {\n      return api$1.get(element);\n    };\n    var getOuter = function (element) {\n      return api$1.getOuter(element);\n    };\n\n    var api$2 = Dimension('width', function (element) {\n      return element.dom().offsetWidth;\n    });\n    var get$4 = function (element) {\n      return api$2.get(element);\n    };\n    var getOuter$1 = function (element) {\n      return api$2.getOuter(element);\n    };\n\n    var platform = PlatformDetection$1.detect();\n    var needManualCalc = function () {\n      return platform.browser.isIE() || platform.browser.isEdge();\n    };\n    var toNumber = function (px, fallback) {\n      var num = parseFloat(px);\n      return isNaN(num) ? fallback : num;\n    };\n    var getProp = function (elm, name, fallback) {\n      return toNumber(get$1(elm, name), fallback);\n    };\n    var getCalculatedHeight = function (cell) {\n      var paddingTop = getProp(cell, 'padding-top', 0);\n      var paddingBottom = getProp(cell, 'padding-bottom', 0);\n      var borderTop = getProp(cell, 'border-top-width', 0);\n      var borderBottom = getProp(cell, 'border-bottom-width', 0);\n      var height = cell.dom().getBoundingClientRect().height;\n      var boxSizing = get$1(cell, 'box-sizing');\n      var borders = borderTop + borderBottom;\n      return boxSizing === 'border-box' ? height : height - paddingTop - paddingBottom - borders;\n    };\n    var getWidth = function (cell) {\n      return getProp(cell, 'width', get$4(cell));\n    };\n    var getHeight = function (cell) {\n      return needManualCalc() ? getCalculatedHeight(cell) : getProp(cell, 'height', get$3(cell));\n    };\n    var RuntimeSize = {\n      getWidth: getWidth,\n      getHeight: getHeight\n    };\n\n    var genericSizeRegex = /(\\d+(\\.\\d+)?)(\\w|%)*/;\n    var percentageBasedSizeRegex = /(\\d+(\\.\\d+)?)%/;\n    var pixelBasedSizeRegex = /(\\d+(\\.\\d+)?)px|em/;\n    var setPixelWidth = function (cell, amount) {\n      set$1(cell, 'width', amount + 'px');\n    };\n    var setPercentageWidth = function (cell, amount) {\n      set$1(cell, 'width', amount + '%');\n    };\n    var setHeight = function (cell, amount) {\n      set$1(cell, 'height', amount + 'px');\n    };\n    var getHeightValue = function (cell) {\n      return getRaw(cell, 'height').getOrThunk(function () {\n        return RuntimeSize.getHeight(cell) + 'px';\n      });\n    };\n    var convert = function (cell, number, getter, setter) {\n      var newSize = TableLookup.table(cell).map(function (table) {\n        var total = getter(table);\n        return Math.floor(number / 100 * total);\n      }).getOr(number);\n      setter(cell, newSize);\n      return newSize;\n    };\n    var normalizePixelSize = function (value, cell, getter, setter) {\n      var number = parseInt(value, 10);\n      return endsWith(value, '%') && name(cell) !== 'table' ? convert(cell, number, getter, setter) : number;\n    };\n    var getTotalHeight = function (cell) {\n      var value = getHeightValue(cell);\n      if (!value) {\n        return get$3(cell);\n      }\n      return normalizePixelSize(value, cell, get$3, setHeight);\n    };\n    var get$5 = function (cell, type, f) {\n      var v = f(cell);\n      var span = getSpan(cell, type);\n      return v / span;\n    };\n    var getSpan = function (cell, type) {\n      return has(cell, type) ? parseInt(get(cell, type), 10) : 1;\n    };\n    var getRawWidth = function (element) {\n      var cssWidth = getRaw(element, 'width');\n      return cssWidth.fold(function () {\n        return Option.from(get(element, 'width'));\n      }, function (width) {\n        return Option.some(width);\n      });\n    };\n    var normalizePercentageWidth = function (cellWidth, tableSize) {\n      return cellWidth / tableSize.pixelWidth() * 100;\n    };\n    var choosePercentageSize = function (element, width, tableSize) {\n      var percentMatch = percentageBasedSizeRegex.exec(width);\n      if (percentMatch !== null) {\n        return parseFloat(percentMatch[1]);\n      } else {\n        var intWidth = get$4(element);\n        return normalizePercentageWidth(intWidth, tableSize);\n      }\n    };\n    var getPercentageWidth = function (cell, tableSize) {\n      var width = getRawWidth(cell);\n      return width.fold(function () {\n        var intWidth = get$4(cell);\n        return normalizePercentageWidth(intWidth, tableSize);\n      }, function (w) {\n        return choosePercentageSize(cell, w, tableSize);\n      });\n    };\n    var normalizePixelWidth = function (cellWidth, tableSize) {\n      return cellWidth / 100 * tableSize.pixelWidth();\n    };\n    var choosePixelSize = function (element, width, tableSize) {\n      var pixelMatch = pixelBasedSizeRegex.exec(width);\n      if (pixelMatch !== null) {\n        return parseInt(pixelMatch[1], 10);\n      }\n      var percentMatch = percentageBasedSizeRegex.exec(width);\n      if (percentMatch !== null) {\n        var floatWidth = parseFloat(percentMatch[1]);\n        return normalizePixelWidth(floatWidth, tableSize);\n      }\n      return get$4(element);\n    };\n    var getPixelWidth = function (cell, tableSize) {\n      var width = getRawWidth(cell);\n      return width.fold(function () {\n        return get$4(cell);\n      }, function (w) {\n        return choosePixelSize(cell, w, tableSize);\n      });\n    };\n    var getHeight$1 = function (cell) {\n      return get$5(cell, 'rowspan', getTotalHeight);\n    };\n    var getGenericWidth = function (cell) {\n      var width = getRawWidth(cell);\n      return width.bind(function (w) {\n        var match = genericSizeRegex.exec(w);\n        if (match !== null) {\n          return Option.some({\n            width: constant(parseFloat(match[1])),\n            unit: constant(match[3])\n          });\n        } else {\n          return Option.none();\n        }\n      });\n    };\n    var setGenericWidth = function (cell, amount, unit) {\n      set$1(cell, 'width', amount + unit);\n    };\n    var Sizes = {\n      percentageBasedSizeRegex: constant(percentageBasedSizeRegex),\n      pixelBasedSizeRegex: constant(pixelBasedSizeRegex),\n      setPixelWidth: setPixelWidth,\n      setPercentageWidth: setPercentageWidth,\n      setHeight: setHeight,\n      getPixelWidth: getPixelWidth,\n      getPercentageWidth: getPercentageWidth,\n      getGenericWidth: getGenericWidth,\n      setGenericWidth: setGenericWidth,\n      getHeight: getHeight$1,\n      getRawWidth: getRawWidth\n    };\n\n    var halve = function (main, other) {\n      var width = Sizes.getGenericWidth(main);\n      width.each(function (w) {\n        var newWidth = w.width() / 2;\n        Sizes.setGenericWidth(main, newWidth, w.unit());\n        Sizes.setGenericWidth(other, newWidth, w.unit());\n      });\n    };\n    var CellMutations = { halve: halve };\n\n    var r = function (left, top) {\n      var translate = function (x, y) {\n        return r(left + x, top + y);\n      };\n      return {\n        left: constant(left),\n        top: constant(top),\n        translate: translate\n      };\n    };\n    var Position = r;\n\n    var boxPosition = function (dom) {\n      var box = dom.getBoundingClientRect();\n      return Position(box.left, box.top);\n    };\n    var firstDefinedOrZero = function (a, b) {\n      return a !== undefined ? a : b !== undefined ? b : 0;\n    };\n    var absolute = function (element) {\n      var doc = element.dom().ownerDocument;\n      var body = doc.body;\n      var win = doc.defaultView;\n      var html = doc.documentElement;\n      var scrollTop = firstDefinedOrZero(win.pageYOffset, html.scrollTop);\n      var scrollLeft = firstDefinedOrZero(win.pageXOffset, html.scrollLeft);\n      var clientTop = firstDefinedOrZero(html.clientTop, body.clientTop);\n      var clientLeft = firstDefinedOrZero(html.clientLeft, body.clientLeft);\n      return viewport(element).translate(scrollLeft - clientLeft, scrollTop - clientTop);\n    };\n    var viewport = function (element) {\n      var dom = element.dom();\n      var doc = dom.ownerDocument;\n      var body = doc.body;\n      if (body === dom) {\n        return Position(body.offsetLeft, body.offsetTop);\n      }\n      if (!inBody(element)) {\n        return Position(0, 0);\n      }\n      return boxPosition(dom);\n    };\n\n    var rowInfo = Immutable('row', 'y');\n    var colInfo = Immutable('col', 'x');\n    var rtlEdge = function (cell) {\n      var pos = absolute(cell);\n      return pos.left() + getOuter$1(cell);\n    };\n    var ltrEdge = function (cell) {\n      return absolute(cell).left();\n    };\n    var getLeftEdge = function (index, cell) {\n      return colInfo(index, ltrEdge(cell));\n    };\n    var getRightEdge = function (index, cell) {\n      return colInfo(index, rtlEdge(cell));\n    };\n    var getTop = function (cell) {\n      return absolute(cell).top();\n    };\n    var getTopEdge = function (index, cell) {\n      return rowInfo(index, getTop(cell));\n    };\n    var getBottomEdge = function (index, cell) {\n      return rowInfo(index, getTop(cell) + getOuter(cell));\n    };\n    var findPositions = function (getInnerEdge, getOuterEdge, array) {\n      if (array.length === 0) {\n        return [];\n      }\n      var lines = map(array.slice(1), function (cellOption, index) {\n        return cellOption.map(function (cell) {\n          return getInnerEdge(index, cell);\n        });\n      });\n      var lastLine = array[array.length - 1].map(function (cell) {\n        return getOuterEdge(array.length - 1, cell);\n      });\n      return lines.concat([lastLine]);\n    };\n    var negate = function (step) {\n      return -step;\n    };\n    var height = {\n      delta: identity,\n      positions: function (optElements) {\n        return findPositions(getTopEdge, getBottomEdge, optElements);\n      },\n      edge: getTop\n    };\n    var ltr = {\n      delta: identity,\n      edge: ltrEdge,\n      positions: function (optElements) {\n        return findPositions(getLeftEdge, getRightEdge, optElements);\n      }\n    };\n    var rtl = {\n      delta: negate,\n      edge: rtlEdge,\n      positions: function (optElements) {\n        return findPositions(getRightEdge, getLeftEdge, optElements);\n      }\n    };\n    var BarPositions = {\n      height: height,\n      rtl: rtl,\n      ltr: ltr\n    };\n\n    var ResizeDirection = {\n      ltr: BarPositions.ltr,\n      rtl: BarPositions.rtl\n    };\n\n    function TableDirection (directionAt) {\n      var auto = function (table) {\n        return directionAt(table).isRtl() ? ResizeDirection.rtl : ResizeDirection.ltr;\n      };\n      var delta = function (amount, table) {\n        return auto(table).delta(amount, table);\n      };\n      var positions = function (cols, table) {\n        return auto(table).positions(cols, table);\n      };\n      var edge = function (cell) {\n        return auto(cell).edge(cell);\n      };\n      return {\n        delta: delta,\n        edge: edge,\n        positions: positions\n      };\n    }\n\n    var getGridSize = function (table) {\n      var input = DetailsList.fromTable(table);\n      var warehouse = Warehouse.generate(input);\n      return warehouse.grid();\n    };\n    var TableGridSize = { getGridSize: getGridSize };\n\n    var __assign = function () {\n      __assign = Object.assign || function __assign(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s)\n            if (Object.prototype.hasOwnProperty.call(s, p))\n              t[p] = s[p];\n        }\n        return t;\n      };\n      return __assign.apply(this, arguments);\n    };\n\n    var cat = function (arr) {\n      var r = [];\n      var push = function (x) {\n        r.push(x);\n      };\n      for (var i = 0; i < arr.length; i++) {\n        arr[i].each(push);\n      }\n      return r;\n    };\n    var findMap = function (arr, f) {\n      for (var i = 0; i < arr.length; i++) {\n        var r = f(arr[i], i);\n        if (r.isSome()) {\n          return r;\n        }\n      }\n      return Option.none();\n    };\n\n    var setIfNot = function (element, property, value, ignore) {\n      if (value === ignore) {\n        remove(element, property);\n      } else {\n        set(element, property, value);\n      }\n    };\n    var render = function (table, grid) {\n      var newRows = [];\n      var newCells = [];\n      var renderSection = function (gridSection, sectionName) {\n        var section = child$2(table, sectionName).getOrThunk(function () {\n          var tb = Element.fromTag(sectionName, owner(table).dom());\n          append(table, tb);\n          return tb;\n        });\n        empty(section);\n        var rows = map(gridSection, function (row) {\n          if (row.isNew()) {\n            newRows.push(row.element());\n          }\n          var tr = row.element();\n          empty(tr);\n          each(row.cells(), function (cell) {\n            if (cell.isNew()) {\n              newCells.push(cell.element());\n            }\n            setIfNot(cell.element(), 'colspan', cell.colspan(), 1);\n            setIfNot(cell.element(), 'rowspan', cell.rowspan(), 1);\n            append(tr, cell.element());\n          });\n          return tr;\n        });\n        append$1(section, rows);\n      };\n      var removeSection = function (sectionName) {\n        child$2(table, sectionName).each(remove$2);\n      };\n      var renderOrRemoveSection = function (gridSection, sectionName) {\n        if (gridSection.length > 0) {\n          renderSection(gridSection, sectionName);\n        } else {\n          removeSection(sectionName);\n        }\n      };\n      var headSection = [];\n      var bodySection = [];\n      var footSection = [];\n      each(grid, function (row) {\n        switch (row.section()) {\n        case 'thead':\n          headSection.push(row);\n          break;\n        case 'tbody':\n          bodySection.push(row);\n          break;\n        case 'tfoot':\n          footSection.push(row);\n          break;\n        }\n      });\n      renderOrRemoveSection(headSection, 'thead');\n      renderOrRemoveSection(bodySection, 'tbody');\n      renderOrRemoveSection(footSection, 'tfoot');\n      return {\n        newRows: constant(newRows),\n        newCells: constant(newCells)\n      };\n    };\n    var copy$2 = function (grid) {\n      var rows = map(grid, function (row) {\n        var tr = shallow(row.element());\n        each(row.cells(), function (cell) {\n          var clonedCell = deep(cell.element());\n          setIfNot(clonedCell, 'colspan', cell.colspan(), 1);\n          setIfNot(clonedCell, 'rowspan', cell.rowspan(), 1);\n          append(tr, clonedCell);\n        });\n        return tr;\n      });\n      return rows;\n    };\n    var Redraw = {\n      render: render,\n      copy: copy$2\n    };\n\n    var read = function (element, attr) {\n      var value = get(element, attr);\n      return value === undefined || value === '' ? [] : value.split(' ');\n    };\n    var add = function (element, attr, id) {\n      var old = read(element, attr);\n      var nu = old.concat([id]);\n      set(element, attr, nu.join(' '));\n      return true;\n    };\n    var remove$3 = function (element, attr, id) {\n      var nu = filter(read(element, attr), function (v) {\n        return v !== id;\n      });\n      if (nu.length > 0) {\n        set(element, attr, nu.join(' '));\n      } else {\n        remove(element, attr);\n      }\n      return false;\n    };\n\n    var supports = function (element) {\n      return element.dom().classList !== undefined;\n    };\n    var get$6 = function (element) {\n      return read(element, 'class');\n    };\n    var add$1 = function (element, clazz) {\n      return add(element, 'class', clazz);\n    };\n    var remove$4 = function (element, clazz) {\n      return remove$3(element, 'class', clazz);\n    };\n\n    var add$2 = function (element, clazz) {\n      if (supports(element)) {\n        element.dom().classList.add(clazz);\n      } else {\n        add$1(element, clazz);\n      }\n    };\n    var cleanClass = function (element) {\n      var classList = supports(element) ? element.dom().classList : get$6(element);\n      if (classList.length === 0) {\n        remove(element, 'class');\n      }\n    };\n    var remove$5 = function (element, clazz) {\n      if (supports(element)) {\n        var classList = element.dom().classList;\n        classList.remove(clazz);\n      } else {\n        remove$4(element, clazz);\n      }\n      cleanClass(element);\n    };\n    var has$1 = function (element, clazz) {\n      return supports(element) && element.dom().classList.contains(clazz);\n    };\n\n    var repeat = function (repititions, f) {\n      var r = [];\n      for (var i = 0; i < repititions; i++) {\n        r.push(f(i));\n      }\n      return r;\n    };\n    var range = function (start, end) {\n      var r = [];\n      for (var i = start; i < end; i++) {\n        r.push(i);\n      }\n      return r;\n    };\n    var deduce = function (xs, index) {\n      if (index < 0 || index >= xs.length - 1) {\n        return Option.none();\n      }\n      var current = xs[index].fold(function () {\n        var rest = reverse(xs.slice(0, index));\n        return findMap(rest, function (a, i) {\n          return a.map(function (aa) {\n            return {\n              value: aa,\n              delta: i + 1\n            };\n          });\n        });\n      }, function (c) {\n        return Option.some({\n          value: c,\n          delta: 0\n        });\n      });\n      var next = xs[index + 1].fold(function () {\n        var rest = xs.slice(index + 1);\n        return findMap(rest, function (a, i) {\n          return a.map(function (aa) {\n            return {\n              value: aa,\n              delta: i + 1\n            };\n          });\n        });\n      }, function (n) {\n        return Option.some({\n          value: n,\n          delta: 1\n        });\n      });\n      return current.bind(function (c) {\n        return next.map(function (n) {\n          var extras = n.delta + c.delta;\n          return Math.abs(n.value - c.value) / extras;\n        });\n      });\n    };\n\n    var columns = function (warehouse) {\n      var grid = warehouse.grid();\n      var cols = range(0, grid.columns());\n      var rowsArr = range(0, grid.rows());\n      return map(cols, function (col) {\n        var getBlock = function () {\n          return bind(rowsArr, function (r) {\n            return Warehouse.getAt(warehouse, r, col).filter(function (detail) {\n              return detail.column() === col;\n            }).fold(constant([]), function (detail) {\n              return [detail];\n            });\n          });\n        };\n        var isSingle = function (detail) {\n          return detail.colspan() === 1;\n        };\n        var getFallback = function () {\n          return Warehouse.getAt(warehouse, 0, col);\n        };\n        return decide(getBlock, isSingle, getFallback);\n      });\n    };\n    var decide = function (getBlock, isSingle, getFallback) {\n      var inBlock = getBlock();\n      var singleInBlock = find(inBlock, isSingle);\n      var detailOption = singleInBlock.orThunk(function () {\n        return Option.from(inBlock[0]).orThunk(getFallback);\n      });\n      return detailOption.map(function (detail) {\n        return detail.element();\n      });\n    };\n    var rows$1 = function (warehouse) {\n      var grid = warehouse.grid();\n      var rowsArr = range(0, grid.rows());\n      var cols = range(0, grid.columns());\n      return map(rowsArr, function (row) {\n        var getBlock = function () {\n          return bind(cols, function (c) {\n            return Warehouse.getAt(warehouse, row, c).filter(function (detail) {\n              return detail.row() === row;\n            }).fold(constant([]), function (detail) {\n              return [detail];\n            });\n          });\n        };\n        var isSingle = function (detail) {\n          return detail.rowspan() === 1;\n        };\n        var getFallback = function () {\n          return Warehouse.getAt(warehouse, row, 0);\n        };\n        return decide(getBlock, isSingle, getFallback);\n      });\n    };\n    var Blocks = {\n      columns: columns,\n      rows: rows$1\n    };\n\n    var css = function (namespace) {\n      var dashNamespace = namespace.replace(/\\./g, '-');\n      var resolve = function (str) {\n        return dashNamespace + '-' + str;\n      };\n      return { resolve: resolve };\n    };\n\n    var styles = css('ephox-snooker');\n    var Styles = { resolve: styles.resolve };\n\n    var col = function (column, x, y, w, h) {\n      var blocker = Element.fromTag('div');\n      setAll$1(blocker, {\n        position: 'absolute',\n        left: x - w / 2 + 'px',\n        top: y + 'px',\n        height: h + 'px',\n        width: w + 'px'\n      });\n      setAll(blocker, {\n        'data-column': column,\n        'role': 'presentation'\n      });\n      return blocker;\n    };\n    var row$1 = function (r, x, y, w, h) {\n      var blocker = Element.fromTag('div');\n      setAll$1(blocker, {\n        position: 'absolute',\n        left: x + 'px',\n        top: y - h / 2 + 'px',\n        height: h + 'px',\n        width: w + 'px'\n      });\n      setAll(blocker, {\n        'data-row': r,\n        'role': 'presentation'\n      });\n      return blocker;\n    };\n    var Bar = {\n      col: col,\n      row: row$1\n    };\n\n    var resizeBar = Styles.resolve('resizer-bar');\n    var resizeRowBar = Styles.resolve('resizer-rows');\n    var resizeColBar = Styles.resolve('resizer-cols');\n    var BAR_THICKNESS = 7;\n    var destroy = function (wire) {\n      var previous = descendants$1(wire.parent(), '.' + resizeBar);\n      each(previous, remove$2);\n    };\n    var drawBar = function (wire, positions, create) {\n      var origin = wire.origin();\n      each(positions, function (cpOption, i) {\n        cpOption.each(function (cp) {\n          var bar = create(origin, cp);\n          add$2(bar, resizeBar);\n          append(wire.parent(), bar);\n        });\n      });\n    };\n    var refreshCol = function (wire, colPositions, position, tableHeight) {\n      drawBar(wire, colPositions, function (origin, cp) {\n        var colBar = Bar.col(cp.col(), cp.x() - origin.left(), position.top() - origin.top(), BAR_THICKNESS, tableHeight);\n        add$2(colBar, resizeColBar);\n        return colBar;\n      });\n    };\n    var refreshRow = function (wire, rowPositions, position, tableWidth) {\n      drawBar(wire, rowPositions, function (origin, cp) {\n        var rowBar = Bar.row(cp.row(), position.left() - origin.left(), cp.y() - origin.top(), tableWidth, BAR_THICKNESS);\n        add$2(rowBar, resizeRowBar);\n        return rowBar;\n      });\n    };\n    var refreshGrid = function (wire, table, rows, cols, hdirection, vdirection) {\n      var position = absolute(table);\n      var rowPositions = rows.length > 0 ? hdirection.positions(rows, table) : [];\n      refreshRow(wire, rowPositions, position, getOuter$1(table));\n      var colPositions = cols.length > 0 ? vdirection.positions(cols, table) : [];\n      refreshCol(wire, colPositions, position, getOuter(table));\n    };\n    var refresh = function (wire, table, hdirection, vdirection) {\n      destroy(wire);\n      var list = DetailsList.fromTable(table);\n      var warehouse = Warehouse.generate(list);\n      var rows = Blocks.rows(warehouse);\n      var cols = Blocks.columns(warehouse);\n      refreshGrid(wire, table, rows, cols, hdirection, vdirection);\n    };\n    var each$2 = function (wire, f) {\n      var bars = descendants$1(wire.parent(), '.' + resizeBar);\n      each(bars, f);\n    };\n    var hide = function (wire) {\n      each$2(wire, function (bar) {\n        set$1(bar, 'display', 'none');\n      });\n    };\n    var show = function (wire) {\n      each$2(wire, function (bar) {\n        set$1(bar, 'display', 'block');\n      });\n    };\n    var isRowBar = function (element) {\n      return has$1(element, resizeRowBar);\n    };\n    var isColBar = function (element) {\n      return has$1(element, resizeColBar);\n    };\n    var Bars = {\n      refresh: refresh,\n      hide: hide,\n      show: show,\n      destroy: destroy,\n      isRowBar: isRowBar,\n      isColBar: isColBar\n    };\n\n    var addCell = function (gridRow, index, cell) {\n      var cells = gridRow.cells();\n      var before = cells.slice(0, index);\n      var after = cells.slice(index);\n      var newCells = before.concat([cell]).concat(after);\n      return setCells(gridRow, newCells);\n    };\n    var mutateCell = function (gridRow, index, cell) {\n      var cells = gridRow.cells();\n      cells[index] = cell;\n    };\n    var setCells = function (gridRow, cells) {\n      return rowcells(cells, gridRow.section());\n    };\n    var mapCells = function (gridRow, f) {\n      var cells = gridRow.cells();\n      var r = map(cells, f);\n      return rowcells(r, gridRow.section());\n    };\n    var getCell = function (gridRow, index) {\n      return gridRow.cells()[index];\n    };\n    var getCellElement = function (gridRow, index) {\n      return getCell(gridRow, index).element();\n    };\n    var cellLength = function (gridRow) {\n      return gridRow.cells().length;\n    };\n    var GridRow = {\n      addCell: addCell,\n      setCells: setCells,\n      mutateCell: mutateCell,\n      getCell: getCell,\n      getCellElement: getCellElement,\n      mapCells: mapCells,\n      cellLength: cellLength\n    };\n\n    var getColumn = function (grid, index) {\n      return map(grid, function (row) {\n        return GridRow.getCell(row, index);\n      });\n    };\n    var getRow = function (grid, index) {\n      return grid[index];\n    };\n    var findDiff = function (xs, comp) {\n      if (xs.length === 0) {\n        return 0;\n      }\n      var first = xs[0];\n      var index = findIndex(xs, function (x) {\n        return !comp(first.element(), x.element());\n      });\n      return index.fold(function () {\n        return xs.length;\n      }, function (ind) {\n        return ind;\n      });\n    };\n    var subgrid = function (grid, row, column, comparator) {\n      var restOfRow = getRow(grid, row).cells().slice(column);\n      var endColIndex = findDiff(restOfRow, comparator);\n      var restOfColumn = getColumn(grid, column).slice(row);\n      var endRowIndex = findDiff(restOfColumn, comparator);\n      return {\n        colspan: constant(endColIndex),\n        rowspan: constant(endRowIndex)\n      };\n    };\n    var TableGrid = { subgrid: subgrid };\n\n    var toDetails = function (grid, comparator) {\n      var seen = map(grid, function (row, ri) {\n        return map(row.cells(), function (col, ci) {\n          return false;\n        });\n      });\n      var updateSeen = function (ri, ci, rowspan, colspan) {\n        for (var r = ri; r < ri + rowspan; r++) {\n          for (var c = ci; c < ci + colspan; c++) {\n            seen[r][c] = true;\n          }\n        }\n      };\n      return map(grid, function (row, ri) {\n        var details = bind(row.cells(), function (cell, ci) {\n          if (seen[ri][ci] === false) {\n            var result = TableGrid.subgrid(grid, ri, ci, comparator);\n            updateSeen(ri, ci, result.rowspan(), result.colspan());\n            return [detailnew(cell.element(), result.rowspan(), result.colspan(), cell.isNew())];\n          } else {\n            return [];\n          }\n        });\n        return rowdetails(details, row.section());\n      });\n    };\n    var toGrid = function (warehouse, generators, isNew) {\n      var grid = [];\n      for (var i = 0; i < warehouse.grid().rows(); i++) {\n        var rowCells = [];\n        for (var j = 0; j < warehouse.grid().columns(); j++) {\n          var element = Warehouse.getAt(warehouse, i, j).map(function (item) {\n            return elementnew(item.element(), isNew);\n          }).getOrThunk(function () {\n            return elementnew(generators.gap(), true);\n          });\n          rowCells.push(element);\n        }\n        var row = rowcells(rowCells, warehouse.all()[i].section());\n        grid.push(row);\n      }\n      return grid;\n    };\n    var Transitions = {\n      toDetails: toDetails,\n      toGrid: toGrid\n    };\n\n    var fromWarehouse = function (warehouse, generators) {\n      return Transitions.toGrid(warehouse, generators, false);\n    };\n    var deriveRows = function (rendered, generators) {\n      var findRow = function (details) {\n        var rowOfCells = findMap(details, function (detail) {\n          return parent(detail.element()).map(function (row) {\n            var isNew = parent(row).isNone();\n            return elementnew(row, isNew);\n          });\n        });\n        return rowOfCells.getOrThunk(function () {\n          return elementnew(generators.row(), true);\n        });\n      };\n      return map(rendered, function (details) {\n        var row = findRow(details.details());\n        return rowdatanew(row.element(), details.details(), details.section(), row.isNew());\n      });\n    };\n    var toDetailList = function (grid, generators) {\n      var rendered = Transitions.toDetails(grid, eq);\n      return deriveRows(rendered, generators);\n    };\n    var findInWarehouse = function (warehouse, element) {\n      var all = flatten(map(warehouse.all(), function (r) {\n        return r.cells();\n      }));\n      return find(all, function (e) {\n        return eq(element, e.element());\n      });\n    };\n    var run = function (operation, extract, adjustment, postAction, genWrappers) {\n      return function (wire, table, target, generators, direction) {\n        var input = DetailsList.fromTable(table);\n        var warehouse = Warehouse.generate(input);\n        var output = extract(warehouse, target).map(function (info) {\n          var model = fromWarehouse(warehouse, generators);\n          var result = operation(model, info, eq, genWrappers(generators));\n          var grid = toDetailList(result.grid(), generators);\n          return {\n            grid: constant(grid),\n            cursor: result.cursor\n          };\n        });\n        return output.fold(function () {\n          return Option.none();\n        }, function (out) {\n          var newElements = Redraw.render(table, out.grid());\n          adjustment(table, out.grid(), direction);\n          postAction(table);\n          Bars.refresh(wire, table, BarPositions.height, direction);\n          return Option.some({\n            cursor: out.cursor,\n            newRows: newElements.newRows,\n            newCells: newElements.newCells\n          });\n        });\n      };\n    };\n    var onCell = function (warehouse, target) {\n      return TableLookup.cell(target.element()).bind(function (cell) {\n        return findInWarehouse(warehouse, cell);\n      });\n    };\n    var onPaste = function (warehouse, target) {\n      return TableLookup.cell(target.element()).bind(function (cell) {\n        return findInWarehouse(warehouse, cell).map(function (details) {\n          var value = __assign(__assign({}, details), {\n            generators: target.generators,\n            clipboard: target.clipboard\n          });\n          return value;\n        });\n      });\n    };\n    var onPasteRows = function (warehouse, target) {\n      var details = map(target.selection(), function (cell) {\n        return TableLookup.cell(cell).bind(function (lc) {\n          return findInWarehouse(warehouse, lc);\n        });\n      });\n      var cells = cat(details);\n      return cells.length > 0 ? Option.some({\n        cells: cells,\n        generators: target.generators,\n        clipboard: target.clipboard\n      }) : Option.none();\n    };\n    var onMergable = function (_warehouse, target) {\n      return target.mergable();\n    };\n    var onUnmergable = function (_warehouse, target) {\n      return target.unmergable();\n    };\n    var onCells = function (warehouse, target) {\n      var details = map(target.selection(), function (cell) {\n        return TableLookup.cell(cell).bind(function (lc) {\n          return findInWarehouse(warehouse, lc);\n        });\n      });\n      var cells = cat(details);\n      return cells.length > 0 ? Option.some(cells) : Option.none();\n    };\n\n    var value = function (o) {\n      var is = function (v) {\n        return o === v;\n      };\n      var or = function (opt) {\n        return value(o);\n      };\n      var orThunk = function (f) {\n        return value(o);\n      };\n      var map = function (f) {\n        return value(f(o));\n      };\n      var mapError = function (f) {\n        return value(o);\n      };\n      var each = function (f) {\n        f(o);\n      };\n      var bind = function (f) {\n        return f(o);\n      };\n      var fold = function (_, onValue) {\n        return onValue(o);\n      };\n      var exists = function (f) {\n        return f(o);\n      };\n      var forall = function (f) {\n        return f(o);\n      };\n      var toOption = function () {\n        return Option.some(o);\n      };\n      return {\n        is: is,\n        isValue: always,\n        isError: never,\n        getOr: constant(o),\n        getOrThunk: constant(o),\n        getOrDie: constant(o),\n        or: or,\n        orThunk: orThunk,\n        fold: fold,\n        map: map,\n        mapError: mapError,\n        each: each,\n        bind: bind,\n        exists: exists,\n        forall: forall,\n        toOption: toOption\n      };\n    };\n    var error = function (message) {\n      var getOrThunk = function (f) {\n        return f();\n      };\n      var getOrDie = function () {\n        return die(String(message))();\n      };\n      var or = function (opt) {\n        return opt;\n      };\n      var orThunk = function (f) {\n        return f();\n      };\n      var map = function (f) {\n        return error(message);\n      };\n      var mapError = function (f) {\n        return error(f(message));\n      };\n      var bind = function (f) {\n        return error(message);\n      };\n      var fold = function (onError, _) {\n        return onError(message);\n      };\n      return {\n        is: never,\n        isValue: never,\n        isError: always,\n        getOr: identity,\n        getOrThunk: getOrThunk,\n        getOrDie: getOrDie,\n        or: or,\n        orThunk: orThunk,\n        fold: fold,\n        map: map,\n        mapError: mapError,\n        each: noop,\n        bind: bind,\n        exists: never,\n        forall: always,\n        toOption: Option.none\n      };\n    };\n    var fromOption = function (opt, err) {\n      return opt.fold(function () {\n        return error(err);\n      }, value);\n    };\n    var Result = {\n      value: value,\n      error: error,\n      fromOption: fromOption\n    };\n\n    var measure = function (startAddress, gridA, gridB) {\n      if (startAddress.row() >= gridA.length || startAddress.column() > GridRow.cellLength(gridA[0])) {\n        return Result.error('invalid start address out of table bounds, row: ' + startAddress.row() + ', column: ' + startAddress.column());\n      }\n      var rowRemainder = gridA.slice(startAddress.row());\n      var colRemainder = rowRemainder[0].cells().slice(startAddress.column());\n      var colRequired = GridRow.cellLength(gridB[0]);\n      var rowRequired = gridB.length;\n      return Result.value({\n        rowDelta: constant(rowRemainder.length - rowRequired),\n        colDelta: constant(colRemainder.length - colRequired)\n      });\n    };\n    var measureWidth = function (gridA, gridB) {\n      var colLengthA = GridRow.cellLength(gridA[0]);\n      var colLengthB = GridRow.cellLength(gridB[0]);\n      return {\n        rowDelta: constant(0),\n        colDelta: constant(colLengthA - colLengthB)\n      };\n    };\n    var fill = function (cells, generator) {\n      return map(cells, function () {\n        return elementnew(generator.cell(), true);\n      });\n    };\n    var rowFill = function (grid, amount, generator) {\n      return grid.concat(repeat(amount, function (_row) {\n        return GridRow.setCells(grid[grid.length - 1], fill(grid[grid.length - 1].cells(), generator));\n      }));\n    };\n    var colFill = function (grid, amount, generator) {\n      return map(grid, function (row) {\n        return GridRow.setCells(row, row.cells().concat(fill(range(0, amount), generator)));\n      });\n    };\n    var tailor = function (gridA, delta, generator) {\n      var fillCols = delta.colDelta() < 0 ? colFill : identity;\n      var fillRows = delta.rowDelta() < 0 ? rowFill : identity;\n      var modifiedCols = fillCols(gridA, Math.abs(delta.colDelta()), generator);\n      var tailoredGrid = fillRows(modifiedCols, Math.abs(delta.rowDelta()), generator);\n      return tailoredGrid;\n    };\n    var Fitment = {\n      measure: measure,\n      measureWidth: measureWidth,\n      tailor: tailor\n    };\n\n    var merge = function (grid, bounds, comparator, substitution) {\n      if (grid.length === 0) {\n        return grid;\n      }\n      for (var i = bounds.startRow(); i <= bounds.finishRow(); i++) {\n        for (var j = bounds.startCol(); j <= bounds.finishCol(); j++) {\n          GridRow.mutateCell(grid[i], j, elementnew(substitution(), false));\n        }\n      }\n      return grid;\n    };\n    var unmerge = function (grid, target, comparator, substitution) {\n      var first = true;\n      for (var i = 0; i < grid.length; i++) {\n        for (var j = 0; j < GridRow.cellLength(grid[0]); j++) {\n          var current = GridRow.getCellElement(grid[i], j);\n          var isToReplace = comparator(current, target);\n          if (isToReplace === true && first === false) {\n            GridRow.mutateCell(grid[i], j, elementnew(substitution(), true));\n          } else if (isToReplace === true) {\n            first = false;\n          }\n        }\n      }\n      return grid;\n    };\n    var uniqueCells = function (row, comparator) {\n      return foldl(row, function (rest, cell) {\n        return exists(rest, function (currentCell) {\n          return comparator(currentCell.element(), cell.element());\n        }) ? rest : rest.concat([cell]);\n      }, []);\n    };\n    var splitRows = function (grid, index, comparator, substitution) {\n      if (index > 0 && index < grid.length) {\n        var rowPrevCells = grid[index - 1].cells();\n        var cells = uniqueCells(rowPrevCells, comparator);\n        each(cells, function (cell) {\n          var replacement = Option.none();\n          var _loop_1 = function (i) {\n            var _loop_2 = function (j) {\n              var current = grid[i].cells()[j];\n              var isToReplace = comparator(current.element(), cell.element());\n              if (isToReplace) {\n                if (replacement.isNone()) {\n                  replacement = Option.some(substitution());\n                }\n                replacement.each(function (sub) {\n                  GridRow.mutateCell(grid[i], j, elementnew(sub, true));\n                });\n              }\n            };\n            for (var j = 0; j < GridRow.cellLength(grid[0]); j++) {\n              _loop_2(j);\n            }\n          };\n          for (var i = index; i < grid.length; i++) {\n            _loop_1(i);\n          }\n        });\n      }\n      return grid;\n    };\n    var MergingOperations = {\n      merge: merge,\n      unmerge: unmerge,\n      splitRows: splitRows\n    };\n\n    var isSpanning = function (grid, row, col, comparator) {\n      var candidate = GridRow.getCell(grid[row], col);\n      var matching = curry(comparator, candidate.element());\n      var currentRow = grid[row];\n      return grid.length > 1 && GridRow.cellLength(currentRow) > 1 && (col > 0 && matching(GridRow.getCellElement(currentRow, col - 1)) || col < currentRow.cells().length - 1 && matching(GridRow.getCellElement(currentRow, col + 1)) || row > 0 && matching(GridRow.getCellElement(grid[row - 1], col)) || row < grid.length - 1 && matching(GridRow.getCellElement(grid[row + 1], col)));\n    };\n    var mergeTables = function (startAddress, gridA, gridB, generator, comparator) {\n      var startRow = startAddress.row();\n      var startCol = startAddress.column();\n      var mergeHeight = gridB.length;\n      var mergeWidth = GridRow.cellLength(gridB[0]);\n      var endRow = startRow + mergeHeight;\n      var endCol = startCol + mergeWidth;\n      for (var r = startRow; r < endRow; r++) {\n        for (var c = startCol; c < endCol; c++) {\n          if (isSpanning(gridA, r, c, comparator)) {\n            MergingOperations.unmerge(gridA, GridRow.getCellElement(gridA[r], c), comparator, generator.cell);\n          }\n          var newCell = GridRow.getCellElement(gridB[r - startRow], c - startCol);\n          var replacement = generator.replace(newCell);\n          GridRow.mutateCell(gridA[r], c, elementnew(replacement, true));\n        }\n      }\n      return gridA;\n    };\n    var merge$1 = function (startAddress, gridA, gridB, generator, comparator) {\n      var result = Fitment.measure(startAddress, gridA, gridB);\n      return result.map(function (delta) {\n        var fittedGrid = Fitment.tailor(gridA, delta, generator);\n        return mergeTables(startAddress, fittedGrid, gridB, generator, comparator);\n      });\n    };\n    var insert = function (index, gridA, gridB, generator, comparator) {\n      MergingOperations.splitRows(gridA, index, comparator, generator.cell);\n      var delta = Fitment.measureWidth(gridB, gridA);\n      var fittedNewGrid = Fitment.tailor(gridB, delta, generator);\n      var secondDelta = Fitment.measureWidth(gridA, fittedNewGrid);\n      var fittedOldGrid = Fitment.tailor(gridA, secondDelta, generator);\n      return fittedOldGrid.slice(0, index).concat(fittedNewGrid).concat(fittedOldGrid.slice(index, fittedOldGrid.length));\n    };\n    var TableMerge = {\n      merge: merge$1,\n      insert: insert\n    };\n\n    var insertRowAt = function (grid, index, example, comparator, substitution) {\n      var before = grid.slice(0, index);\n      var after = grid.slice(index);\n      var between = GridRow.mapCells(grid[example], function (ex, c) {\n        var withinSpan = index > 0 && index < grid.length && comparator(GridRow.getCellElement(grid[index - 1], c), GridRow.getCellElement(grid[index], c));\n        var ret = withinSpan ? GridRow.getCell(grid[index], c) : elementnew(substitution(ex.element(), comparator), true);\n        return ret;\n      });\n      return before.concat([between]).concat(after);\n    };\n    var insertColumnAt = function (grid, index, example, comparator, substitution) {\n      return map(grid, function (row) {\n        var withinSpan = index > 0 && index < GridRow.cellLength(row) && comparator(GridRow.getCellElement(row, index - 1), GridRow.getCellElement(row, index));\n        var sub = withinSpan ? GridRow.getCell(row, index) : elementnew(substitution(GridRow.getCellElement(row, example), comparator), true);\n        return GridRow.addCell(row, index, sub);\n      });\n    };\n    var splitCellIntoColumns = function (grid, exampleRow, exampleCol, comparator, substitution) {\n      var index = exampleCol + 1;\n      return map(grid, function (row, i) {\n        var isTargetCell = i === exampleRow;\n        var sub = isTargetCell ? elementnew(substitution(GridRow.getCellElement(row, exampleCol), comparator), true) : GridRow.getCell(row, exampleCol);\n        return GridRow.addCell(row, index, sub);\n      });\n    };\n    var splitCellIntoRows = function (grid, exampleRow, exampleCol, comparator, substitution) {\n      var index = exampleRow + 1;\n      var before = grid.slice(0, index);\n      var after = grid.slice(index);\n      var between = GridRow.mapCells(grid[exampleRow], function (ex, i) {\n        var isTargetCell = i === exampleCol;\n        return isTargetCell ? elementnew(substitution(ex.element(), comparator), true) : ex;\n      });\n      return before.concat([between]).concat(after);\n    };\n    var deleteColumnsAt = function (grid, start, finish) {\n      var rows = map(grid, function (row) {\n        var cells = row.cells().slice(0, start).concat(row.cells().slice(finish + 1));\n        return rowcells(cells, row.section());\n      });\n      return filter(rows, function (row) {\n        return row.cells().length > 0;\n      });\n    };\n    var deleteRowsAt = function (grid, start, finish) {\n      return grid.slice(0, start).concat(grid.slice(finish + 1));\n    };\n    var ModificationOperations = {\n      insertRowAt: insertRowAt,\n      insertColumnAt: insertColumnAt,\n      splitCellIntoColumns: splitCellIntoColumns,\n      splitCellIntoRows: splitCellIntoRows,\n      deleteRowsAt: deleteRowsAt,\n      deleteColumnsAt: deleteColumnsAt\n    };\n\n    var replaceIn = function (grid, targets, comparator, substitution) {\n      var isTarget = function (cell) {\n        return exists(targets, function (target) {\n          return comparator(cell.element(), target.element());\n        });\n      };\n      return map(grid, function (row) {\n        return GridRow.mapCells(row, function (cell) {\n          return isTarget(cell) ? elementnew(substitution(cell.element(), comparator), true) : cell;\n        });\n      });\n    };\n    var notStartRow = function (grid, rowIndex, colIndex, comparator) {\n      return GridRow.getCellElement(grid[rowIndex], colIndex) !== undefined && (rowIndex > 0 && comparator(GridRow.getCellElement(grid[rowIndex - 1], colIndex), GridRow.getCellElement(grid[rowIndex], colIndex)));\n    };\n    var notStartColumn = function (row, index, comparator) {\n      return index > 0 && comparator(GridRow.getCellElement(row, index - 1), GridRow.getCellElement(row, index));\n    };\n    var replaceColumn = function (grid, index, comparator, substitution) {\n      var targets = bind(grid, function (row, i) {\n        var alreadyAdded = notStartRow(grid, i, index, comparator) || notStartColumn(row, index, comparator);\n        return alreadyAdded ? [] : [GridRow.getCell(row, index)];\n      });\n      return replaceIn(grid, targets, comparator, substitution);\n    };\n    var replaceRow = function (grid, index, comparator, substitution) {\n      var targetRow = grid[index];\n      var targets = bind(targetRow.cells(), function (item, i) {\n        var alreadyAdded = notStartRow(grid, index, i, comparator) || notStartColumn(targetRow, i, comparator);\n        return alreadyAdded ? [] : [item];\n      });\n      return replaceIn(grid, targets, comparator, substitution);\n    };\n    var TransformOperations = {\n      replaceColumn: replaceColumn,\n      replaceRow: replaceRow\n    };\n\n    var adt = Adt.generate([\n      { none: [] },\n      { only: ['index'] },\n      {\n        left: [\n          'index',\n          'next'\n        ]\n      },\n      {\n        middle: [\n          'prev',\n          'index',\n          'next'\n        ]\n      },\n      {\n        right: [\n          'prev',\n          'index'\n        ]\n      }\n    ]);\n    var ColumnContext = __assign({}, adt);\n\n    var neighbours$1 = function (input, index) {\n      if (input.length === 0) {\n        return ColumnContext.none();\n      }\n      if (input.length === 1) {\n        return ColumnContext.only(0);\n      }\n      if (index === 0) {\n        return ColumnContext.left(0, 1);\n      }\n      if (index === input.length - 1) {\n        return ColumnContext.right(index - 1, index);\n      }\n      if (index > 0 && index < input.length - 1) {\n        return ColumnContext.middle(index - 1, index, index + 1);\n      }\n      return ColumnContext.none();\n    };\n    var determine = function (input, column, step, tableSize) {\n      var result = input.slice(0);\n      var context = neighbours$1(input, column);\n      var zero = function (array) {\n        return map(array, constant(0));\n      };\n      var onNone = constant(zero(result));\n      var onOnly = function (index) {\n        return tableSize.singleColumnWidth(result[index], step);\n      };\n      var onChange = function (index, next) {\n        if (step >= 0) {\n          var newNext = Math.max(tableSize.minCellWidth(), result[next] - step);\n          return zero(result.slice(0, index)).concat([\n            step,\n            newNext - result[next]\n          ]).concat(zero(result.slice(next + 1)));\n        } else {\n          var newThis = Math.max(tableSize.minCellWidth(), result[index] + step);\n          var diffx = result[index] - newThis;\n          return zero(result.slice(0, index)).concat([\n            newThis - result[index],\n            diffx\n          ]).concat(zero(result.slice(next + 1)));\n        }\n      };\n      var onLeft = onChange;\n      var onMiddle = function (_prev, index, next) {\n        return onChange(index, next);\n      };\n      var onRight = function (_prev, index) {\n        if (step >= 0) {\n          return zero(result.slice(0, index)).concat([step]);\n        } else {\n          var size = Math.max(tableSize.minCellWidth(), result[index] + step);\n          return zero(result.slice(0, index)).concat([size - result[index]]);\n        }\n      };\n      return context.fold(onNone, onOnly, onLeft, onMiddle, onRight);\n    };\n    var Deltas = { determine: determine };\n\n    var getSpan$1 = function (cell, type) {\n      return has(cell, type) && parseInt(get(cell, type), 10) > 1;\n    };\n    var hasColspan = function (cell) {\n      return getSpan$1(cell, 'colspan');\n    };\n    var hasRowspan = function (cell) {\n      return getSpan$1(cell, 'rowspan');\n    };\n    var getInt = function (element, property) {\n      return parseInt(get$1(element, property), 10);\n    };\n    var CellUtils = {\n      hasColspan: hasColspan,\n      hasRowspan: hasRowspan,\n      minWidth: constant(10),\n      minHeight: constant(10),\n      getInt: getInt\n    };\n\n    var getRaw$1 = function (cell, property, getter) {\n      return getRaw(cell, property).fold(function () {\n        return getter(cell) + 'px';\n      }, function (raw) {\n        return raw;\n      });\n    };\n    var getRawW = function (cell, tableSize) {\n      return getRaw$1(cell, 'width', function (e) {\n        return Sizes.getPixelWidth(e, tableSize);\n      });\n    };\n    var getRawH = function (cell) {\n      return getRaw$1(cell, 'height', Sizes.getHeight);\n    };\n    var getWidthFrom = function (warehouse, direction, getWidth, fallback, tableSize) {\n      var columns = Blocks.columns(warehouse);\n      var backups = map(columns, function (cellOption) {\n        return cellOption.map(direction.edge);\n      });\n      return map(columns, function (cellOption, c) {\n        var columnCell = cellOption.filter(not(CellUtils.hasColspan));\n        return columnCell.fold(function () {\n          var deduced = deduce(backups, c);\n          return fallback(deduced);\n        }, function (cell) {\n          return getWidth(cell, tableSize);\n        });\n      });\n    };\n    var getDeduced = function (deduced) {\n      return deduced.map(function (d) {\n        return d + 'px';\n      }).getOr('');\n    };\n    var getRawWidths = function (warehouse, direction, tableSize) {\n      return getWidthFrom(warehouse, direction, getRawW, getDeduced, tableSize);\n    };\n    var getPercentageWidths = function (warehouse, direction, tableSize) {\n      return getWidthFrom(warehouse, direction, Sizes.getPercentageWidth, function (deduced) {\n        return deduced.fold(function () {\n          return tableSize.minCellWidth();\n        }, function (cellWidth) {\n          return cellWidth / tableSize.pixelWidth() * 100;\n        });\n      }, tableSize);\n    };\n    var getPixelWidths = function (warehouse, direction, tableSize) {\n      return getWidthFrom(warehouse, direction, Sizes.getPixelWidth, function (deduced) {\n        return deduced.getOrThunk(tableSize.minCellWidth);\n      }, tableSize);\n    };\n    var getHeightFrom = function (warehouse, direction, getHeight, fallback) {\n      var rows = Blocks.rows(warehouse);\n      var backups = map(rows, function (cellOption) {\n        return cellOption.map(direction.edge);\n      });\n      return map(rows, function (cellOption, c) {\n        var rowCell = cellOption.filter(not(CellUtils.hasRowspan));\n        return rowCell.fold(function () {\n          var deduced = deduce(backups, c);\n          return fallback(deduced);\n        }, function (cell) {\n          return getHeight(cell);\n        });\n      });\n    };\n    var getPixelHeights = function (warehouse, direction) {\n      return getHeightFrom(warehouse, direction, Sizes.getHeight, function (deduced) {\n        return deduced.getOrThunk(CellUtils.minHeight);\n      });\n    };\n    var getRawHeights = function (warehouse, direction) {\n      return getHeightFrom(warehouse, direction, getRawH, getDeduced);\n    };\n    var ColumnSizes = {\n      getRawWidths: getRawWidths,\n      getPixelWidths: getPixelWidths,\n      getPercentageWidths: getPercentageWidths,\n      getPixelHeights: getPixelHeights,\n      getRawHeights: getRawHeights\n    };\n\n    var total = function (start, end, measures) {\n      var r = 0;\n      for (var i = start; i < end; i++) {\n        r += measures[i] !== undefined ? measures[i] : 0;\n      }\n      return r;\n    };\n    var recalculateWidth = function (warehouse, widths) {\n      var all = Warehouse.justCells(warehouse);\n      return map(all, function (cell) {\n        var width = total(cell.column(), cell.column() + cell.colspan(), widths);\n        return {\n          element: cell.element,\n          width: constant(width),\n          colspan: cell.colspan\n        };\n      });\n    };\n    var recalculateHeight = function (warehouse, heights) {\n      var all = Warehouse.justCells(warehouse);\n      return map(all, function (cell) {\n        var height = total(cell.row(), cell.row() + cell.rowspan(), heights);\n        return {\n          element: cell.element,\n          height: constant(height),\n          rowspan: cell.rowspan\n        };\n      });\n    };\n    var matchRowHeight = function (warehouse, heights) {\n      return map(warehouse.all(), function (row, i) {\n        return {\n          element: row.element,\n          height: constant(heights[i])\n        };\n      });\n    };\n    var Recalculations = {\n      recalculateWidth: recalculateWidth,\n      recalculateHeight: recalculateHeight,\n      matchRowHeight: matchRowHeight\n    };\n\n    var percentageSize = function (width, element) {\n      var floatWidth = parseFloat(width);\n      var pixelWidth = get$4(element);\n      var getCellDelta = function (delta) {\n        return delta / pixelWidth * 100;\n      };\n      var singleColumnWidth = function (w, _delta) {\n        return [100 - w];\n      };\n      var minCellWidth = function () {\n        return CellUtils.minWidth() / pixelWidth * 100;\n      };\n      var setTableWidth = function (table, _newWidths, delta) {\n        var ratio = delta / 100;\n        var change = ratio * floatWidth;\n        Sizes.setPercentageWidth(table, floatWidth + change);\n      };\n      return {\n        width: constant(floatWidth),\n        pixelWidth: constant(pixelWidth),\n        getWidths: ColumnSizes.getPercentageWidths,\n        getCellDelta: getCellDelta,\n        singleColumnWidth: singleColumnWidth,\n        minCellWidth: minCellWidth,\n        setElementWidth: Sizes.setPercentageWidth,\n        setTableWidth: setTableWidth\n      };\n    };\n    var pixelSize = function (width) {\n      var getCellDelta = identity;\n      var singleColumnWidth = function (w, delta) {\n        var newNext = Math.max(CellUtils.minWidth(), w + delta);\n        return [newNext - w];\n      };\n      var setTableWidth = function (table, newWidths, _delta) {\n        var total = foldr(newWidths, function (b, a) {\n          return b + a;\n        }, 0);\n        Sizes.setPixelWidth(table, total);\n      };\n      return {\n        width: constant(width),\n        pixelWidth: constant(width),\n        getWidths: ColumnSizes.getPixelWidths,\n        getCellDelta: getCellDelta,\n        singleColumnWidth: singleColumnWidth,\n        minCellWidth: CellUtils.minWidth,\n        setElementWidth: Sizes.setPixelWidth,\n        setTableWidth: setTableWidth\n      };\n    };\n    var chooseSize = function (element, width) {\n      var percentMatch = Sizes.percentageBasedSizeRegex().exec(width);\n      if (percentMatch !== null) {\n        return percentageSize(percentMatch[1], element);\n      }\n      var pixelMatch = Sizes.pixelBasedSizeRegex().exec(width);\n      if (pixelMatch !== null) {\n        var intWidth = parseInt(pixelMatch[1], 10);\n        return pixelSize(intWidth);\n      }\n      var fallbackWidth = get$4(element);\n      return pixelSize(fallbackWidth);\n    };\n    var getTableSize = function (element) {\n      var width = Sizes.getRawWidth(element);\n      return width.fold(function () {\n        var fallbackWidth = get$4(element);\n        return pixelSize(fallbackWidth);\n      }, function (w) {\n        return chooseSize(element, w);\n      });\n    };\n    var TableSize = { getTableSize: getTableSize };\n\n    var getWarehouse$1 = function (list) {\n      return Warehouse.generate(list);\n    };\n    var sumUp = function (newSize) {\n      return foldr(newSize, function (b, a) {\n        return b + a;\n      }, 0);\n    };\n    var getTableWarehouse = function (table) {\n      var list = DetailsList.fromTable(table);\n      return getWarehouse$1(list);\n    };\n    var adjustWidth = function (table, delta, index, direction) {\n      var tableSize = TableSize.getTableSize(table);\n      var step = tableSize.getCellDelta(delta);\n      var warehouse = getTableWarehouse(table);\n      var widths = tableSize.getWidths(warehouse, direction, tableSize);\n      var deltas = Deltas.determine(widths, index, step, tableSize);\n      var newWidths = map(deltas, function (dx, i) {\n        return dx + widths[i];\n      });\n      var newSizes = Recalculations.recalculateWidth(warehouse, newWidths);\n      each(newSizes, function (cell) {\n        tableSize.setElementWidth(cell.element(), cell.width());\n      });\n      if (index === warehouse.grid().columns() - 1) {\n        tableSize.setTableWidth(table, newWidths, step);\n      }\n    };\n    var adjustHeight = function (table, delta, index, direction) {\n      var warehouse = getTableWarehouse(table);\n      var heights = ColumnSizes.getPixelHeights(warehouse, direction);\n      var newHeights = map(heights, function (dy, i) {\n        return index === i ? Math.max(delta + dy, CellUtils.minHeight()) : dy;\n      });\n      var newCellSizes = Recalculations.recalculateHeight(warehouse, newHeights);\n      var newRowSizes = Recalculations.matchRowHeight(warehouse, newHeights);\n      each(newRowSizes, function (row) {\n        Sizes.setHeight(row.element(), row.height());\n      });\n      each(newCellSizes, function (cell) {\n        Sizes.setHeight(cell.element(), cell.height());\n      });\n      var total = sumUp(newHeights);\n      Sizes.setHeight(table, total);\n    };\n    var adjustWidthTo = function (table, list, direction) {\n      var tableSize = TableSize.getTableSize(table);\n      var warehouse = getWarehouse$1(list);\n      var widths = tableSize.getWidths(warehouse, direction, tableSize);\n      var newSizes = Recalculations.recalculateWidth(warehouse, widths);\n      each(newSizes, function (cell) {\n        tableSize.setElementWidth(cell.element(), cell.width());\n      });\n      if (newSizes.length > 0) {\n        tableSize.setTableWidth(table, widths, tableSize.getCellDelta(0));\n      }\n    };\n    var Adjustments = {\n      adjustWidth: adjustWidth,\n      adjustHeight: adjustHeight,\n      adjustWidthTo: adjustWidthTo\n    };\n\n    var Cell = function (initial) {\n      var value = initial;\n      var get = function () {\n        return value;\n      };\n      var set = function (v) {\n        value = v;\n      };\n      var clone = function () {\n        return Cell(get());\n      };\n      return {\n        get: get,\n        set: set,\n        clone: clone\n      };\n    };\n\n    var base = function (handleUnsupported, required) {\n      return baseWith(handleUnsupported, required, {\n        validate: isFunction,\n        label: 'function'\n      });\n    };\n    var baseWith = function (handleUnsupported, required, pred) {\n      if (required.length === 0) {\n        throw new Error('You must specify at least one required field.');\n      }\n      validateStrArr('required', required);\n      checkDupes(required);\n      return function (obj) {\n        var keys$1 = keys(obj);\n        var allReqd = forall(required, function (req) {\n          return contains(keys$1, req);\n        });\n        if (!allReqd) {\n          reqMessage(required, keys$1);\n        }\n        handleUnsupported(required, keys$1);\n        var invalidKeys = filter(required, function (key) {\n          return !pred.validate(obj[key], key);\n        });\n        if (invalidKeys.length > 0) {\n          invalidTypeMessage(invalidKeys, pred.label);\n        }\n        return obj;\n      };\n    };\n    var handleExact = function (required, keys) {\n      var unsupported = filter(keys, function (key) {\n        return !contains(required, key);\n      });\n      if (unsupported.length > 0) {\n        unsuppMessage(unsupported);\n      }\n    };\n    var exactly = function (required) {\n      return base(handleExact, required);\n    };\n\n    var verifyGenerators = exactly([\n      'cell',\n      'row',\n      'replace',\n      'gap'\n    ]);\n    var elementToData = function (element) {\n      var colspan = has(element, 'colspan') ? parseInt(get(element, 'colspan'), 10) : 1;\n      var rowspan = has(element, 'rowspan') ? parseInt(get(element, 'rowspan'), 10) : 1;\n      return {\n        element: constant(element),\n        colspan: constant(colspan),\n        rowspan: constant(rowspan)\n      };\n    };\n    var modification = function (generators, toData) {\n      if (toData === void 0) {\n        toData = elementToData;\n      }\n      verifyGenerators(generators);\n      var position = Cell(Option.none());\n      var nu = function (data) {\n        return generators.cell(data);\n      };\n      var nuFrom = function (element) {\n        var data = toData(element);\n        return nu(data);\n      };\n      var add = function (element) {\n        var replacement = nuFrom(element);\n        if (position.get().isNone()) {\n          position.set(Option.some(replacement));\n        }\n        recent = Option.some({\n          item: element,\n          replacement: replacement\n        });\n        return replacement;\n      };\n      var recent = Option.none();\n      var getOrInit = function (element, comparator) {\n        return recent.fold(function () {\n          return add(element);\n        }, function (p) {\n          return comparator(element, p.item) ? p.replacement : add(element);\n        });\n      };\n      return {\n        getOrInit: getOrInit,\n        cursor: position.get\n      };\n    };\n    var transform = function (scope, tag) {\n      return function (generators) {\n        var position = Cell(Option.none());\n        verifyGenerators(generators);\n        var list = [];\n        var find$1 = function (element, comparator) {\n          return find(list, function (x) {\n            return comparator(x.item, element);\n          });\n        };\n        var makeNew = function (element) {\n          var attrs = { scope: scope };\n          var cell = generators.replace(element, tag, attrs);\n          list.push({\n            item: element,\n            sub: cell\n          });\n          if (position.get().isNone()) {\n            position.set(Option.some(cell));\n          }\n          return cell;\n        };\n        var replaceOrInit = function (element, comparator) {\n          return find$1(element, comparator).fold(function () {\n            return makeNew(element);\n          }, function (p) {\n            return comparator(element, p.item) ? p.sub : makeNew(element);\n          });\n        };\n        return {\n          replaceOrInit: replaceOrInit,\n          cursor: position.get\n        };\n      };\n    };\n    var merging = function (generators) {\n      verifyGenerators(generators);\n      var position = Cell(Option.none());\n      var combine = function (cell) {\n        if (position.get().isNone()) {\n          position.set(Option.some(cell));\n        }\n        return function () {\n          var raw = generators.cell({\n            element: constant(cell),\n            colspan: constant(1),\n            rowspan: constant(1)\n          });\n          remove$1(raw, 'width');\n          remove$1(cell, 'width');\n          return raw;\n        };\n      };\n      return {\n        combine: combine,\n        cursor: position.get\n      };\n    };\n    var Generators = {\n      modification: modification,\n      transform: transform,\n      merging: merging\n    };\n\n    var blockList = [\n      'body',\n      'p',\n      'div',\n      'article',\n      'aside',\n      'figcaption',\n      'figure',\n      'footer',\n      'header',\n      'nav',\n      'section',\n      'ol',\n      'ul',\n      'table',\n      'thead',\n      'tfoot',\n      'tbody',\n      'caption',\n      'tr',\n      'td',\n      'th',\n      'h1',\n      'h2',\n      'h3',\n      'h4',\n      'h5',\n      'h6',\n      'blockquote',\n      'pre',\n      'address'\n    ];\n    var isList = function (universe, item) {\n      var tagName = universe.property().name(item);\n      return contains([\n        'ol',\n        'ul'\n      ], tagName);\n    };\n    var isBlock = function (universe, item) {\n      var tagName = universe.property().name(item);\n      return contains(blockList, tagName);\n    };\n    var isFormatting = function (universe, item) {\n      var tagName = universe.property().name(item);\n      return contains([\n        'address',\n        'pre',\n        'p',\n        'h1',\n        'h2',\n        'h3',\n        'h4',\n        'h5',\n        'h6'\n      ], tagName);\n    };\n    var isHeading = function (universe, item) {\n      var tagName = universe.property().name(item);\n      return contains([\n        'h1',\n        'h2',\n        'h3',\n        'h4',\n        'h5',\n        'h6'\n      ], tagName);\n    };\n    var isContainer = function (universe, item) {\n      return contains([\n        'div',\n        'li',\n        'td',\n        'th',\n        'blockquote',\n        'body',\n        'caption'\n      ], universe.property().name(item));\n    };\n    var isEmptyTag = function (universe, item) {\n      return contains([\n        'br',\n        'img',\n        'hr',\n        'input'\n      ], universe.property().name(item));\n    };\n    var isFrame = function (universe, item) {\n      return universe.property().name(item) === 'iframe';\n    };\n    var isInline = function (universe, item) {\n      return !(isBlock(universe, item) || isEmptyTag(universe, item)) && universe.property().name(item) !== 'li';\n    };\n    var Structure = {\n      isBlock: isBlock,\n      isList: isList,\n      isFormatting: isFormatting,\n      isHeading: isHeading,\n      isContainer: isContainer,\n      isEmptyTag: isEmptyTag,\n      isFrame: isFrame,\n      isInline: isInline\n    };\n\n    var universe$1 = DomUniverse();\n    var isBlock$1 = function (element) {\n      return Structure.isBlock(universe$1, element);\n    };\n    var isList$1 = function (element) {\n      return Structure.isList(universe$1, element);\n    };\n    var isFormatting$1 = function (element) {\n      return Structure.isFormatting(universe$1, element);\n    };\n    var isHeading$1 = function (element) {\n      return Structure.isHeading(universe$1, element);\n    };\n    var isContainer$1 = function (element) {\n      return Structure.isContainer(universe$1, element);\n    };\n    var isEmptyTag$1 = function (element) {\n      return Structure.isEmptyTag(universe$1, element);\n    };\n    var isFrame$1 = function (element) {\n      return Structure.isFrame(universe$1, element);\n    };\n    var isInline$1 = function (element) {\n      return Structure.isInline(universe$1, element);\n    };\n    var DomStructure = {\n      isBlock: isBlock$1,\n      isList: isList$1,\n      isFormatting: isFormatting$1,\n      isHeading: isHeading$1,\n      isContainer: isContainer$1,\n      isEmptyTag: isEmptyTag$1,\n      isFrame: isFrame$1,\n      isInline: isInline$1\n    };\n\n    var merge$2 = function (cells) {\n      var isBr = function (el) {\n        return name(el) === 'br';\n      };\n      var advancedBr = function (children) {\n        return forall(children, function (c) {\n          return isBr(c) || isText(c) && get$2(c).trim().length === 0;\n        });\n      };\n      var isListItem = function (el) {\n        return name(el) === 'li' || ancestor(el, DomStructure.isList).isSome();\n      };\n      var siblingIsBlock = function (el) {\n        return nextSibling(el).map(function (rightSibling) {\n          if (DomStructure.isBlock(rightSibling)) {\n            return true;\n          }\n          if (DomStructure.isEmptyTag(rightSibling)) {\n            return name(rightSibling) === 'img' ? false : true;\n          }\n          return false;\n        }).getOr(false);\n      };\n      var markCell = function (cell) {\n        return last$1(cell).bind(function (rightEdge) {\n          var rightSiblingIsBlock = siblingIsBlock(rightEdge);\n          return parent(rightEdge).map(function (parent) {\n            return rightSiblingIsBlock === true || isListItem(parent) || isBr(rightEdge) || DomStructure.isBlock(parent) && !eq(cell, parent) ? [] : [Element.fromTag('br')];\n          });\n        }).getOr([]);\n      };\n      var markContent = function () {\n        var content = bind(cells, function (cell) {\n          var children$1 = children(cell);\n          return advancedBr(children$1) ? [] : children$1.concat(markCell(cell));\n        });\n        return content.length === 0 ? [Element.fromTag('br')] : content;\n      };\n      var contents = markContent();\n      empty(cells[0]);\n      append$1(cells[0], contents);\n    };\n    var TableContent = { merge: merge$2 };\n\n    var prune = function (table) {\n      var cells = TableLookup.cells(table);\n      if (cells.length === 0) {\n        remove$2(table);\n      }\n    };\n    var outcome = Immutable('grid', 'cursor');\n    var elementFromGrid = function (grid, row, column) {\n      return findIn(grid, row, column).orThunk(function () {\n        return findIn(grid, 0, 0);\n      });\n    };\n    var findIn = function (grid, row, column) {\n      return Option.from(grid[row]).bind(function (r) {\n        return Option.from(r.cells()[column]).bind(function (c) {\n          return Option.from(c.element());\n        });\n      });\n    };\n    var bundle = function (grid, row, column) {\n      return outcome(grid, findIn(grid, row, column));\n    };\n    var uniqueRows = function (details) {\n      return foldl(details, function (rest, detail) {\n        return exists(rest, function (currentDetail) {\n          return currentDetail.row() === detail.row();\n        }) ? rest : rest.concat([detail]);\n      }, []).sort(function (detailA, detailB) {\n        return detailA.row() - detailB.row();\n      });\n    };\n    var uniqueColumns = function (details) {\n      return foldl(details, function (rest, detail) {\n        return exists(rest, function (currentDetail) {\n          return currentDetail.column() === detail.column();\n        }) ? rest : rest.concat([detail]);\n      }, []).sort(function (detailA, detailB) {\n        return detailA.column() - detailB.column();\n      });\n    };\n    var insertRowBefore = function (grid, detail, comparator, genWrappers) {\n      var example = detail.row();\n      var targetIndex = detail.row();\n      var newGrid = ModificationOperations.insertRowAt(grid, targetIndex, example, comparator, genWrappers.getOrInit);\n      return bundle(newGrid, targetIndex, detail.column());\n    };\n    var insertRowsBefore = function (grid, details, comparator, genWrappers) {\n      var example = details[0].row();\n      var targetIndex = details[0].row();\n      var rows = uniqueRows(details);\n      var newGrid = foldl(rows, function (newG, _row) {\n        return ModificationOperations.insertRowAt(newG, targetIndex, example, comparator, genWrappers.getOrInit);\n      }, grid);\n      return bundle(newGrid, targetIndex, details[0].column());\n    };\n    var insertRowAfter = function (grid, detail, comparator, genWrappers) {\n      var example = detail.row();\n      var targetIndex = detail.row() + detail.rowspan();\n      var newGrid = ModificationOperations.insertRowAt(grid, targetIndex, example, comparator, genWrappers.getOrInit);\n      return bundle(newGrid, targetIndex, detail.column());\n    };\n    var insertRowsAfter = function (grid, details, comparator, genWrappers) {\n      var rows = uniqueRows(details);\n      var example = rows[rows.length - 1].row();\n      var targetIndex = rows[rows.length - 1].row() + rows[rows.length - 1].rowspan();\n      var newGrid = foldl(rows, function (newG, _row) {\n        return ModificationOperations.insertRowAt(newG, targetIndex, example, comparator, genWrappers.getOrInit);\n      }, grid);\n      return bundle(newGrid, targetIndex, details[0].column());\n    };\n    var insertColumnBefore = function (grid, detail, comparator, genWrappers) {\n      var example = detail.column();\n      var targetIndex = detail.column();\n      var newGrid = ModificationOperations.insertColumnAt(grid, targetIndex, example, comparator, genWrappers.getOrInit);\n      return bundle(newGrid, detail.row(), targetIndex);\n    };\n    var insertColumnsBefore = function (grid, details, comparator, genWrappers) {\n      var columns = uniqueColumns(details);\n      var example = columns[0].column();\n      var targetIndex = columns[0].column();\n      var newGrid = foldl(columns, function (newG, _row) {\n        return ModificationOperations.insertColumnAt(newG, targetIndex, example, comparator, genWrappers.getOrInit);\n      }, grid);\n      return bundle(newGrid, details[0].row(), targetIndex);\n    };\n    var insertColumnAfter = function (grid, detail, comparator, genWrappers) {\n      var example = detail.column();\n      var targetIndex = detail.column() + detail.colspan();\n      var newGrid = ModificationOperations.insertColumnAt(grid, targetIndex, example, comparator, genWrappers.getOrInit);\n      return bundle(newGrid, detail.row(), targetIndex);\n    };\n    var insertColumnsAfter = function (grid, details, comparator, genWrappers) {\n      var example = details[details.length - 1].column();\n      var targetIndex = details[details.length - 1].column() + details[details.length - 1].colspan();\n      var columns = uniqueColumns(details);\n      var newGrid = foldl(columns, function (newG, _row) {\n        return ModificationOperations.insertColumnAt(newG, targetIndex, example, comparator, genWrappers.getOrInit);\n      }, grid);\n      return bundle(newGrid, details[0].row(), targetIndex);\n    };\n    var makeRowHeader = function (grid, detail, comparator, genWrappers) {\n      var newGrid = TransformOperations.replaceRow(grid, detail.row(), comparator, genWrappers.replaceOrInit);\n      return bundle(newGrid, detail.row(), detail.column());\n    };\n    var makeColumnHeader = function (grid, detail, comparator, genWrappers) {\n      var newGrid = TransformOperations.replaceColumn(grid, detail.column(), comparator, genWrappers.replaceOrInit);\n      return bundle(newGrid, detail.row(), detail.column());\n    };\n    var unmakeRowHeader = function (grid, detail, comparator, genWrappers) {\n      var newGrid = TransformOperations.replaceRow(grid, detail.row(), comparator, genWrappers.replaceOrInit);\n      return bundle(newGrid, detail.row(), detail.column());\n    };\n    var unmakeColumnHeader = function (grid, detail, comparator, genWrappers) {\n      var newGrid = TransformOperations.replaceColumn(grid, detail.column(), comparator, genWrappers.replaceOrInit);\n      return bundle(newGrid, detail.row(), detail.column());\n    };\n    var splitCellIntoColumns$1 = function (grid, detail, comparator, genWrappers) {\n      var newGrid = ModificationOperations.splitCellIntoColumns(grid, detail.row(), detail.column(), comparator, genWrappers.getOrInit);\n      return bundle(newGrid, detail.row(), detail.column());\n    };\n    var splitCellIntoRows$1 = function (grid, detail, comparator, genWrappers) {\n      var newGrid = ModificationOperations.splitCellIntoRows(grid, detail.row(), detail.column(), comparator, genWrappers.getOrInit);\n      return bundle(newGrid, detail.row(), detail.column());\n    };\n    var eraseColumns = function (grid, details, _comparator, _genWrappers) {\n      var columns = uniqueColumns(details);\n      var newGrid = ModificationOperations.deleteColumnsAt(grid, columns[0].column(), columns[columns.length - 1].column());\n      var cursor = elementFromGrid(newGrid, details[0].row(), details[0].column());\n      return outcome(newGrid, cursor);\n    };\n    var eraseRows = function (grid, details, _comparator, _genWrappers) {\n      var rows = uniqueRows(details);\n      var newGrid = ModificationOperations.deleteRowsAt(grid, rows[0].row(), rows[rows.length - 1].row());\n      var cursor = elementFromGrid(newGrid, details[0].row(), details[0].column());\n      return outcome(newGrid, cursor);\n    };\n    var mergeCells = function (grid, mergable, comparator, _genWrappers) {\n      var cells = mergable.cells();\n      TableContent.merge(cells);\n      var newGrid = MergingOperations.merge(grid, mergable.bounds(), comparator, constant(cells[0]));\n      return outcome(newGrid, Option.from(cells[0]));\n    };\n    var unmergeCells = function (grid, unmergable, comparator, genWrappers) {\n      var newGrid = foldr(unmergable, function (b, cell) {\n        return MergingOperations.unmerge(b, cell, comparator, genWrappers.combine(cell));\n      }, grid);\n      return outcome(newGrid, Option.from(unmergable[0]));\n    };\n    var pasteCells = function (grid, pasteDetails, comparator, _genWrappers) {\n      var gridify = function (table, generators) {\n        var list = DetailsList.fromTable(table);\n        var wh = Warehouse.generate(list);\n        return Transitions.toGrid(wh, generators, true);\n      };\n      var gridB = gridify(pasteDetails.clipboard(), pasteDetails.generators());\n      var startAddress = address(pasteDetails.row(), pasteDetails.column());\n      var mergedGrid = TableMerge.merge(startAddress, grid, gridB, pasteDetails.generators(), comparator);\n      return mergedGrid.fold(function () {\n        return outcome(grid, Option.some(pasteDetails.element()));\n      }, function (nuGrid) {\n        var cursor = elementFromGrid(nuGrid, pasteDetails.row(), pasteDetails.column());\n        return outcome(nuGrid, cursor);\n      });\n    };\n    var gridifyRows = function (rows, generators, example) {\n      var pasteDetails = DetailsList.fromPastedRows(rows, example);\n      var wh = Warehouse.generate(pasteDetails);\n      return Transitions.toGrid(wh, generators, true);\n    };\n    var pasteRowsBefore = function (grid, pasteDetails, comparator, _genWrappers) {\n      var example = grid[pasteDetails.cells[0].row()];\n      var index = pasteDetails.cells[0].row();\n      var gridB = gridifyRows(pasteDetails.clipboard(), pasteDetails.generators(), example);\n      var mergedGrid = TableMerge.insert(index, grid, gridB, pasteDetails.generators(), comparator);\n      var cursor = elementFromGrid(mergedGrid, pasteDetails.cells[0].row(), pasteDetails.cells[0].column());\n      return outcome(mergedGrid, cursor);\n    };\n    var pasteRowsAfter = function (grid, pasteDetails, comparator, _genWrappers) {\n      var example = grid[pasteDetails.cells[0].row()];\n      var index = pasteDetails.cells[pasteDetails.cells.length - 1].row() + pasteDetails.cells[pasteDetails.cells.length - 1].rowspan();\n      var gridB = gridifyRows(pasteDetails.clipboard(), pasteDetails.generators(), example);\n      var mergedGrid = TableMerge.insert(index, grid, gridB, pasteDetails.generators(), comparator);\n      var cursor = elementFromGrid(mergedGrid, pasteDetails.cells[0].row(), pasteDetails.cells[0].column());\n      return outcome(mergedGrid, cursor);\n    };\n    var resize = Adjustments.adjustWidthTo;\n    var TableOperations = {\n      insertRowBefore: run(insertRowBefore, onCell, noop, noop, Generators.modification),\n      insertRowsBefore: run(insertRowsBefore, onCells, noop, noop, Generators.modification),\n      insertRowAfter: run(insertRowAfter, onCell, noop, noop, Generators.modification),\n      insertRowsAfter: run(insertRowsAfter, onCells, noop, noop, Generators.modification),\n      insertColumnBefore: run(insertColumnBefore, onCell, resize, noop, Generators.modification),\n      insertColumnsBefore: run(insertColumnsBefore, onCells, resize, noop, Generators.modification),\n      insertColumnAfter: run(insertColumnAfter, onCell, resize, noop, Generators.modification),\n      insertColumnsAfter: run(insertColumnsAfter, onCells, resize, noop, Generators.modification),\n      splitCellIntoColumns: run(splitCellIntoColumns$1, onCell, resize, noop, Generators.modification),\n      splitCellIntoRows: run(splitCellIntoRows$1, onCell, noop, noop, Generators.modification),\n      eraseColumns: run(eraseColumns, onCells, resize, prune, Generators.modification),\n      eraseRows: run(eraseRows, onCells, noop, prune, Generators.modification),\n      makeColumnHeader: run(makeColumnHeader, onCell, noop, noop, Generators.transform('row', 'th')),\n      unmakeColumnHeader: run(unmakeColumnHeader, onCell, noop, noop, Generators.transform(null, 'td')),\n      makeRowHeader: run(makeRowHeader, onCell, noop, noop, Generators.transform('col', 'th')),\n      unmakeRowHeader: run(unmakeRowHeader, onCell, noop, noop, Generators.transform(null, 'td')),\n      mergeCells: run(mergeCells, onMergable, noop, noop, Generators.merging),\n      unmergeCells: run(unmergeCells, onUnmergable, resize, noop, Generators.merging),\n      pasteCells: run(pasteCells, onPaste, resize, noop, Generators.modification),\n      pasteRowsBefore: run(pasteRowsBefore, onPasteRows, noop, noop, Generators.modification),\n      pasteRowsAfter: run(pasteRowsAfter, onPasteRows, noop, noop, Generators.modification)\n    };\n\n    var getBody$1 = function (editor) {\n      return Element.fromDom(editor.getBody());\n    };\n    var getPixelWidth$1 = function (elm) {\n      return elm.getBoundingClientRect().width;\n    };\n    var getPixelHeight = function (elm) {\n      return elm.getBoundingClientRect().height;\n    };\n    var getIsRoot = function (editor) {\n      return function (element) {\n        return eq(element, getBody$1(editor));\n      };\n    };\n    var removePxSuffix = function (size) {\n      return size ? size.replace(/px$/, '') : '';\n    };\n    var addSizeSuffix = function (size) {\n      if (/^[0-9]+$/.test(size)) {\n        size += 'px';\n      }\n      return size;\n    };\n    var removeDataStyle = function (table) {\n      var dataStyleCells = descendants$1(table, 'td[data-mce-style],th[data-mce-style]');\n      remove(table, 'data-mce-style');\n      each(dataStyleCells, function (cell) {\n        remove(cell, 'data-mce-style');\n      });\n    };\n\n    var getDirection = function (element) {\n      return get$1(element, 'direction') === 'rtl' ? 'rtl' : 'ltr';\n    };\n\n    var ltr$1 = { isRtl: constant(false) };\n    var rtl$1 = { isRtl: constant(true) };\n    var directionAt = function (element) {\n      var dir = getDirection(element);\n      return dir === 'rtl' ? rtl$1 : ltr$1;\n    };\n    var Direction = { directionAt: directionAt };\n\n    var defaultTableToolbar = [\n      'tableprops',\n      'tabledelete',\n      '|',\n      'tableinsertrowbefore',\n      'tableinsertrowafter',\n      'tabledeleterow',\n      '|',\n      'tableinsertcolbefore',\n      'tableinsertcolafter',\n      'tabledeletecol'\n    ];\n    var defaultStyles = {\n      'border-collapse': 'collapse',\n      'width': '100%'\n    };\n    var defaultAttributes = { border: '1' };\n    var getDefaultAttributes = function (editor) {\n      return editor.getParam('table_default_attributes', defaultAttributes, 'object');\n    };\n    var getDefaultStyles = function (editor) {\n      return editor.getParam('table_default_styles', defaultStyles, 'object');\n    };\n    var hasTableResizeBars = function (editor) {\n      return editor.getParam('table_resize_bars', true, 'boolean');\n    };\n    var hasTabNavigation = function (editor) {\n      return editor.getParam('table_tab_navigation', true, 'boolean');\n    };\n    var hasAdvancedCellTab = function (editor) {\n      return editor.getParam('table_cell_advtab', true, 'boolean');\n    };\n    var hasAdvancedRowTab = function (editor) {\n      return editor.getParam('table_row_advtab', true, 'boolean');\n    };\n    var hasAdvancedTableTab = function (editor) {\n      return editor.getParam('table_advtab', true, 'boolean');\n    };\n    var hasAppearanceOptions = function (editor) {\n      return editor.getParam('table_appearance_options', true, 'boolean');\n    };\n    var hasTableGrid = function (editor) {\n      return editor.getParam('table_grid', true, 'boolean');\n    };\n    var shouldStyleWithCss = function (editor) {\n      return editor.getParam('table_style_by_css', false, 'boolean');\n    };\n    var getCellClassList = function (editor) {\n      return editor.getParam('table_cell_class_list', [], 'array');\n    };\n    var getRowClassList = function (editor) {\n      return editor.getParam('table_row_class_list', [], 'array');\n    };\n    var getTableClassList = function (editor) {\n      return editor.getParam('table_class_list', [], 'array');\n    };\n    var getColorPickerCallback = function (editor) {\n      return editor.getParam('color_picker_callback');\n    };\n    var isPixelsForced = function (editor) {\n      return editor.getParam('table_responsive_width') === false;\n    };\n    var getCloneElements = function (editor) {\n      var cloneElements = editor.getParam('table_clone_elements');\n      if (isString(cloneElements)) {\n        return Option.some(cloneElements.split(/[ ,]/));\n      } else if (Array.isArray(cloneElements)) {\n        return Option.some(cloneElements);\n      } else {\n        return Option.none();\n      }\n    };\n    var hasObjectResizing = function (editor) {\n      var objectResizing = editor.getParam('object_resizing', true);\n      return objectResizing === 'table' || objectResizing;\n    };\n    var getToolbar = function (editor) {\n      var toolbar = editor.getParam('table_toolbar', defaultTableToolbar);\n      if (toolbar === '' || toolbar === false) {\n        return [];\n      } else if (isString(toolbar)) {\n        return toolbar.split(/[ ,]/);\n      } else if (isArray(toolbar)) {\n        return toolbar;\n      } else {\n        return [];\n      }\n    };\n\n    var fireNewRow = function (editor, row) {\n      return editor.fire('newrow', { node: row });\n    };\n    var fireNewCell = function (editor, cell) {\n      return editor.fire('newcell', { node: cell });\n    };\n    var fireObjectResizeStart = function (editor, target, width, height) {\n      editor.fire('ObjectResizeStart', {\n        target: target,\n        width: width,\n        height: height\n      });\n    };\n    var fireObjectResized = function (editor, target, width, height) {\n      editor.fire('ObjectResized', {\n        target: target,\n        width: width,\n        height: height\n      });\n    };\n\n    var TableActions = function (editor, lazyWire) {\n      var isTableBody = function (editor) {\n        return name(getBody$1(editor)) === 'table';\n      };\n      var lastRowGuard = function (table) {\n        var size = TableGridSize.getGridSize(table);\n        return isTableBody(editor) === false || size.rows() > 1;\n      };\n      var lastColumnGuard = function (table) {\n        var size = TableGridSize.getGridSize(table);\n        return isTableBody(editor) === false || size.columns() > 1;\n      };\n      var cloneFormats = getCloneElements(editor);\n      var execute = function (operation, guard, mutate, lazyWire) {\n        return function (table, target) {\n          removeDataStyle(table);\n          var wire = lazyWire();\n          var doc = Element.fromDom(editor.getDoc());\n          var direction = TableDirection(Direction.directionAt);\n          var generators = TableFill.cellOperations(mutate, doc, cloneFormats);\n          return guard(table) ? operation(wire, table, target, generators, direction).bind(function (result) {\n            each(result.newRows(), function (row) {\n              fireNewRow(editor, row.dom());\n            });\n            each(result.newCells(), function (cell) {\n              fireNewCell(editor, cell.dom());\n            });\n            return result.cursor().map(function (cell) {\n              var rng = editor.dom.createRng();\n              rng.setStart(cell.dom(), 0);\n              rng.setEnd(cell.dom(), 0);\n              return rng;\n            });\n          }) : Option.none();\n        };\n      };\n      var deleteRow = execute(TableOperations.eraseRows, lastRowGuard, noop, lazyWire);\n      var deleteColumn = execute(TableOperations.eraseColumns, lastColumnGuard, noop, lazyWire);\n      var insertRowsBefore = execute(TableOperations.insertRowsBefore, always, noop, lazyWire);\n      var insertRowsAfter = execute(TableOperations.insertRowsAfter, always, noop, lazyWire);\n      var insertColumnsBefore = execute(TableOperations.insertColumnsBefore, always, CellMutations.halve, lazyWire);\n      var insertColumnsAfter = execute(TableOperations.insertColumnsAfter, always, CellMutations.halve, lazyWire);\n      var mergeCells = execute(TableOperations.mergeCells, always, noop, lazyWire);\n      var unmergeCells = execute(TableOperations.unmergeCells, always, noop, lazyWire);\n      var pasteRowsBefore = execute(TableOperations.pasteRowsBefore, always, noop, lazyWire);\n      var pasteRowsAfter = execute(TableOperations.pasteRowsAfter, always, noop, lazyWire);\n      var pasteCells = execute(TableOperations.pasteCells, always, noop, lazyWire);\n      return {\n        deleteRow: deleteRow,\n        deleteColumn: deleteColumn,\n        insertRowsBefore: insertRowsBefore,\n        insertRowsAfter: insertRowsAfter,\n        insertColumnsBefore: insertColumnsBefore,\n        insertColumnsAfter: insertColumnsAfter,\n        mergeCells: mergeCells,\n        unmergeCells: unmergeCells,\n        pasteRowsBefore: pasteRowsBefore,\n        pasteRowsAfter: pasteRowsAfter,\n        pasteCells: pasteCells\n      };\n    };\n\n    var copyRows = function (table, target, generators) {\n      var list = DetailsList.fromTable(table);\n      var house = Warehouse.generate(list);\n      var details = onCells(house, target);\n      return details.map(function (selectedCells) {\n        var grid = Transitions.toGrid(house, generators, false);\n        var slicedGrid = grid.slice(selectedCells[0].row(), selectedCells[selectedCells.length - 1].row() + selectedCells[selectedCells.length - 1].rowspan());\n        var slicedDetails = toDetailList(slicedGrid, generators);\n        return Redraw.copy(slicedDetails);\n      });\n    };\n    var CopyRows = { copyRows: copyRows };\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var getTDTHOverallStyle = function (dom, elm, name) {\n      var cells = dom.select('td,th', elm);\n      var firstChildStyle;\n      var checkChildren = function (firstChildStyle, elms) {\n        for (var i = 0; i < elms.length; i++) {\n          var currentStyle = dom.getStyle(elms[i], name);\n          if (typeof firstChildStyle === 'undefined') {\n            firstChildStyle = currentStyle;\n          }\n          if (firstChildStyle !== currentStyle) {\n            return '';\n          }\n        }\n        return firstChildStyle;\n      };\n      firstChildStyle = checkChildren(firstChildStyle, cells);\n      return firstChildStyle;\n    };\n    var applyAlign = function (editor, elm, name) {\n      if (name) {\n        editor.formatter.apply('align' + name, {}, elm);\n      }\n    };\n    var applyVAlign = function (editor, elm, name) {\n      if (name) {\n        editor.formatter.apply('valign' + name, {}, elm);\n      }\n    };\n    var unApplyAlign = function (editor, elm) {\n      global$1.each('left center right'.split(' '), function (name) {\n        editor.formatter.remove('align' + name, {}, elm);\n      });\n    };\n    var unApplyVAlign = function (editor, elm) {\n      global$1.each('top middle bottom'.split(' '), function (name) {\n        editor.formatter.remove('valign' + name, {}, elm);\n      });\n    };\n    var Styles$1 = {\n      applyAlign: applyAlign,\n      applyVAlign: applyVAlign,\n      unApplyAlign: unApplyAlign,\n      unApplyVAlign: unApplyVAlign,\n      getTDTHOverallStyle: getTDTHOverallStyle\n    };\n\n    var buildListItems = function (inputList, itemCallback, startItems) {\n      var appendItems = function (values, output) {\n        output = output || [];\n        global$1.each(values, function (item) {\n          var menuItem = { text: item.text || item.title };\n          if (item.menu) {\n            menuItem.menu = appendItems(item.menu);\n          } else {\n            menuItem.value = item.value;\n            if (itemCallback) {\n              itemCallback(menuItem);\n            }\n          }\n          output.push(menuItem);\n        });\n        return output;\n      };\n      return appendItems(inputList, startItems || []);\n    };\n    function styleFieldHasFocus(e) {\n      return e.control.rootControl.find('#style')[0].getEl().isEqualNode(domGlobals.document.activeElement);\n    }\n    var syncAdvancedStyleFields = function (editor, evt) {\n      if (styleFieldHasFocus(evt)) {\n        updateAdvancedFields(editor, evt);\n      } else {\n        updateStyleField(editor, evt);\n      }\n    };\n    var updateStyleField = function (editor, evt) {\n      var dom = editor.dom;\n      var rootControl = evt.control.rootControl;\n      var data = rootControl.toJSON();\n      var css = dom.parseStyle(data.style);\n      css['border-style'] = data.borderStyle;\n      css['border-color'] = data.borderColor;\n      css['background-color'] = data.backgroundColor;\n      css.width = data.width ? addSizeSuffix(data.width) : '';\n      css.height = data.height ? addSizeSuffix(data.height) : '';\n      rootControl.find('#style').value(dom.serializeStyle(dom.parseStyle(dom.serializeStyle(css))));\n    };\n    var updateAdvancedFields = function (editor, evt) {\n      var dom = editor.dom;\n      var rootControl = evt.control.rootControl;\n      var data = rootControl.toJSON();\n      var css = dom.parseStyle(data.style);\n      rootControl.find('#borderStyle').value(css['border-style'] || '');\n      rootControl.find('#borderColor').value(css['border-color'] || '');\n      rootControl.find('#backgroundColor').value(css['background-color'] || '');\n      rootControl.find('#width').value(css.width || '');\n      rootControl.find('#height').value(css.height || '');\n    };\n    var extractAdvancedStyles = function (dom, elm) {\n      var css = dom.parseStyle(dom.getAttrib(elm, 'style'));\n      var data = {};\n      if (css['border-style']) {\n        data.borderStyle = css['border-style'];\n      }\n      if (css['border-color']) {\n        data.borderColor = css['border-color'];\n      }\n      if (css['background-color']) {\n        data.backgroundColor = css['background-color'];\n      }\n      data.style = dom.serializeStyle(css);\n      return data;\n    };\n    var createStyleForm = function (editor) {\n      var createColorPickAction = function () {\n        var colorPickerCallback = getColorPickerCallback(editor);\n        if (colorPickerCallback) {\n          return function (evt) {\n            return colorPickerCallback.call(editor, function (value) {\n              evt.control.value(value).fire('change');\n            }, evt.control.value());\n          };\n        }\n      };\n      return {\n        title: 'Advanced',\n        type: 'form',\n        defaults: { onchange: curry(updateStyleField, editor) },\n        items: [\n          {\n            label: 'Style',\n            name: 'style',\n            type: 'textbox',\n            onchange: curry(updateAdvancedFields, editor)\n          },\n          {\n            type: 'form',\n            padding: 0,\n            formItemDefaults: {\n              layout: 'grid',\n              alignH: [\n                'start',\n                'right'\n              ]\n            },\n            defaults: { size: 7 },\n            items: [\n              {\n                label: 'Border style',\n                type: 'listbox',\n                name: 'borderStyle',\n                width: 90,\n                onselect: curry(updateStyleField, editor),\n                values: [\n                  {\n                    text: 'Select...',\n                    value: ''\n                  },\n                  {\n                    text: 'Solid',\n                    value: 'solid'\n                  },\n                  {\n                    text: 'Dotted',\n                    value: 'dotted'\n                  },\n                  {\n                    text: 'Dashed',\n                    value: 'dashed'\n                  },\n                  {\n                    text: 'Double',\n                    value: 'double'\n                  },\n                  {\n                    text: 'Groove',\n                    value: 'groove'\n                  },\n                  {\n                    text: 'Ridge',\n                    value: 'ridge'\n                  },\n                  {\n                    text: 'Inset',\n                    value: 'inset'\n                  },\n                  {\n                    text: 'Outset',\n                    value: 'outset'\n                  },\n                  {\n                    text: 'None',\n                    value: 'none'\n                  },\n                  {\n                    text: 'Hidden',\n                    value: 'hidden'\n                  }\n                ]\n              },\n              {\n                label: 'Border color',\n                type: 'colorbox',\n                name: 'borderColor',\n                onaction: createColorPickAction()\n              },\n              {\n                label: 'Background color',\n                type: 'colorbox',\n                name: 'backgroundColor',\n                onaction: createColorPickAction()\n              }\n            ]\n          }\n        ]\n      };\n    };\n    var Helpers = {\n      createStyleForm: createStyleForm,\n      buildListItems: buildListItems,\n      updateStyleField: updateStyleField,\n      extractAdvancedStyles: extractAdvancedStyles,\n      updateAdvancedFields: updateAdvancedFields,\n      syncAdvancedStyleFields: syncAdvancedStyleFields\n    };\n\n    var updateStyles = function (elm, cssText) {\n      delete elm.dataset.mceStyle;\n      elm.style.cssText += ';' + cssText;\n    };\n    var extractDataFromElement = function (editor, elm) {\n      var dom = editor.dom;\n      var data = {\n        width: dom.getStyle(elm, 'width') || dom.getAttrib(elm, 'width'),\n        height: dom.getStyle(elm, 'height') || dom.getAttrib(elm, 'height'),\n        scope: dom.getAttrib(elm, 'scope'),\n        class: dom.getAttrib(elm, 'class'),\n        type: elm.nodeName.toLowerCase(),\n        style: '',\n        align: '',\n        valign: ''\n      };\n      global$1.each('left center right'.split(' '), function (name) {\n        if (editor.formatter.matchNode(elm, 'align' + name)) {\n          data.align = name;\n        }\n      });\n      global$1.each('top middle bottom'.split(' '), function (name) {\n        if (editor.formatter.matchNode(elm, 'valign' + name)) {\n          data.valign = name;\n        }\n      });\n      if (hasAdvancedCellTab(editor)) {\n        global$1.extend(data, Helpers.extractAdvancedStyles(dom, elm));\n      }\n      return data;\n    };\n    var onSubmitCellForm = function (editor, cells, evt) {\n      var dom = editor.dom;\n      var data;\n      function setAttrib(elm, name, value) {\n        if (cells.length === 1 || value) {\n          dom.setAttrib(elm, name, value);\n        }\n      }\n      function setStyle(elm, name, value) {\n        if (cells.length === 1 || value) {\n          dom.setStyle(elm, name, value);\n        }\n      }\n      if (hasAdvancedCellTab(editor)) {\n        Helpers.syncAdvancedStyleFields(editor, evt);\n      }\n      data = evt.control.rootControl.toJSON();\n      editor.undoManager.transact(function () {\n        global$1.each(cells, function (cellElm) {\n          setAttrib(cellElm, 'scope', data.scope);\n          if (cells.length === 1) {\n            setAttrib(cellElm, 'style', data.style);\n          } else {\n            updateStyles(cellElm, data.style);\n          }\n          setAttrib(cellElm, 'class', data.class);\n          setStyle(cellElm, 'width', addSizeSuffix(data.width));\n          setStyle(cellElm, 'height', addSizeSuffix(data.height));\n          if (data.type && cellElm.nodeName.toLowerCase() !== data.type) {\n            cellElm = dom.rename(cellElm, data.type);\n          }\n          if (cells.length === 1) {\n            Styles$1.unApplyAlign(editor, cellElm);\n            Styles$1.unApplyVAlign(editor, cellElm);\n          }\n          if (data.align) {\n            Styles$1.applyAlign(editor, cellElm, data.align);\n          }\n          if (data.valign) {\n            Styles$1.applyVAlign(editor, cellElm, data.valign);\n          }\n        });\n        editor.focus();\n      });\n    };\n    var open = function (editor) {\n      var cellElm, data, classListCtrl, cells = [];\n      cells = editor.dom.select('td[data-mce-selected],th[data-mce-selected]');\n      cellElm = editor.dom.getParent(editor.selection.getStart(), 'td,th');\n      if (!cells.length && cellElm) {\n        cells.push(cellElm);\n      }\n      cellElm = cellElm || cells[0];\n      if (!cellElm) {\n        return;\n      }\n      if (cells.length > 1) {\n        data = {\n          width: '',\n          height: '',\n          scope: '',\n          class: '',\n          align: '',\n          valign: '',\n          style: '',\n          type: cellElm.nodeName.toLowerCase()\n        };\n      } else {\n        data = extractDataFromElement(editor, cellElm);\n      }\n      if (getCellClassList(editor).length > 0) {\n        classListCtrl = {\n          name: 'class',\n          type: 'listbox',\n          label: 'Class',\n          values: Helpers.buildListItems(getCellClassList(editor), function (item) {\n            if (item.value) {\n              item.textStyle = function () {\n                return editor.formatter.getCssText({\n                  block: 'td',\n                  classes: [item.value]\n                });\n              };\n            }\n          })\n        };\n      }\n      var generalCellForm = {\n        type: 'form',\n        layout: 'flex',\n        direction: 'column',\n        labelGapCalc: 'children',\n        padding: 0,\n        items: [\n          {\n            type: 'form',\n            layout: 'grid',\n            columns: 2,\n            labelGapCalc: false,\n            padding: 0,\n            defaults: {\n              type: 'textbox',\n              maxWidth: 50\n            },\n            items: [\n              {\n                label: 'Width',\n                name: 'width',\n                onchange: curry(Helpers.updateStyleField, editor)\n              },\n              {\n                label: 'Height',\n                name: 'height',\n                onchange: curry(Helpers.updateStyleField, editor)\n              },\n              {\n                label: 'Cell type',\n                name: 'type',\n                type: 'listbox',\n                text: 'None',\n                minWidth: 90,\n                maxWidth: null,\n                values: [\n                  {\n                    text: 'Cell',\n                    value: 'td'\n                  },\n                  {\n                    text: 'Header cell',\n                    value: 'th'\n                  }\n                ]\n              },\n              {\n                label: 'Scope',\n                name: 'scope',\n                type: 'listbox',\n                text: 'None',\n                minWidth: 90,\n                maxWidth: null,\n                values: [\n                  {\n                    text: 'None',\n                    value: ''\n                  },\n                  {\n                    text: 'Row',\n                    value: 'row'\n                  },\n                  {\n                    text: 'Column',\n                    value: 'col'\n                  },\n                  {\n                    text: 'Row group',\n                    value: 'rowgroup'\n                  },\n                  {\n                    text: 'Column group',\n                    value: 'colgroup'\n                  }\n                ]\n              },\n              {\n                label: 'H Align',\n                name: 'align',\n                type: 'listbox',\n                text: 'None',\n                minWidth: 90,\n                maxWidth: null,\n                values: [\n                  {\n                    text: 'None',\n                    value: ''\n                  },\n                  {\n                    text: 'Left',\n                    value: 'left'\n                  },\n                  {\n                    text: 'Center',\n                    value: 'center'\n                  },\n                  {\n                    text: 'Right',\n                    value: 'right'\n                  }\n                ]\n              },\n              {\n                label: 'V Align',\n                name: 'valign',\n                type: 'listbox',\n                text: 'None',\n                minWidth: 90,\n                maxWidth: null,\n                values: [\n                  {\n                    text: 'None',\n                    value: ''\n                  },\n                  {\n                    text: 'Top',\n                    value: 'top'\n                  },\n                  {\n                    text: 'Middle',\n                    value: 'middle'\n                  },\n                  {\n                    text: 'Bottom',\n                    value: 'bottom'\n                  }\n                ]\n              }\n            ]\n          },\n          classListCtrl\n        ]\n      };\n      if (hasAdvancedCellTab(editor)) {\n        editor.windowManager.open({\n          title: 'Cell properties',\n          bodyType: 'tabpanel',\n          data: data,\n          body: [\n            {\n              title: 'General',\n              type: 'form',\n              items: generalCellForm\n            },\n            Helpers.createStyleForm(editor)\n          ],\n          onsubmit: curry(onSubmitCellForm, editor, cells)\n        });\n      } else {\n        editor.windowManager.open({\n          title: 'Cell properties',\n          data: data,\n          body: generalCellForm,\n          onsubmit: curry(onSubmitCellForm, editor, cells)\n        });\n      }\n    };\n    var CellDialog = { open: open };\n\n    var extractDataFromElement$1 = function (editor, elm) {\n      var dom = editor.dom;\n      var data = {\n        height: dom.getStyle(elm, 'height') || dom.getAttrib(elm, 'height'),\n        scope: dom.getAttrib(elm, 'scope'),\n        class: dom.getAttrib(elm, 'class'),\n        align: '',\n        style: '',\n        type: elm.parentNode.nodeName.toLowerCase()\n      };\n      global$1.each('left center right'.split(' '), function (name) {\n        if (editor.formatter.matchNode(elm, 'align' + name)) {\n          data.align = name;\n        }\n      });\n      if (hasAdvancedRowTab(editor)) {\n        global$1.extend(data, Helpers.extractAdvancedStyles(dom, elm));\n      }\n      return data;\n    };\n    var switchRowType = function (dom, rowElm, toType) {\n      var tableElm = dom.getParent(rowElm, 'table');\n      var oldParentElm = rowElm.parentNode;\n      var parentElm = dom.select(toType, tableElm)[0];\n      if (!parentElm) {\n        parentElm = dom.create(toType);\n        if (tableElm.firstChild) {\n          if (tableElm.firstChild.nodeName === 'CAPTION') {\n            dom.insertAfter(parentElm, tableElm.firstChild);\n          } else {\n            tableElm.insertBefore(parentElm, tableElm.firstChild);\n          }\n        } else {\n          tableElm.appendChild(parentElm);\n        }\n      }\n      parentElm.appendChild(rowElm);\n      if (!oldParentElm.hasChildNodes()) {\n        dom.remove(oldParentElm);\n      }\n    };\n    function onSubmitRowForm(editor, rows, oldData, evt) {\n      var dom = editor.dom;\n      function setAttrib(elm, name, value) {\n        if (rows.length === 1 || value) {\n          dom.setAttrib(elm, name, value);\n        }\n      }\n      function setStyle(elm, name, value) {\n        if (rows.length === 1 || value) {\n          dom.setStyle(elm, name, value);\n        }\n      }\n      if (hasAdvancedRowTab(editor)) {\n        Helpers.syncAdvancedStyleFields(editor, evt);\n      }\n      var data = evt.control.rootControl.toJSON();\n      editor.undoManager.transact(function () {\n        global$1.each(rows, function (rowElm) {\n          setAttrib(rowElm, 'scope', data.scope);\n          setAttrib(rowElm, 'style', data.style);\n          setAttrib(rowElm, 'class', data.class);\n          setStyle(rowElm, 'height', addSizeSuffix(data.height));\n          if (data.type !== rowElm.parentNode.nodeName.toLowerCase()) {\n            switchRowType(editor.dom, rowElm, data.type);\n          }\n          if (data.align !== oldData.align) {\n            Styles$1.unApplyAlign(editor, rowElm);\n            Styles$1.applyAlign(editor, rowElm, data.align);\n          }\n        });\n        editor.focus();\n      });\n    }\n    var open$1 = function (editor) {\n      var dom = editor.dom;\n      var tableElm, cellElm, rowElm, classListCtrl, data;\n      var rows = [];\n      var generalRowForm;\n      tableElm = dom.getParent(editor.selection.getStart(), 'table');\n      cellElm = dom.getParent(editor.selection.getStart(), 'td,th');\n      global$1.each(tableElm.rows, function (row) {\n        global$1.each(row.cells, function (cell) {\n          if (dom.getAttrib(cell, 'data-mce-selected') || cell === cellElm) {\n            rows.push(row);\n            return false;\n          }\n        });\n      });\n      rowElm = rows[0];\n      if (!rowElm) {\n        return;\n      }\n      if (rows.length > 1) {\n        data = {\n          height: '',\n          scope: '',\n          style: '',\n          class: '',\n          align: '',\n          type: rowElm.parentNode.nodeName.toLowerCase()\n        };\n      } else {\n        data = extractDataFromElement$1(editor, rowElm);\n      }\n      if (getRowClassList(editor).length > 0) {\n        classListCtrl = {\n          name: 'class',\n          type: 'listbox',\n          label: 'Class',\n          values: Helpers.buildListItems(getRowClassList(editor), function (item) {\n            if (item.value) {\n              item.textStyle = function () {\n                return editor.formatter.getCssText({\n                  block: 'tr',\n                  classes: [item.value]\n                });\n              };\n            }\n          })\n        };\n      }\n      generalRowForm = {\n        type: 'form',\n        columns: 2,\n        padding: 0,\n        defaults: { type: 'textbox' },\n        items: [\n          {\n            type: 'listbox',\n            name: 'type',\n            label: 'Row type',\n            text: 'Header',\n            maxWidth: null,\n            values: [\n              {\n                text: 'Header',\n                value: 'thead'\n              },\n              {\n                text: 'Body',\n                value: 'tbody'\n              },\n              {\n                text: 'Footer',\n                value: 'tfoot'\n              }\n            ]\n          },\n          {\n            type: 'listbox',\n            name: 'align',\n            label: 'Alignment',\n            text: 'None',\n            maxWidth: null,\n            values: [\n              {\n                text: 'None',\n                value: ''\n              },\n              {\n                text: 'Left',\n                value: 'left'\n              },\n              {\n                text: 'Center',\n                value: 'center'\n              },\n              {\n                text: 'Right',\n                value: 'right'\n              }\n            ]\n          },\n          {\n            label: 'Height',\n            name: 'height'\n          },\n          classListCtrl\n        ]\n      };\n      if (hasAdvancedRowTab(editor)) {\n        editor.windowManager.open({\n          title: 'Row properties',\n          data: data,\n          bodyType: 'tabpanel',\n          body: [\n            {\n              title: 'General',\n              type: 'form',\n              items: generalRowForm\n            },\n            Helpers.createStyleForm(editor)\n          ],\n          onsubmit: curry(onSubmitRowForm, editor, rows, data)\n        });\n      } else {\n        editor.windowManager.open({\n          title: 'Row properties',\n          data: data,\n          body: generalRowForm,\n          onsubmit: curry(onSubmitRowForm, editor, rows, data)\n        });\n      }\n    };\n    var RowDialog = { open: open$1 };\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.Env');\n\n    var DefaultRenderOptions = {\n      styles: {\n        'border-collapse': 'collapse',\n        'width': '100%'\n      },\n      attributes: { border: '1' },\n      percentages: true\n    };\n    var makeTable = function () {\n      return Element.fromTag('table');\n    };\n    var tableBody = function () {\n      return Element.fromTag('tbody');\n    };\n    var tableRow = function () {\n      return Element.fromTag('tr');\n    };\n    var tableHeaderCell = function () {\n      return Element.fromTag('th');\n    };\n    var tableCell = function () {\n      return Element.fromTag('td');\n    };\n    var render$1 = function (rows, columns, rowHeaders, columnHeaders, renderOpts) {\n      if (renderOpts === void 0) {\n        renderOpts = DefaultRenderOptions;\n      }\n      var table = makeTable();\n      setAll$1(table, renderOpts.styles);\n      setAll(table, renderOpts.attributes);\n      var tbody = tableBody();\n      append(table, tbody);\n      var trs = [];\n      for (var i = 0; i < rows; i++) {\n        var tr = tableRow();\n        for (var j = 0; j < columns; j++) {\n          var td = i < rowHeaders || j < columnHeaders ? tableHeaderCell() : tableCell();\n          if (j < columnHeaders) {\n            set(td, 'scope', 'row');\n          }\n          if (i < rowHeaders) {\n            set(td, 'scope', 'col');\n          }\n          append(td, Element.fromTag('br'));\n          if (renderOpts.percentages) {\n            set$1(td, 'width', 100 / columns + '%');\n          }\n          append(tr, td);\n        }\n        trs.push(tr);\n      }\n      append$1(tbody, trs);\n      return table;\n    };\n\n    var get$7 = function (element) {\n      return element.dom().innerHTML;\n    };\n    var getOuter$2 = function (element) {\n      var container = Element.fromTag('div');\n      var clone = Element.fromDom(element.dom().cloneNode(true));\n      append(container, clone);\n      return get$7(container);\n    };\n\n    var placeCaretInCell = function (editor, cell) {\n      editor.selection.select(cell.dom(), true);\n      editor.selection.collapse(true);\n    };\n    var selectFirstCellInTable = function (editor, tableElm) {\n      descendant$1(tableElm, 'td,th').each(curry(placeCaretInCell, editor));\n    };\n    var fireEvents = function (editor, table) {\n      each(descendants$1(table, 'tr'), function (row) {\n        fireNewRow(editor, row.dom());\n        each(descendants$1(row, 'th,td'), function (cell) {\n          fireNewCell(editor, cell.dom());\n        });\n      });\n    };\n    var isPercentage = function (width) {\n      return isString(width) && width.indexOf('%') !== -1;\n    };\n    var insert$1 = function (editor, columns, rows) {\n      var defaultStyles = getDefaultStyles(editor);\n      var options = {\n        styles: defaultStyles,\n        attributes: getDefaultAttributes(editor),\n        percentages: isPercentage(defaultStyles.width) && !isPixelsForced(editor)\n      };\n      var table = render$1(rows, columns, 0, 0, options);\n      set(table, 'data-mce-id', '__mce');\n      var html = getOuter$2(table);\n      editor.insertContent(html);\n      return descendant$1(getBody$1(editor), 'table[data-mce-id=\"__mce\"]').map(function (table) {\n        if (isPixelsForced(editor)) {\n          set$1(table, 'width', get$1(table, 'width'));\n        }\n        remove(table, 'data-mce-id');\n        fireEvents(editor, table);\n        selectFirstCellInTable(editor, table);\n        return table.dom();\n      }).getOr(null);\n    };\n    var InsertTable = { insert: insert$1 };\n\n    function styleTDTH(dom, elm, name, value) {\n      if (elm.tagName === 'TD' || elm.tagName === 'TH') {\n        dom.setStyle(elm, name, value);\n      } else {\n        if (elm.children) {\n          for (var i = 0; i < elm.children.length; i++) {\n            styleTDTH(dom, elm.children[i], name, value);\n          }\n        }\n      }\n    }\n    var extractDataFromElement$2 = function (editor, tableElm) {\n      var dom = editor.dom;\n      var data = {\n        width: dom.getStyle(tableElm, 'width') || dom.getAttrib(tableElm, 'width'),\n        height: dom.getStyle(tableElm, 'height') || dom.getAttrib(tableElm, 'height'),\n        cellspacing: dom.getStyle(tableElm, 'border-spacing') || dom.getAttrib(tableElm, 'cellspacing'),\n        cellpadding: dom.getAttrib(tableElm, 'data-mce-cell-padding') || dom.getAttrib(tableElm, 'cellpadding') || Styles$1.getTDTHOverallStyle(editor.dom, tableElm, 'padding'),\n        border: dom.getAttrib(tableElm, 'data-mce-border') || dom.getAttrib(tableElm, 'border') || Styles$1.getTDTHOverallStyle(editor.dom, tableElm, 'border'),\n        borderColor: dom.getAttrib(tableElm, 'data-mce-border-color'),\n        caption: !!dom.select('caption', tableElm)[0],\n        class: dom.getAttrib(tableElm, 'class')\n      };\n      global$1.each('left center right'.split(' '), function (name) {\n        if (editor.formatter.matchNode(tableElm, 'align' + name)) {\n          data.align = name;\n        }\n      });\n      if (hasAdvancedTableTab(editor)) {\n        global$1.extend(data, Helpers.extractAdvancedStyles(dom, tableElm));\n      }\n      return data;\n    };\n    var applyDataToElement = function (editor, tableElm, data) {\n      var dom = editor.dom;\n      var attrs = {};\n      var styles = {};\n      attrs.class = data.class;\n      styles.height = addSizeSuffix(data.height);\n      if (dom.getAttrib(tableElm, 'width') && !shouldStyleWithCss(editor)) {\n        attrs.width = removePxSuffix(data.width);\n      } else {\n        styles.width = addSizeSuffix(data.width);\n      }\n      if (shouldStyleWithCss(editor)) {\n        styles['border-width'] = addSizeSuffix(data.border);\n        styles['border-spacing'] = addSizeSuffix(data.cellspacing);\n        global$1.extend(attrs, {\n          'data-mce-border-color': data.borderColor,\n          'data-mce-cell-padding': data.cellpadding,\n          'data-mce-border': data.border\n        });\n      } else {\n        global$1.extend(attrs, {\n          border: data.border,\n          cellpadding: data.cellpadding,\n          cellspacing: data.cellspacing\n        });\n      }\n      if (shouldStyleWithCss(editor)) {\n        if (tableElm.children) {\n          for (var i = 0; i < tableElm.children.length; i++) {\n            styleTDTH(dom, tableElm.children[i], {\n              'border-width': addSizeSuffix(data.border),\n              'border-color': data.borderColor,\n              'padding': addSizeSuffix(data.cellpadding)\n            });\n          }\n        }\n      }\n      if (data.style) {\n        global$1.extend(styles, dom.parseStyle(data.style));\n      } else {\n        styles = global$1.extend({}, dom.parseStyle(dom.getAttrib(tableElm, 'style')), styles);\n      }\n      attrs.style = dom.serializeStyle(styles);\n      dom.setAttribs(tableElm, attrs);\n    };\n    var onSubmitTableForm = function (editor, tableElm, evt) {\n      var dom = editor.dom;\n      var captionElm;\n      var data;\n      if (hasAdvancedTableTab(editor)) {\n        Helpers.syncAdvancedStyleFields(editor, evt);\n      }\n      data = evt.control.rootControl.toJSON();\n      if (data.class === false) {\n        delete data.class;\n      }\n      editor.undoManager.transact(function () {\n        if (!tableElm) {\n          tableElm = InsertTable.insert(editor, data.cols || 1, data.rows || 1);\n        }\n        applyDataToElement(editor, tableElm, data);\n        captionElm = dom.select('caption', tableElm)[0];\n        if (captionElm && !data.caption) {\n          dom.remove(captionElm);\n        }\n        if (!captionElm && data.caption) {\n          captionElm = dom.create('caption');\n          captionElm.innerHTML = !global$2.ie ? '<br data-mce-bogus=\"1\"/>' : '\\xA0';\n          tableElm.insertBefore(captionElm, tableElm.firstChild);\n        }\n        Styles$1.unApplyAlign(editor, tableElm);\n        if (data.align) {\n          Styles$1.applyAlign(editor, tableElm, data.align);\n        }\n        editor.focus();\n        editor.addVisual();\n      });\n    };\n    var open$2 = function (editor, isProps) {\n      var dom = editor.dom;\n      var tableElm, colsCtrl, rowsCtrl, classListCtrl, data = {}, generalTableForm;\n      if (isProps === true) {\n        tableElm = dom.getParent(editor.selection.getStart(), 'table');\n        if (tableElm) {\n          data = extractDataFromElement$2(editor, tableElm);\n        }\n      } else {\n        colsCtrl = {\n          label: 'Cols',\n          name: 'cols'\n        };\n        rowsCtrl = {\n          label: 'Rows',\n          name: 'rows'\n        };\n      }\n      if (getTableClassList(editor).length > 0) {\n        if (data.class) {\n          data.class = data.class.replace(/\\s*mce\\-item\\-table\\s*/g, '');\n        }\n        classListCtrl = {\n          name: 'class',\n          type: 'listbox',\n          label: 'Class',\n          values: Helpers.buildListItems(getTableClassList(editor), function (item) {\n            if (item.value) {\n              item.textStyle = function () {\n                return editor.formatter.getCssText({\n                  block: 'table',\n                  classes: [item.value]\n                });\n              };\n            }\n          })\n        };\n      }\n      generalTableForm = {\n        type: 'form',\n        layout: 'flex',\n        direction: 'column',\n        labelGapCalc: 'children',\n        padding: 0,\n        items: [\n          {\n            type: 'form',\n            labelGapCalc: false,\n            padding: 0,\n            layout: 'grid',\n            columns: 2,\n            defaults: {\n              type: 'textbox',\n              maxWidth: 50\n            },\n            items: hasAppearanceOptions(editor) ? [\n              colsCtrl,\n              rowsCtrl,\n              {\n                label: 'Width',\n                name: 'width',\n                onchange: curry(Helpers.updateStyleField, editor)\n              },\n              {\n                label: 'Height',\n                name: 'height',\n                onchange: curry(Helpers.updateStyleField, editor)\n              },\n              {\n                label: 'Cell spacing',\n                name: 'cellspacing'\n              },\n              {\n                label: 'Cell padding',\n                name: 'cellpadding'\n              },\n              {\n                label: 'Border',\n                name: 'border'\n              },\n              {\n                label: 'Caption',\n                name: 'caption',\n                type: 'checkbox'\n              }\n            ] : [\n              colsCtrl,\n              rowsCtrl,\n              {\n                label: 'Width',\n                name: 'width',\n                onchange: curry(Helpers.updateStyleField, editor)\n              },\n              {\n                label: 'Height',\n                name: 'height',\n                onchange: curry(Helpers.updateStyleField, editor)\n              }\n            ]\n          },\n          {\n            label: 'Alignment',\n            name: 'align',\n            type: 'listbox',\n            text: 'None',\n            values: [\n              {\n                text: 'None',\n                value: ''\n              },\n              {\n                text: 'Left',\n                value: 'left'\n              },\n              {\n                text: 'Center',\n                value: 'center'\n              },\n              {\n                text: 'Right',\n                value: 'right'\n              }\n            ]\n          },\n          classListCtrl\n        ]\n      };\n      if (hasAdvancedTableTab(editor)) {\n        editor.windowManager.open({\n          title: 'Table properties',\n          data: data,\n          bodyType: 'tabpanel',\n          body: [\n            {\n              title: 'General',\n              type: 'form',\n              items: generalTableForm\n            },\n            Helpers.createStyleForm(editor)\n          ],\n          onsubmit: curry(onSubmitTableForm, editor, tableElm)\n        });\n      } else {\n        editor.windowManager.open({\n          title: 'Table properties',\n          data: data,\n          body: generalTableForm,\n          onsubmit: curry(onSubmitTableForm, editor, tableElm)\n        });\n      }\n    };\n    var TableDialog = { open: open$2 };\n\n    var each$3 = global$1.each;\n    var registerCommands = function (editor, actions, cellSelection, selections, clipboardRows) {\n      var isRoot = getIsRoot(editor);\n      var eraseTable = function () {\n        getSelectionStartCell().orThunk(getSelectionStartCaption).each(function (cellOrCaption) {\n          var table = TableLookup.table(cellOrCaption, isRoot);\n          table.filter(not(isRoot)).each(function (table) {\n            var cursor = Element.fromText('');\n            after(table, cursor);\n            remove$2(table);\n            var rng = editor.dom.createRng();\n            rng.setStart(cursor.dom(), 0);\n            rng.setEnd(cursor.dom(), 0);\n            editor.selection.setRng(rng);\n          });\n        });\n      };\n      var getSelectionStartFromSelector = function (selector) {\n        return function () {\n          return Option.from(editor.dom.getParent(editor.selection.getStart(), selector)).map(Element.fromDom);\n        };\n      };\n      var getSelectionStartCaption = getSelectionStartFromSelector('caption');\n      var getSelectionStartCell = getSelectionStartFromSelector('th,td');\n      var getTableFromCell = function (cell) {\n        return TableLookup.table(cell, isRoot);\n      };\n      var getSize = function (table) {\n        return {\n          width: getPixelWidth$1(table.dom()),\n          height: getPixelWidth$1(table.dom())\n        };\n      };\n      var resizeChange = function (editor, oldSize, table) {\n        var newSize = getSize(table);\n        if (oldSize.width !== newSize.width || oldSize.height !== newSize.height) {\n          fireObjectResizeStart(editor, table.dom(), oldSize.width, oldSize.height);\n          fireObjectResized(editor, table.dom(), newSize.width, newSize.height);\n        }\n      };\n      var actOnSelection = function (execute) {\n        getSelectionStartCell().each(function (cell) {\n          getTableFromCell(cell).each(function (table) {\n            var targets = TableTargets.forMenu(selections, table, cell);\n            var beforeSize = getSize(table);\n            execute(table, targets).each(function (rng) {\n              resizeChange(editor, beforeSize, table);\n              editor.selection.setRng(rng);\n              editor.focus();\n              cellSelection.clear(table);\n              removeDataStyle(table);\n            });\n          });\n        });\n      };\n      var copyRowSelection = function (execute) {\n        return getSelectionStartCell().bind(function (cell) {\n          return getTableFromCell(cell).bind(function (table) {\n            var doc = Element.fromDom(editor.getDoc());\n            var targets = TableTargets.forMenu(selections, table, cell);\n            var generators = TableFill.cellOperations(noop, doc, Option.none());\n            return CopyRows.copyRows(table, targets, generators);\n          });\n        });\n      };\n      var pasteOnSelection = function (execute) {\n        clipboardRows.get().each(function (rows) {\n          var clonedRows = map(rows, function (row) {\n            return deep(row);\n          });\n          getSelectionStartCell().each(function (cell) {\n            getTableFromCell(cell).each(function (table) {\n              var doc = Element.fromDom(editor.getDoc());\n              var generators = TableFill.paste(doc);\n              var targets = TableTargets.pasteRows(selections, table, cell, clonedRows, generators);\n              execute(table, targets).each(function (rng) {\n                editor.selection.setRng(rng);\n                editor.focus();\n                cellSelection.clear(table);\n              });\n            });\n          });\n        });\n      };\n      each$3({\n        mceTableSplitCells: function () {\n          actOnSelection(actions.unmergeCells);\n        },\n        mceTableMergeCells: function () {\n          actOnSelection(actions.mergeCells);\n        },\n        mceTableInsertRowBefore: function () {\n          actOnSelection(actions.insertRowsBefore);\n        },\n        mceTableInsertRowAfter: function () {\n          actOnSelection(actions.insertRowsAfter);\n        },\n        mceTableInsertColBefore: function () {\n          actOnSelection(actions.insertColumnsBefore);\n        },\n        mceTableInsertColAfter: function () {\n          actOnSelection(actions.insertColumnsAfter);\n        },\n        mceTableDeleteCol: function () {\n          actOnSelection(actions.deleteColumn);\n        },\n        mceTableDeleteRow: function () {\n          actOnSelection(actions.deleteRow);\n        },\n        mceTableCutRow: function (grid) {\n          clipboardRows.set(copyRowSelection());\n          actOnSelection(actions.deleteRow);\n        },\n        mceTableCopyRow: function (grid) {\n          clipboardRows.set(copyRowSelection());\n        },\n        mceTablePasteRowBefore: function (grid) {\n          pasteOnSelection(actions.pasteRowsBefore);\n        },\n        mceTablePasteRowAfter: function (grid) {\n          pasteOnSelection(actions.pasteRowsAfter);\n        },\n        mceTableDelete: eraseTable\n      }, function (func, name) {\n        editor.addCommand(name, func);\n      });\n      each$3({\n        mceInsertTable: curry(TableDialog.open, editor),\n        mceTableProps: curry(TableDialog.open, editor, true),\n        mceTableRowProps: curry(RowDialog.open, editor),\n        mceTableCellProps: curry(CellDialog.open, editor)\n      }, function (func, name) {\n        editor.addCommand(name, function (ui, val) {\n          func(val);\n        });\n      });\n    };\n    var Commands = { registerCommands: registerCommands };\n\n    var only = function (element) {\n      var parent = Option.from(element.dom().documentElement).map(Element.fromDom).getOr(element);\n      return {\n        parent: constant(parent),\n        view: constant(element),\n        origin: constant(Position(0, 0))\n      };\n    };\n    var detached = function (editable, chrome) {\n      var origin = function () {\n        return absolute(chrome);\n      };\n      return {\n        parent: constant(chrome),\n        view: constant(editable),\n        origin: origin\n      };\n    };\n    var body$1 = function (editable, chrome) {\n      return {\n        parent: constant(chrome),\n        view: constant(editable),\n        origin: constant(Position(0, 0))\n      };\n    };\n    var ResizeWire = {\n      only: only,\n      detached: detached,\n      body: body$1\n    };\n\n    var Event = function (fields) {\n      var struct = Immutable.apply(null, fields);\n      var handlers = [];\n      var bind = function (handler) {\n        if (handler === undefined) {\n          throw new Error('Event bind error: undefined handler');\n        }\n        handlers.push(handler);\n      };\n      var unbind = function (handler) {\n        handlers = filter(handlers, function (h) {\n          return h !== handler;\n        });\n      };\n      var trigger = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        var event = struct.apply(null, args);\n        each(handlers, function (handler) {\n          handler(event);\n        });\n      };\n      return {\n        bind: bind,\n        unbind: unbind,\n        trigger: trigger\n      };\n    };\n\n    var create$1 = function (typeDefs) {\n      var registry = map$1(typeDefs, function (event) {\n        return {\n          bind: event.bind,\n          unbind: event.unbind\n        };\n      });\n      var trigger = map$1(typeDefs, function (event) {\n        return event.trigger;\n      });\n      return {\n        registry: registry,\n        trigger: trigger\n      };\n    };\n    var Events = { create: create$1 };\n\n    var mkEvent = function (target, x, y, stop, prevent, kill, raw) {\n      return {\n        target: constant(target),\n        x: constant(x),\n        y: constant(y),\n        stop: stop,\n        prevent: prevent,\n        kill: kill,\n        raw: constant(raw)\n      };\n    };\n    var handle = function (filter, handler) {\n      return function (rawEvent) {\n        if (!filter(rawEvent)) {\n          return;\n        }\n        var target = Element.fromDom(rawEvent.target);\n        var stop = function () {\n          rawEvent.stopPropagation();\n        };\n        var prevent = function () {\n          rawEvent.preventDefault();\n        };\n        var kill = compose(prevent, stop);\n        var evt = mkEvent(target, rawEvent.clientX, rawEvent.clientY, stop, prevent, kill, rawEvent);\n        handler(evt);\n      };\n    };\n    var binder = function (element, event, filter, handler, useCapture) {\n      var wrapped = handle(filter, handler);\n      element.dom().addEventListener(event, wrapped, useCapture);\n      return { unbind: curry(unbind, element, event, wrapped, useCapture) };\n    };\n    var bind$1 = function (element, event, filter, handler) {\n      return binder(element, event, filter, handler, false);\n    };\n    var unbind = function (element, event, handler, useCapture) {\n      element.dom().removeEventListener(event, handler, useCapture);\n    };\n\n    var filter$1 = constant(true);\n    var bind$2 = function (element, event, handler) {\n      return bind$1(element, event, filter$1, handler);\n    };\n\n    var hasOwnProperty = Object.prototype.hasOwnProperty;\n    var shallow$1 = function (old, nu) {\n      return nu;\n    };\n    var baseMerge = function (merger) {\n      return function () {\n        var objects = new Array(arguments.length);\n        for (var i = 0; i < objects.length; i++) {\n          objects[i] = arguments[i];\n        }\n        if (objects.length === 0) {\n          throw new Error('Can\\'t merge zero objects');\n        }\n        var ret = {};\n        for (var j = 0; j < objects.length; j++) {\n          var curObject = objects[j];\n          for (var key in curObject) {\n            if (hasOwnProperty.call(curObject, key)) {\n              ret[key] = merger(ret[key], curObject[key]);\n            }\n          }\n        }\n        return ret;\n      };\n    };\n    var merge$3 = baseMerge(shallow$1);\n\n    var styles$1 = css('ephox-dragster');\n    var Styles$2 = { resolve: styles$1.resolve };\n\n    var Blocker = function (options) {\n      var settings = merge$3({ layerClass: Styles$2.resolve('blocker') }, options);\n      var div = Element.fromTag('div');\n      set(div, 'role', 'presentation');\n      setAll$1(div, {\n        position: 'fixed',\n        left: '0px',\n        top: '0px',\n        width: '100%',\n        height: '100%'\n      });\n      add$2(div, Styles$2.resolve('blocker'));\n      add$2(div, settings.layerClass);\n      var element = function () {\n        return div;\n      };\n      var destroy = function () {\n        remove$2(div);\n      };\n      return {\n        element: element,\n        destroy: destroy\n      };\n    };\n\n    var DragMode = exactly([\n      'compare',\n      'extract',\n      'mutate',\n      'sink'\n    ]);\n    var DragSink = exactly([\n      'element',\n      'start',\n      'stop',\n      'destroy'\n    ]);\n    var DragApi = exactly([\n      'forceDrop',\n      'drop',\n      'move',\n      'delayDrop'\n    ]);\n\n    var compare = function (old, nu) {\n      return Position(nu.left() - old.left(), nu.top() - old.top());\n    };\n    var extract$1 = function (event) {\n      return Option.some(Position(event.x(), event.y()));\n    };\n    var mutate = function (mutation, info) {\n      mutation.mutate(info.left(), info.top());\n    };\n    var sink = function (dragApi, settings) {\n      var blocker = Blocker(settings);\n      var mdown = bind$2(blocker.element(), 'mousedown', dragApi.forceDrop);\n      var mup = bind$2(blocker.element(), 'mouseup', dragApi.drop);\n      var mmove = bind$2(blocker.element(), 'mousemove', dragApi.move);\n      var mout = bind$2(blocker.element(), 'mouseout', dragApi.delayDrop);\n      var destroy = function () {\n        blocker.destroy();\n        mup.unbind();\n        mmove.unbind();\n        mout.unbind();\n        mdown.unbind();\n      };\n      var start = function (parent) {\n        append(parent, blocker.element());\n      };\n      var stop = function () {\n        remove$2(blocker.element());\n      };\n      return DragSink({\n        element: blocker.element,\n        start: start,\n        stop: stop,\n        destroy: destroy\n      });\n    };\n    var MouseDrag = DragMode({\n      compare: compare,\n      extract: extract$1,\n      sink: sink,\n      mutate: mutate\n    });\n\n    var last$2 = function (fn, rate) {\n      var timer = null;\n      var cancel = function () {\n        if (timer !== null) {\n          domGlobals.clearTimeout(timer);\n          timer = null;\n        }\n      };\n      var throttle = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        if (timer !== null) {\n          domGlobals.clearTimeout(timer);\n        }\n        timer = domGlobals.setTimeout(function () {\n          fn.apply(null, args);\n          timer = null;\n        }, rate);\n      };\n      return {\n        cancel: cancel,\n        throttle: throttle\n      };\n    };\n\n    function InDrag () {\n      var previous = Option.none();\n      var reset = function () {\n        previous = Option.none();\n      };\n      var update = function (mode, nu) {\n        var result = previous.map(function (old) {\n          return mode.compare(old, nu);\n        });\n        previous = Option.some(nu);\n        return result;\n      };\n      var onEvent = function (event, mode) {\n        var dataOption = mode.extract(event);\n        dataOption.each(function (data) {\n          var offset = update(mode, data);\n          offset.each(function (d) {\n            events.trigger.move(d);\n          });\n        });\n      };\n      var events = Events.create({ move: Event(['info']) });\n      return {\n        onEvent: onEvent,\n        reset: reset,\n        events: events.registry\n      };\n    }\n\n    function NoDrag () {\n      return {\n        onEvent: noop,\n        reset: noop\n      };\n    }\n\n    function Movement () {\n      var noDragState = NoDrag();\n      var inDragState = InDrag();\n      var dragState = noDragState;\n      var on = function () {\n        dragState.reset();\n        dragState = inDragState;\n      };\n      var off = function () {\n        dragState.reset();\n        dragState = noDragState;\n      };\n      var onEvent = function (event, mode) {\n        dragState.onEvent(event, mode);\n      };\n      var isOn = function () {\n        return dragState === inDragState;\n      };\n      return {\n        on: on,\n        off: off,\n        isOn: isOn,\n        onEvent: onEvent,\n        events: inDragState.events\n      };\n    }\n\n    var setup = function (mutation, mode, settings) {\n      var active = false;\n      var events = Events.create({\n        start: Event([]),\n        stop: Event([])\n      });\n      var movement = Movement();\n      var drop = function () {\n        sink.stop();\n        if (movement.isOn()) {\n          movement.off();\n          events.trigger.stop();\n        }\n      };\n      var throttledDrop = last$2(drop, 200);\n      var go = function (parent) {\n        sink.start(parent);\n        movement.on();\n        events.trigger.start();\n      };\n      var mousemove = function (event) {\n        throttledDrop.cancel();\n        movement.onEvent(event, mode);\n      };\n      movement.events.move.bind(function (event) {\n        mode.mutate(mutation, event.info());\n      });\n      var on = function () {\n        active = true;\n      };\n      var off = function () {\n        active = false;\n      };\n      var runIfActive = function (f) {\n        return function () {\n          var args = [];\n          for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n          }\n          if (active) {\n            f.apply(null, args);\n          }\n        };\n      };\n      var sink = mode.sink(DragApi({\n        forceDrop: drop,\n        drop: runIfActive(drop),\n        move: runIfActive(mousemove),\n        delayDrop: runIfActive(throttledDrop.throttle)\n      }), settings);\n      var destroy = function () {\n        sink.destroy();\n      };\n      return {\n        element: sink.element,\n        go: go,\n        on: on,\n        off: off,\n        destroy: destroy,\n        events: events.registry\n      };\n    };\n    var Dragging = { setup: setup };\n\n    var transform$1 = function (mutation, settings) {\n      if (settings === void 0) {\n        settings = {};\n      }\n      var mode = settings.mode !== undefined ? settings.mode : MouseDrag;\n      return Dragging.setup(mutation, mode, settings);\n    };\n    var Dragger = { transform: transform$1 };\n\n    var Mutation = function () {\n      var events = Events.create({\n        drag: Event([\n          'xDelta',\n          'yDelta'\n        ])\n      });\n      var mutate = function (x, y) {\n        events.trigger.drag(x, y);\n      };\n      return {\n        mutate: mutate,\n        events: events.registry\n      };\n    };\n\n    var BarMutation = function () {\n      var events = Events.create({\n        drag: Event([\n          'xDelta',\n          'yDelta',\n          'target'\n        ])\n      });\n      var target = Option.none();\n      var delegate = Mutation();\n      delegate.events.drag.bind(function (event) {\n        target.each(function (t) {\n          events.trigger.drag(event.xDelta(), event.yDelta(), t);\n        });\n      });\n      var assign = function (t) {\n        target = Option.some(t);\n      };\n      var get = function () {\n        return target;\n      };\n      return {\n        assign: assign,\n        get: get,\n        mutate: delegate.mutate,\n        events: events.registry\n      };\n    };\n\n    var isContentEditableTrue = function (elm) {\n      return get(elm, 'contenteditable') === 'true';\n    };\n    var findClosestContentEditable = function (target, isRoot) {\n      return closest$1(target, '[contenteditable]', isRoot);\n    };\n\n    var resizeBarDragging = Styles.resolve('resizer-bar-dragging');\n    var BarManager = function (wire, direction, hdirection) {\n      var mutation = BarMutation();\n      var resizing = Dragger.transform(mutation, {});\n      var hoverTable = Option.none();\n      var getResizer = function (element, type) {\n        return Option.from(get(element, type));\n      };\n      mutation.events.drag.bind(function (event) {\n        getResizer(event.target(), 'data-row').each(function (_dataRow) {\n          var currentRow = CellUtils.getInt(event.target(), 'top');\n          set$1(event.target(), 'top', currentRow + event.yDelta() + 'px');\n        });\n        getResizer(event.target(), 'data-column').each(function (_dataCol) {\n          var currentCol = CellUtils.getInt(event.target(), 'left');\n          set$1(event.target(), 'left', currentCol + event.xDelta() + 'px');\n        });\n      });\n      var getDelta = function (target, dir) {\n        var newX = CellUtils.getInt(target, dir);\n        var oldX = parseInt(get(target, 'data-initial-' + dir), 10);\n        return newX - oldX;\n      };\n      resizing.events.stop.bind(function () {\n        mutation.get().each(function (target) {\n          hoverTable.each(function (table) {\n            getResizer(target, 'data-row').each(function (row) {\n              var delta = getDelta(target, 'top');\n              remove(target, 'data-initial-top');\n              events.trigger.adjustHeight(table, delta, parseInt(row, 10));\n            });\n            getResizer(target, 'data-column').each(function (column) {\n              var delta = getDelta(target, 'left');\n              remove(target, 'data-initial-left');\n              events.trigger.adjustWidth(table, delta, parseInt(column, 10));\n            });\n            Bars.refresh(wire, table, hdirection, direction);\n          });\n        });\n      });\n      var handler = function (target, dir) {\n        events.trigger.startAdjust();\n        mutation.assign(target);\n        set(target, 'data-initial-' + dir, parseInt(get$1(target, dir), 10));\n        add$2(target, resizeBarDragging);\n        set$1(target, 'opacity', '0.2');\n        resizing.go(wire.parent());\n      };\n      var mousedown = bind$2(wire.parent(), 'mousedown', function (event) {\n        if (Bars.isRowBar(event.target())) {\n          handler(event.target(), 'top');\n        }\n        if (Bars.isColBar(event.target())) {\n          handler(event.target(), 'left');\n        }\n      });\n      var isRoot = function (e) {\n        return eq(e, wire.view());\n      };\n      var findClosestEditableTable = function (target) {\n        return closest$1(target, 'table', isRoot).filter(function (table) {\n          return findClosestContentEditable(table, isRoot).exists(isContentEditableTrue);\n        });\n      };\n      var mouseover = bind$2(wire.view(), 'mouseover', function (event) {\n        findClosestEditableTable(event.target()).fold(function () {\n          if (inBody(event.target())) {\n            Bars.destroy(wire);\n          }\n        }, function (table) {\n          hoverTable = Option.some(table);\n          Bars.refresh(wire, table, hdirection, direction);\n        });\n      });\n      var destroy = function () {\n        mousedown.unbind();\n        mouseover.unbind();\n        resizing.destroy();\n        Bars.destroy(wire);\n      };\n      var refresh = function (tbl) {\n        Bars.refresh(wire, tbl, hdirection, direction);\n      };\n      var events = Events.create({\n        adjustHeight: Event([\n          'table',\n          'delta',\n          'row'\n        ]),\n        adjustWidth: Event([\n          'table',\n          'delta',\n          'column'\n        ]),\n        startAdjust: Event([])\n      });\n      return {\n        destroy: destroy,\n        refresh: refresh,\n        on: resizing.on,\n        off: resizing.off,\n        hideBars: curry(Bars.hide, wire),\n        showBars: curry(Bars.show, wire),\n        events: events.registry\n      };\n    };\n\n    var create$2 = function (wire, vdirection) {\n      var hdirection = BarPositions.height;\n      var manager = BarManager(wire, vdirection, hdirection);\n      var events = Events.create({\n        beforeResize: Event(['table']),\n        afterResize: Event(['table']),\n        startDrag: Event([])\n      });\n      manager.events.adjustHeight.bind(function (event) {\n        events.trigger.beforeResize(event.table());\n        var delta = hdirection.delta(event.delta(), event.table());\n        Adjustments.adjustHeight(event.table(), delta, event.row(), hdirection);\n        events.trigger.afterResize(event.table());\n      });\n      manager.events.startAdjust.bind(function (event) {\n        events.trigger.startDrag();\n      });\n      manager.events.adjustWidth.bind(function (event) {\n        events.trigger.beforeResize(event.table());\n        var delta = vdirection.delta(event.delta(), event.table());\n        Adjustments.adjustWidth(event.table(), delta, event.column(), vdirection);\n        events.trigger.afterResize(event.table());\n      });\n      return {\n        on: manager.on,\n        off: manager.off,\n        hideBars: manager.hideBars,\n        showBars: manager.showBars,\n        destroy: manager.destroy,\n        events: events.registry\n      };\n    };\n    var TableResize = { create: create$2 };\n\n    var createContainer = function () {\n      var container = Element.fromTag('div');\n      setAll$1(container, {\n        position: 'static',\n        height: '0',\n        width: '0',\n        padding: '0',\n        margin: '0',\n        border: '0'\n      });\n      append(body(), container);\n      return container;\n    };\n    var get$8 = function (editor, container) {\n      return editor.inline ? ResizeWire.body(getBody$1(editor), createContainer()) : ResizeWire.only(Element.fromDom(editor.getDoc()));\n    };\n    var remove$6 = function (editor, wire) {\n      if (editor.inline) {\n        remove$2(wire.parent());\n      }\n    };\n    var TableWire = {\n      get: get$8,\n      remove: remove$6\n    };\n\n    var ResizeHandler = function (editor) {\n      var selectionRng = Option.none();\n      var resize = Option.none();\n      var wire = Option.none();\n      var percentageBasedSizeRegex = /(\\d+(\\.\\d+)?)%/;\n      var startW, startRawW;\n      var isTable = function (elm) {\n        return elm.nodeName === 'TABLE';\n      };\n      var getRawWidth = function (elm) {\n        return editor.dom.getStyle(elm, 'width') || editor.dom.getAttrib(elm, 'width');\n      };\n      var lazyResize = function () {\n        return resize;\n      };\n      var lazyWire = function () {\n        return wire.getOr(ResizeWire.only(Element.fromDom(editor.getBody())));\n      };\n      var destroy = function () {\n        resize.each(function (sz) {\n          sz.destroy();\n        });\n        wire.each(function (w) {\n          TableWire.remove(editor, w);\n        });\n      };\n      editor.on('init', function () {\n        var direction = TableDirection(Direction.directionAt);\n        var rawWire = TableWire.get(editor);\n        wire = Option.some(rawWire);\n        if (hasObjectResizing(editor) && hasTableResizeBars(editor)) {\n          var sz = TableResize.create(rawWire, direction);\n          sz.on();\n          sz.events.startDrag.bind(function (event) {\n            selectionRng = Option.some(editor.selection.getRng());\n          });\n          sz.events.beforeResize.bind(function (event) {\n            var rawTable = event.table().dom();\n            fireObjectResizeStart(editor, rawTable, getPixelWidth$1(rawTable), getPixelHeight(rawTable));\n          });\n          sz.events.afterResize.bind(function (event) {\n            var table = event.table();\n            var rawTable = table.dom();\n            removeDataStyle(table);\n            selectionRng.each(function (rng) {\n              editor.selection.setRng(rng);\n              editor.focus();\n            });\n            fireObjectResized(editor, rawTable, getPixelWidth$1(rawTable), getPixelHeight(rawTable));\n            editor.undoManager.add();\n          });\n          resize = Option.some(sz);\n        }\n      });\n      editor.on('ObjectResizeStart', function (e) {\n        var targetElm = e.target;\n        if (isTable(targetElm)) {\n          startW = e.width;\n          startRawW = getRawWidth(targetElm);\n        }\n      });\n      editor.on('ObjectResized', function (e) {\n        var targetElm = e.target;\n        if (isTable(targetElm)) {\n          var table = targetElm;\n          if (percentageBasedSizeRegex.test(startRawW)) {\n            var percentW = parseFloat(percentageBasedSizeRegex.exec(startRawW)[1]);\n            var targetPercentW = e.width * percentW / startW;\n            editor.dom.setStyle(table, 'width', targetPercentW + '%');\n          } else {\n            var newCellSizes_1 = [];\n            global$1.each(table.rows, function (row) {\n              global$1.each(row.cells, function (cell) {\n                var width = editor.dom.getStyle(cell, 'width', true);\n                newCellSizes_1.push({\n                  cell: cell,\n                  width: width\n                });\n              });\n            });\n            global$1.each(newCellSizes_1, function (newCellSize) {\n              editor.dom.setStyle(newCellSize.cell, 'width', newCellSize.width);\n              editor.dom.setAttrib(newCellSize.cell, 'width', null);\n            });\n          }\n        }\n      });\n      return {\n        lazyResize: lazyResize,\n        lazyWire: lazyWire,\n        destroy: destroy\n      };\n    };\n\n    var adt$1 = Adt.generate([\n      { none: ['current'] },\n      { first: ['current'] },\n      {\n        middle: [\n          'current',\n          'target'\n        ]\n      },\n      { last: ['current'] }\n    ]);\n    var none$1 = function (current) {\n      if (current === void 0) {\n        current = undefined;\n      }\n      return adt$1.none(current);\n    };\n    var CellLocation = __assign(__assign({}, adt$1), { none: none$1 });\n\n    var detect$4 = function (current, isRoot) {\n      return TableLookup.table(current, isRoot).bind(function (table) {\n        var all = TableLookup.cells(table);\n        var index = findIndex(all, function (x) {\n          return eq(current, x);\n        });\n        return index.map(function (ind) {\n          return {\n            index: constant(ind),\n            all: constant(all)\n          };\n        });\n      });\n    };\n    var next = function (current, isRoot) {\n      var detection = detect$4(current, isRoot);\n      return detection.fold(function () {\n        return CellLocation.none(current);\n      }, function (info) {\n        return info.index() + 1 < info.all().length ? CellLocation.middle(current, info.all()[info.index() + 1]) : CellLocation.last(current);\n      });\n    };\n    var prev = function (current, isRoot) {\n      var detection = detect$4(current, isRoot);\n      return detection.fold(function () {\n        return CellLocation.none();\n      }, function (info) {\n        return info.index() - 1 >= 0 ? CellLocation.middle(current, info.all()[info.index() - 1]) : CellLocation.first(current);\n      });\n    };\n    var CellNavigation = {\n      next: next,\n      prev: prev\n    };\n\n    var create$3 = Immutable('start', 'soffset', 'finish', 'foffset');\n    var SimRange = { create: create$3 };\n\n    var adt$2 = Adt.generate([\n      { before: ['element'] },\n      {\n        on: [\n          'element',\n          'offset'\n        ]\n      },\n      { after: ['element'] }\n    ]);\n    var cata$1 = function (subject, onBefore, onOn, onAfter) {\n      return subject.fold(onBefore, onOn, onAfter);\n    };\n    var getStart = function (situ) {\n      return situ.fold(identity, identity, identity);\n    };\n    var before$2 = adt$2.before;\n    var on = adt$2.on;\n    var after$2 = adt$2.after;\n    var Situ = {\n      before: before$2,\n      on: on,\n      after: after$2,\n      cata: cata$1,\n      getStart: getStart\n    };\n\n    var adt$3 = Adt.generate([\n      { domRange: ['rng'] },\n      {\n        relative: [\n          'startSitu',\n          'finishSitu'\n        ]\n      },\n      {\n        exact: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      }\n    ]);\n    var exactFromRange = function (simRange) {\n      return adt$3.exact(simRange.start(), simRange.soffset(), simRange.finish(), simRange.foffset());\n    };\n    var getStart$1 = function (selection) {\n      return selection.match({\n        domRange: function (rng) {\n          return Element.fromDom(rng.startContainer);\n        },\n        relative: function (startSitu, finishSitu) {\n          return Situ.getStart(startSitu);\n        },\n        exact: function (start, soffset, finish, foffset) {\n          return start;\n        }\n      });\n    };\n    var domRange = adt$3.domRange;\n    var relative = adt$3.relative;\n    var exact = adt$3.exact;\n    var getWin = function (selection) {\n      var start = getStart$1(selection);\n      return defaultView(start);\n    };\n    var range$1 = SimRange.create;\n    var Selection = {\n      domRange: domRange,\n      relative: relative,\n      exact: exact,\n      exactFromRange: exactFromRange,\n      getWin: getWin,\n      range: range$1\n    };\n\n    var selectNodeContents = function (win, element) {\n      var rng = win.document.createRange();\n      selectNodeContentsUsing(rng, element);\n      return rng;\n    };\n    var selectNodeContentsUsing = function (rng, element) {\n      rng.selectNodeContents(element.dom());\n    };\n    var setStart = function (rng, situ) {\n      situ.fold(function (e) {\n        rng.setStartBefore(e.dom());\n      }, function (e, o) {\n        rng.setStart(e.dom(), o);\n      }, function (e) {\n        rng.setStartAfter(e.dom());\n      });\n    };\n    var setFinish = function (rng, situ) {\n      situ.fold(function (e) {\n        rng.setEndBefore(e.dom());\n      }, function (e, o) {\n        rng.setEnd(e.dom(), o);\n      }, function (e) {\n        rng.setEndAfter(e.dom());\n      });\n    };\n    var relativeToNative = function (win, startSitu, finishSitu) {\n      var range = win.document.createRange();\n      setStart(range, startSitu);\n      setFinish(range, finishSitu);\n      return range;\n    };\n    var exactToNative = function (win, start, soffset, finish, foffset) {\n      var rng = win.document.createRange();\n      rng.setStart(start.dom(), soffset);\n      rng.setEnd(finish.dom(), foffset);\n      return rng;\n    };\n    var toRect = function (rect) {\n      return {\n        left: constant(rect.left),\n        top: constant(rect.top),\n        right: constant(rect.right),\n        bottom: constant(rect.bottom),\n        width: constant(rect.width),\n        height: constant(rect.height)\n      };\n    };\n    var getFirstRect = function (rng) {\n      var rects = rng.getClientRects();\n      var rect = rects.length > 0 ? rects[0] : rng.getBoundingClientRect();\n      return rect.width > 0 || rect.height > 0 ? Option.some(rect).map(toRect) : Option.none();\n    };\n\n    var adt$4 = Adt.generate([\n      {\n        ltr: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      },\n      {\n        rtl: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      }\n    ]);\n    var fromRange = function (win, type, range) {\n      return type(Element.fromDom(range.startContainer), range.startOffset, Element.fromDom(range.endContainer), range.endOffset);\n    };\n    var getRanges = function (win, selection) {\n      return selection.match({\n        domRange: function (rng) {\n          return {\n            ltr: constant(rng),\n            rtl: Option.none\n          };\n        },\n        relative: function (startSitu, finishSitu) {\n          return {\n            ltr: cached(function () {\n              return relativeToNative(win, startSitu, finishSitu);\n            }),\n            rtl: cached(function () {\n              return Option.some(relativeToNative(win, finishSitu, startSitu));\n            })\n          };\n        },\n        exact: function (start, soffset, finish, foffset) {\n          return {\n            ltr: cached(function () {\n              return exactToNative(win, start, soffset, finish, foffset);\n            }),\n            rtl: cached(function () {\n              return Option.some(exactToNative(win, finish, foffset, start, soffset));\n            })\n          };\n        }\n      });\n    };\n    var doDiagnose = function (win, ranges) {\n      var rng = ranges.ltr();\n      if (rng.collapsed) {\n        var reversed = ranges.rtl().filter(function (rev) {\n          return rev.collapsed === false;\n        });\n        return reversed.map(function (rev) {\n          return adt$4.rtl(Element.fromDom(rev.endContainer), rev.endOffset, Element.fromDom(rev.startContainer), rev.startOffset);\n        }).getOrThunk(function () {\n          return fromRange(win, adt$4.ltr, rng);\n        });\n      } else {\n        return fromRange(win, adt$4.ltr, rng);\n      }\n    };\n    var diagnose = function (win, selection) {\n      var ranges = getRanges(win, selection);\n      return doDiagnose(win, ranges);\n    };\n    var asLtrRange = function (win, selection) {\n      var diagnosis = diagnose(win, selection);\n      return diagnosis.match({\n        ltr: function (start, soffset, finish, foffset) {\n          var rng = win.document.createRange();\n          rng.setStart(start.dom(), soffset);\n          rng.setEnd(finish.dom(), foffset);\n          return rng;\n        },\n        rtl: function (start, soffset, finish, foffset) {\n          var rng = win.document.createRange();\n          rng.setStart(finish.dom(), foffset);\n          rng.setEnd(start.dom(), soffset);\n          return rng;\n        }\n      });\n    };\n\n    var searchForPoint = function (rectForOffset, x, y, maxX, length) {\n      if (length === 0) {\n        return 0;\n      } else if (x === maxX) {\n        return length - 1;\n      }\n      var xDelta = maxX;\n      for (var i = 1; i < length; i++) {\n        var rect = rectForOffset(i);\n        var curDeltaX = Math.abs(x - rect.left);\n        if (y <= rect.bottom) {\n          if (y < rect.top || curDeltaX > xDelta) {\n            return i - 1;\n          } else {\n            xDelta = curDeltaX;\n          }\n        }\n      }\n      return 0;\n    };\n    var inRect = function (rect, x, y) {\n      return x >= rect.left && x <= rect.right && y >= rect.top && y <= rect.bottom;\n    };\n\n    var locateOffset = function (doc, textnode, x, y, rect) {\n      var rangeForOffset = function (o) {\n        var r = doc.dom().createRange();\n        r.setStart(textnode.dom(), o);\n        r.collapse(true);\n        return r;\n      };\n      var rectForOffset = function (o) {\n        var r = rangeForOffset(o);\n        return r.getBoundingClientRect();\n      };\n      var length = get$2(textnode).length;\n      var offset = searchForPoint(rectForOffset, x, y, rect.right, length);\n      return rangeForOffset(offset);\n    };\n    var locate = function (doc, node, x, y) {\n      var r = doc.dom().createRange();\n      r.selectNode(node.dom());\n      var rects = r.getClientRects();\n      var foundRect = findMap(rects, function (rect) {\n        return inRect(rect, x, y) ? Option.some(rect) : Option.none();\n      });\n      return foundRect.map(function (rect) {\n        return locateOffset(doc, node, x, y, rect);\n      });\n    };\n\n    var searchInChildren = function (doc, node, x, y) {\n      var r = doc.dom().createRange();\n      var nodes = children(node);\n      return findMap(nodes, function (n) {\n        r.selectNode(n.dom());\n        return inRect(r.getBoundingClientRect(), x, y) ? locateNode(doc, n, x, y) : Option.none();\n      });\n    };\n    var locateNode = function (doc, node, x, y) {\n      return isText(node) ? locate(doc, node, x, y) : searchInChildren(doc, node, x, y);\n    };\n    var locate$1 = function (doc, node, x, y) {\n      var r = doc.dom().createRange();\n      r.selectNode(node.dom());\n      var rect = r.getBoundingClientRect();\n      var boundedX = Math.max(rect.left, Math.min(rect.right, x));\n      var boundedY = Math.max(rect.top, Math.min(rect.bottom, y));\n      return locateNode(doc, node, boundedX, boundedY);\n    };\n\n    var COLLAPSE_TO_LEFT = true;\n    var COLLAPSE_TO_RIGHT = false;\n    var getCollapseDirection = function (rect, x) {\n      return x - rect.left < rect.right - x ? COLLAPSE_TO_LEFT : COLLAPSE_TO_RIGHT;\n    };\n    var createCollapsedNode = function (doc, target, collapseDirection) {\n      var r = doc.dom().createRange();\n      r.selectNode(target.dom());\n      r.collapse(collapseDirection);\n      return r;\n    };\n    var locateInElement = function (doc, node, x) {\n      var cursorRange = doc.dom().createRange();\n      cursorRange.selectNode(node.dom());\n      var rect = cursorRange.getBoundingClientRect();\n      var collapseDirection = getCollapseDirection(rect, x);\n      var f = collapseDirection === COLLAPSE_TO_LEFT ? first : last$1;\n      return f(node).map(function (target) {\n        return createCollapsedNode(doc, target, collapseDirection);\n      });\n    };\n    var locateInEmpty = function (doc, node, x) {\n      var rect = node.dom().getBoundingClientRect();\n      var collapseDirection = getCollapseDirection(rect, x);\n      return Option.some(createCollapsedNode(doc, node, collapseDirection));\n    };\n    var search = function (doc, node, x) {\n      var f = children(node).length === 0 ? locateInEmpty : locateInElement;\n      return f(doc, node, x);\n    };\n\n    var caretPositionFromPoint = function (doc, x, y) {\n      return Option.from(doc.dom().caretPositionFromPoint(x, y)).bind(function (pos) {\n        if (pos.offsetNode === null) {\n          return Option.none();\n        }\n        var r = doc.dom().createRange();\n        r.setStart(pos.offsetNode, pos.offset);\n        r.collapse();\n        return Option.some(r);\n      });\n    };\n    var caretRangeFromPoint = function (doc, x, y) {\n      return Option.from(doc.dom().caretRangeFromPoint(x, y));\n    };\n    var searchTextNodes = function (doc, node, x, y) {\n      var r = doc.dom().createRange();\n      r.selectNode(node.dom());\n      var rect = r.getBoundingClientRect();\n      var boundedX = Math.max(rect.left, Math.min(rect.right, x));\n      var boundedY = Math.max(rect.top, Math.min(rect.bottom, y));\n      return locate$1(doc, node, boundedX, boundedY);\n    };\n    var searchFromPoint = function (doc, x, y) {\n      return Element.fromPoint(doc, x, y).bind(function (elem) {\n        var fallback = function () {\n          return search(doc, elem, x);\n        };\n        return children(elem).length === 0 ? fallback() : searchTextNodes(doc, elem, x, y).orThunk(fallback);\n      });\n    };\n    var availableSearch = document.caretPositionFromPoint ? caretPositionFromPoint : document.caretRangeFromPoint ? caretRangeFromPoint : searchFromPoint;\n    var fromPoint$1 = function (win, x, y) {\n      var doc = Element.fromDom(win.document);\n      return availableSearch(doc, x, y).map(function (rng) {\n        return SimRange.create(Element.fromDom(rng.startContainer), rng.startOffset, Element.fromDom(rng.endContainer), rng.endOffset);\n      });\n    };\n\n    var beforeSpecial = function (element, offset) {\n      var name$1 = name(element);\n      if ('input' === name$1) {\n        return Situ.after(element);\n      } else if (!contains([\n          'br',\n          'img'\n        ], name$1)) {\n        return Situ.on(element, offset);\n      } else {\n        return offset === 0 ? Situ.before(element) : Situ.after(element);\n      }\n    };\n    var preprocessRelative = function (startSitu, finishSitu) {\n      var start = startSitu.fold(Situ.before, beforeSpecial, Situ.after);\n      var finish = finishSitu.fold(Situ.before, beforeSpecial, Situ.after);\n      return Selection.relative(start, finish);\n    };\n    var preprocessExact = function (start, soffset, finish, foffset) {\n      var startSitu = beforeSpecial(start, soffset);\n      var finishSitu = beforeSpecial(finish, foffset);\n      return Selection.relative(startSitu, finishSitu);\n    };\n    var preprocess = function (selection) {\n      return selection.match({\n        domRange: function (rng) {\n          var start = Element.fromDom(rng.startContainer);\n          var finish = Element.fromDom(rng.endContainer);\n          return preprocessExact(start, rng.startOffset, finish, rng.endOffset);\n        },\n        relative: preprocessRelative,\n        exact: preprocessExact\n      });\n    };\n\n    var makeRange = function (start, soffset, finish, foffset) {\n      var doc = owner(start);\n      var rng = doc.dom().createRange();\n      rng.setStart(start.dom(), soffset);\n      rng.setEnd(finish.dom(), foffset);\n      return rng;\n    };\n    var after$3 = function (start, soffset, finish, foffset) {\n      var r = makeRange(start, soffset, finish, foffset);\n      var same = eq(start, finish) && soffset === foffset;\n      return r.collapsed && !same;\n    };\n\n    var doSetNativeRange = function (win, rng) {\n      Option.from(win.getSelection()).each(function (selection) {\n        selection.removeAllRanges();\n        selection.addRange(rng);\n      });\n    };\n    var doSetRange = function (win, start, soffset, finish, foffset) {\n      var rng = exactToNative(win, start, soffset, finish, foffset);\n      doSetNativeRange(win, rng);\n    };\n    var setLegacyRtlRange = function (win, selection, start, soffset, finish, foffset) {\n      selection.collapse(start.dom(), soffset);\n      selection.extend(finish.dom(), foffset);\n    };\n    var setRangeFromRelative = function (win, relative) {\n      return diagnose(win, relative).match({\n        ltr: function (start, soffset, finish, foffset) {\n          doSetRange(win, start, soffset, finish, foffset);\n        },\n        rtl: function (start, soffset, finish, foffset) {\n          var selection = win.getSelection();\n          if (selection.setBaseAndExtent) {\n            selection.setBaseAndExtent(start.dom(), soffset, finish.dom(), foffset);\n          } else if (selection.extend) {\n            try {\n              setLegacyRtlRange(win, selection, start, soffset, finish, foffset);\n            } catch (e) {\n              doSetRange(win, finish, foffset, start, soffset);\n            }\n          } else {\n            doSetRange(win, finish, foffset, start, soffset);\n          }\n        }\n      });\n    };\n    var setExact = function (win, start, soffset, finish, foffset) {\n      var relative = preprocessExact(start, soffset, finish, foffset);\n      setRangeFromRelative(win, relative);\n    };\n    var setRelative = function (win, startSitu, finishSitu) {\n      var relative = preprocessRelative(startSitu, finishSitu);\n      setRangeFromRelative(win, relative);\n    };\n    var toNative = function (selection) {\n      var win = Selection.getWin(selection).dom();\n      var getDomRange = function (start, soffset, finish, foffset) {\n        return exactToNative(win, start, soffset, finish, foffset);\n      };\n      var filtered = preprocess(selection);\n      return diagnose(win, filtered).match({\n        ltr: getDomRange,\n        rtl: getDomRange\n      });\n    };\n    var readRange = function (selection) {\n      if (selection.rangeCount > 0) {\n        var firstRng = selection.getRangeAt(0);\n        var lastRng = selection.getRangeAt(selection.rangeCount - 1);\n        return Option.some(SimRange.create(Element.fromDom(firstRng.startContainer), firstRng.startOffset, Element.fromDom(lastRng.endContainer), lastRng.endOffset));\n      } else {\n        return Option.none();\n      }\n    };\n    var doGetExact = function (selection) {\n      var anchor = Element.fromDom(selection.anchorNode);\n      var focus = Element.fromDom(selection.focusNode);\n      return after$3(anchor, selection.anchorOffset, focus, selection.focusOffset) ? Option.some(SimRange.create(anchor, selection.anchorOffset, focus, selection.focusOffset)) : readRange(selection);\n    };\n    var setToElement = function (win, element) {\n      var rng = selectNodeContents(win, element);\n      doSetNativeRange(win, rng);\n    };\n    var getExact = function (win) {\n      return Option.from(win.getSelection()).filter(function (sel) {\n        return sel.rangeCount > 0;\n      }).bind(doGetExact);\n    };\n    var get$9 = function (win) {\n      return getExact(win).map(function (range) {\n        return Selection.exact(range.start(), range.soffset(), range.finish(), range.foffset());\n      });\n    };\n    var getFirstRect$1 = function (win, selection) {\n      var rng = asLtrRange(win, selection);\n      return getFirstRect(rng);\n    };\n    var getAtPoint = function (win, x, y) {\n      return fromPoint$1(win, x, y);\n    };\n    var clear = function (win) {\n      var selection = win.getSelection();\n      selection.removeAllRanges();\n    };\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.util.VK');\n\n    var forward = function (editor, isRoot, cell, lazyWire) {\n      return go(editor, isRoot, CellNavigation.next(cell), lazyWire);\n    };\n    var backward = function (editor, isRoot, cell, lazyWire) {\n      return go(editor, isRoot, CellNavigation.prev(cell), lazyWire);\n    };\n    var getCellFirstCursorPosition = function (editor, cell) {\n      var selection = Selection.exact(cell, 0, cell, 0);\n      return toNative(selection);\n    };\n    var getNewRowCursorPosition = function (editor, table) {\n      var rows = descendants$1(table, 'tr');\n      return last(rows).bind(function (last) {\n        return descendant$1(last, 'td,th').map(function (first) {\n          return getCellFirstCursorPosition(editor, first);\n        });\n      });\n    };\n    var go = function (editor, isRoot, cell, actions, lazyWire) {\n      return cell.fold(Option.none, Option.none, function (current, next) {\n        return first(next).map(function (cell) {\n          return getCellFirstCursorPosition(editor, cell);\n        });\n      }, function (current) {\n        return TableLookup.table(current, isRoot).bind(function (table) {\n          var targets = TableTargets.noMenu(current);\n          editor.undoManager.transact(function () {\n            actions.insertRowsAfter(table, targets);\n          });\n          return getNewRowCursorPosition(editor, table);\n        });\n      });\n    };\n    var rootElements = [\n      'table',\n      'li',\n      'dl'\n    ];\n    var handle$1 = function (event, editor, actions, lazyWire) {\n      if (event.keyCode === global$3.TAB) {\n        var body_1 = getBody$1(editor);\n        var isRoot_1 = function (element) {\n          var name$1 = name(element);\n          return eq(element, body_1) || contains(rootElements, name$1);\n        };\n        var rng = editor.selection.getRng();\n        if (rng.collapsed) {\n          var start = Element.fromDom(rng.startContainer);\n          TableLookup.cell(start, isRoot_1).each(function (cell) {\n            event.preventDefault();\n            var navigation = event.shiftKey ? backward : forward;\n            var rng = navigation(editor, isRoot_1, cell, actions, lazyWire);\n            rng.each(function (range) {\n              editor.selection.setRng(range);\n            });\n          });\n        }\n      }\n    };\n    var TabContext = { handle: handle$1 };\n\n    var create$4 = Immutable('selection', 'kill');\n    var Response = { create: create$4 };\n\n    var create$5 = function (start, soffset, finish, foffset) {\n      return {\n        start: constant(Situ.on(start, soffset)),\n        finish: constant(Situ.on(finish, foffset))\n      };\n    };\n    var Situs = { create: create$5 };\n\n    var convertToRange = function (win, selection) {\n      var rng = asLtrRange(win, selection);\n      return SimRange.create(Element.fromDom(rng.startContainer), rng.startOffset, Element.fromDom(rng.endContainer), rng.endOffset);\n    };\n    var makeSitus = Situs.create;\n    var Util = {\n      convertToRange: convertToRange,\n      makeSitus: makeSitus\n    };\n\n    var sync = function (container, isRoot, start, soffset, finish, foffset, selectRange) {\n      if (!(eq(start, finish) && soffset === foffset)) {\n        return closest$1(start, 'td,th', isRoot).bind(function (s) {\n          return closest$1(finish, 'td,th', isRoot).bind(function (f) {\n            return detect$5(container, isRoot, s, f, selectRange);\n          });\n        });\n      } else {\n        return Option.none();\n      }\n    };\n    var detect$5 = function (container, isRoot, start, finish, selectRange) {\n      if (!eq(start, finish)) {\n        return CellSelection.identify(start, finish, isRoot).bind(function (cellSel) {\n          var boxes = cellSel.boxes().getOr([]);\n          if (boxes.length > 0) {\n            selectRange(container, boxes, cellSel.start(), cellSel.finish());\n            return Option.some(Response.create(Option.some(Util.makeSitus(start, 0, start, getEnd(start))), true));\n          } else {\n            return Option.none();\n          }\n        });\n      } else {\n        return Option.none();\n      }\n    };\n    var update = function (rows, columns, container, selected, annotations) {\n      var updateSelection = function (newSels) {\n        annotations.clear(container);\n        annotations.selectRange(container, newSels.boxes(), newSels.start(), newSels.finish());\n        return newSels.boxes();\n      };\n      return CellSelection.shiftSelection(selected, rows, columns, annotations.firstSelectedSelector(), annotations.lastSelectedSelector()).map(updateSelection);\n    };\n    var KeySelection = {\n      sync: sync,\n      detect: detect$5,\n      update: update\n    };\n\n    var traverse = Immutable('item', 'mode');\n    var backtrack = function (universe, item, _direction, transition) {\n      if (transition === void 0) {\n        transition = sidestep;\n      }\n      return universe.property().parent(item).map(function (p) {\n        return traverse(p, transition);\n      });\n    };\n    var sidestep = function (universe, item, direction, transition) {\n      if (transition === void 0) {\n        transition = advance;\n      }\n      return direction.sibling(universe, item).map(function (p) {\n        return traverse(p, transition);\n      });\n    };\n    var advance = function (universe, item, direction, transition) {\n      if (transition === void 0) {\n        transition = advance;\n      }\n      var children = universe.property().children(item);\n      var result = direction.first(children);\n      return result.map(function (r) {\n        return traverse(r, transition);\n      });\n    };\n    var successors = [\n      {\n        current: backtrack,\n        next: sidestep,\n        fallback: Option.none()\n      },\n      {\n        current: sidestep,\n        next: advance,\n        fallback: Option.some(backtrack)\n      },\n      {\n        current: advance,\n        next: advance,\n        fallback: Option.some(sidestep)\n      }\n    ];\n    var go$1 = function (universe, item, mode, direction, rules) {\n      if (rules === void 0) {\n        rules = successors;\n      }\n      var ruleOpt = find(rules, function (succ) {\n        return succ.current === mode;\n      });\n      return ruleOpt.bind(function (rule) {\n        return rule.current(universe, item, direction, rule.next).orThunk(function () {\n          return rule.fallback.bind(function (fb) {\n            return go$1(universe, item, fb, direction);\n          });\n        });\n      });\n    };\n\n    var left = function () {\n      var sibling = function (universe, item) {\n        return universe.query().prevSibling(item);\n      };\n      var first = function (children) {\n        return children.length > 0 ? Option.some(children[children.length - 1]) : Option.none();\n      };\n      return {\n        sibling: sibling,\n        first: first\n      };\n    };\n    var right = function () {\n      var sibling = function (universe, item) {\n        return universe.query().nextSibling(item);\n      };\n      var first = function (children) {\n        return children.length > 0 ? Option.some(children[0]) : Option.none();\n      };\n      return {\n        sibling: sibling,\n        first: first\n      };\n    };\n    var Walkers = {\n      left: left,\n      right: right\n    };\n\n    var hone = function (universe, item, predicate, mode, direction, isRoot) {\n      var next = go$1(universe, item, mode, direction);\n      return next.bind(function (n) {\n        if (isRoot(n.item())) {\n          return Option.none();\n        } else {\n          return predicate(n.item()) ? Option.some(n.item()) : hone(universe, n.item(), predicate, n.mode(), direction, isRoot);\n        }\n      });\n    };\n    var left$1 = function (universe, item, predicate, isRoot) {\n      return hone(universe, item, predicate, sidestep, Walkers.left(), isRoot);\n    };\n    var right$1 = function (universe, item, predicate, isRoot) {\n      return hone(universe, item, predicate, sidestep, Walkers.right(), isRoot);\n    };\n\n    var isLeaf = function (universe) {\n      return function (element) {\n        return universe.property().children(element).length === 0;\n      };\n    };\n    var before$3 = function (universe, item, isRoot) {\n      return seekLeft(universe, item, isLeaf(universe), isRoot);\n    };\n    var after$4 = function (universe, item, isRoot) {\n      return seekRight(universe, item, isLeaf(universe), isRoot);\n    };\n    var seekLeft = left$1;\n    var seekRight = right$1;\n\n    var universe$2 = DomUniverse();\n    var before$4 = function (element, isRoot) {\n      return before$3(universe$2, element, isRoot);\n    };\n    var after$5 = function (element, isRoot) {\n      return after$4(universe$2, element, isRoot);\n    };\n    var seekLeft$1 = function (element, predicate, isRoot) {\n      return seekLeft(universe$2, element, predicate, isRoot);\n    };\n    var seekRight$1 = function (element, predicate, isRoot) {\n      return seekRight(universe$2, element, predicate, isRoot);\n    };\n\n    var ancestor$2 = function (scope, predicate, isRoot) {\n      return ancestor(scope, predicate, isRoot).isSome();\n    };\n\n    var point = Immutable('element', 'offset');\n    var delta = Immutable('element', 'deltaOffset');\n    var range$2 = Immutable('element', 'start', 'finish');\n    var points = Immutable('begin', 'end');\n    var text = Immutable('element', 'text');\n\n    var adt$5 = Adt.generate([\n      { none: ['message'] },\n      { success: [] },\n      { failedUp: ['cell'] },\n      { failedDown: ['cell'] }\n    ]);\n    var isOverlapping = function (bridge, before, after) {\n      var beforeBounds = bridge.getRect(before);\n      var afterBounds = bridge.getRect(after);\n      return afterBounds.right > beforeBounds.left && afterBounds.left < beforeBounds.right;\n    };\n    var isRow = function (elem) {\n      return closest$1(elem, 'tr');\n    };\n    var verify = function (bridge, before, beforeOffset, after, afterOffset, failure, isRoot) {\n      return closest$1(after, 'td,th', isRoot).bind(function (afterCell) {\n        return closest$1(before, 'td,th', isRoot).map(function (beforeCell) {\n          if (!eq(afterCell, beforeCell)) {\n            return DomParent.sharedOne(isRow, [\n              afterCell,\n              beforeCell\n            ]).fold(function () {\n              return isOverlapping(bridge, beforeCell, afterCell) ? adt$5.success() : failure(beforeCell);\n            }, function (_sharedRow) {\n              return failure(beforeCell);\n            });\n          } else {\n            return eq(after, afterCell) && getEnd(afterCell) === afterOffset ? failure(beforeCell) : adt$5.none('in same cell');\n          }\n        });\n      }).getOr(adt$5.none('default'));\n    };\n    var cata$2 = function (subject, onNone, onSuccess, onFailedUp, onFailedDown) {\n      return subject.fold(onNone, onSuccess, onFailedUp, onFailedDown);\n    };\n    var BeforeAfter = __assign(__assign({}, adt$5), {\n      verify: verify,\n      cata: cata$2\n    });\n\n    var inAncestor = Immutable('ancestor', 'descendants', 'element', 'index');\n    var inParent = Immutable('parent', 'children', 'element', 'index');\n    var indexInParent = function (element) {\n      return parent(element).bind(function (parent) {\n        var children$1 = children(parent);\n        return indexOf(children$1, element).map(function (index) {\n          return inParent(parent, children$1, element, index);\n        });\n      });\n    };\n    var indexOf = function (elements, element) {\n      return findIndex(elements, curry(eq, element));\n    };\n\n    var isBr = function (elem) {\n      return name(elem) === 'br';\n    };\n    var gatherer = function (cand, gather, isRoot) {\n      return gather(cand, isRoot).bind(function (target) {\n        return isText(target) && get$2(target).trim().length === 0 ? gatherer(target, gather, isRoot) : Option.some(target);\n      });\n    };\n    var handleBr = function (isRoot, element, direction) {\n      return direction.traverse(element).orThunk(function () {\n        return gatherer(element, direction.gather, isRoot);\n      }).map(direction.relative);\n    };\n    var findBr = function (element, offset) {\n      return child(element, offset).filter(isBr).orThunk(function () {\n        return child(element, offset - 1).filter(isBr);\n      });\n    };\n    var handleParent = function (isRoot, element, offset, direction) {\n      return findBr(element, offset).bind(function (br) {\n        return direction.traverse(br).fold(function () {\n          return gatherer(br, direction.gather, isRoot).map(direction.relative);\n        }, function (adjacent) {\n          return indexInParent(adjacent).map(function (info) {\n            return Situ.on(info.parent(), info.index());\n          });\n        });\n      });\n    };\n    var tryBr = function (isRoot, element, offset, direction) {\n      var target = isBr(element) ? handleBr(isRoot, element, direction) : handleParent(isRoot, element, offset, direction);\n      return target.map(function (tgt) {\n        return {\n          start: constant(tgt),\n          finish: constant(tgt)\n        };\n      });\n    };\n    var process = function (analysis) {\n      return BeforeAfter.cata(analysis, function (message) {\n        return Option.none();\n      }, function () {\n        return Option.none();\n      }, function (cell) {\n        return Option.some(point(cell, 0));\n      }, function (cell) {\n        return Option.some(point(cell, getEnd(cell)));\n      });\n    };\n    var BrTags = {\n      tryBr: tryBr,\n      process: process\n    };\n\n    var nu$3 = MixedBag([\n      'left',\n      'top',\n      'right',\n      'bottom'\n    ], []);\n    var moveDown = function (caret, amount) {\n      return nu$3({\n        left: caret.left(),\n        top: caret.top() + amount,\n        right: caret.right(),\n        bottom: caret.bottom() + amount\n      });\n    };\n    var moveUp = function (caret, amount) {\n      return nu$3({\n        left: caret.left(),\n        top: caret.top() - amount,\n        right: caret.right(),\n        bottom: caret.bottom() - amount\n      });\n    };\n    var moveBottomTo = function (caret, bottom) {\n      var height = caret.bottom() - caret.top();\n      return nu$3({\n        left: caret.left(),\n        top: bottom - height,\n        right: caret.right(),\n        bottom: bottom\n      });\n    };\n    var moveTopTo = function (caret, top) {\n      var height = caret.bottom() - caret.top();\n      return nu$3({\n        left: caret.left(),\n        top: top,\n        right: caret.right(),\n        bottom: top + height\n      });\n    };\n    var translate = function (caret, xDelta, yDelta) {\n      return nu$3({\n        left: caret.left() + xDelta,\n        top: caret.top() + yDelta,\n        right: caret.right() + xDelta,\n        bottom: caret.bottom() + yDelta\n      });\n    };\n    var getTop$1 = function (caret) {\n      return caret.top();\n    };\n    var getBottom = function (caret) {\n      return caret.bottom();\n    };\n    var toString = function (caret) {\n      return '(' + caret.left() + ', ' + caret.top() + ') -> (' + caret.right() + ', ' + caret.bottom() + ')';\n    };\n    var Carets = {\n      nu: nu$3,\n      moveUp: moveUp,\n      moveDown: moveDown,\n      moveBottomTo: moveBottomTo,\n      moveTopTo: moveTopTo,\n      getTop: getTop$1,\n      getBottom: getBottom,\n      translate: translate,\n      toString: toString\n    };\n\n    var getPartialBox = function (bridge, element, offset) {\n      if (offset >= 0 && offset < getEnd(element)) {\n        return bridge.getRangedRect(element, offset, element, offset + 1);\n      } else if (offset > 0) {\n        return bridge.getRangedRect(element, offset - 1, element, offset);\n      }\n      return Option.none();\n    };\n    var toCaret = function (rect) {\n      return Carets.nu({\n        left: rect.left,\n        top: rect.top,\n        right: rect.right,\n        bottom: rect.bottom\n      });\n    };\n    var getElemBox = function (bridge, element) {\n      return Option.some(bridge.getRect(element));\n    };\n    var getBoxAt = function (bridge, element, offset) {\n      if (isElement(element)) {\n        return getElemBox(bridge, element).map(toCaret);\n      } else if (isText(element)) {\n        return getPartialBox(bridge, element, offset).map(toCaret);\n      } else {\n        return Option.none();\n      }\n    };\n    var getEntireBox = function (bridge, element) {\n      if (isElement(element)) {\n        return getElemBox(bridge, element).map(toCaret);\n      } else if (isText(element)) {\n        return bridge.getRangedRect(element, 0, element, getEnd(element)).map(toCaret);\n      } else {\n        return Option.none();\n      }\n    };\n    var Rectangles = {\n      getBoxAt: getBoxAt,\n      getEntireBox: getEntireBox\n    };\n\n    var JUMP_SIZE = 5;\n    var NUM_RETRIES = 100;\n    var adt$6 = Adt.generate([\n      { none: [] },\n      { retry: ['caret'] }\n    ]);\n    var isOutside = function (caret, box) {\n      return caret.left() < box.left() || Math.abs(box.right() - caret.left()) < 1 || caret.left() > box.right();\n    };\n    var inOutsideBlock = function (bridge, element, caret) {\n      return closest(element, DomStructure.isBlock).fold(constant(false), function (cell) {\n        return Rectangles.getEntireBox(bridge, cell).exists(function (box) {\n          return isOutside(caret, box);\n        });\n      });\n    };\n    var adjustDown = function (bridge, element, guessBox, original, caret) {\n      var lowerCaret = Carets.moveDown(caret, JUMP_SIZE);\n      if (Math.abs(guessBox.bottom() - original.bottom()) < 1) {\n        return adt$6.retry(lowerCaret);\n      } else if (guessBox.top() > caret.bottom()) {\n        return adt$6.retry(lowerCaret);\n      } else if (guessBox.top() === caret.bottom()) {\n        return adt$6.retry(Carets.moveDown(caret, 1));\n      } else {\n        return inOutsideBlock(bridge, element, caret) ? adt$6.retry(Carets.translate(lowerCaret, JUMP_SIZE, 0)) : adt$6.none();\n      }\n    };\n    var adjustUp = function (bridge, element, guessBox, original, caret) {\n      var higherCaret = Carets.moveUp(caret, JUMP_SIZE);\n      if (Math.abs(guessBox.top() - original.top()) < 1) {\n        return adt$6.retry(higherCaret);\n      } else if (guessBox.bottom() < caret.top()) {\n        return adt$6.retry(higherCaret);\n      } else if (guessBox.bottom() === caret.top()) {\n        return adt$6.retry(Carets.moveUp(caret, 1));\n      } else {\n        return inOutsideBlock(bridge, element, caret) ? adt$6.retry(Carets.translate(higherCaret, JUMP_SIZE, 0)) : adt$6.none();\n      }\n    };\n    var upMovement = {\n      point: Carets.getTop,\n      adjuster: adjustUp,\n      move: Carets.moveUp,\n      gather: before$4\n    };\n    var downMovement = {\n      point: Carets.getBottom,\n      adjuster: adjustDown,\n      move: Carets.moveDown,\n      gather: after$5\n    };\n    var isAtTable = function (bridge, x, y) {\n      return bridge.elementFromPoint(x, y).filter(function (elm) {\n        return name(elm) === 'table';\n      }).isSome();\n    };\n    var adjustForTable = function (bridge, movement, original, caret, numRetries) {\n      return adjustTil(bridge, movement, original, movement.move(caret, JUMP_SIZE), numRetries);\n    };\n    var adjustTil = function (bridge, movement, original, caret, numRetries) {\n      if (numRetries === 0) {\n        return Option.some(caret);\n      }\n      if (isAtTable(bridge, caret.left(), movement.point(caret))) {\n        return adjustForTable(bridge, movement, original, caret, numRetries - 1);\n      }\n      return bridge.situsFromPoint(caret.left(), movement.point(caret)).bind(function (guess) {\n        return guess.start().fold(Option.none, function (element) {\n          return Rectangles.getEntireBox(bridge, element).bind(function (guessBox) {\n            return movement.adjuster(bridge, element, guessBox, original, caret).fold(Option.none, function (newCaret) {\n              return adjustTil(bridge, movement, original, newCaret, numRetries - 1);\n            });\n          }).orThunk(function () {\n            return Option.some(caret);\n          });\n        }, Option.none);\n      });\n    };\n    var ieTryDown = function (bridge, caret) {\n      return bridge.situsFromPoint(caret.left(), caret.bottom() + JUMP_SIZE);\n    };\n    var ieTryUp = function (bridge, caret) {\n      return bridge.situsFromPoint(caret.left(), caret.top() - JUMP_SIZE);\n    };\n    var checkScroll = function (movement, adjusted, bridge) {\n      if (movement.point(adjusted) > bridge.getInnerHeight()) {\n        return Option.some(movement.point(adjusted) - bridge.getInnerHeight());\n      } else if (movement.point(adjusted) < 0) {\n        return Option.some(-movement.point(adjusted));\n      } else {\n        return Option.none();\n      }\n    };\n    var retry = function (movement, bridge, caret) {\n      var moved = movement.move(caret, JUMP_SIZE);\n      var adjusted = adjustTil(bridge, movement, caret, moved, NUM_RETRIES).getOr(moved);\n      return checkScroll(movement, adjusted, bridge).fold(function () {\n        return bridge.situsFromPoint(adjusted.left(), movement.point(adjusted));\n      }, function (delta) {\n        bridge.scrollBy(0, delta);\n        return bridge.situsFromPoint(adjusted.left(), movement.point(adjusted) - delta);\n      });\n    };\n    var Retries = {\n      tryUp: curry(retry, upMovement),\n      tryDown: curry(retry, downMovement),\n      ieTryUp: ieTryUp,\n      ieTryDown: ieTryDown,\n      getJumpSize: constant(JUMP_SIZE)\n    };\n\n    var MAX_RETRIES = 20;\n    var platform$1 = PlatformDetection$1.detect();\n    var findSpot = function (bridge, isRoot, direction) {\n      return bridge.getSelection().bind(function (sel) {\n        return BrTags.tryBr(isRoot, sel.finish(), sel.foffset(), direction).fold(function () {\n          return Option.some(point(sel.finish(), sel.foffset()));\n        }, function (brNeighbour) {\n          var range = bridge.fromSitus(brNeighbour);\n          var analysis = BeforeAfter.verify(bridge, sel.finish(), sel.foffset(), range.finish(), range.foffset(), direction.failure, isRoot);\n          return BrTags.process(analysis);\n        });\n      });\n    };\n    var scan = function (bridge, isRoot, element, offset, direction, numRetries) {\n      if (numRetries === 0) {\n        return Option.none();\n      }\n      return tryCursor(bridge, isRoot, element, offset, direction).bind(function (situs) {\n        var range = bridge.fromSitus(situs);\n        var analysis = BeforeAfter.verify(bridge, element, offset, range.finish(), range.foffset(), direction.failure, isRoot);\n        return BeforeAfter.cata(analysis, function () {\n          return Option.none();\n        }, function () {\n          return Option.some(situs);\n        }, function (cell) {\n          if (eq(element, cell) && offset === 0) {\n            return tryAgain(bridge, element, offset, Carets.moveUp, direction);\n          } else {\n            return scan(bridge, isRoot, cell, 0, direction, numRetries - 1);\n          }\n        }, function (cell) {\n          if (eq(element, cell) && offset === getEnd(cell)) {\n            return tryAgain(bridge, element, offset, Carets.moveDown, direction);\n          } else {\n            return scan(bridge, isRoot, cell, getEnd(cell), direction, numRetries - 1);\n          }\n        });\n      });\n    };\n    var tryAgain = function (bridge, element, offset, move, direction) {\n      return Rectangles.getBoxAt(bridge, element, offset).bind(function (box) {\n        return tryAt(bridge, direction, move(box, Retries.getJumpSize()));\n      });\n    };\n    var tryAt = function (bridge, direction, box) {\n      if (platform$1.browser.isChrome() || platform$1.browser.isSafari() || platform$1.browser.isFirefox() || platform$1.browser.isEdge()) {\n        return direction.otherRetry(bridge, box);\n      } else if (platform$1.browser.isIE()) {\n        return direction.ieRetry(bridge, box);\n      } else {\n        return Option.none();\n      }\n    };\n    var tryCursor = function (bridge, isRoot, element, offset, direction) {\n      return Rectangles.getBoxAt(bridge, element, offset).bind(function (box) {\n        return tryAt(bridge, direction, box);\n      });\n    };\n    var handle$2 = function (bridge, isRoot, direction) {\n      return findSpot(bridge, isRoot, direction).bind(function (spot) {\n        return scan(bridge, isRoot, spot.element(), spot.offset(), direction, MAX_RETRIES).map(bridge.fromSitus);\n      });\n    };\n    var TableKeys = { handle: handle$2 };\n\n    var detection = PlatformDetection$1.detect();\n    var inSameTable = function (elem, table) {\n      return ancestor$2(elem, function (e) {\n        return parent(e).exists(function (p) {\n          return eq(p, table);\n        });\n      });\n    };\n    var simulate = function (bridge, isRoot, direction, initial, anchor) {\n      return closest$1(initial, 'td,th', isRoot).bind(function (start) {\n        return closest$1(start, 'table', isRoot).bind(function (table) {\n          if (!inSameTable(anchor, table)) {\n            return Option.none();\n          }\n          return TableKeys.handle(bridge, isRoot, direction).bind(function (range) {\n            return closest$1(range.finish(), 'td,th', isRoot).map(function (finish) {\n              return {\n                start: constant(start),\n                finish: constant(finish),\n                range: constant(range)\n              };\n            });\n          });\n        });\n      });\n    };\n    var navigate = function (bridge, isRoot, direction, initial, anchor, precheck) {\n      if (detection.browser.isIE()) {\n        return Option.none();\n      } else {\n        return precheck(initial, isRoot).orThunk(function () {\n          return simulate(bridge, isRoot, direction, initial, anchor).map(function (info) {\n            var range = info.range();\n            return Response.create(Option.some(Util.makeSitus(range.start(), range.soffset(), range.finish(), range.foffset())), true);\n          });\n        });\n      }\n    };\n    var firstUpCheck = function (initial, isRoot) {\n      return closest$1(initial, 'tr', isRoot).bind(function (startRow) {\n        return closest$1(startRow, 'table', isRoot).bind(function (table) {\n          var rows = descendants$1(table, 'tr');\n          if (eq(startRow, rows[0])) {\n            return seekLeft$1(table, function (element) {\n              return last$1(element).isSome();\n            }, isRoot).map(function (last) {\n              var lastOffset = getEnd(last);\n              return Response.create(Option.some(Util.makeSitus(last, lastOffset, last, lastOffset)), true);\n            });\n          } else {\n            return Option.none();\n          }\n        });\n      });\n    };\n    var lastDownCheck = function (initial, isRoot) {\n      return closest$1(initial, 'tr', isRoot).bind(function (startRow) {\n        return closest$1(startRow, 'table', isRoot).bind(function (table) {\n          var rows = descendants$1(table, 'tr');\n          if (eq(startRow, rows[rows.length - 1])) {\n            return seekRight$1(table, function (element) {\n              return first(element).isSome();\n            }, isRoot).map(function (first) {\n              return Response.create(Option.some(Util.makeSitus(first, 0, first, 0)), true);\n            });\n          } else {\n            return Option.none();\n          }\n        });\n      });\n    };\n    var select = function (bridge, container, isRoot, direction, initial, anchor, selectRange) {\n      return simulate(bridge, isRoot, direction, initial, anchor).bind(function (info) {\n        return KeySelection.detect(container, isRoot, info.start(), info.finish(), selectRange);\n      });\n    };\n    var VerticalMovement = {\n      navigate: navigate,\n      select: select,\n      firstUpCheck: firstUpCheck,\n      lastDownCheck: lastDownCheck\n    };\n\n    var findCell = function (target, isRoot) {\n      return closest$1(target, 'td,th', isRoot);\n    };\n    function MouseSelection (bridge, container, isRoot, annotations) {\n      var cursor = Option.none();\n      var clearState = function () {\n        cursor = Option.none();\n      };\n      var mousedown = function (event) {\n        annotations.clear(container);\n        cursor = findCell(event.target(), isRoot);\n      };\n      var mouseover = function (event) {\n        cursor.each(function (start) {\n          annotations.clear(container);\n          findCell(event.target(), isRoot).each(function (finish) {\n            CellSelection.identify(start, finish, isRoot).each(function (cellSel) {\n              var boxes = cellSel.boxes().getOr([]);\n              if (boxes.length > 1 || boxes.length === 1 && !eq(start, finish)) {\n                annotations.selectRange(container, boxes, cellSel.start(), cellSel.finish());\n                bridge.selectContents(finish);\n              }\n            });\n          });\n        });\n      };\n      var mouseup = function (_event) {\n        cursor.each(clearState);\n      };\n      return {\n        mousedown: mousedown,\n        mouseover: mouseover,\n        mouseup: mouseup\n      };\n    }\n\n    var down = {\n      traverse: nextSibling,\n      gather: after$5,\n      relative: Situ.before,\n      otherRetry: Retries.tryDown,\n      ieRetry: Retries.ieTryDown,\n      failure: BeforeAfter.failedDown\n    };\n    var up = {\n      traverse: prevSibling,\n      gather: before$4,\n      relative: Situ.before,\n      otherRetry: Retries.tryUp,\n      ieRetry: Retries.ieTryUp,\n      failure: BeforeAfter.failedUp\n    };\n    var KeyDirection = {\n      down: down,\n      up: up\n    };\n\n    var isKey = function (key) {\n      return function (keycode) {\n        return keycode === key;\n      };\n    };\n    var isUp = isKey(38);\n    var isDown = isKey(40);\n    var isNavigation = function (keycode) {\n      return keycode >= 37 && keycode <= 40;\n    };\n    var SelectionKeys = {\n      ltr: {\n        isBackward: isKey(37),\n        isForward: isKey(39)\n      },\n      rtl: {\n        isBackward: isKey(39),\n        isForward: isKey(37)\n      },\n      isUp: isUp,\n      isDown: isDown,\n      isNavigation: isNavigation\n    };\n\n    var toRaw = function (sr) {\n      return {\n        left: sr.left(),\n        top: sr.top(),\n        right: sr.right(),\n        bottom: sr.bottom(),\n        width: sr.width(),\n        height: sr.height()\n      };\n    };\n    var Rect = { toRaw: toRaw };\n\n    var isSafari = PlatformDetection$1.detect().browser.isSafari();\n    var get$a = function (_DOC) {\n      var doc = _DOC !== undefined ? _DOC.dom() : domGlobals.document;\n      var x = doc.body.scrollLeft || doc.documentElement.scrollLeft;\n      var y = doc.body.scrollTop || doc.documentElement.scrollTop;\n      return Position(x, y);\n    };\n    var by = function (x, y, _DOC) {\n      var doc = _DOC !== undefined ? _DOC.dom() : domGlobals.document;\n      var win = doc.defaultView;\n      win.scrollBy(x, y);\n    };\n\n    var WindowBridge = function (win) {\n      var elementFromPoint = function (x, y) {\n        return Element.fromPoint(Element.fromDom(win.document), x, y);\n      };\n      var getRect = function (element) {\n        return element.dom().getBoundingClientRect();\n      };\n      var getRangedRect = function (start, soffset, finish, foffset) {\n        var sel = Selection.exact(start, soffset, finish, foffset);\n        return getFirstRect$1(win, sel).map(Rect.toRaw);\n      };\n      var getSelection = function () {\n        return get$9(win).map(function (exactAdt) {\n          return Util.convertToRange(win, exactAdt);\n        });\n      };\n      var fromSitus = function (situs) {\n        var relative = Selection.relative(situs.start(), situs.finish());\n        return Util.convertToRange(win, relative);\n      };\n      var situsFromPoint = function (x, y) {\n        return getAtPoint(win, x, y).map(function (exact) {\n          return Situs.create(exact.start(), exact.soffset(), exact.finish(), exact.foffset());\n        });\n      };\n      var clearSelection = function () {\n        clear(win);\n      };\n      var selectContents = function (element) {\n        setToElement(win, element);\n      };\n      var setSelection = function (sel) {\n        setExact(win, sel.start(), sel.soffset(), sel.finish(), sel.foffset());\n      };\n      var setRelativeSelection = function (start, finish) {\n        setRelative(win, start, finish);\n      };\n      var getInnerHeight = function () {\n        return win.innerHeight;\n      };\n      var getScrollY = function () {\n        var pos = get$a(Element.fromDom(win.document));\n        return pos.top();\n      };\n      var scrollBy = function (x, y) {\n        by(x, y, Element.fromDom(win.document));\n      };\n      return {\n        elementFromPoint: elementFromPoint,\n        getRect: getRect,\n        getRangedRect: getRangedRect,\n        getSelection: getSelection,\n        fromSitus: fromSitus,\n        situsFromPoint: situsFromPoint,\n        clearSelection: clearSelection,\n        setSelection: setSelection,\n        setRelativeSelection: setRelativeSelection,\n        selectContents: selectContents,\n        getInnerHeight: getInnerHeight,\n        getScrollY: getScrollY,\n        scrollBy: scrollBy\n      };\n    };\n\n    var rc = Immutable('rows', 'cols');\n    var mouse = function (win, container, isRoot, annotations) {\n      var bridge = WindowBridge(win);\n      var handlers = MouseSelection(bridge, container, isRoot, annotations);\n      return {\n        mousedown: handlers.mousedown,\n        mouseover: handlers.mouseover,\n        mouseup: handlers.mouseup\n      };\n    };\n    var keyboard = function (win, container, isRoot, annotations) {\n      var bridge = WindowBridge(win);\n      var clearToNavigate = function () {\n        annotations.clear(container);\n        return Option.none();\n      };\n      var keydown = function (event, start, soffset, finish, foffset, direction) {\n        var realEvent = event.raw();\n        var keycode = realEvent.which;\n        var shiftKey = realEvent.shiftKey === true;\n        var handler = CellSelection.retrieve(container, annotations.selectedSelector()).fold(function () {\n          if (SelectionKeys.isDown(keycode) && shiftKey) {\n            return curry(VerticalMovement.select, bridge, container, isRoot, KeyDirection.down, finish, start, annotations.selectRange);\n          } else if (SelectionKeys.isUp(keycode) && shiftKey) {\n            return curry(VerticalMovement.select, bridge, container, isRoot, KeyDirection.up, finish, start, annotations.selectRange);\n          } else if (SelectionKeys.isDown(keycode)) {\n            return curry(VerticalMovement.navigate, bridge, isRoot, KeyDirection.down, finish, start, VerticalMovement.lastDownCheck);\n          } else if (SelectionKeys.isUp(keycode)) {\n            return curry(VerticalMovement.navigate, bridge, isRoot, KeyDirection.up, finish, start, VerticalMovement.firstUpCheck);\n          } else {\n            return Option.none;\n          }\n        }, function (selected) {\n          var update = function (attempts) {\n            return function () {\n              var navigation = findMap(attempts, function (delta) {\n                return KeySelection.update(delta.rows(), delta.cols(), container, selected, annotations);\n              });\n              return navigation.fold(function () {\n                return CellSelection.getEdges(container, annotations.firstSelectedSelector(), annotations.lastSelectedSelector()).map(function (edges) {\n                  var relative = SelectionKeys.isDown(keycode) || direction.isForward(keycode) ? Situ.after : Situ.before;\n                  bridge.setRelativeSelection(Situ.on(edges.first(), 0), relative(edges.table()));\n                  annotations.clear(container);\n                  return Response.create(Option.none(), true);\n                });\n              }, function (_) {\n                return Option.some(Response.create(Option.none(), true));\n              });\n            };\n          };\n          if (SelectionKeys.isDown(keycode) && shiftKey) {\n            return update([rc(+1, 0)]);\n          } else if (SelectionKeys.isUp(keycode) && shiftKey) {\n            return update([rc(-1, 0)]);\n          } else if (direction.isBackward(keycode) && shiftKey) {\n            return update([\n              rc(0, -1),\n              rc(-1, 0)\n            ]);\n          } else if (direction.isForward(keycode) && shiftKey) {\n            return update([\n              rc(0, +1),\n              rc(+1, 0)\n            ]);\n          } else if (SelectionKeys.isNavigation(keycode) && shiftKey === false) {\n            return clearToNavigate;\n          } else {\n            return Option.none;\n          }\n        });\n        return handler();\n      };\n      var keyup = function (event, start, soffset, finish, foffset) {\n        return CellSelection.retrieve(container, annotations.selectedSelector()).fold(function () {\n          var realEvent = event.raw();\n          var keycode = realEvent.which;\n          var shiftKey = realEvent.shiftKey === true;\n          if (shiftKey === false) {\n            return Option.none();\n          }\n          if (SelectionKeys.isNavigation(keycode)) {\n            return KeySelection.sync(container, isRoot, start, soffset, finish, foffset, annotations.selectRange);\n          } else {\n            return Option.none();\n          }\n        }, Option.none);\n      };\n      return {\n        keydown: keydown,\n        keyup: keyup\n      };\n    };\n    var InputHandlers = {\n      mouse: mouse,\n      keyboard: keyboard\n    };\n\n    var remove$7 = function (element, classes) {\n      each(classes, function (x) {\n        remove$5(element, x);\n      });\n    };\n\n    var addClass = function (clazz) {\n      return function (element) {\n        add$2(element, clazz);\n      };\n    };\n    var removeClasses = function (classes) {\n      return function (element) {\n        remove$7(element, classes);\n      };\n    };\n\n    var byClass = function (ephemera) {\n      var addSelectionClass = addClass(ephemera.selected());\n      var removeSelectionClasses = removeClasses([\n        ephemera.selected(),\n        ephemera.lastSelected(),\n        ephemera.firstSelected()\n      ]);\n      var clear = function (container) {\n        var sels = descendants$1(container, ephemera.selectedSelector());\n        each(sels, removeSelectionClasses);\n      };\n      var selectRange = function (container, cells, start, finish) {\n        clear(container);\n        each(cells, addSelectionClass);\n        add$2(start, ephemera.firstSelected());\n        add$2(finish, ephemera.lastSelected());\n      };\n      return {\n        clear: clear,\n        selectRange: selectRange,\n        selectedSelector: ephemera.selectedSelector,\n        firstSelectedSelector: ephemera.firstSelectedSelector,\n        lastSelectedSelector: ephemera.lastSelectedSelector\n      };\n    };\n    var byAttr = function (ephemera) {\n      var removeSelectionAttributes = function (element) {\n        remove(element, ephemera.selected());\n        remove(element, ephemera.firstSelected());\n        remove(element, ephemera.lastSelected());\n      };\n      var addSelectionAttribute = function (element) {\n        set(element, ephemera.selected(), '1');\n      };\n      var clear = function (container) {\n        var sels = descendants$1(container, ephemera.selectedSelector());\n        each(sels, removeSelectionAttributes);\n      };\n      var selectRange = function (container, cells, start, finish) {\n        clear(container);\n        each(cells, addSelectionAttribute);\n        set(start, ephemera.firstSelected(), '1');\n        set(finish, ephemera.lastSelected(), '1');\n      };\n      return {\n        clear: clear,\n        selectRange: selectRange,\n        selectedSelector: ephemera.selectedSelector,\n        firstSelectedSelector: ephemera.firstSelectedSelector,\n        lastSelectedSelector: ephemera.lastSelectedSelector\n      };\n    };\n    var SelectionAnnotation = {\n      byClass: byClass,\n      byAttr: byAttr\n    };\n\n    var hasInternalTarget = function (e) {\n      return has$1(Element.fromDom(e.target), 'ephox-snooker-resizer-bar') === false;\n    };\n    function CellSelection$1 (editor, lazyResize) {\n      var handlerStruct = MixedBag([\n        'mousedown',\n        'mouseover',\n        'mouseup',\n        'keyup',\n        'keydown'\n      ], []);\n      var handlers = Option.none();\n      var annotations = SelectionAnnotation.byAttr(Ephemera);\n      editor.on('init', function (e) {\n        var win = editor.getWin();\n        var body = getBody$1(editor);\n        var isRoot = getIsRoot(editor);\n        var syncSelection = function () {\n          var sel = editor.selection;\n          var start = Element.fromDom(sel.getStart());\n          var end = Element.fromDom(sel.getEnd());\n          var shared = DomParent.sharedOne(TableLookup.table, [\n            start,\n            end\n          ]);\n          shared.fold(function () {\n            annotations.clear(body);\n          }, noop);\n        };\n        var mouseHandlers = InputHandlers.mouse(win, body, isRoot, annotations);\n        var keyHandlers = InputHandlers.keyboard(win, body, isRoot, annotations);\n        var hasShiftKey = function (event) {\n          return event.raw().shiftKey === true;\n        };\n        var handleResponse = function (event, response) {\n          if (!hasShiftKey(event)) {\n            return;\n          }\n          if (response.kill()) {\n            event.kill();\n          }\n          response.selection().each(function (ns) {\n            var relative = Selection.relative(ns.start(), ns.finish());\n            var rng = asLtrRange(win, relative);\n            editor.selection.setRng(rng);\n          });\n        };\n        var keyup = function (event) {\n          var wrappedEvent = wrapEvent(event);\n          if (wrappedEvent.raw().shiftKey && SelectionKeys.isNavigation(wrappedEvent.raw().which)) {\n            var rng = editor.selection.getRng();\n            var start = Element.fromDom(rng.startContainer);\n            var end = Element.fromDom(rng.endContainer);\n            keyHandlers.keyup(wrappedEvent, start, rng.startOffset, end, rng.endOffset).each(function (response) {\n              handleResponse(wrappedEvent, response);\n            });\n          }\n        };\n        var keydown = function (event) {\n          var wrappedEvent = wrapEvent(event);\n          lazyResize().each(function (resize) {\n            resize.hideBars();\n          });\n          var rng = editor.selection.getRng();\n          var startContainer = Element.fromDom(editor.selection.getStart());\n          var start = Element.fromDom(rng.startContainer);\n          var end = Element.fromDom(rng.endContainer);\n          var direction = Direction.directionAt(startContainer).isRtl() ? SelectionKeys.rtl : SelectionKeys.ltr;\n          keyHandlers.keydown(wrappedEvent, start, rng.startOffset, end, rng.endOffset, direction).each(function (response) {\n            handleResponse(wrappedEvent, response);\n          });\n          lazyResize().each(function (resize) {\n            resize.showBars();\n          });\n        };\n        var isMouseEvent = function (event) {\n          return event.hasOwnProperty('x') && event.hasOwnProperty('y');\n        };\n        var wrapEvent = function (event) {\n          var target = Element.fromDom(event.target);\n          var stop = function () {\n            event.stopPropagation();\n          };\n          var prevent = function () {\n            event.preventDefault();\n          };\n          var kill = compose(prevent, stop);\n          return {\n            target: constant(target),\n            x: constant(isMouseEvent(event) ? event.x : null),\n            y: constant(isMouseEvent(event) ? event.y : null),\n            stop: stop,\n            prevent: prevent,\n            kill: kill,\n            raw: constant(event)\n          };\n        };\n        var isLeftMouse = function (raw) {\n          return raw.button === 0;\n        };\n        var isLeftButtonPressed = function (raw) {\n          if (raw.buttons === undefined) {\n            return true;\n          }\n          if (global$2.ie && global$2.ie >= 12 && raw.buttons === 0) {\n            return true;\n          }\n          return (raw.buttons & 1) !== 0;\n        };\n        var mouseDown = function (e) {\n          if (isLeftMouse(e) && hasInternalTarget(e)) {\n            mouseHandlers.mousedown(wrapEvent(e));\n          }\n        };\n        var mouseOver = function (e) {\n          if (isLeftButtonPressed(e) && hasInternalTarget(e)) {\n            mouseHandlers.mouseover(wrapEvent(e));\n          }\n        };\n        var mouseUp = function (e) {\n          if (isLeftMouse(e) && hasInternalTarget(e)) {\n            mouseHandlers.mouseup(wrapEvent(e));\n          }\n        };\n        editor.on('mousedown', mouseDown);\n        editor.on('mouseover', mouseOver);\n        editor.on('mouseup', mouseUp);\n        editor.on('keyup', keyup);\n        editor.on('keydown', keydown);\n        editor.on('nodechange', syncSelection);\n        handlers = Option.some(handlerStruct({\n          mousedown: mouseDown,\n          mouseover: mouseOver,\n          mouseup: mouseUp,\n          keyup: keyup,\n          keydown: keydown\n        }));\n      });\n      var destroy = function () {\n        handlers.each(function (handlers) {\n        });\n      };\n      return {\n        clear: annotations.clear,\n        destroy: destroy\n      };\n    }\n\n    var Selections = function (editor) {\n      var get = function () {\n        var body = getBody$1(editor);\n        return TableSelection.retrieve(body, Ephemera.selectedSelector()).fold(function () {\n          if (editor.selection.getStart() === undefined) {\n            return SelectionTypes.none();\n          } else {\n            return SelectionTypes.single(editor.selection);\n          }\n        }, function (cells) {\n          return SelectionTypes.multiple(cells);\n        });\n      };\n      return { get: get };\n    };\n\n    var each$4 = global$1.each;\n    var addButtons = function (editor) {\n      var menuItems = [];\n      each$4('inserttable tableprops deletetable | cell row column'.split(' '), function (name) {\n        if (name === '|') {\n          menuItems.push({ text: '-' });\n        } else {\n          menuItems.push(editor.menuItems[name]);\n        }\n      });\n      editor.addButton('table', {\n        type: 'menubutton',\n        title: 'Table',\n        menu: menuItems\n      });\n      function cmd(command) {\n        return function () {\n          editor.execCommand(command);\n        };\n      }\n      editor.addButton('tableprops', {\n        title: 'Table properties',\n        onclick: cmd('mceTableProps'),\n        icon: 'table'\n      });\n      editor.addButton('tabledelete', {\n        title: 'Delete table',\n        onclick: cmd('mceTableDelete')\n      });\n      editor.addButton('tablecellprops', {\n        title: 'Cell properties',\n        onclick: cmd('mceTableCellProps')\n      });\n      editor.addButton('tablemergecells', {\n        title: 'Merge cells',\n        onclick: cmd('mceTableMergeCells')\n      });\n      editor.addButton('tablesplitcells', {\n        title: 'Split cell',\n        onclick: cmd('mceTableSplitCells')\n      });\n      editor.addButton('tableinsertrowbefore', {\n        title: 'Insert row before',\n        onclick: cmd('mceTableInsertRowBefore')\n      });\n      editor.addButton('tableinsertrowafter', {\n        title: 'Insert row after',\n        onclick: cmd('mceTableInsertRowAfter')\n      });\n      editor.addButton('tabledeleterow', {\n        title: 'Delete row',\n        onclick: cmd('mceTableDeleteRow')\n      });\n      editor.addButton('tablerowprops', {\n        title: 'Row properties',\n        onclick: cmd('mceTableRowProps')\n      });\n      editor.addButton('tablecutrow', {\n        title: 'Cut row',\n        onclick: cmd('mceTableCutRow')\n      });\n      editor.addButton('tablecopyrow', {\n        title: 'Copy row',\n        onclick: cmd('mceTableCopyRow')\n      });\n      editor.addButton('tablepasterowbefore', {\n        title: 'Paste row before',\n        onclick: cmd('mceTablePasteRowBefore')\n      });\n      editor.addButton('tablepasterowafter', {\n        title: 'Paste row after',\n        onclick: cmd('mceTablePasteRowAfter')\n      });\n      editor.addButton('tableinsertcolbefore', {\n        title: 'Insert column before',\n        onclick: cmd('mceTableInsertColBefore')\n      });\n      editor.addButton('tableinsertcolafter', {\n        title: 'Insert column after',\n        onclick: cmd('mceTableInsertColAfter')\n      });\n      editor.addButton('tabledeletecol', {\n        title: 'Delete column',\n        onclick: cmd('mceTableDeleteCol')\n      });\n    };\n    var addToolbars = function (editor) {\n      var isTable = function (table) {\n        var selectorMatched = editor.dom.is(table, 'table') && editor.getBody().contains(table);\n        return selectorMatched;\n      };\n      var toolbar = getToolbar(editor);\n      if (toolbar.length > 0) {\n        editor.addContextToolbar(isTable, toolbar.join(' '));\n      }\n    };\n    var Buttons = {\n      addButtons: addButtons,\n      addToolbars: addToolbars\n    };\n\n    var addMenuItems = function (editor, selections) {\n      var targets = Option.none();\n      var tableCtrls = [];\n      var cellCtrls = [];\n      var mergeCtrls = [];\n      var unmergeCtrls = [];\n      var noTargetDisable = function (ctrl) {\n        ctrl.disabled(true);\n      };\n      var ctrlEnable = function (ctrl) {\n        ctrl.disabled(false);\n      };\n      var pushTable = function () {\n        var self = this;\n        tableCtrls.push(self);\n        targets.fold(function () {\n          noTargetDisable(self);\n        }, function (targets) {\n          ctrlEnable(self);\n        });\n      };\n      var pushCell = function () {\n        var self = this;\n        cellCtrls.push(self);\n        targets.fold(function () {\n          noTargetDisable(self);\n        }, function (targets) {\n          ctrlEnable(self);\n        });\n      };\n      var pushMerge = function () {\n        var self = this;\n        mergeCtrls.push(self);\n        targets.fold(function () {\n          noTargetDisable(self);\n        }, function (targets) {\n          self.disabled(targets.mergable().isNone());\n        });\n      };\n      var pushUnmerge = function () {\n        var self = this;\n        unmergeCtrls.push(self);\n        targets.fold(function () {\n          noTargetDisable(self);\n        }, function (targets) {\n          self.disabled(targets.unmergable().isNone());\n        });\n      };\n      var setDisabledCtrls = function () {\n        targets.fold(function () {\n          each(tableCtrls, noTargetDisable);\n          each(cellCtrls, noTargetDisable);\n          each(mergeCtrls, noTargetDisable);\n          each(unmergeCtrls, noTargetDisable);\n        }, function (targets) {\n          each(tableCtrls, ctrlEnable);\n          each(cellCtrls, ctrlEnable);\n          each(mergeCtrls, function (mergeCtrl) {\n            mergeCtrl.disabled(targets.mergable().isNone());\n          });\n          each(unmergeCtrls, function (unmergeCtrl) {\n            unmergeCtrl.disabled(targets.unmergable().isNone());\n          });\n        });\n      };\n      editor.on('init', function () {\n        editor.on('nodechange', function (e) {\n          var cellOpt = Option.from(editor.dom.getParent(editor.selection.getStart(), 'th,td'));\n          targets = cellOpt.bind(function (cellDom) {\n            var cell = Element.fromDom(cellDom);\n            var table = TableLookup.table(cell);\n            return table.map(function (table) {\n              return TableTargets.forMenu(selections, table, cell);\n            });\n          });\n          setDisabledCtrls();\n        });\n      });\n      var generateTableGrid = function () {\n        var html = '';\n        html = '<table role=\"grid\" class=\"mce-grid mce-grid-border\" aria-readonly=\"true\">';\n        for (var y = 0; y < 10; y++) {\n          html += '<tr>';\n          for (var x = 0; x < 10; x++) {\n            html += '<td role=\"gridcell\" tabindex=\"-1\"><a id=\"mcegrid' + (y * 10 + x) + '\" href=\"#\" ' + 'data-mce-x=\"' + x + '\" data-mce-y=\"' + y + '\"></a></td>';\n          }\n          html += '</tr>';\n        }\n        html += '</table>';\n        html += '<div class=\"mce-text-center\" role=\"presentation\">1 x 1</div>';\n        return html;\n      };\n      var selectGrid = function (editor, tx, ty, control) {\n        var table = control.getEl().getElementsByTagName('table')[0];\n        var x, y, focusCell, cell, active;\n        var rtl = control.isRtl() || control.parent().rel === 'tl-tr';\n        table.nextSibling.innerHTML = tx + 1 + ' x ' + (ty + 1);\n        if (rtl) {\n          tx = 9 - tx;\n        }\n        for (y = 0; y < 10; y++) {\n          for (x = 0; x < 10; x++) {\n            cell = table.rows[y].childNodes[x].firstChild;\n            active = (rtl ? x >= tx : x <= tx) && y <= ty;\n            editor.dom.toggleClass(cell, 'mce-active', active);\n            if (active) {\n              focusCell = cell;\n            }\n          }\n        }\n        return focusCell.parentNode;\n      };\n      var insertTable = hasTableGrid(editor) === false ? {\n        text: 'Table',\n        icon: 'table',\n        context: 'table',\n        onclick: cmd('mceInsertTable')\n      } : {\n        text: 'Table',\n        icon: 'table',\n        context: 'table',\n        ariaHideMenu: true,\n        onclick: function (e) {\n          if (e.aria) {\n            this.parent().hideAll();\n            e.stopImmediatePropagation();\n            editor.execCommand('mceInsertTable');\n          }\n        },\n        onshow: function () {\n          selectGrid(editor, 0, 0, this.menu.items()[0]);\n        },\n        onhide: function () {\n          var elements = this.menu.items()[0].getEl().getElementsByTagName('a');\n          editor.dom.removeClass(elements, 'mce-active');\n          editor.dom.addClass(elements[0], 'mce-active');\n        },\n        menu: [{\n            type: 'container',\n            html: generateTableGrid(),\n            onPostRender: function () {\n              this.lastX = this.lastY = 0;\n            },\n            onmousemove: function (e) {\n              var target = e.target;\n              var x, y;\n              if (target.tagName.toUpperCase() === 'A') {\n                x = parseInt(target.getAttribute('data-mce-x'), 10);\n                y = parseInt(target.getAttribute('data-mce-y'), 10);\n                if (this.isRtl() || this.parent().rel === 'tl-tr') {\n                  x = 9 - x;\n                }\n                if (x !== this.lastX || y !== this.lastY) {\n                  selectGrid(editor, x, y, e.control);\n                  this.lastX = x;\n                  this.lastY = y;\n                }\n              }\n            },\n            onclick: function (e) {\n              var self = this;\n              if (e.target.tagName.toUpperCase() === 'A') {\n                e.preventDefault();\n                e.stopPropagation();\n                self.parent().cancel();\n                editor.undoManager.transact(function () {\n                  InsertTable.insert(editor, self.lastX + 1, self.lastY + 1);\n                });\n                editor.addVisual();\n              }\n            }\n          }]\n      };\n      function cmd(command) {\n        return function () {\n          editor.execCommand(command);\n        };\n      }\n      var tableProperties = {\n        text: 'Table properties',\n        context: 'table',\n        onPostRender: pushTable,\n        onclick: cmd('mceTableProps')\n      };\n      var deleteTable = {\n        text: 'Delete table',\n        context: 'table',\n        onPostRender: pushTable,\n        cmd: 'mceTableDelete'\n      };\n      var row = {\n        text: 'Row',\n        context: 'table',\n        menu: [\n          {\n            text: 'Insert row before',\n            onclick: cmd('mceTableInsertRowBefore'),\n            onPostRender: pushCell\n          },\n          {\n            text: 'Insert row after',\n            onclick: cmd('mceTableInsertRowAfter'),\n            onPostRender: pushCell\n          },\n          {\n            text: 'Delete row',\n            onclick: cmd('mceTableDeleteRow'),\n            onPostRender: pushCell\n          },\n          {\n            text: 'Row properties',\n            onclick: cmd('mceTableRowProps'),\n            onPostRender: pushCell\n          },\n          { text: '-' },\n          {\n            text: 'Cut row',\n            onclick: cmd('mceTableCutRow'),\n            onPostRender: pushCell\n          },\n          {\n            text: 'Copy row',\n            onclick: cmd('mceTableCopyRow'),\n            onPostRender: pushCell\n          },\n          {\n            text: 'Paste row before',\n            onclick: cmd('mceTablePasteRowBefore'),\n            onPostRender: pushCell\n          },\n          {\n            text: 'Paste row after',\n            onclick: cmd('mceTablePasteRowAfter'),\n            onPostRender: pushCell\n          }\n        ]\n      };\n      var column = {\n        text: 'Column',\n        context: 'table',\n        menu: [\n          {\n            text: 'Insert column before',\n            onclick: cmd('mceTableInsertColBefore'),\n            onPostRender: pushCell\n          },\n          {\n            text: 'Insert column after',\n            onclick: cmd('mceTableInsertColAfter'),\n            onPostRender: pushCell\n          },\n          {\n            text: 'Delete column',\n            onclick: cmd('mceTableDeleteCol'),\n            onPostRender: pushCell\n          }\n        ]\n      };\n      var cell = {\n        separator: 'before',\n        text: 'Cell',\n        context: 'table',\n        menu: [\n          {\n            text: 'Cell properties',\n            onclick: cmd('mceTableCellProps'),\n            onPostRender: pushCell\n          },\n          {\n            text: 'Merge cells',\n            onclick: cmd('mceTableMergeCells'),\n            onPostRender: pushMerge\n          },\n          {\n            text: 'Split cell',\n            onclick: cmd('mceTableSplitCells'),\n            onPostRender: pushUnmerge\n          }\n        ]\n      };\n      editor.addMenuItem('inserttable', insertTable);\n      editor.addMenuItem('tableprops', tableProperties);\n      editor.addMenuItem('deletetable', deleteTable);\n      editor.addMenuItem('row', row);\n      editor.addMenuItem('column', column);\n      editor.addMenuItem('cell', cell);\n    };\n    var MenuItems = { addMenuItems: addMenuItems };\n\n    var getClipboardRows = function (clipboardRows) {\n      return clipboardRows.get().fold(function () {\n        return;\n      }, function (rows) {\n        return map(rows, function (row) {\n          return row.dom();\n        });\n      });\n    };\n    var setClipboardRows = function (rows, clipboardRows) {\n      var sugarRows = map(rows, Element.fromDom);\n      clipboardRows.set(Option.from(sugarRows));\n    };\n    var getApi = function (editor, clipboardRows) {\n      return {\n        insertTable: function (columns, rows) {\n          return InsertTable.insert(editor, columns, rows);\n        },\n        setClipboardRows: function (rows) {\n          return setClipboardRows(rows, clipboardRows);\n        },\n        getClipboardRows: function () {\n          return getClipboardRows(clipboardRows);\n        }\n      };\n    };\n\n    function Plugin(editor) {\n      var resizeHandler = ResizeHandler(editor);\n      var cellSelection = CellSelection$1(editor, resizeHandler.lazyResize);\n      var actions = TableActions(editor, resizeHandler.lazyWire);\n      var selections = Selections(editor);\n      var clipboardRows = Cell(Option.none());\n      Commands.registerCommands(editor, actions, cellSelection, selections, clipboardRows);\n      Clipboard.registerEvents(editor, selections, actions, cellSelection);\n      MenuItems.addMenuItems(editor, selections);\n      Buttons.addButtons(editor);\n      Buttons.addToolbars(editor);\n      editor.on('PreInit', function () {\n        editor.serializer.addTempAttr(Ephemera.firstSelected());\n        editor.serializer.addTempAttr(Ephemera.lastSelected());\n      });\n      if (hasTabNavigation(editor)) {\n        editor.on('keydown', function (e) {\n          TabContext.handle(e, editor, actions, resizeHandler.lazyWire);\n        });\n      }\n      editor.on('remove', function () {\n        resizeHandler.destroy();\n        cellSelection.destroy();\n      });\n      return getApi(editor, clipboardRows);\n    }\n    global.add('table', Plugin);\n    function Plugin$1 () {\n    }\n\n    return Plugin$1;\n\n}(window));\n})();\n","// Exports the \"template\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/template')\n//   ES2015:\n//     import 'tinymce/plugins/template'\nrequire('./plugin.js');","(function () {\nvar template = (function () {\n    'use strict';\n\n    var global = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    function curry(fn) {\n      var initialArgs = [];\n      for (var _i = 1; _i < arguments.length; _i++) {\n        initialArgs[_i - 1] = arguments[_i];\n      }\n      return function () {\n        var restArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          restArgs[_i] = arguments[_i];\n        }\n        var all = initialArgs.concat(restArgs);\n        return fn.apply(null, all);\n      };\n    }\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.util.XHR');\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');\n\n    var getCreationDateClasses = function (editor) {\n      return editor.getParam('template_cdate_classes', 'cdate');\n    };\n    var getModificationDateClasses = function (editor) {\n      return editor.getParam('template_mdate_classes', 'mdate');\n    };\n    var getSelectedContentClasses = function (editor) {\n      return editor.getParam('template_selected_content_classes', 'selcontent');\n    };\n    var getPreviewReplaceValues = function (editor) {\n      return editor.getParam('template_preview_replace_values');\n    };\n    var getTemplateReplaceValues = function (editor) {\n      return editor.getParam('template_replace_values');\n    };\n    var getTemplates = function (editorSettings) {\n      return editorSettings.templates;\n    };\n    var getCdateFormat = function (editor) {\n      return editor.getParam('template_cdate_format', editor.getLang('template.cdate_format'));\n    };\n    var getMdateFormat = function (editor) {\n      return editor.getParam('template_mdate_format', editor.getLang('template.mdate_format'));\n    };\n    var getDialogWidth = function (editor) {\n      return editor.getParam('template_popup_width', 600);\n    };\n    var getDialogHeight = function (editor) {\n      return Math.min(global$3.DOM.getViewPort().h, editor.getParam('template_popup_height', 500));\n    };\n    var Settings = {\n      getCreationDateClasses: getCreationDateClasses,\n      getModificationDateClasses: getModificationDateClasses,\n      getSelectedContentClasses: getSelectedContentClasses,\n      getPreviewReplaceValues: getPreviewReplaceValues,\n      getTemplateReplaceValues: getTemplateReplaceValues,\n      getTemplates: getTemplates,\n      getCdateFormat: getCdateFormat,\n      getMdateFormat: getMdateFormat,\n      getDialogWidth: getDialogWidth,\n      getDialogHeight: getDialogHeight\n    };\n\n    var addZeros = function (value, len) {\n      value = '' + value;\n      if (value.length < len) {\n        for (var i = 0; i < len - value.length; i++) {\n          value = '0' + value;\n        }\n      }\n      return value;\n    };\n    var getDateTime = function (editor, fmt, date) {\n      var daysShort = 'Sun Mon Tue Wed Thu Fri Sat Sun'.split(' ');\n      var daysLong = 'Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday'.split(' ');\n      var monthsShort = 'Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec'.split(' ');\n      var monthsLong = 'January February March April May June July August September October November December'.split(' ');\n      date = date || new Date();\n      fmt = fmt.replace('%D', '%m/%d/%Y');\n      fmt = fmt.replace('%r', '%I:%M:%S %p');\n      fmt = fmt.replace('%Y', '' + date.getFullYear());\n      fmt = fmt.replace('%y', '' + date.getYear());\n      fmt = fmt.replace('%m', addZeros(date.getMonth() + 1, 2));\n      fmt = fmt.replace('%d', addZeros(date.getDate(), 2));\n      fmt = fmt.replace('%H', '' + addZeros(date.getHours(), 2));\n      fmt = fmt.replace('%M', '' + addZeros(date.getMinutes(), 2));\n      fmt = fmt.replace('%S', '' + addZeros(date.getSeconds(), 2));\n      fmt = fmt.replace('%I', '' + ((date.getHours() + 11) % 12 + 1));\n      fmt = fmt.replace('%p', '' + (date.getHours() < 12 ? 'AM' : 'PM'));\n      fmt = fmt.replace('%B', '' + editor.translate(monthsLong[date.getMonth()]));\n      fmt = fmt.replace('%b', '' + editor.translate(monthsShort[date.getMonth()]));\n      fmt = fmt.replace('%A', '' + editor.translate(daysLong[date.getDay()]));\n      fmt = fmt.replace('%a', '' + editor.translate(daysShort[date.getDay()]));\n      fmt = fmt.replace('%%', '%');\n      return fmt;\n    };\n    var DateTimeHelper = { getDateTime: getDateTime };\n\n    var createTemplateList = function (editorSettings, callback) {\n      return function () {\n        var templateList = Settings.getTemplates(editorSettings);\n        if (typeof templateList === 'function') {\n          templateList(callback);\n          return;\n        }\n        if (typeof templateList === 'string') {\n          global$2.send({\n            url: templateList,\n            success: function (text) {\n              callback(JSON.parse(text));\n            }\n          });\n        } else {\n          callback(templateList);\n        }\n      };\n    };\n    var replaceTemplateValues = function (editor, html, templateValues) {\n      global$1.each(templateValues, function (v, k) {\n        if (typeof v === 'function') {\n          v = v(k);\n        }\n        html = html.replace(new RegExp('\\\\{\\\\$' + k + '\\\\}', 'g'), v);\n      });\n      return html;\n    };\n    var replaceVals = function (editor, e) {\n      var dom = editor.dom, vl = Settings.getTemplateReplaceValues(editor);\n      global$1.each(dom.select('*', e), function (e) {\n        global$1.each(vl, function (v, k) {\n          if (dom.hasClass(e, k)) {\n            if (typeof vl[k] === 'function') {\n              vl[k](e);\n            }\n          }\n        });\n      });\n    };\n    var hasClass = function (n, c) {\n      return new RegExp('\\\\b' + c + '\\\\b', 'g').test(n.className);\n    };\n    var insertTemplate = function (editor, ui, html) {\n      var el;\n      var n;\n      var dom = editor.dom;\n      var sel = editor.selection.getContent();\n      html = replaceTemplateValues(editor, html, Settings.getTemplateReplaceValues(editor));\n      el = dom.create('div', null, html);\n      n = dom.select('.mceTmpl', el);\n      if (n && n.length > 0) {\n        el = dom.create('div', null);\n        el.appendChild(n[0].cloneNode(true));\n      }\n      global$1.each(dom.select('*', el), function (n) {\n        if (hasClass(n, Settings.getCreationDateClasses(editor).replace(/\\s+/g, '|'))) {\n          n.innerHTML = DateTimeHelper.getDateTime(editor, Settings.getCdateFormat(editor));\n        }\n        if (hasClass(n, Settings.getModificationDateClasses(editor).replace(/\\s+/g, '|'))) {\n          n.innerHTML = DateTimeHelper.getDateTime(editor, Settings.getMdateFormat(editor));\n        }\n        if (hasClass(n, Settings.getSelectedContentClasses(editor).replace(/\\s+/g, '|'))) {\n          n.innerHTML = sel;\n        }\n      });\n      replaceVals(editor, el);\n      editor.execCommand('mceInsertContent', false, el.innerHTML);\n      editor.addVisual();\n    };\n    var Templates = {\n      createTemplateList: createTemplateList,\n      replaceTemplateValues: replaceTemplateValues,\n      replaceVals: replaceVals,\n      insertTemplate: insertTemplate\n    };\n\n    var register = function (editor) {\n      editor.addCommand('mceInsertTemplate', curry(Templates.insertTemplate, editor));\n    };\n    var Commands = { register: register };\n\n    var setup = function (editor) {\n      editor.on('PreProcess', function (o) {\n        var dom = editor.dom, dateFormat = Settings.getMdateFormat(editor);\n        global$1.each(dom.select('div', o.node), function (e) {\n          if (dom.hasClass(e, 'mceTmpl')) {\n            global$1.each(dom.select('*', e), function (e) {\n              if (dom.hasClass(e, editor.getParam('template_mdate_classes', 'mdate').replace(/\\s+/g, '|'))) {\n                e.innerHTML = DateTimeHelper.getDateTime(editor, dateFormat);\n              }\n            });\n            Templates.replaceVals(editor, e);\n          }\n        });\n      });\n    };\n    var FilterContent = { setup: setup };\n\n    var insertIframeHtml = function (editor, win, html) {\n      if (html.indexOf('<html>') === -1) {\n        var contentCssLinks_1 = '';\n        global$1.each(editor.contentCSS, function (url) {\n          contentCssLinks_1 += '<link type=\"text/css\" rel=\"stylesheet\" href=\"' + editor.documentBaseURI.toAbsolute(url) + '\">';\n        });\n        var bodyClass = editor.settings.body_class || '';\n        if (bodyClass.indexOf('=') !== -1) {\n          bodyClass = editor.getParam('body_class', '', 'hash');\n          bodyClass = bodyClass[editor.id] || '';\n        }\n        html = '<!DOCTYPE html>' + '<html>' + '<head>' + contentCssLinks_1 + '</head>' + '<body class=\"' + bodyClass + '\">' + html + '</body>' + '</html>';\n      }\n      html = Templates.replaceTemplateValues(editor, html, Settings.getPreviewReplaceValues(editor));\n      var doc = win.find('iframe')[0].getEl().contentWindow.document;\n      doc.open();\n      doc.write(html);\n      doc.close();\n    };\n    var open = function (editor, templateList) {\n      var win;\n      var values = [];\n      var templateHtml;\n      if (!templateList || templateList.length === 0) {\n        var message = editor.translate('No templates defined.');\n        editor.notificationManager.open({\n          text: message,\n          type: 'info'\n        });\n        return;\n      }\n      global$1.each(templateList, function (template) {\n        values.push({\n          selected: !values.length,\n          text: template.title,\n          value: {\n            url: template.url,\n            content: template.content,\n            description: template.description\n          }\n        });\n      });\n      var onSelectTemplate = function (e) {\n        var value = e.control.value();\n        if (value.url) {\n          global$2.send({\n            url: value.url,\n            success: function (html) {\n              templateHtml = html;\n              insertIframeHtml(editor, win, templateHtml);\n            }\n          });\n        } else {\n          templateHtml = value.content;\n          insertIframeHtml(editor, win, templateHtml);\n        }\n        win.find('#description')[0].text(e.control.value().description);\n      };\n      win = editor.windowManager.open({\n        title: 'Insert template',\n        layout: 'flex',\n        direction: 'column',\n        align: 'stretch',\n        padding: 15,\n        spacing: 10,\n        items: [\n          {\n            type: 'form',\n            flex: 0,\n            padding: 0,\n            items: [{\n                type: 'container',\n                label: 'Templates',\n                items: {\n                  type: 'listbox',\n                  label: 'Templates',\n                  name: 'template',\n                  values: values,\n                  onselect: onSelectTemplate\n                }\n              }]\n          },\n          {\n            type: 'label',\n            name: 'description',\n            label: 'Description',\n            text: '\\xA0'\n          },\n          {\n            type: 'iframe',\n            flex: 1,\n            border: 1\n          }\n        ],\n        onsubmit: function () {\n          Templates.insertTemplate(editor, false, templateHtml);\n        },\n        minWidth: Settings.getDialogWidth(editor),\n        minHeight: Settings.getDialogHeight(editor)\n      });\n      win.find('listbox')[0].fire('select');\n    };\n    var Dialog = { open: open };\n\n    var showDialog = function (editor) {\n      return function (templates) {\n        Dialog.open(editor, templates);\n      };\n    };\n    var register$1 = function (editor) {\n      editor.addButton('template', {\n        title: 'Insert template',\n        onclick: Templates.createTemplateList(editor.settings, showDialog(editor))\n      });\n      editor.addMenuItem('template', {\n        text: 'Template',\n        onclick: Templates.createTemplateList(editor.settings, showDialog(editor)),\n        icon: 'template',\n        context: 'insert'\n      });\n    };\n    var Buttons = { register: register$1 };\n\n    global.add('template', function (editor) {\n      Buttons.register(editor);\n      Commands.register(editor);\n      FilterContent.setup(editor);\n    });\n    function Plugin () {\n    }\n\n    return Plugin;\n\n}());\n})();\n","// Exports the \"textcolor\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/textcolor')\n//   ES2015:\n//     import 'tinymce/plugins/textcolor'\nrequire('./plugin.js');","(function () {\nvar textcolor = (function () {\n    'use strict';\n\n    var global = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var getCurrentColor = function (editor, format) {\n      var color;\n      editor.dom.getParents(editor.selection.getStart(), function (elm) {\n        var value;\n        if (value = elm.style[format === 'forecolor' ? 'color' : 'background-color']) {\n          color = color ? color : value;\n        }\n      });\n      return color;\n    };\n    var mapColors = function (colorMap) {\n      var i;\n      var colors = [];\n      for (i = 0; i < colorMap.length; i += 2) {\n        colors.push({\n          text: colorMap[i + 1],\n          color: '#' + colorMap[i]\n        });\n      }\n      return colors;\n    };\n    var applyFormat = function (editor, format, value) {\n      editor.undoManager.transact(function () {\n        editor.focus();\n        editor.formatter.apply(format, { value: value });\n        editor.nodeChanged();\n      });\n    };\n    var removeFormat = function (editor, format) {\n      editor.undoManager.transact(function () {\n        editor.focus();\n        editor.formatter.remove(format, { value: null }, null, true);\n        editor.nodeChanged();\n      });\n    };\n    var TextColor = {\n      getCurrentColor: getCurrentColor,\n      mapColors: mapColors,\n      applyFormat: applyFormat,\n      removeFormat: removeFormat\n    };\n\n    var register = function (editor) {\n      editor.addCommand('mceApplyTextcolor', function (format, value) {\n        TextColor.applyFormat(editor, format, value);\n      });\n      editor.addCommand('mceRemoveTextcolor', function (format) {\n        TextColor.removeFormat(editor, format);\n      });\n    };\n    var Commands = { register: register };\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var defaultColorMap = [\n      '000000',\n      'Black',\n      '993300',\n      'Burnt orange',\n      '333300',\n      'Dark olive',\n      '003300',\n      'Dark green',\n      '003366',\n      'Dark azure',\n      '000080',\n      'Navy Blue',\n      '333399',\n      'Indigo',\n      '333333',\n      'Very dark gray',\n      '800000',\n      'Maroon',\n      'FF6600',\n      'Orange',\n      '808000',\n      'Olive',\n      '008000',\n      'Green',\n      '008080',\n      'Teal',\n      '0000FF',\n      'Blue',\n      '666699',\n      'Grayish blue',\n      '808080',\n      'Gray',\n      'FF0000',\n      'Red',\n      'FF9900',\n      'Amber',\n      '99CC00',\n      'Yellow green',\n      '339966',\n      'Sea green',\n      '33CCCC',\n      'Turquoise',\n      '3366FF',\n      'Royal blue',\n      '800080',\n      'Purple',\n      '999999',\n      'Medium gray',\n      'FF00FF',\n      'Magenta',\n      'FFCC00',\n      'Gold',\n      'FFFF00',\n      'Yellow',\n      '00FF00',\n      'Lime',\n      '00FFFF',\n      'Aqua',\n      '00CCFF',\n      'Sky blue',\n      '993366',\n      'Red violet',\n      'FFFFFF',\n      'White',\n      'FF99CC',\n      'Pink',\n      'FFCC99',\n      'Peach',\n      'FFFF99',\n      'Light yellow',\n      'CCFFCC',\n      'Pale green',\n      'CCFFFF',\n      'Pale cyan',\n      '99CCFF',\n      'Light sky blue',\n      'CC99FF',\n      'Plum'\n    ];\n    var getTextColorMap = function (editor) {\n      return editor.getParam('textcolor_map', defaultColorMap);\n    };\n    var getForeColorMap = function (editor) {\n      return editor.getParam('forecolor_map', getTextColorMap(editor));\n    };\n    var getBackColorMap = function (editor) {\n      return editor.getParam('backcolor_map', getTextColorMap(editor));\n    };\n    var getTextColorRows = function (editor) {\n      return editor.getParam('textcolor_rows', 5);\n    };\n    var getTextColorCols = function (editor) {\n      return editor.getParam('textcolor_cols', 8);\n    };\n    var getForeColorRows = function (editor) {\n      return editor.getParam('forecolor_rows', getTextColorRows(editor));\n    };\n    var getBackColorRows = function (editor) {\n      return editor.getParam('backcolor_rows', getTextColorRows(editor));\n    };\n    var getForeColorCols = function (editor) {\n      return editor.getParam('forecolor_cols', getTextColorCols(editor));\n    };\n    var getBackColorCols = function (editor) {\n      return editor.getParam('backcolor_cols', getTextColorCols(editor));\n    };\n    var getColorPickerCallback = function (editor) {\n      return editor.getParam('color_picker_callback', null);\n    };\n    var hasColorPicker = function (editor) {\n      return typeof getColorPickerCallback(editor) === 'function';\n    };\n    var Settings = {\n      getForeColorMap: getForeColorMap,\n      getBackColorMap: getBackColorMap,\n      getForeColorRows: getForeColorRows,\n      getBackColorRows: getBackColorRows,\n      getForeColorCols: getForeColorCols,\n      getBackColorCols: getBackColorCols,\n      getColorPickerCallback: getColorPickerCallback,\n      hasColorPicker: hasColorPicker\n    };\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.util.I18n');\n\n    var getHtml = function (cols, rows, colorMap, hasColorPicker) {\n      var colors, color, html, last, x, y, i, count = 0;\n      var id = global$1.DOM.uniqueId('mcearia');\n      var getColorCellHtml = function (color, title) {\n        var isNoColor = color === 'transparent';\n        return '<td class=\"mce-grid-cell' + (isNoColor ? ' mce-colorbtn-trans' : '') + '\">' + '<div id=\"' + id + '-' + count++ + '\"' + ' data-mce-color=\"' + (color ? color : '') + '\"' + ' role=\"option\"' + ' tabIndex=\"-1\"' + ' style=\"' + (color ? 'background-color: ' + color : '') + '\"' + ' title=\"' + global$3.translate(title) + '\">' + (isNoColor ? '&#215;' : '') + '</div>' + '</td>';\n      };\n      colors = TextColor.mapColors(colorMap);\n      colors.push({\n        text: global$3.translate('No color'),\n        color: 'transparent'\n      });\n      html = '<table class=\"mce-grid mce-grid-border mce-colorbutton-grid\" role=\"list\" cellspacing=\"0\"><tbody>';\n      last = colors.length - 1;\n      for (y = 0; y < rows; y++) {\n        html += '<tr>';\n        for (x = 0; x < cols; x++) {\n          i = y * cols + x;\n          if (i > last) {\n            html += '<td></td>';\n          } else {\n            color = colors[i];\n            html += getColorCellHtml(color.color, color.text);\n          }\n        }\n        html += '</tr>';\n      }\n      if (hasColorPicker) {\n        html += '<tr>' + '<td colspan=\"' + cols + '\" class=\"mce-custom-color-btn\">' + '<div id=\"' + id + '-c\" class=\"mce-widget mce-btn mce-btn-small mce-btn-flat\" ' + 'role=\"button\" tabindex=\"-1\" aria-labelledby=\"' + id + '-c\" style=\"width: 100%\">' + '<button type=\"button\" role=\"presentation\" tabindex=\"-1\">' + global$3.translate('Custom...') + '</button>' + '</div>' + '</td>' + '</tr>';\n        html += '<tr>';\n        for (x = 0; x < cols; x++) {\n          html += getColorCellHtml('', 'Custom color');\n        }\n        html += '</tr>';\n      }\n      html += '</tbody></table>';\n      return html;\n    };\n    var ColorPickerHtml = { getHtml: getHtml };\n\n    var setDivColor = function setDivColor(div, value) {\n      div.style.background = value;\n      div.setAttribute('data-mce-color', value);\n    };\n    var onButtonClick = function (editor) {\n      return function (e) {\n        var ctrl = e.control;\n        if (ctrl._color) {\n          editor.execCommand('mceApplyTextcolor', ctrl.settings.format, ctrl._color);\n        } else {\n          editor.execCommand('mceRemoveTextcolor', ctrl.settings.format);\n        }\n      };\n    };\n    var onPanelClick = function (editor, cols) {\n      return function (e) {\n        var buttonCtrl = this.parent();\n        var value;\n        var currentColor = TextColor.getCurrentColor(editor, buttonCtrl.settings.format);\n        var selectColor = function (value) {\n          editor.execCommand('mceApplyTextcolor', buttonCtrl.settings.format, value);\n          buttonCtrl.hidePanel();\n          buttonCtrl.color(value);\n        };\n        var resetColor = function () {\n          editor.execCommand('mceRemoveTextcolor', buttonCtrl.settings.format);\n          buttonCtrl.hidePanel();\n          buttonCtrl.resetColor();\n        };\n        if (global$1.DOM.getParent(e.target, '.mce-custom-color-btn')) {\n          buttonCtrl.hidePanel();\n          var colorPickerCallback = Settings.getColorPickerCallback(editor);\n          colorPickerCallback.call(editor, function (value) {\n            var tableElm = buttonCtrl.panel.getEl().getElementsByTagName('table')[0];\n            var customColorCells, div, i;\n            customColorCells = global$2.map(tableElm.rows[tableElm.rows.length - 1].childNodes, function (elm) {\n              return elm.firstChild;\n            });\n            for (i = 0; i < customColorCells.length; i++) {\n              div = customColorCells[i];\n              if (!div.getAttribute('data-mce-color')) {\n                break;\n              }\n            }\n            if (i === cols) {\n              for (i = 0; i < cols - 1; i++) {\n                setDivColor(customColorCells[i], customColorCells[i + 1].getAttribute('data-mce-color'));\n              }\n            }\n            setDivColor(div, value);\n            selectColor(value);\n          }, currentColor);\n        }\n        value = e.target.getAttribute('data-mce-color');\n        if (value) {\n          if (this.lastId) {\n            global$1.DOM.get(this.lastId).setAttribute('aria-selected', 'false');\n          }\n          e.target.setAttribute('aria-selected', true);\n          this.lastId = e.target.id;\n          if (value === 'transparent') {\n            resetColor();\n          } else {\n            selectColor(value);\n          }\n        } else if (value !== null) {\n          buttonCtrl.hidePanel();\n        }\n      };\n    };\n    var renderColorPicker = function (editor, foreColor) {\n      return function () {\n        var cols = foreColor ? Settings.getForeColorCols(editor) : Settings.getBackColorCols(editor);\n        var rows = foreColor ? Settings.getForeColorRows(editor) : Settings.getBackColorRows(editor);\n        var colorMap = foreColor ? Settings.getForeColorMap(editor) : Settings.getBackColorMap(editor);\n        var hasColorPicker = Settings.hasColorPicker(editor);\n        return ColorPickerHtml.getHtml(cols, rows, colorMap, hasColorPicker);\n      };\n    };\n    var register$1 = function (editor) {\n      editor.addButton('forecolor', {\n        type: 'colorbutton',\n        tooltip: 'Text color',\n        format: 'forecolor',\n        panel: {\n          role: 'application',\n          ariaRemember: true,\n          html: renderColorPicker(editor, true),\n          onclick: onPanelClick(editor, Settings.getForeColorCols(editor))\n        },\n        onclick: onButtonClick(editor)\n      });\n      editor.addButton('backcolor', {\n        type: 'colorbutton',\n        tooltip: 'Background color',\n        format: 'hilitecolor',\n        panel: {\n          role: 'application',\n          ariaRemember: true,\n          html: renderColorPicker(editor, false),\n          onclick: onPanelClick(editor, Settings.getBackColorCols(editor))\n        },\n        onclick: onButtonClick(editor)\n      });\n    };\n    var Buttons = { register: register$1 };\n\n    global.add('textcolor', function (editor) {\n      Commands.register(editor);\n      Buttons.register(editor);\n    });\n    function Plugin () {\n    }\n\n    return Plugin;\n\n}());\n})();\n","// Exports the \"textpattern\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/textpattern')\n//   ES2015:\n//     import 'tinymce/plugins/textpattern'\nrequire('./plugin.js');","(function () {\nvar textpattern = (function (domGlobals) {\n    'use strict';\n\n    var Cell = function (initial) {\n      var value = initial;\n      var get = function () {\n        return value;\n      };\n      var set = function (v) {\n        value = v;\n      };\n      var clone = function () {\n        return Cell(get());\n      };\n      return {\n        get: get,\n        set: set,\n        clone: clone\n      };\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    function __spreadArrays() {\n      for (var s = 0, i = 0, il = arguments.length; i < il; i++)\n        s += arguments[i].length;\n      for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n          r[k] = a[j];\n      return r;\n    }\n\n    var noop = function () {\n    };\n    var constant = function (value) {\n      return function () {\n        return value;\n      };\n    };\n    var never = constant(false);\n    var always = constant(true);\n\n    var none = function () {\n      return NONE;\n    };\n    var NONE = function () {\n      var eq = function (o) {\n        return o.isNone();\n      };\n      var call = function (thunk) {\n        return thunk();\n      };\n      var id = function (n) {\n        return n;\n      };\n      var me = {\n        fold: function (n, s) {\n          return n();\n        },\n        is: never,\n        isSome: never,\n        isNone: always,\n        getOr: id,\n        getOrThunk: call,\n        getOrDie: function (msg) {\n          throw new Error(msg || 'error: getOrDie called on none.');\n        },\n        getOrNull: constant(null),\n        getOrUndefined: constant(undefined),\n        or: id,\n        orThunk: call,\n        map: none,\n        each: noop,\n        bind: none,\n        exists: never,\n        forall: always,\n        filter: none,\n        equals: eq,\n        equals_: eq,\n        toArray: function () {\n          return [];\n        },\n        toString: constant('none()')\n      };\n      if (Object.freeze) {\n        Object.freeze(me);\n      }\n      return me;\n    }();\n    var some = function (a) {\n      var constant_a = constant(a);\n      var self = function () {\n        return me;\n      };\n      var bind = function (f) {\n        return f(a);\n      };\n      var me = {\n        fold: function (n, s) {\n          return s(a);\n        },\n        is: function (v) {\n          return a === v;\n        },\n        isSome: always,\n        isNone: never,\n        getOr: constant_a,\n        getOrThunk: constant_a,\n        getOrDie: constant_a,\n        getOrNull: constant_a,\n        getOrUndefined: constant_a,\n        or: self,\n        orThunk: self,\n        map: function (f) {\n          return some(f(a));\n        },\n        each: function (f) {\n          f(a);\n        },\n        bind: bind,\n        exists: bind,\n        forall: bind,\n        filter: function (f) {\n          return f(a) ? me : NONE;\n        },\n        toArray: function () {\n          return [a];\n        },\n        toString: function () {\n          return 'some(' + a + ')';\n        },\n        equals: function (o) {\n          return o.is(a);\n        },\n        equals_: function (o, elementEq) {\n          return o.fold(never, function (b) {\n            return elementEq(a, b);\n          });\n        }\n      };\n      return me;\n    };\n    var from = function (value) {\n      return value === null || value === undefined ? NONE : some(value);\n    };\n    var Option = {\n      some: some,\n      none: none,\n      from: from\n    };\n\n    var typeOf = function (x) {\n      if (x === null) {\n        return 'null';\n      }\n      var t = typeof x;\n      if (t === 'object' && (Array.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'Array')) {\n        return 'array';\n      }\n      if (t === 'object' && (String.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'String')) {\n        return 'string';\n      }\n      return t;\n    };\n    var isType = function (type) {\n      return function (value) {\n        return typeOf(value) === type;\n      };\n    };\n    var isFunction = isType('function');\n\n    var nativeSlice = Array.prototype.slice;\n    var filter = function (xs, pred) {\n      var r = [];\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          r.push(x);\n        }\n      }\n      return r;\n    };\n    var sort = function (xs, comparator) {\n      var copy = nativeSlice.call(xs, 0);\n      copy.sort(comparator);\n      return copy;\n    };\n    var from$1 = isFunction(Array.from) ? Array.from : function (x) {\n      return nativeSlice.call(x);\n    };\n\n    var hasOwnProperty = Object.hasOwnProperty;\n    var get = function (obj, key) {\n      return has(obj, key) ? Option.from(obj[key]) : Option.none();\n    };\n    var has = function (obj, key) {\n      return hasOwnProperty.call(obj, key);\n    };\n\n    var isInlinePattern = function (pattern) {\n      return has(pattern, 'start') && has(pattern, 'end');\n    };\n    var isBlockPattern = function (pattern) {\n      return !has(pattern, 'end') && !has(pattern, 'replacement');\n    };\n    var isReplacementPattern = function (pattern) {\n      return has(pattern, 'replacement');\n    };\n    var sortPatterns = function (patterns) {\n      return sort(patterns, function (a, b) {\n        if (a.start.length === b.start.length) {\n          return 0;\n        }\n        return a.start.length > b.start.length ? -1 : 1;\n      });\n    };\n    var createPatternSet = function (patterns) {\n      return {\n        inlinePatterns: sortPatterns(filter(patterns, isInlinePattern)),\n        blockPatterns: sortPatterns(filter(patterns, isBlockPattern)),\n        replacementPatterns: filter(patterns, isReplacementPattern)\n      };\n    };\n\n    var get$1 = function (patternsState) {\n      var setPatterns = function (newPatterns) {\n        patternsState.set(createPatternSet(newPatterns));\n      };\n      var getPatterns = function () {\n        return __spreadArrays(patternsState.get().inlinePatterns, patternsState.get().blockPatterns, patternsState.get().replacementPatterns);\n      };\n      return {\n        setPatterns: setPatterns,\n        getPatterns: getPatterns\n      };\n    };\n    var Api = { get: get$1 };\n\n    var defaultPatterns = [\n      {\n        start: '*',\n        end: '*',\n        format: 'italic'\n      },\n      {\n        start: '**',\n        end: '**',\n        format: 'bold'\n      },\n      {\n        start: '***',\n        end: '***',\n        format: [\n          'bold',\n          'italic'\n        ]\n      },\n      {\n        start: '#',\n        format: 'h1'\n      },\n      {\n        start: '##',\n        format: 'h2'\n      },\n      {\n        start: '###',\n        format: 'h3'\n      },\n      {\n        start: '####',\n        format: 'h4'\n      },\n      {\n        start: '#####',\n        format: 'h5'\n      },\n      {\n        start: '######',\n        format: 'h6'\n      },\n      {\n        start: '1. ',\n        cmd: 'InsertOrderedList'\n      },\n      {\n        start: '* ',\n        cmd: 'InsertUnorderedList'\n      },\n      {\n        start: '- ',\n        cmd: 'InsertUnorderedList'\n      }\n    ];\n    var getPatternSet = function (editorSettings) {\n      var patterns = get(editorSettings, 'textpattern_patterns').getOr(defaultPatterns);\n      return createPatternSet(patterns);\n    };\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.util.Delay');\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.util.VK');\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.dom.TreeWalker');\n\n    var global$4 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var findPattern = function (patterns, text) {\n      for (var i = 0; i < patterns.length; i++) {\n        var pattern = patterns[i];\n        if (text.indexOf(pattern.start) !== 0) {\n          continue;\n        }\n        if (pattern.end && text.lastIndexOf(pattern.end) !== text.length - pattern.end.length) {\n          continue;\n        }\n        return pattern;\n      }\n    };\n    var isMatchingPattern = function (pattern, text, offset, delta) {\n      var textEnd = text.substr(offset - pattern.end.length - delta, pattern.end.length);\n      return textEnd === pattern.end;\n    };\n    var hasContent = function (offset, delta, pattern) {\n      return offset - delta - pattern.end.length - pattern.start.length > 0;\n    };\n    var findEndPattern = function (patterns, text, offset, delta) {\n      var pattern, i;\n      for (i = 0; i < patterns.length; i++) {\n        pattern = patterns[i];\n        if (pattern.end !== undefined && isMatchingPattern(pattern, text, offset, delta) && hasContent(offset, delta, pattern)) {\n          return pattern;\n        }\n      }\n    };\n    var findInlinePattern = function (patterns, rng, space) {\n      if (rng.collapsed === false) {\n        return;\n      }\n      var container = rng.startContainer;\n      var text = container.data;\n      var delta = space === true ? 1 : 0;\n      if (container.nodeType !== 3) {\n        return;\n      }\n      var endPattern = findEndPattern(patterns, text, rng.startOffset, delta);\n      if (endPattern === undefined) {\n        return;\n      }\n      var endOffset = text.lastIndexOf(endPattern.end, rng.startOffset - delta);\n      var startOffset = text.lastIndexOf(endPattern.start, endOffset - endPattern.end.length);\n      endOffset = text.indexOf(endPattern.end, startOffset + endPattern.start.length);\n      if (startOffset === -1) {\n        return;\n      }\n      var patternRng = domGlobals.document.createRange();\n      patternRng.setStart(container, startOffset);\n      patternRng.setEnd(container, endOffset + endPattern.end.length);\n      var startPattern = findPattern(patterns, patternRng.toString());\n      if (endPattern === undefined || startPattern !== endPattern || container.data.length <= endPattern.start.length + endPattern.end.length) {\n        return;\n      }\n      return {\n        pattern: endPattern,\n        startOffset: startOffset,\n        endOffset: endOffset\n      };\n    };\n    var findReplacementPattern = function (patterns, startSearch, text) {\n      for (var i = 0; i < patterns.length; i++) {\n        var index = text.lastIndexOf(patterns[i].start, startSearch);\n        if (index !== -1) {\n          return Option.some({\n            pattern: patterns[i],\n            startOffset: index\n          });\n        }\n      }\n      return Option.none();\n    };\n\n    var isText = function (node) {\n      return node && node.nodeType === 3;\n    };\n    var setSelection = function (editor, textNode, offset) {\n      var newRng = editor.dom.createRng();\n      newRng.setStart(textNode, offset);\n      newRng.setEnd(textNode, offset);\n      editor.selection.setRng(newRng);\n    };\n    var splitContainer = function (container, pattern, endOffset, startOffset) {\n      container = startOffset > 0 ? container.splitText(startOffset) : container;\n      container.splitText(endOffset - startOffset + pattern.end.length);\n      container.deleteData(0, pattern.start.length);\n      container.deleteData(container.data.length - pattern.end.length, pattern.end.length);\n      return container;\n    };\n    var splitAndApply = function (editor, container, found, inline) {\n      var formatArray = global$4.isArray(found.pattern.format) ? found.pattern.format : [found.pattern.format];\n      var validFormats = global$4.grep(formatArray, function (formatName) {\n        var format = editor.formatter.get(formatName);\n        return format && format[0].inline;\n      });\n      if (validFormats.length !== 0) {\n        editor.undoManager.transact(function () {\n          container = splitContainer(container, found.pattern, found.endOffset, found.startOffset);\n          if (inline) {\n            editor.selection.setCursorLocation(container.nextSibling, 1);\n          }\n          formatArray.forEach(function (format) {\n            editor.formatter.apply(format, {}, container);\n          });\n        });\n        return container;\n      }\n    };\n    var applyInlinePattern = function (editor, patterns, inline) {\n      var rng = editor.selection.getRng();\n      return Option.from(findInlinePattern(patterns, rng, inline)).map(function (foundPattern) {\n        return splitAndApply(editor, rng.startContainer, foundPattern, inline);\n      });\n    };\n    var applyInlinePatternSpace = function (editor, patterns) {\n      applyInlinePattern(editor, patterns, true).each(function (wrappedTextNode) {\n        var lastChar = wrappedTextNode.data.slice(-1);\n        if (/[\\u00a0 ]/.test(lastChar)) {\n          wrappedTextNode.deleteData(wrappedTextNode.data.length - 1, 1);\n          var lastCharNode = editor.dom.doc.createTextNode(lastChar);\n          editor.dom.insertAfter(lastCharNode, wrappedTextNode.parentNode);\n          setSelection(editor, lastCharNode, 1);\n        }\n      });\n    };\n    var applyInlinePatternEnter = function (editor, patterns) {\n      applyInlinePattern(editor, patterns, false).each(function (wrappedTextNode) {\n        setSelection(editor, wrappedTextNode, wrappedTextNode.data.length);\n      });\n    };\n    var applyBlockPattern = function (editor, patterns) {\n      var selection, dom, container, firstTextNode, node, format, textBlockElm, pattern, walker, rng, offset;\n      selection = editor.selection;\n      dom = editor.dom;\n      if (!selection.isCollapsed()) {\n        return;\n      }\n      textBlockElm = dom.getParent(selection.getStart(), 'p');\n      if (textBlockElm) {\n        walker = new global$3(textBlockElm, textBlockElm);\n        while (node = walker.next()) {\n          if (isText(node)) {\n            firstTextNode = node;\n            break;\n          }\n        }\n        if (firstTextNode) {\n          pattern = findPattern(patterns, firstTextNode.data);\n          if (!pattern) {\n            return;\n          }\n          rng = selection.getRng(true);\n          container = rng.startContainer;\n          offset = rng.startOffset;\n          if (firstTextNode === container) {\n            offset = Math.max(0, offset - pattern.start.length);\n          }\n          if (global$4.trim(firstTextNode.data).length === pattern.start.length) {\n            return;\n          }\n          if (pattern.format) {\n            format = editor.formatter.get(pattern.format);\n            if (format && format[0].block) {\n              firstTextNode.deleteData(0, pattern.start.length);\n              editor.formatter.apply(pattern.format, {}, firstTextNode);\n              rng.setStart(container, offset);\n              rng.collapse(true);\n              selection.setRng(rng);\n            }\n          }\n          if (pattern.cmd) {\n            editor.undoManager.transact(function () {\n              firstTextNode.deleteData(0, pattern.start.length);\n              editor.execCommand(pattern.cmd);\n            });\n          }\n        }\n      }\n    };\n    var selectionInsertText = function (editor, string) {\n      var rng = editor.selection.getRng();\n      var container = rng.startContainer;\n      if (isText(container)) {\n        var offset = rng.startOffset;\n        container.insertData(offset, string);\n        setSelection(editor, container, offset + string.length);\n      } else {\n        var newNode = editor.dom.doc.createTextNode(string);\n        rng.insertNode(newNode);\n        setSelection(editor, newNode, newNode.length);\n      }\n    };\n    var applyReplacement = function (editor, target, match) {\n      target.deleteData(match.startOffset, match.pattern.start.length);\n      editor.insertContent(match.pattern.replacement);\n      Option.from(target.nextSibling).filter(isText).each(function (nextSibling) {\n        nextSibling.insertData(0, target.data);\n        editor.dom.remove(target);\n      });\n    };\n    var extractChar = function (node, match) {\n      var offset = match.startOffset + match.pattern.start.length;\n      var char = node.data.slice(offset, offset + 1);\n      node.deleteData(offset, 1);\n      return char;\n    };\n    var applyReplacementPattern = function (editor, patterns, inline) {\n      var rng = editor.selection.getRng();\n      var container = rng.startContainer;\n      if (rng.collapsed && isText(container)) {\n        findReplacementPattern(patterns, rng.startOffset, container.data).each(function (match) {\n          var char = inline ? Option.some(extractChar(container, match)) : Option.none();\n          applyReplacement(editor, container, match);\n          char.each(function (ch) {\n            return selectionInsertText(editor, ch);\n          });\n        });\n      }\n    };\n    var applyReplacementPatternSpace = function (editor, patterns) {\n      applyReplacementPattern(editor, patterns, true);\n    };\n    var applyReplacementPatternEnter = function (editor, patterns) {\n      applyReplacementPattern(editor, patterns, false);\n    };\n\n    var handleEnter = function (editor, patternSet) {\n      applyReplacementPatternEnter(editor, patternSet.replacementPatterns);\n      applyInlinePatternEnter(editor, patternSet.inlinePatterns);\n      applyBlockPattern(editor, patternSet.blockPatterns);\n    };\n    var handleInlineKey = function (editor, patternSet) {\n      applyReplacementPatternSpace(editor, patternSet.replacementPatterns);\n      applyInlinePatternSpace(editor, patternSet.inlinePatterns);\n    };\n    var checkKeyEvent = function (codes, event, predicate) {\n      for (var i = 0; i < codes.length; i++) {\n        if (predicate(codes[i], event)) {\n          return true;\n        }\n      }\n    };\n    var checkKeyCode = function (codes, event) {\n      return checkKeyEvent(codes, event, function (code, event) {\n        return code === event.keyCode && global$2.modifierPressed(event) === false;\n      });\n    };\n    var checkCharCode = function (chars, event) {\n      return checkKeyEvent(chars, event, function (chr, event) {\n        return chr.charCodeAt(0) === event.charCode;\n      });\n    };\n    var KeyHandler = {\n      handleEnter: handleEnter,\n      handleInlineKey: handleInlineKey,\n      checkCharCode: checkCharCode,\n      checkKeyCode: checkKeyCode\n    };\n\n    var setup = function (editor, patternsState) {\n      var charCodes = [\n        ',',\n        '.',\n        ';',\n        ':',\n        '!',\n        '?'\n      ];\n      var keyCodes = [32];\n      editor.on('keydown', function (e) {\n        if (e.keyCode === 13 && !global$2.modifierPressed(e)) {\n          KeyHandler.handleEnter(editor, patternsState.get());\n        }\n      }, true);\n      editor.on('keyup', function (e) {\n        if (KeyHandler.checkKeyCode(keyCodes, e)) {\n          KeyHandler.handleInlineKey(editor, patternsState.get());\n        }\n      });\n      editor.on('keypress', function (e) {\n        if (KeyHandler.checkCharCode(charCodes, e)) {\n          global$1.setEditorTimeout(editor, function () {\n            KeyHandler.handleInlineKey(editor, patternsState.get());\n          });\n        }\n      });\n    };\n    var Keyboard = { setup: setup };\n\n    global.add('textpattern', function (editor) {\n      var patternsState = Cell(getPatternSet(editor.settings));\n      Keyboard.setup(editor, patternsState);\n      return Api.get(patternsState);\n    });\n    function Plugin () {\n    }\n\n    return Plugin;\n\n}(window));\n})();\n","// Exports the \"toc\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/toc')\n//   ES2015:\n//     import 'tinymce/plugins/toc'\nrequire('./plugin.js');","(function () {\nvar toc = (function () {\n    'use strict';\n\n    var global = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.util.I18n');\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var getTocClass = function (editor) {\n      return editor.getParam('toc_class', 'mce-toc');\n    };\n    var getTocHeader = function (editor) {\n      var tagName = editor.getParam('toc_header', 'h2');\n      return /^h[1-6]$/.test(tagName) ? tagName : 'h2';\n    };\n    var getTocDepth = function (editor) {\n      var depth = parseInt(editor.getParam('toc_depth', '3'), 10);\n      return depth >= 1 && depth <= 9 ? depth : 3;\n    };\n    var Settings = {\n      getTocClass: getTocClass,\n      getTocHeader: getTocHeader,\n      getTocDepth: getTocDepth\n    };\n\n    var create = function (prefix) {\n      var counter = 0;\n      return function () {\n        var guid = new Date().getTime().toString(32);\n        return prefix + guid + (counter++).toString(32);\n      };\n    };\n    var Guid = { create: create };\n\n    var tocId = Guid.create('mcetoc_');\n    var generateSelector = function generateSelector(depth) {\n      var i;\n      var selector = [];\n      for (i = 1; i <= depth; i++) {\n        selector.push('h' + i);\n      }\n      return selector.join(',');\n    };\n    var hasHeaders = function (editor) {\n      return readHeaders(editor).length > 0;\n    };\n    var readHeaders = function (editor) {\n      var tocClass = Settings.getTocClass(editor);\n      var headerTag = Settings.getTocHeader(editor);\n      var selector = generateSelector(Settings.getTocDepth(editor));\n      var headers = editor.$(selector);\n      if (headers.length && /^h[1-9]$/i.test(headerTag)) {\n        headers = headers.filter(function (i, el) {\n          return !editor.dom.hasClass(el.parentNode, tocClass);\n        });\n      }\n      return global$3.map(headers, function (h) {\n        return {\n          id: h.id ? h.id : tocId(),\n          level: parseInt(h.nodeName.replace(/^H/i, ''), 10),\n          title: editor.$.text(h),\n          element: h\n        };\n      });\n    };\n    var getMinLevel = function (headers) {\n      var i, minLevel = 9;\n      for (i = 0; i < headers.length; i++) {\n        if (headers[i].level < minLevel) {\n          minLevel = headers[i].level;\n        }\n        if (minLevel === 1) {\n          return minLevel;\n        }\n      }\n      return minLevel;\n    };\n    var generateTitle = function (tag, title) {\n      var openTag = '<' + tag + ' contenteditable=\"true\">';\n      var closeTag = '</' + tag + '>';\n      return openTag + global$1.DOM.encode(title) + closeTag;\n    };\n    var generateTocHtml = function (editor) {\n      var html = generateTocContentHtml(editor);\n      return '<div class=\"' + editor.dom.encode(Settings.getTocClass(editor)) + '\" contenteditable=\"false\">' + html + '</div>';\n    };\n    var generateTocContentHtml = function (editor) {\n      var html = '';\n      var headers = readHeaders(editor);\n      var prevLevel = getMinLevel(headers) - 1;\n      var i, ii, h, nextLevel;\n      if (!headers.length) {\n        return '';\n      }\n      html += generateTitle(Settings.getTocHeader(editor), global$2.translate('Table of Contents'));\n      for (i = 0; i < headers.length; i++) {\n        h = headers[i];\n        h.element.id = h.id;\n        nextLevel = headers[i + 1] && headers[i + 1].level;\n        if (prevLevel === h.level) {\n          html += '<li>';\n        } else {\n          for (ii = prevLevel; ii < h.level; ii++) {\n            html += '<ul><li>';\n          }\n        }\n        html += '<a href=\"#' + h.id + '\">' + h.title + '</a>';\n        if (nextLevel === h.level || !nextLevel) {\n          html += '</li>';\n          if (!nextLevel) {\n            html += '</ul>';\n          }\n        } else {\n          for (ii = h.level; ii > nextLevel; ii--) {\n            html += '</li></ul><li>';\n          }\n        }\n        prevLevel = h.level;\n      }\n      return html;\n    };\n    var isEmptyOrOffscren = function (editor, nodes) {\n      return !nodes.length || editor.dom.getParents(nodes[0], '.mce-offscreen-selection').length > 0;\n    };\n    var insertToc = function (editor) {\n      var tocClass = Settings.getTocClass(editor);\n      var $tocElm = editor.$('.' + tocClass);\n      if (isEmptyOrOffscren(editor, $tocElm)) {\n        editor.insertContent(generateTocHtml(editor));\n      } else {\n        updateToc(editor);\n      }\n    };\n    var updateToc = function (editor) {\n      var tocClass = Settings.getTocClass(editor);\n      var $tocElm = editor.$('.' + tocClass);\n      if ($tocElm.length) {\n        editor.undoManager.transact(function () {\n          $tocElm.html(generateTocContentHtml(editor));\n        });\n      }\n    };\n    var Toc = {\n      hasHeaders: hasHeaders,\n      insertToc: insertToc,\n      updateToc: updateToc\n    };\n\n    var register = function (editor) {\n      editor.addCommand('mceInsertToc', function () {\n        Toc.insertToc(editor);\n      });\n      editor.addCommand('mceUpdateToc', function () {\n        Toc.updateToc(editor);\n      });\n    };\n    var Commands = { register: register };\n\n    var setup = function (editor) {\n      var $ = editor.$, tocClass = Settings.getTocClass(editor);\n      editor.on('PreProcess', function (e) {\n        var $tocElm = $('.' + tocClass, e.node);\n        if ($tocElm.length) {\n          $tocElm.removeAttr('contentEditable');\n          $tocElm.find('[contenteditable]').removeAttr('contentEditable');\n        }\n      });\n      editor.on('SetContent', function () {\n        var $tocElm = $('.' + tocClass);\n        if ($tocElm.length) {\n          $tocElm.attr('contentEditable', false);\n          $tocElm.children(':first-child').attr('contentEditable', true);\n        }\n      });\n    };\n    var FilterContent = { setup: setup };\n\n    var toggleState = function (editor) {\n      return function (e) {\n        var ctrl = e.control;\n        editor.on('LoadContent SetContent change', function () {\n          ctrl.disabled(editor.readonly || !Toc.hasHeaders(editor));\n        });\n      };\n    };\n    var isToc = function (editor) {\n      return function (elm) {\n        return elm && editor.dom.is(elm, '.' + Settings.getTocClass(editor)) && editor.getBody().contains(elm);\n      };\n    };\n    var register$1 = function (editor) {\n      editor.addButton('toc', {\n        tooltip: 'Table of Contents',\n        cmd: 'mceInsertToc',\n        icon: 'toc',\n        onPostRender: toggleState(editor)\n      });\n      editor.addButton('tocupdate', {\n        tooltip: 'Update',\n        cmd: 'mceUpdateToc',\n        icon: 'reload'\n      });\n      editor.addMenuItem('toc', {\n        text: 'Table of Contents',\n        context: 'insert',\n        cmd: 'mceInsertToc',\n        onPostRender: toggleState(editor)\n      });\n      editor.addContextToolbar(isToc(editor), 'tocupdate');\n    };\n    var Buttons = { register: register$1 };\n\n    global.add('toc', function (editor) {\n      Commands.register(editor);\n      Buttons.register(editor);\n      FilterContent.setup(editor);\n    });\n    function Plugin () {\n    }\n\n    return Plugin;\n\n}());\n})();\n","// Exports the \"visualblocks\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/visualblocks')\n//   ES2015:\n//     import 'tinymce/plugins/visualblocks'\nrequire('./plugin.js');","(function () {\nvar visualblocks = (function () {\n    'use strict';\n\n    var Cell = function (initial) {\n      var value = initial;\n      var get = function () {\n        return value;\n      };\n      var set = function (v) {\n        value = v;\n      };\n      var clone = function () {\n        return Cell(get());\n      };\n      return {\n        get: get,\n        set: set,\n        clone: clone\n      };\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var fireVisualBlocks = function (editor, state) {\n      editor.fire('VisualBlocks', { state: state });\n    };\n    var Events = { fireVisualBlocks: fireVisualBlocks };\n\n    var isEnabledByDefault = function (editor) {\n      return editor.getParam('visualblocks_default_state', false);\n    };\n    var getContentCss = function (editor) {\n      return editor.settings.visualblocks_content_css;\n    };\n    var Settings = {\n      isEnabledByDefault: isEnabledByDefault,\n      getContentCss: getContentCss\n    };\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var cssId = global$1.DOM.uniqueId();\n    var load = function (doc, url) {\n      var linkElements = global$2.toArray(doc.getElementsByTagName('link'));\n      var matchingLinkElms = global$2.grep(linkElements, function (head) {\n        return head.id === cssId;\n      });\n      if (matchingLinkElms.length === 0) {\n        var linkElm = global$1.DOM.create('link', {\n          id: cssId,\n          rel: 'stylesheet',\n          href: url\n        });\n        doc.getElementsByTagName('head')[0].appendChild(linkElm);\n      }\n    };\n    var LoadCss = { load: load };\n\n    var toggleVisualBlocks = function (editor, pluginUrl, enabledState) {\n      var dom = editor.dom;\n      var contentCss = Settings.getContentCss(editor);\n      LoadCss.load(editor.getDoc(), contentCss ? contentCss : pluginUrl + '/css/visualblocks.css');\n      dom.toggleClass(editor.getBody(), 'mce-visualblocks');\n      enabledState.set(!enabledState.get());\n      Events.fireVisualBlocks(editor, enabledState.get());\n    };\n    var VisualBlocks = { toggleVisualBlocks: toggleVisualBlocks };\n\n    var register = function (editor, pluginUrl, enabledState) {\n      editor.addCommand('mceVisualBlocks', function () {\n        VisualBlocks.toggleVisualBlocks(editor, pluginUrl, enabledState);\n      });\n    };\n    var Commands = { register: register };\n\n    var setup = function (editor, pluginUrl, enabledState) {\n      editor.on('PreviewFormats AfterPreviewFormats', function (e) {\n        if (enabledState.get()) {\n          editor.dom.toggleClass(editor.getBody(), 'mce-visualblocks', e.type === 'afterpreviewformats');\n        }\n      });\n      editor.on('init', function () {\n        if (Settings.isEnabledByDefault(editor)) {\n          VisualBlocks.toggleVisualBlocks(editor, pluginUrl, enabledState);\n        }\n      });\n      editor.on('remove', function () {\n        editor.dom.removeClass(editor.getBody(), 'mce-visualblocks');\n      });\n    };\n    var Bindings = { setup: setup };\n\n    var toggleActiveState = function (editor, enabledState) {\n      return function (e) {\n        var ctrl = e.control;\n        ctrl.active(enabledState.get());\n        editor.on('VisualBlocks', function (e) {\n          ctrl.active(e.state);\n        });\n      };\n    };\n    var register$1 = function (editor, enabledState) {\n      editor.addButton('visualblocks', {\n        active: false,\n        title: 'Show blocks',\n        cmd: 'mceVisualBlocks',\n        onPostRender: toggleActiveState(editor, enabledState)\n      });\n      editor.addMenuItem('visualblocks', {\n        text: 'Show blocks',\n        cmd: 'mceVisualBlocks',\n        onPostRender: toggleActiveState(editor, enabledState),\n        selectable: true,\n        context: 'view',\n        prependToContext: true\n      });\n    };\n    var Buttons = { register: register$1 };\n\n    global.add('visualblocks', function (editor, pluginUrl) {\n      var enabledState = Cell(false);\n      Commands.register(editor, pluginUrl, enabledState);\n      Buttons.register(editor, enabledState);\n      Bindings.setup(editor, pluginUrl, enabledState);\n    });\n    function Plugin () {\n    }\n\n    return Plugin;\n\n}());\n})();\n","// Exports the \"visualchars\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/visualchars')\n//   ES2015:\n//     import 'tinymce/plugins/visualchars'\nrequire('./plugin.js');","(function () {\nvar visualchars = (function (domGlobals) {\n    'use strict';\n\n    var Cell = function (initial) {\n      var value = initial;\n      var get = function () {\n        return value;\n      };\n      var set = function (v) {\n        value = v;\n      };\n      var clone = function () {\n        return Cell(get());\n      };\n      return {\n        get: get,\n        set: set,\n        clone: clone\n      };\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var get = function (toggleState) {\n      var isEnabled = function () {\n        return toggleState.get();\n      };\n      return { isEnabled: isEnabled };\n    };\n    var Api = { get: get };\n\n    var fireVisualChars = function (editor, state) {\n      return editor.fire('VisualChars', { state: state });\n    };\n    var Events = { fireVisualChars: fireVisualChars };\n\n    var noop = function () {\n    };\n    var constant = function (value) {\n      return function () {\n        return value;\n      };\n    };\n    var never = constant(false);\n    var always = constant(true);\n\n    var none = function () {\n      return NONE;\n    };\n    var NONE = function () {\n      var eq = function (o) {\n        return o.isNone();\n      };\n      var call = function (thunk) {\n        return thunk();\n      };\n      var id = function (n) {\n        return n;\n      };\n      var me = {\n        fold: function (n, s) {\n          return n();\n        },\n        is: never,\n        isSome: never,\n        isNone: always,\n        getOr: id,\n        getOrThunk: call,\n        getOrDie: function (msg) {\n          throw new Error(msg || 'error: getOrDie called on none.');\n        },\n        getOrNull: constant(null),\n        getOrUndefined: constant(undefined),\n        or: id,\n        orThunk: call,\n        map: none,\n        each: noop,\n        bind: none,\n        exists: never,\n        forall: always,\n        filter: none,\n        equals: eq,\n        equals_: eq,\n        toArray: function () {\n          return [];\n        },\n        toString: constant('none()')\n      };\n      if (Object.freeze) {\n        Object.freeze(me);\n      }\n      return me;\n    }();\n    var some = function (a) {\n      var constant_a = constant(a);\n      var self = function () {\n        return me;\n      };\n      var bind = function (f) {\n        return f(a);\n      };\n      var me = {\n        fold: function (n, s) {\n          return s(a);\n        },\n        is: function (v) {\n          return a === v;\n        },\n        isSome: always,\n        isNone: never,\n        getOr: constant_a,\n        getOrThunk: constant_a,\n        getOrDie: constant_a,\n        getOrNull: constant_a,\n        getOrUndefined: constant_a,\n        or: self,\n        orThunk: self,\n        map: function (f) {\n          return some(f(a));\n        },\n        each: function (f) {\n          f(a);\n        },\n        bind: bind,\n        exists: bind,\n        forall: bind,\n        filter: function (f) {\n          return f(a) ? me : NONE;\n        },\n        toArray: function () {\n          return [a];\n        },\n        toString: function () {\n          return 'some(' + a + ')';\n        },\n        equals: function (o) {\n          return o.is(a);\n        },\n        equals_: function (o, elementEq) {\n          return o.fold(never, function (b) {\n            return elementEq(a, b);\n          });\n        }\n      };\n      return me;\n    };\n    var from = function (value) {\n      return value === null || value === undefined ? NONE : some(value);\n    };\n    var Option = {\n      some: some,\n      none: none,\n      from: from\n    };\n\n    var typeOf = function (x) {\n      if (x === null) {\n        return 'null';\n      }\n      var t = typeof x;\n      if (t === 'object' && (Array.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'Array')) {\n        return 'array';\n      }\n      if (t === 'object' && (String.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'String')) {\n        return 'string';\n      }\n      return t;\n    };\n    var isType = function (type) {\n      return function (value) {\n        return typeOf(value) === type;\n      };\n    };\n    var isFunction = isType('function');\n\n    var nativeSlice = Array.prototype.slice;\n    var map = function (xs, f) {\n      var len = xs.length;\n      var r = new Array(len);\n      for (var i = 0; i < len; i++) {\n        var x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    var each = function (xs, f) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        f(x, i);\n      }\n    };\n    var from$1 = isFunction(Array.from) ? Array.from : function (x) {\n      return nativeSlice.call(x);\n    };\n\n    var fromHtml = function (html, scope) {\n      var doc = scope || domGlobals.document;\n      var div = doc.createElement('div');\n      div.innerHTML = html;\n      if (!div.hasChildNodes() || div.childNodes.length > 1) {\n        domGlobals.console.error('HTML does not have a single root node', html);\n        throw new Error('HTML must have a single root node');\n      }\n      return fromDom(div.childNodes[0]);\n    };\n    var fromTag = function (tag, scope) {\n      var doc = scope || domGlobals.document;\n      var node = doc.createElement(tag);\n      return fromDom(node);\n    };\n    var fromText = function (text, scope) {\n      var doc = scope || domGlobals.document;\n      var node = doc.createTextNode(text);\n      return fromDom(node);\n    };\n    var fromDom = function (node) {\n      if (node === null || node === undefined) {\n        throw new Error('Node cannot be null or undefined');\n      }\n      return { dom: constant(node) };\n    };\n    var fromPoint = function (docElm, x, y) {\n      var doc = docElm.dom();\n      return Option.from(doc.elementFromPoint(x, y)).map(fromDom);\n    };\n    var Element = {\n      fromHtml: fromHtml,\n      fromTag: fromTag,\n      fromText: fromText,\n      fromDom: fromDom,\n      fromPoint: fromPoint\n    };\n\n    var ATTRIBUTE = domGlobals.Node.ATTRIBUTE_NODE;\n    var CDATA_SECTION = domGlobals.Node.CDATA_SECTION_NODE;\n    var COMMENT = domGlobals.Node.COMMENT_NODE;\n    var DOCUMENT = domGlobals.Node.DOCUMENT_NODE;\n    var DOCUMENT_TYPE = domGlobals.Node.DOCUMENT_TYPE_NODE;\n    var DOCUMENT_FRAGMENT = domGlobals.Node.DOCUMENT_FRAGMENT_NODE;\n    var ELEMENT = domGlobals.Node.ELEMENT_NODE;\n    var TEXT = domGlobals.Node.TEXT_NODE;\n    var PROCESSING_INSTRUCTION = domGlobals.Node.PROCESSING_INSTRUCTION_NODE;\n    var ENTITY_REFERENCE = domGlobals.Node.ENTITY_REFERENCE_NODE;\n    var ENTITY = domGlobals.Node.ENTITY_NODE;\n    var NOTATION = domGlobals.Node.NOTATION_NODE;\n\n    var Global = typeof domGlobals.window !== 'undefined' ? domGlobals.window : Function('return this;')();\n\n    var type = function (element) {\n      return element.dom().nodeType;\n    };\n    var value = function (element) {\n      return element.dom().nodeValue;\n    };\n    var isType$1 = function (t) {\n      return function (element) {\n        return type(element) === t;\n      };\n    };\n    var isText = isType$1(TEXT);\n\n    var charMap = {\n      '\\xA0': 'nbsp',\n      '\\xAD': 'shy'\n    };\n    var charMapToRegExp = function (charMap, global) {\n      var key, regExp = '';\n      for (key in charMap) {\n        regExp += key;\n      }\n      return new RegExp('[' + regExp + ']', global ? 'g' : '');\n    };\n    var charMapToSelector = function (charMap) {\n      var key, selector = '';\n      for (key in charMap) {\n        if (selector) {\n          selector += ',';\n        }\n        selector += 'span.mce-' + charMap[key];\n      }\n      return selector;\n    };\n    var Data = {\n      charMap: charMap,\n      regExp: charMapToRegExp(charMap),\n      regExpGlobal: charMapToRegExp(charMap, true),\n      selector: charMapToSelector(charMap),\n      charMapToRegExp: charMapToRegExp,\n      charMapToSelector: charMapToSelector\n    };\n\n    var wrapCharWithSpan = function (value) {\n      return '<span data-mce-bogus=\"1\" class=\"mce-' + Data.charMap[value] + '\">' + value + '</span>';\n    };\n    var Html = { wrapCharWithSpan: wrapCharWithSpan };\n\n    var isMatch = function (n) {\n      var value$1 = value(n);\n      return isText(n) && value$1 !== undefined && Data.regExp.test(value$1);\n    };\n    var filterDescendants = function (scope, predicate) {\n      var result = [];\n      var dom = scope.dom();\n      var children = map(dom.childNodes, Element.fromDom);\n      each(children, function (x) {\n        if (predicate(x)) {\n          result = result.concat([x]);\n        }\n        result = result.concat(filterDescendants(x, predicate));\n      });\n      return result;\n    };\n    var findParentElm = function (elm, rootElm) {\n      while (elm.parentNode) {\n        if (elm.parentNode === rootElm) {\n          return elm;\n        }\n        elm = elm.parentNode;\n      }\n    };\n    var replaceWithSpans = function (text) {\n      return text.replace(Data.regExpGlobal, Html.wrapCharWithSpan);\n    };\n    var Nodes = {\n      isMatch: isMatch,\n      filterDescendants: filterDescendants,\n      findParentElm: findParentElm,\n      replaceWithSpans: replaceWithSpans\n    };\n\n    var show = function (editor, rootElm) {\n      var node, div;\n      var nodeList = Nodes.filterDescendants(Element.fromDom(rootElm), Nodes.isMatch);\n      each(nodeList, function (n) {\n        var withSpans = Nodes.replaceWithSpans(editor.dom.encode(value(n)));\n        div = editor.dom.create('div', null, withSpans);\n        while (node = div.lastChild) {\n          editor.dom.insertAfter(node, n.dom());\n        }\n        editor.dom.remove(n.dom());\n      });\n    };\n    var hide = function (editor, body) {\n      var nodeList = editor.dom.select(Data.selector, body);\n      each(nodeList, function (node) {\n        editor.dom.remove(node, 1);\n      });\n    };\n    var toggle = function (editor) {\n      var body = editor.getBody();\n      var bookmark = editor.selection.getBookmark();\n      var parentNode = Nodes.findParentElm(editor.selection.getNode(), body);\n      parentNode = parentNode !== undefined ? parentNode : body;\n      hide(editor, parentNode);\n      show(editor, parentNode);\n      editor.selection.moveToBookmark(bookmark);\n    };\n    var VisualChars = {\n      show: show,\n      hide: hide,\n      toggle: toggle\n    };\n\n    var toggleVisualChars = function (editor, toggleState) {\n      var body = editor.getBody();\n      var selection = editor.selection;\n      var bookmark;\n      toggleState.set(!toggleState.get());\n      Events.fireVisualChars(editor, toggleState.get());\n      bookmark = selection.getBookmark();\n      if (toggleState.get() === true) {\n        VisualChars.show(editor, body);\n      } else {\n        VisualChars.hide(editor, body);\n      }\n      selection.moveToBookmark(bookmark);\n    };\n    var Actions = { toggleVisualChars: toggleVisualChars };\n\n    var register = function (editor, toggleState) {\n      editor.addCommand('mceVisualChars', function () {\n        Actions.toggleVisualChars(editor, toggleState);\n      });\n    };\n    var Commands = { register: register };\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.util.Delay');\n\n    var setup = function (editor, toggleState) {\n      var debouncedToggle = global$1.debounce(function () {\n        VisualChars.toggle(editor);\n      }, 300);\n      if (editor.settings.forced_root_block !== false) {\n        editor.on('keydown', function (e) {\n          if (toggleState.get() === true) {\n            e.keyCode === 13 ? VisualChars.toggle(editor) : debouncedToggle();\n          }\n        });\n      }\n    };\n    var Keyboard = { setup: setup };\n\n    var isEnabledByDefault = function (editor) {\n      return editor.getParam('visualchars_default_state', false);\n    };\n    var Settings = { isEnabledByDefault: isEnabledByDefault };\n\n    var setup$1 = function (editor, toggleState) {\n      editor.on('init', function () {\n        var valueForToggling = !Settings.isEnabledByDefault(editor);\n        toggleState.set(valueForToggling);\n        Actions.toggleVisualChars(editor, toggleState);\n      });\n    };\n    var Bindings = { setup: setup$1 };\n\n    var toggleActiveState = function (editor) {\n      return function (e) {\n        var ctrl = e.control;\n        editor.on('VisualChars', function (e) {\n          ctrl.active(e.state);\n        });\n      };\n    };\n    var register$1 = function (editor) {\n      editor.addButton('visualchars', {\n        active: false,\n        title: 'Show invisible characters',\n        cmd: 'mceVisualChars',\n        onPostRender: toggleActiveState(editor)\n      });\n      editor.addMenuItem('visualchars', {\n        text: 'Show invisible characters',\n        cmd: 'mceVisualChars',\n        onPostRender: toggleActiveState(editor),\n        selectable: true,\n        context: 'view',\n        prependToContext: true\n      });\n    };\n\n    global.add('visualchars', function (editor) {\n      var toggleState = Cell(false);\n      Commands.register(editor, toggleState);\n      register$1(editor);\n      Keyboard.setup(editor, toggleState);\n      Bindings.setup(editor, toggleState);\n      return Api.get(toggleState);\n    });\n    function Plugin () {\n    }\n\n    return Plugin;\n\n}(window));\n})();\n","// Exports the \"wordcount\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/wordcount')\n//   ES2015:\n//     import 'tinymce/plugins/wordcount'\nrequire('./plugin.js');","(function () {\nvar wordcount = (function () {\n    'use strict';\n\n    var global = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.dom.TreeWalker');\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.Env');\n\n    var regExps = {\n      aletter: '[A-Za-z\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05F3\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u10a0-\\u10c5\\u10d0-\\u10fa\\u10fc\\u1100-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1a00-\\u1a16\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bc0-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u24B6-\\u24E9\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2d00-\\u2d25\\u2d30-\\u2d65\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005\\u303b\\u303c\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790\\ua791\\ua7a0-\\ua7a9\\ua7fa-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uffa0-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc]',\n      midnumlet: '[-\\'\\\\.\\u2018\\u2019\\u2024\\uFE52\\uFF07\\uFF0E]',\n      midletter: '[:\\xB7\\xB7\\u05F4\\u2027\\uFE13\\uFE55\\uFF1A]',\n      midnum: '[\\xB1+*/,;;\\u0589\\u060C\\u060D\\u066C\\u07F8\\u2044\\uFE10\\uFE14\\uFE50\\uFE54\\uFF0C\\uFF1B]',\n      numeric: '[0-9\\u0660-\\u0669\\u066B\\u06f0-\\u06f9\\u07c0-\\u07c9\\u0966-\\u096f\\u09e6-\\u09ef\\u0a66-\\u0a6f\\u0ae6-\\u0aef\\u0b66-\\u0b6f\\u0be6-\\u0bef\\u0c66-\\u0c6f\\u0ce6-\\u0cef\\u0d66-\\u0d6f\\u0e50-\\u0e59\\u0ed0-\\u0ed9\\u0f20-\\u0f29\\u1040-\\u1049\\u1090-\\u1099\\u17e0-\\u17e9\\u1810-\\u1819\\u1946-\\u194f\\u19d0-\\u19d9\\u1a80-\\u1a89\\u1a90-\\u1a99\\u1b50-\\u1b59\\u1bb0-\\u1bb9\\u1c40-\\u1c49\\u1c50-\\u1c59\\ua620-\\ua629\\ua8d0-\\ua8d9\\ua900-\\ua909\\ua9d0-\\ua9d9\\uaa50-\\uaa59\\uabf0-\\uabf9]',\n      cr: '\\\\r',\n      lf: '\\\\n',\n      newline: '[\\x0B\\f\\x85\\u2028\\u2029]',\n      extend: '[\\u0300-\\u036f\\u0483-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u065f\\u0670\\u06d6-\\u06dc\\u06df-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0859-\\u085b\\u0900-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962\\u0963\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09cb-\\u09cd\\u09d7\\u09e2\\u09e3\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2\\u0ae3\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b62\\u0b63\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0c01-\\u0c03\\u0c3e-\\u0c44\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0c82\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0d02\\u0d03\\u0d3e-\\u0d44\\u0d46-\\u0d48\\u0d4a-\\u0d4d\\u0d57\\u0d62\\u0d63\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9\\u0ebb\\u0ebc\\u0ec8-\\u0ecd\\u0f18\\u0f19\\u0f35\\u0f37\\u0f39\\u0f3e\\u0f3f\\u0f71-\\u0f84\\u0f86\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102b-\\u103e\\u1056-\\u1059\\u105e-\\u1060\\u1062-\\u1064\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f\\u109a-\\u109d\\u135d-\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b6-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u192b\\u1930-\\u193b\\u19b0-\\u19c0\\u19c8\\u19c9\\u1a17-\\u1a1b\\u1a55-\\u1a5e\\u1a60-\\u1a7c\\u1a7f\\u1b00-\\u1b04\\u1b34-\\u1b44\\u1b6b-\\u1b73\\u1b80-\\u1b82\\u1ba1-\\u1baa\\u1be6-\\u1bf3\\u1c24-\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce8\\u1ced\\u1cf2\\u1dc0-\\u1de6\\u1dfc-\\u1dff\\u200c\\u200d\\u20d0-\\u20f0\\u2cef-\\u2cf1\\u2d7f\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua66f-\\uA672\\ua67c\\ua67d\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua823-\\ua827\\ua880\\ua881\\ua8b4-\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua953\\ua980-\\ua983\\ua9b3-\\ua9c0\\uaa29-\\uaa36\\uaa43\\uaa4c\\uaa4d\\uaa7b\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uabe3-\\uabea\\uabec\\uabed\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe26\\uff9e\\uff9f]',\n      format: '[\\xAD\\u0600-\\u0603\\u06DD\\u070F\\u17b4\\u17b5\\u200E\\u200F\\u202A-\\u202E\\u2060-\\u2064\\u206A-\\u206F\\uFEFF\\uFFF9-\\uFFFB]',\n      katakana: '[\\u3031-\\u3035\\u309B\\u309C\\u30A0-\\u30fa\\u30fc-\\u30ff\\u31f0-\\u31ff\\u32D0-\\u32FE\\u3300-\\u3357\\uff66-\\uff9d]',\n      extendnumlet: '[=_\\u203f\\u2040\\u2054\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff3f\\u2200-\\u22FF<>]',\n      punctuation: '[!-#%-*,-\\\\/:;?@\\\\[-\\\\]_{}\\xA1\\xAB\\xB7\\xBB\\xBF;\\xB7\\u055A-\\u055F\\u0589\\u058A\\u05BE\\u05C0\\u05C3\\u05C6\\u05F3\\u05F4\\u0609\\u060A\\u060C\\u060D\\u061B\\u061E\\u061F\\u066A-\\u066D\\u06D4\\u0700-\\u070D\\u07F7-\\u07F9\\u0830-\\u083E\\u085E\\u0964\\u0965\\u0970\\u0DF4\\u0E4F\\u0E5A\\u0E5B\\u0F04-\\u0F12\\u0F3A-\\u0F3D\\u0F85\\u0FD0-\\u0FD4\\u0FD9\\u0FDA\\u104A-\\u104F\\u10FB\\u1361-\\u1368\\u1400\\u166D\\u166E\\u169B\\u169C\\u16EB-\\u16ED\\u1735\\u1736\\u17D4-\\u17D6\\u17D8-\\u17DA\\u1800-\\u180A\\u1944\\u1945\\u1A1E\\u1A1F\\u1AA0-\\u1AA6\\u1AA8-\\u1AAD\\u1B5A-\\u1B60\\u1BFC-\\u1BFF\\u1C3B-\\u1C3F\\u1C7E\\u1C7F\\u1CD3\\u2010-\\u2027\\u2030-\\u2043\\u2045-\\u2051\\u2053-\\u205E\\u207D\\u207E\\u208D\\u208E\\u3008\\u3009\\u2768-\\u2775\\u27C5\\u27C6\\u27E6-\\u27EF\\u2983-\\u2998\\u29D8-\\u29DB\\u29FC\\u29FD\\u2CF9-\\u2CFC\\u2CFE\\u2CFF\\u2D70\\u2E00-\\u2E2E\\u2E30\\u2E31\\u3001-\\u3003\\u3008-\\u3011\\u3014-\\u301F\\u3030\\u303D\\u30A0\\u30FB\\uA4FE\\uA4FF\\uA60D-\\uA60F\\uA673\\uA67E\\uA6F2-\\uA6F7\\uA874-\\uA877\\uA8CE\\uA8CF\\uA8F8-\\uA8FA\\uA92E\\uA92F\\uA95F\\uA9C1-\\uA9CD\\uA9DE\\uA9DF\\uAA5C-\\uAA5F\\uAADE\\uAADF\\uABEB\\uFD3E\\uFD3F\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE61\\uFE63\\uFE68\\uFE6A\\uFE6B\\uFF01-\\uFF03\\uFF05-\\uFF0A\\uFF0C-\\uFF0F\\uFF1A\\uFF1B\\uFF1F\\uFF20\\uFF3B-\\uFF3D\\uff3f\\uFF5B\\uFF5D\\uFF5F-\\uFF65]'\n    };\n    var characterIndices = {\n      ALETTER: 0,\n      MIDNUMLET: 1,\n      MIDLETTER: 2,\n      MIDNUM: 3,\n      NUMERIC: 4,\n      CR: 5,\n      LF: 6,\n      NEWLINE: 7,\n      EXTEND: 8,\n      FORMAT: 9,\n      KATAKANA: 10,\n      EXTENDNUMLET: 11,\n      AT: 12,\n      OTHER: 13\n    };\n    var SETS = [\n      new RegExp(regExps.aletter),\n      new RegExp(regExps.midnumlet),\n      new RegExp(regExps.midletter),\n      new RegExp(regExps.midnum),\n      new RegExp(regExps.numeric),\n      new RegExp(regExps.cr),\n      new RegExp(regExps.lf),\n      new RegExp(regExps.newline),\n      new RegExp(regExps.extend),\n      new RegExp(regExps.format),\n      new RegExp(regExps.katakana),\n      new RegExp(regExps.extendnumlet),\n      new RegExp('@')\n    ];\n    var EMPTY_STRING = '';\n    var PUNCTUATION = new RegExp('^' + regExps.punctuation + '$');\n    var WHITESPACE = /^\\s+$/;\n    var UnicodeData = {\n      characterIndices: characterIndices,\n      SETS: SETS,\n      EMPTY_STRING: EMPTY_STRING,\n      PUNCTUATION: PUNCTUATION,\n      WHITESPACE: WHITESPACE\n    };\n\n    var noop = function () {\n    };\n    var constant = function (value) {\n      return function () {\n        return value;\n      };\n    };\n    var never = constant(false);\n    var always = constant(true);\n\n    var none = function () {\n      return NONE;\n    };\n    var NONE = function () {\n      var eq = function (o) {\n        return o.isNone();\n      };\n      var call = function (thunk) {\n        return thunk();\n      };\n      var id = function (n) {\n        return n;\n      };\n      var me = {\n        fold: function (n, s) {\n          return n();\n        },\n        is: never,\n        isSome: never,\n        isNone: always,\n        getOr: id,\n        getOrThunk: call,\n        getOrDie: function (msg) {\n          throw new Error(msg || 'error: getOrDie called on none.');\n        },\n        getOrNull: constant(null),\n        getOrUndefined: constant(undefined),\n        or: id,\n        orThunk: call,\n        map: none,\n        each: noop,\n        bind: none,\n        exists: never,\n        forall: always,\n        filter: none,\n        equals: eq,\n        equals_: eq,\n        toArray: function () {\n          return [];\n        },\n        toString: constant('none()')\n      };\n      if (Object.freeze) {\n        Object.freeze(me);\n      }\n      return me;\n    }();\n\n    var typeOf = function (x) {\n      if (x === null) {\n        return 'null';\n      }\n      var t = typeof x;\n      if (t === 'object' && (Array.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'Array')) {\n        return 'array';\n      }\n      if (t === 'object' && (String.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'String')) {\n        return 'string';\n      }\n      return t;\n    };\n    var isType = function (type) {\n      return function (value) {\n        return typeOf(value) === type;\n      };\n    };\n    var isFunction = isType('function');\n\n    var nativeSlice = Array.prototype.slice;\n    var map = function (xs, f) {\n      var len = xs.length;\n      var r = new Array(len);\n      for (var i = 0; i < len; i++) {\n        var x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    var from = isFunction(Array.from) ? Array.from : function (x) {\n      return nativeSlice.call(x);\n    };\n\n    var SETS$1 = UnicodeData.SETS;\n    var OTHER = UnicodeData.characterIndices.OTHER;\n    var getType = function (char) {\n      var j, set, type = OTHER;\n      var setsLength = SETS$1.length;\n      for (j = 0; j < setsLength; ++j) {\n        set = SETS$1[j];\n        if (set && set.test(char)) {\n          type = j;\n          break;\n        }\n      }\n      return type;\n    };\n    var memoize = function (func) {\n      var cache = {};\n      return function (char) {\n        if (cache[char]) {\n          return cache[char];\n        } else {\n          var result = func(char);\n          cache[char] = result;\n          return result;\n        }\n      };\n    };\n    var classify = function (string) {\n      var memoized = memoize(getType);\n      return map(string.split(''), memoized);\n    };\n    var StringMapper = { classify: classify };\n\n    var ci = UnicodeData.characterIndices;\n    var isWordBoundary = function (map, index) {\n      var prevType;\n      var type = map[index];\n      var nextType = map[index + 1];\n      var nextNextType;\n      if (index < 0 || index > map.length - 1 && index !== 0) {\n        return false;\n      }\n      if (type === ci.ALETTER && nextType === ci.ALETTER) {\n        return false;\n      }\n      nextNextType = map[index + 2];\n      if (type === ci.ALETTER && (nextType === ci.MIDLETTER || nextType === ci.MIDNUMLET || nextType === ci.AT) && nextNextType === ci.ALETTER) {\n        return false;\n      }\n      prevType = map[index - 1];\n      if ((type === ci.MIDLETTER || type === ci.MIDNUMLET || nextType === ci.AT) && nextType === ci.ALETTER && prevType === ci.ALETTER) {\n        return false;\n      }\n      if ((type === ci.NUMERIC || type === ci.ALETTER) && (nextType === ci.NUMERIC || nextType === ci.ALETTER)) {\n        return false;\n      }\n      if ((type === ci.MIDNUM || type === ci.MIDNUMLET) && nextType === ci.NUMERIC && prevType === ci.NUMERIC) {\n        return false;\n      }\n      if (type === ci.NUMERIC && (nextType === ci.MIDNUM || nextType === ci.MIDNUMLET) && nextNextType === ci.NUMERIC) {\n        return false;\n      }\n      if (type === ci.EXTEND || type === ci.FORMAT || prevType === ci.EXTEND || prevType === ci.FORMAT || nextType === ci.EXTEND || nextType === ci.FORMAT) {\n        return false;\n      }\n      if (type === ci.CR && nextType === ci.LF) {\n        return false;\n      }\n      if (type === ci.NEWLINE || type === ci.CR || type === ci.LF) {\n        return true;\n      }\n      if (nextType === ci.NEWLINE || nextType === ci.CR || nextType === ci.LF) {\n        return true;\n      }\n      if (type === ci.KATAKANA && nextType === ci.KATAKANA) {\n        return false;\n      }\n      if (nextType === ci.EXTENDNUMLET && (type === ci.ALETTER || type === ci.NUMERIC || type === ci.KATAKANA || type === ci.EXTENDNUMLET)) {\n        return false;\n      }\n      if (type === ci.EXTENDNUMLET && (nextType === ci.ALETTER || nextType === ci.NUMERIC || nextType === ci.KATAKANA)) {\n        return false;\n      }\n      if (type === ci.AT) {\n        return false;\n      }\n      return true;\n    };\n    var WordBoundary = { isWordBoundary: isWordBoundary };\n\n    var EMPTY_STRING$1 = UnicodeData.EMPTY_STRING;\n    var WHITESPACE$1 = UnicodeData.WHITESPACE;\n    var PUNCTUATION$1 = UnicodeData.PUNCTUATION;\n    var isProtocol = function (word) {\n      return word === 'http' || word === 'https';\n    };\n    var findWordEnd = function (str, index) {\n      var i;\n      for (i = index; i < str.length; ++i) {\n        var chr = str.charAt(i);\n        if (WHITESPACE$1.test(chr)) {\n          break;\n        }\n      }\n      return i;\n    };\n    var extractUrl = function (word, str, index) {\n      var endIndex = findWordEnd(str, index + 1);\n      var peakedWord = str.substring(index + 1, endIndex);\n      if (peakedWord.substr(0, 3) === '://') {\n        return {\n          word: word + peakedWord,\n          index: endIndex\n        };\n      }\n      return {\n        word: word,\n        index: index\n      };\n    };\n    var doGetWords = function (str, options) {\n      var i = 0;\n      var map = StringMapper.classify(str);\n      var len = map.length;\n      var word = [];\n      var words = [];\n      var chr;\n      var includePunctuation;\n      var includeWhitespace;\n      if (!options) {\n        options = {};\n      }\n      if (options.ignoreCase) {\n        str = str.toLowerCase();\n      }\n      includePunctuation = options.includePunctuation;\n      includeWhitespace = options.includeWhitespace;\n      for (; i < len; ++i) {\n        chr = str.charAt(i);\n        word.push(chr);\n        if (WordBoundary.isWordBoundary(map, i)) {\n          word = word.join(EMPTY_STRING$1);\n          if (word && (includeWhitespace || !WHITESPACE$1.test(word)) && (includePunctuation || !PUNCTUATION$1.test(word))) {\n            if (isProtocol(word)) {\n              var obj = extractUrl(word, str, i);\n              words.push(obj.word);\n              i = obj.index;\n            } else {\n              words.push(word);\n            }\n          }\n          word = [];\n        }\n      }\n      return words;\n    };\n    var getWords = function (str, options) {\n      return doGetWords(str.replace(/\\ufeff/g, ''), options);\n    };\n    var WordGetter = { getWords: getWords };\n\n    var getText = function (node, schema) {\n      var blockElements = schema.getBlockElements();\n      var shortEndedElements = schema.getShortEndedElements();\n      var whiteSpaceElements = schema.getWhiteSpaceElements();\n      var isSeparator = function (node) {\n        return blockElements[node.nodeName] || shortEndedElements[node.nodeName] || whiteSpaceElements[node.nodeName];\n      };\n      var txt = '';\n      var treeWalker = new global$1(node, node);\n      while (node = treeWalker.next()) {\n        if (node.nodeType === 3) {\n          txt += node.data;\n        } else if (isSeparator(node)) {\n          txt += ' ';\n        }\n      }\n      return txt;\n    };\n    var innerText = function (node, schema) {\n      return global$2.ie ? getText(node, schema) : node.innerText;\n    };\n    var getTextContent = function (editor) {\n      return editor.removed ? '' : innerText(editor.getBody(), editor.schema);\n    };\n    var getCount = function (editor) {\n      return WordGetter.getWords(getTextContent(editor)).length;\n    };\n    var WordCount = { getCount: getCount };\n\n    var get = function (editor) {\n      var getCount = function () {\n        return WordCount.getCount(editor);\n      };\n      return { getCount: getCount };\n    };\n    var Api = { get: get };\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.util.Delay');\n\n    var global$4 = tinymce.util.Tools.resolve('tinymce.util.I18n');\n\n    var setup = function (editor) {\n      var wordsToText = function (editor) {\n        return global$4.translate([\n          '{0} words',\n          WordCount.getCount(editor)\n        ]);\n      };\n      var update = function () {\n        editor.theme.panel.find('#wordcount').text(wordsToText(editor));\n      };\n      editor.on('init', function () {\n        var statusbar = editor.theme.panel && editor.theme.panel.find('#statusbar')[0];\n        var debouncedUpdate = global$3.debounce(update, 300);\n        if (statusbar) {\n          global$3.setEditorTimeout(editor, function () {\n            statusbar.insert({\n              type: 'label',\n              name: 'wordcount',\n              text: wordsToText(editor),\n              classes: 'wordcount',\n              disabled: editor.settings.readonly\n            }, 0);\n            editor.on('setcontent beforeaddundo undo redo keyup', debouncedUpdate);\n          }, 0);\n        }\n      });\n    };\n    var Statusbar = { setup: setup };\n\n    global.add('wordcount', function (editor) {\n      Statusbar.setup(editor);\n      return Api.get(editor);\n    });\n    function Plugin () {\n    }\n\n    return Plugin;\n\n}());\n})();\n","(function () {\nvar modern = (function (domGlobals) {\n    'use strict';\n\n    var global = tinymce.util.Tools.resolve('tinymce.ThemeManager');\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.EditorManager');\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var isBrandingEnabled = function (editor) {\n      return editor.getParam('branding', true, 'boolean');\n    };\n    var hasMenubar = function (editor) {\n      return getMenubar(editor) !== false;\n    };\n    var getMenubar = function (editor) {\n      return editor.getParam('menubar');\n    };\n    var hasStatusbar = function (editor) {\n      return editor.getParam('statusbar', true, 'boolean');\n    };\n    var getToolbarSize = function (editor) {\n      return editor.getParam('toolbar_items_size');\n    };\n    var isReadOnly = function (editor) {\n      return editor.getParam('readonly', false, 'boolean');\n    };\n    var getFixedToolbarContainer = function (editor) {\n      return editor.getParam('fixed_toolbar_container');\n    };\n    var getInlineToolbarPositionHandler = function (editor) {\n      return editor.getParam('inline_toolbar_position_handler');\n    };\n    var getMenu = function (editor) {\n      return editor.getParam('menu');\n    };\n    var getRemovedMenuItems = function (editor) {\n      return editor.getParam('removed_menuitems', '');\n    };\n    var getMinWidth = function (editor) {\n      return editor.getParam('min_width', 100, 'number');\n    };\n    var getMinHeight = function (editor) {\n      return editor.getParam('min_height', 100, 'number');\n    };\n    var getMaxWidth = function (editor) {\n      return editor.getParam('max_width', 65535, 'number');\n    };\n    var getMaxHeight = function (editor) {\n      return editor.getParam('max_height', 65535, 'number');\n    };\n    var isSkinDisabled = function (editor) {\n      return editor.settings.skin === false;\n    };\n    var isInline = function (editor) {\n      return editor.getParam('inline', false, 'boolean');\n    };\n    var getResize = function (editor) {\n      var resize = editor.getParam('resize', 'vertical');\n      if (resize === false) {\n        return 'none';\n      } else if (resize === 'both') {\n        return 'both';\n      } else {\n        return 'vertical';\n      }\n    };\n    var getSkinUrl = function (editor) {\n      var settings = editor.settings;\n      var skin = settings.skin;\n      var skinUrl = settings.skin_url;\n      if (skin !== false) {\n        var skinName = skin ? skin : 'lightgray';\n        if (skinUrl) {\n          skinUrl = editor.documentBaseURI.toAbsolute(skinUrl);\n        } else {\n          skinUrl = global$1.baseURL + '/skins/' + skinName;\n        }\n      }\n      return skinUrl;\n    };\n    var getIndexedToolbars = function (settings, defaultToolbar) {\n      var toolbars = [];\n      for (var i = 1; i < 10; i++) {\n        var toolbar = settings['toolbar' + i];\n        if (!toolbar) {\n          break;\n        }\n        toolbars.push(toolbar);\n      }\n      var mainToolbar = settings.toolbar ? [settings.toolbar] : [defaultToolbar];\n      return toolbars.length > 0 ? toolbars : mainToolbar;\n    };\n    var getToolbars = function (editor) {\n      var toolbar = editor.getParam('toolbar');\n      var defaultToolbar = 'undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image';\n      if (toolbar === false) {\n        return [];\n      } else if (global$2.isArray(toolbar)) {\n        return global$2.grep(toolbar, function (toolbar) {\n          return toolbar.length > 0;\n        });\n      } else {\n        return getIndexedToolbars(editor.settings, defaultToolbar);\n      }\n    };\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');\n\n    var global$4 = tinymce.util.Tools.resolve('tinymce.ui.Factory');\n\n    var global$5 = tinymce.util.Tools.resolve('tinymce.util.I18n');\n\n    var fireSkinLoaded = function (editor) {\n      return editor.fire('SkinLoaded');\n    };\n    var fireResizeEditor = function (editor) {\n      return editor.fire('ResizeEditor');\n    };\n    var fireBeforeRenderUI = function (editor) {\n      return editor.fire('BeforeRenderUI');\n    };\n    var Events = {\n      fireSkinLoaded: fireSkinLoaded,\n      fireResizeEditor: fireResizeEditor,\n      fireBeforeRenderUI: fireBeforeRenderUI\n    };\n\n    var focus = function (panel, type) {\n      return function () {\n        var item = panel.find(type)[0];\n        if (item) {\n          item.focus(true);\n        }\n      };\n    };\n    var addKeys = function (editor, panel) {\n      editor.shortcuts.add('Alt+F9', '', focus(panel, 'menubar'));\n      editor.shortcuts.add('Alt+F10,F10', '', focus(panel, 'toolbar'));\n      editor.shortcuts.add('Alt+F11', '', focus(panel, 'elementpath'));\n      panel.on('cancel', function () {\n        editor.focus();\n      });\n    };\n    var A11y = { addKeys: addKeys };\n\n    var global$6 = tinymce.util.Tools.resolve('tinymce.geom.Rect');\n\n    var global$7 = tinymce.util.Tools.resolve('tinymce.util.Delay');\n\n    var noop = function () {\n    };\n    var constant = function (value) {\n      return function () {\n        return value;\n      };\n    };\n    var never = constant(false);\n    var always = constant(true);\n\n    var none = function () {\n      return NONE;\n    };\n    var NONE = function () {\n      var eq = function (o) {\n        return o.isNone();\n      };\n      var call = function (thunk) {\n        return thunk();\n      };\n      var id = function (n) {\n        return n;\n      };\n      var me = {\n        fold: function (n, s) {\n          return n();\n        },\n        is: never,\n        isSome: never,\n        isNone: always,\n        getOr: id,\n        getOrThunk: call,\n        getOrDie: function (msg) {\n          throw new Error(msg || 'error: getOrDie called on none.');\n        },\n        getOrNull: constant(null),\n        getOrUndefined: constant(undefined),\n        or: id,\n        orThunk: call,\n        map: none,\n        each: noop,\n        bind: none,\n        exists: never,\n        forall: always,\n        filter: none,\n        equals: eq,\n        equals_: eq,\n        toArray: function () {\n          return [];\n        },\n        toString: constant('none()')\n      };\n      if (Object.freeze) {\n        Object.freeze(me);\n      }\n      return me;\n    }();\n    var some = function (a) {\n      var constant_a = constant(a);\n      var self = function () {\n        return me;\n      };\n      var bind = function (f) {\n        return f(a);\n      };\n      var me = {\n        fold: function (n, s) {\n          return s(a);\n        },\n        is: function (v) {\n          return a === v;\n        },\n        isSome: always,\n        isNone: never,\n        getOr: constant_a,\n        getOrThunk: constant_a,\n        getOrDie: constant_a,\n        getOrNull: constant_a,\n        getOrUndefined: constant_a,\n        or: self,\n        orThunk: self,\n        map: function (f) {\n          return some(f(a));\n        },\n        each: function (f) {\n          f(a);\n        },\n        bind: bind,\n        exists: bind,\n        forall: bind,\n        filter: function (f) {\n          return f(a) ? me : NONE;\n        },\n        toArray: function () {\n          return [a];\n        },\n        toString: function () {\n          return 'some(' + a + ')';\n        },\n        equals: function (o) {\n          return o.is(a);\n        },\n        equals_: function (o, elementEq) {\n          return o.fold(never, function (b) {\n            return elementEq(a, b);\n          });\n        }\n      };\n      return me;\n    };\n    var from = function (value) {\n      return value === null || value === undefined ? NONE : some(value);\n    };\n    var Option = {\n      some: some,\n      none: none,\n      from: from\n    };\n\n    var getUiContainerDelta = function (ctrl) {\n      var uiContainer = getUiContainer(ctrl);\n      if (uiContainer && global$3.DOM.getStyle(uiContainer, 'position', true) !== 'static') {\n        var containerPos = global$3.DOM.getPos(uiContainer);\n        var dx = uiContainer.scrollLeft - containerPos.x;\n        var dy = uiContainer.scrollTop - containerPos.y;\n        return Option.some({\n          x: dx,\n          y: dy\n        });\n      } else {\n        return Option.none();\n      }\n    };\n    var setUiContainer = function (editor, ctrl) {\n      var uiContainer = global$3.DOM.select(editor.settings.ui_container)[0];\n      ctrl.getRoot().uiContainer = uiContainer;\n    };\n    var getUiContainer = function (ctrl) {\n      return ctrl ? ctrl.getRoot().uiContainer : null;\n    };\n    var inheritUiContainer = function (fromCtrl, toCtrl) {\n      return toCtrl.uiContainer = getUiContainer(fromCtrl);\n    };\n    var UiContainer = {\n      getUiContainerDelta: getUiContainerDelta,\n      setUiContainer: setUiContainer,\n      getUiContainer: getUiContainer,\n      inheritUiContainer: inheritUiContainer\n    };\n\n    var createToolbar = function (editor, items, size) {\n      var toolbarItems = [];\n      var buttonGroup;\n      if (!items) {\n        return;\n      }\n      global$2.each(items.split(/[ ,]/), function (item) {\n        var itemName;\n        var bindSelectorChanged = function () {\n          var selection = editor.selection;\n          if (item.settings.stateSelector) {\n            selection.selectorChanged(item.settings.stateSelector, function (state) {\n              item.active(state);\n            }, true);\n          }\n          if (item.settings.disabledStateSelector) {\n            selection.selectorChanged(item.settings.disabledStateSelector, function (state) {\n              item.disabled(state);\n            });\n          }\n        };\n        if (item === '|') {\n          buttonGroup = null;\n        } else {\n          if (!buttonGroup) {\n            buttonGroup = {\n              type: 'buttongroup',\n              items: []\n            };\n            toolbarItems.push(buttonGroup);\n          }\n          if (editor.buttons[item]) {\n            itemName = item;\n            item = editor.buttons[itemName];\n            if (typeof item === 'function') {\n              item = item();\n            }\n            item.type = item.type || 'button';\n            item.size = size;\n            item = global$4.create(item);\n            buttonGroup.items.push(item);\n            if (editor.initialized) {\n              bindSelectorChanged();\n            } else {\n              editor.on('init', bindSelectorChanged);\n            }\n          }\n        }\n      });\n      return {\n        type: 'toolbar',\n        layout: 'flow',\n        items: toolbarItems\n      };\n    };\n    var createToolbars = function (editor, size) {\n      var toolbars = [];\n      var addToolbar = function (items) {\n        if (items) {\n          toolbars.push(createToolbar(editor, items, size));\n        }\n      };\n      global$2.each(getToolbars(editor), function (toolbar) {\n        addToolbar(toolbar);\n      });\n      if (toolbars.length) {\n        return {\n          type: 'panel',\n          layout: 'stack',\n          classes: 'toolbar-grp',\n          ariaRoot: true,\n          ariaRemember: true,\n          items: toolbars\n        };\n      }\n    };\n    var Toolbar = {\n      createToolbar: createToolbar,\n      createToolbars: createToolbars\n    };\n\n    var DOM = global$3.DOM;\n    var toClientRect = function (geomRect) {\n      return {\n        left: geomRect.x,\n        top: geomRect.y,\n        width: geomRect.w,\n        height: geomRect.h,\n        right: geomRect.x + geomRect.w,\n        bottom: geomRect.y + geomRect.h\n      };\n    };\n    var hideAllFloatingPanels = function (editor) {\n      global$2.each(editor.contextToolbars, function (toolbar) {\n        if (toolbar.panel) {\n          toolbar.panel.hide();\n        }\n      });\n    };\n    var movePanelTo = function (panel, pos) {\n      panel.moveTo(pos.left, pos.top);\n    };\n    var togglePositionClass = function (panel, relPos, predicate) {\n      relPos = relPos ? relPos.substr(0, 2) : '';\n      global$2.each({\n        t: 'down',\n        b: 'up'\n      }, function (cls, pos) {\n        panel.classes.toggle('arrow-' + cls, predicate(pos, relPos.substr(0, 1)));\n      });\n      global$2.each({\n        l: 'left',\n        r: 'right'\n      }, function (cls, pos) {\n        panel.classes.toggle('arrow-' + cls, predicate(pos, relPos.substr(1, 1)));\n      });\n    };\n    var userConstrain = function (handler, x, y, elementRect, contentAreaRect, panelRect) {\n      panelRect = toClientRect({\n        x: x,\n        y: y,\n        w: panelRect.w,\n        h: panelRect.h\n      });\n      if (handler) {\n        panelRect = handler({\n          elementRect: toClientRect(elementRect),\n          contentAreaRect: toClientRect(contentAreaRect),\n          panelRect: panelRect\n        });\n      }\n      return panelRect;\n    };\n    var addContextualToolbars = function (editor) {\n      var scrollContainer;\n      var getContextToolbars = function () {\n        return editor.contextToolbars || [];\n      };\n      var getElementRect = function (elm) {\n        var pos, targetRect, root;\n        pos = DOM.getPos(editor.getContentAreaContainer());\n        targetRect = editor.dom.getRect(elm);\n        root = editor.dom.getRoot();\n        if (root.nodeName === 'BODY') {\n          targetRect.x -= root.ownerDocument.documentElement.scrollLeft || root.scrollLeft;\n          targetRect.y -= root.ownerDocument.documentElement.scrollTop || root.scrollTop;\n        }\n        targetRect.x += pos.x;\n        targetRect.y += pos.y;\n        return targetRect;\n      };\n      var reposition = function (match, shouldShow) {\n        var relPos, panelRect, elementRect, contentAreaRect, panel, relRect, testPositions, smallElementWidthThreshold;\n        var handler = getInlineToolbarPositionHandler(editor);\n        if (editor.removed) {\n          return;\n        }\n        if (!match || !match.toolbar.panel) {\n          hideAllFloatingPanels(editor);\n          return;\n        }\n        testPositions = [\n          'bc-tc',\n          'tc-bc',\n          'tl-bl',\n          'bl-tl',\n          'tr-br',\n          'br-tr'\n        ];\n        panel = match.toolbar.panel;\n        if (shouldShow) {\n          panel.show();\n        }\n        elementRect = getElementRect(match.element);\n        panelRect = DOM.getRect(panel.getEl());\n        contentAreaRect = DOM.getRect(editor.getContentAreaContainer() || editor.getBody());\n        var delta = UiContainer.getUiContainerDelta(panel).getOr({\n          x: 0,\n          y: 0\n        });\n        elementRect.x += delta.x;\n        elementRect.y += delta.y;\n        panelRect.x += delta.x;\n        panelRect.y += delta.y;\n        contentAreaRect.x += delta.x;\n        contentAreaRect.y += delta.y;\n        smallElementWidthThreshold = 25;\n        if (DOM.getStyle(match.element, 'display', true) !== 'inline') {\n          var clientRect = match.element.getBoundingClientRect();\n          elementRect.w = clientRect.width;\n          elementRect.h = clientRect.height;\n        }\n        if (!editor.inline) {\n          contentAreaRect.w = editor.getDoc().documentElement.offsetWidth;\n        }\n        if (editor.selection.controlSelection.isResizable(match.element) && elementRect.w < smallElementWidthThreshold) {\n          elementRect = global$6.inflate(elementRect, 0, 8);\n        }\n        relPos = global$6.findBestRelativePosition(panelRect, elementRect, contentAreaRect, testPositions);\n        elementRect = global$6.clamp(elementRect, contentAreaRect);\n        if (relPos) {\n          relRect = global$6.relativePosition(panelRect, elementRect, relPos);\n          movePanelTo(panel, userConstrain(handler, relRect.x, relRect.y, elementRect, contentAreaRect, panelRect));\n        } else {\n          contentAreaRect.h += panelRect.h;\n          elementRect = global$6.intersect(contentAreaRect, elementRect);\n          if (elementRect) {\n            relPos = global$6.findBestRelativePosition(panelRect, elementRect, contentAreaRect, [\n              'bc-tc',\n              'bl-tl',\n              'br-tr'\n            ]);\n            if (relPos) {\n              relRect = global$6.relativePosition(panelRect, elementRect, relPos);\n              movePanelTo(panel, userConstrain(handler, relRect.x, relRect.y, elementRect, contentAreaRect, panelRect));\n            } else {\n              movePanelTo(panel, userConstrain(handler, elementRect.x, elementRect.y, elementRect, contentAreaRect, panelRect));\n            }\n          } else {\n            panel.hide();\n          }\n        }\n        togglePositionClass(panel, relPos, function (pos1, pos2) {\n          return pos1 === pos2;\n        });\n      };\n      var repositionHandler = function (show) {\n        return function () {\n          var execute = function () {\n            if (editor.selection) {\n              reposition(findFrontMostMatch(editor.selection.getNode()), show);\n            }\n          };\n          global$7.requestAnimationFrame(execute);\n        };\n      };\n      var bindScrollEvent = function (panel) {\n        if (!scrollContainer) {\n          var reposition_1 = repositionHandler(true);\n          var uiContainer_1 = UiContainer.getUiContainer(panel);\n          scrollContainer = editor.selection.getScrollContainer() || editor.getWin();\n          DOM.bind(scrollContainer, 'scroll', reposition_1);\n          DOM.bind(uiContainer_1, 'scroll', reposition_1);\n          editor.on('remove', function () {\n            DOM.unbind(scrollContainer, 'scroll', reposition_1);\n            DOM.unbind(uiContainer_1, 'scroll', reposition_1);\n          });\n        }\n      };\n      var showContextToolbar = function (match) {\n        var panel;\n        if (match.toolbar.panel) {\n          match.toolbar.panel.show();\n          reposition(match);\n          return;\n        }\n        panel = global$4.create({\n          type: 'floatpanel',\n          role: 'dialog',\n          classes: 'tinymce tinymce-inline arrow',\n          ariaLabel: 'Inline toolbar',\n          layout: 'flex',\n          direction: 'column',\n          align: 'stretch',\n          autohide: false,\n          autofix: true,\n          fixed: true,\n          border: 1,\n          items: Toolbar.createToolbar(editor, match.toolbar.items),\n          oncancel: function () {\n            editor.focus();\n          }\n        });\n        UiContainer.setUiContainer(editor, panel);\n        bindScrollEvent(panel);\n        match.toolbar.panel = panel;\n        panel.renderTo().reflow();\n        reposition(match);\n      };\n      var hideAllContextToolbars = function () {\n        global$2.each(getContextToolbars(), function (toolbar) {\n          if (toolbar.panel) {\n            toolbar.panel.hide();\n          }\n        });\n      };\n      var findFrontMostMatch = function (targetElm) {\n        var i, y, parentsAndSelf;\n        var toolbars = getContextToolbars();\n        parentsAndSelf = editor.$(targetElm).parents().add(targetElm);\n        for (i = parentsAndSelf.length - 1; i >= 0; i--) {\n          for (y = toolbars.length - 1; y >= 0; y--) {\n            if (toolbars[y].predicate(parentsAndSelf[i])) {\n              return {\n                toolbar: toolbars[y],\n                element: parentsAndSelf[i]\n              };\n            }\n          }\n        }\n        return null;\n      };\n      editor.on('click keyup setContent ObjectResized', function (e) {\n        if (e.type === 'setcontent' && !e.selection) {\n          return;\n        }\n        global$7.setEditorTimeout(editor, function () {\n          var match;\n          match = findFrontMostMatch(editor.selection.getNode());\n          if (match) {\n            hideAllContextToolbars();\n            showContextToolbar(match);\n          } else {\n            hideAllContextToolbars();\n          }\n        });\n      });\n      editor.on('blur hide contextmenu', hideAllContextToolbars);\n      editor.on('ObjectResizeStart', function () {\n        var match = findFrontMostMatch(editor.selection.getNode());\n        if (match && match.toolbar.panel) {\n          match.toolbar.panel.hide();\n        }\n      });\n      editor.on('ResizeEditor ResizeWindow', repositionHandler(true));\n      editor.on('nodeChange', repositionHandler(false));\n      editor.on('remove', function () {\n        global$2.each(getContextToolbars(), function (toolbar) {\n          if (toolbar.panel) {\n            toolbar.panel.remove();\n          }\n        });\n        editor.contextToolbars = {};\n      });\n      editor.shortcuts.add('ctrl+F9', '', function () {\n        var match = findFrontMostMatch(editor.selection.getNode());\n        if (match && match.toolbar.panel) {\n          match.toolbar.panel.items()[0].focus();\n        }\n      });\n    };\n    var ContextToolbars = { addContextualToolbars: addContextualToolbars };\n\n    var typeOf = function (x) {\n      if (x === null) {\n        return 'null';\n      }\n      var t = typeof x;\n      if (t === 'object' && (Array.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'Array')) {\n        return 'array';\n      }\n      if (t === 'object' && (String.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'String')) {\n        return 'string';\n      }\n      return t;\n    };\n    var isType = function (type) {\n      return function (value) {\n        return typeOf(value) === type;\n      };\n    };\n    var isArray = isType('array');\n    var isFunction = isType('function');\n    var isNumber = isType('number');\n\n    var nativeSlice = Array.prototype.slice;\n    var nativeIndexOf = Array.prototype.indexOf;\n    var nativePush = Array.prototype.push;\n    var rawIndexOf = function (ts, t) {\n      return nativeIndexOf.call(ts, t);\n    };\n    var indexOf = function (xs, x) {\n      var r = rawIndexOf(xs, x);\n      return r === -1 ? Option.none() : Option.some(r);\n    };\n    var exists = function (xs, pred) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          return true;\n        }\n      }\n      return false;\n    };\n    var map = function (xs, f) {\n      var len = xs.length;\n      var r = new Array(len);\n      for (var i = 0; i < len; i++) {\n        var x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    var each = function (xs, f) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        f(x, i);\n      }\n    };\n    var filter = function (xs, pred) {\n      var r = [];\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          r.push(x);\n        }\n      }\n      return r;\n    };\n    var foldl = function (xs, f, acc) {\n      each(xs, function (x) {\n        acc = f(acc, x);\n      });\n      return acc;\n    };\n    var find = function (xs, pred) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          return Option.some(x);\n        }\n      }\n      return Option.none();\n    };\n    var findIndex = function (xs, pred) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          return Option.some(i);\n        }\n      }\n      return Option.none();\n    };\n    var flatten = function (xs) {\n      var r = [];\n      for (var i = 0, len = xs.length; i < len; ++i) {\n        if (!isArray(xs[i])) {\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        }\n        nativePush.apply(r, xs[i]);\n      }\n      return r;\n    };\n    var from$1 = isFunction(Array.from) ? Array.from : function (x) {\n      return nativeSlice.call(x);\n    };\n\n    var defaultMenus = {\n      file: {\n        title: 'File',\n        items: 'newdocument restoredraft | preview | print'\n      },\n      edit: {\n        title: 'Edit',\n        items: 'undo redo | cut copy paste pastetext | selectall'\n      },\n      view: {\n        title: 'View',\n        items: 'code | visualaid visualchars visualblocks | spellchecker | preview fullscreen'\n      },\n      insert: {\n        title: 'Insert',\n        items: 'image link media template codesample inserttable | charmap hr | pagebreak nonbreaking anchor toc | insertdatetime'\n      },\n      format: {\n        title: 'Format',\n        items: 'bold italic underline strikethrough superscript subscript codeformat | blockformats align | removeformat'\n      },\n      tools: {\n        title: 'Tools',\n        items: 'spellchecker spellcheckerlanguage | a11ycheck code'\n      },\n      table: { title: 'Table' },\n      help: { title: 'Help' }\n    };\n    var delimiterMenuNamePair = function () {\n      return {\n        name: '|',\n        item: { text: '|' }\n      };\n    };\n    var createMenuNameItemPair = function (name, item) {\n      var menuItem = item ? {\n        name: name,\n        item: item\n      } : null;\n      return name === '|' ? delimiterMenuNamePair() : menuItem;\n    };\n    var hasItemName = function (namedMenuItems, name) {\n      return findIndex(namedMenuItems, function (namedMenuItem) {\n        return namedMenuItem.name === name;\n      }).isSome();\n    };\n    var isSeparator = function (namedMenuItem) {\n      return namedMenuItem && namedMenuItem.item.text === '|';\n    };\n    var cleanupMenu = function (namedMenuItems, removedMenuItems) {\n      var menuItemsPass1 = filter(namedMenuItems, function (namedMenuItem) {\n        return removedMenuItems.hasOwnProperty(namedMenuItem.name) === false;\n      });\n      var menuItemsPass2 = filter(menuItemsPass1, function (namedMenuItem, i) {\n        return !isSeparator(namedMenuItem) || !isSeparator(menuItemsPass1[i - 1]);\n      });\n      return filter(menuItemsPass2, function (namedMenuItem, i) {\n        return !isSeparator(namedMenuItem) || i > 0 && i < menuItemsPass2.length - 1;\n      });\n    };\n    var createMenu = function (editorMenuItems, menus, removedMenuItems, context) {\n      var menuButton, menu, namedMenuItems, isUserDefined;\n      if (menus) {\n        menu = menus[context];\n        isUserDefined = true;\n      } else {\n        menu = defaultMenus[context];\n      }\n      if (menu) {\n        menuButton = { text: menu.title };\n        namedMenuItems = [];\n        global$2.each((menu.items || '').split(/[ ,]/), function (name) {\n          var namedMenuItem = createMenuNameItemPair(name, editorMenuItems[name]);\n          if (namedMenuItem) {\n            namedMenuItems.push(namedMenuItem);\n          }\n        });\n        if (!isUserDefined) {\n          global$2.each(editorMenuItems, function (item, name) {\n            if (item.context === context && !hasItemName(namedMenuItems, name)) {\n              if (item.separator === 'before') {\n                namedMenuItems.push(delimiterMenuNamePair());\n              }\n              if (item.prependToContext) {\n                namedMenuItems.unshift(createMenuNameItemPair(name, item));\n              } else {\n                namedMenuItems.push(createMenuNameItemPair(name, item));\n              }\n              if (item.separator === 'after') {\n                namedMenuItems.push(delimiterMenuNamePair());\n              }\n            }\n          });\n        }\n        menuButton.menu = map(cleanupMenu(namedMenuItems, removedMenuItems), function (menuItem) {\n          return menuItem.item;\n        });\n        if (!menuButton.menu.length) {\n          return null;\n        }\n      }\n      return menuButton;\n    };\n    var getDefaultMenubar = function (editor) {\n      var name;\n      var defaultMenuBar = [];\n      var menu = getMenu(editor);\n      if (menu) {\n        for (name in menu) {\n          defaultMenuBar.push(name);\n        }\n      } else {\n        for (name in defaultMenus) {\n          defaultMenuBar.push(name);\n        }\n      }\n      return defaultMenuBar;\n    };\n    var createMenuButtons = function (editor) {\n      var menuButtons = [];\n      var defaultMenuBar = getDefaultMenubar(editor);\n      var removedMenuItems = global$2.makeMap(getRemovedMenuItems(editor).split(/[ ,]/));\n      var menubar = getMenubar(editor);\n      var enabledMenuNames = typeof menubar === 'string' ? menubar.split(/[ ,]/) : defaultMenuBar;\n      for (var i = 0; i < enabledMenuNames.length; i++) {\n        var menuItems = enabledMenuNames[i];\n        var menu = createMenu(editor.menuItems, getMenu(editor), removedMenuItems, menuItems);\n        if (menu) {\n          menuButtons.push(menu);\n        }\n      }\n      return menuButtons;\n    };\n    var Menubar = { createMenuButtons: createMenuButtons };\n\n    var DOM$1 = global$3.DOM;\n    var getSize = function (elm) {\n      return {\n        width: elm.clientWidth,\n        height: elm.clientHeight\n      };\n    };\n    var resizeTo = function (editor, width, height) {\n      var containerElm, iframeElm, containerSize, iframeSize;\n      containerElm = editor.getContainer();\n      iframeElm = editor.getContentAreaContainer().firstChild;\n      containerSize = getSize(containerElm);\n      iframeSize = getSize(iframeElm);\n      if (width !== null) {\n        width = Math.max(getMinWidth(editor), width);\n        width = Math.min(getMaxWidth(editor), width);\n        DOM$1.setStyle(containerElm, 'width', width + (containerSize.width - iframeSize.width));\n        DOM$1.setStyle(iframeElm, 'width', width);\n      }\n      height = Math.max(getMinHeight(editor), height);\n      height = Math.min(getMaxHeight(editor), height);\n      DOM$1.setStyle(iframeElm, 'height', height);\n      Events.fireResizeEditor(editor);\n    };\n    var resizeBy = function (editor, dw, dh) {\n      var elm = editor.getContentAreaContainer();\n      resizeTo(editor, elm.clientWidth + dw, elm.clientHeight + dh);\n    };\n    var Resize = {\n      resizeTo: resizeTo,\n      resizeBy: resizeBy\n    };\n\n    var global$8 = tinymce.util.Tools.resolve('tinymce.Env');\n\n    var api = function (elm) {\n      return {\n        element: function () {\n          return elm;\n        }\n      };\n    };\n    var trigger = function (sidebar, panel, callbackName) {\n      var callback = sidebar.settings[callbackName];\n      if (callback) {\n        callback(api(panel.getEl('body')));\n      }\n    };\n    var hidePanels = function (name, container, sidebars) {\n      global$2.each(sidebars, function (sidebar) {\n        var panel = container.items().filter('#' + sidebar.name)[0];\n        if (panel && panel.visible() && sidebar.name !== name) {\n          trigger(sidebar, panel, 'onhide');\n          panel.visible(false);\n        }\n      });\n    };\n    var deactivateButtons = function (toolbar) {\n      toolbar.items().each(function (ctrl) {\n        ctrl.active(false);\n      });\n    };\n    var findSidebar = function (sidebars, name) {\n      return global$2.grep(sidebars, function (sidebar) {\n        return sidebar.name === name;\n      })[0];\n    };\n    var showPanel = function (editor, name, sidebars) {\n      return function (e) {\n        var btnCtrl = e.control;\n        var container = btnCtrl.parents().filter('panel')[0];\n        var panel = container.find('#' + name)[0];\n        var sidebar = findSidebar(sidebars, name);\n        hidePanels(name, container, sidebars);\n        deactivateButtons(btnCtrl.parent());\n        if (panel && panel.visible()) {\n          trigger(sidebar, panel, 'onhide');\n          panel.hide();\n          btnCtrl.active(false);\n        } else {\n          if (panel) {\n            panel.show();\n            trigger(sidebar, panel, 'onshow');\n          } else {\n            panel = global$4.create({\n              type: 'container',\n              name: name,\n              layout: 'stack',\n              classes: 'sidebar-panel',\n              html: ''\n            });\n            container.prepend(panel);\n            trigger(sidebar, panel, 'onrender');\n            trigger(sidebar, panel, 'onshow');\n          }\n          btnCtrl.active(true);\n        }\n        Events.fireResizeEditor(editor);\n      };\n    };\n    var isModernBrowser = function () {\n      return !global$8.ie || global$8.ie >= 11;\n    };\n    var hasSidebar = function (editor) {\n      return isModernBrowser() && editor.sidebars ? editor.sidebars.length > 0 : false;\n    };\n    var createSidebar = function (editor) {\n      var buttons = global$2.map(editor.sidebars, function (sidebar) {\n        var settings = sidebar.settings;\n        return {\n          type: 'button',\n          icon: settings.icon,\n          image: settings.image,\n          tooltip: settings.tooltip,\n          onclick: showPanel(editor, sidebar.name, editor.sidebars)\n        };\n      });\n      return {\n        type: 'panel',\n        name: 'sidebar',\n        layout: 'stack',\n        classes: 'sidebar',\n        items: [{\n            type: 'toolbar',\n            layout: 'stack',\n            classes: 'sidebar-toolbar',\n            items: buttons\n          }]\n      };\n    };\n    var Sidebar = {\n      hasSidebar: hasSidebar,\n      createSidebar: createSidebar\n    };\n\n    var fireSkinLoaded$1 = function (editor) {\n      var done = function () {\n        editor._skinLoaded = true;\n        Events.fireSkinLoaded(editor);\n      };\n      return function () {\n        if (editor.initialized) {\n          done();\n        } else {\n          editor.on('init', done);\n        }\n      };\n    };\n    var SkinLoaded = { fireSkinLoaded: fireSkinLoaded$1 };\n\n    var DOM$2 = global$3.DOM;\n    var switchMode = function (panel) {\n      return function (e) {\n        panel.find('*').disabled(e.mode === 'readonly');\n      };\n    };\n    var editArea = function (border) {\n      return {\n        type: 'panel',\n        name: 'iframe',\n        layout: 'stack',\n        classes: 'edit-area',\n        border: border,\n        html: ''\n      };\n    };\n    var editAreaContainer = function (editor) {\n      return {\n        type: 'panel',\n        layout: 'stack',\n        classes: 'edit-aria-container',\n        border: '1 0 0 0',\n        items: [\n          editArea('0'),\n          Sidebar.createSidebar(editor)\n        ]\n      };\n    };\n    var render = function (editor, theme, args) {\n      var panel, resizeHandleCtrl, startSize;\n      if (isSkinDisabled(editor) === false && args.skinUiCss) {\n        DOM$2.styleSheetLoader.load(args.skinUiCss, SkinLoaded.fireSkinLoaded(editor));\n      } else {\n        SkinLoaded.fireSkinLoaded(editor)();\n      }\n      panel = theme.panel = global$4.create({\n        type: 'panel',\n        role: 'application',\n        classes: 'tinymce',\n        style: 'visibility: hidden',\n        layout: 'stack',\n        border: 1,\n        items: [\n          {\n            type: 'container',\n            classes: 'top-part',\n            items: [\n              hasMenubar(editor) === false ? null : {\n                type: 'menubar',\n                border: '0 0 1 0',\n                items: Menubar.createMenuButtons(editor)\n              },\n              Toolbar.createToolbars(editor, getToolbarSize(editor))\n            ]\n          },\n          Sidebar.hasSidebar(editor) ? editAreaContainer(editor) : editArea('1 0 0 0')\n        ]\n      });\n      UiContainer.setUiContainer(editor, panel);\n      if (getResize(editor) !== 'none') {\n        resizeHandleCtrl = {\n          type: 'resizehandle',\n          direction: getResize(editor),\n          onResizeStart: function () {\n            var elm = editor.getContentAreaContainer().firstChild;\n            startSize = {\n              width: elm.clientWidth,\n              height: elm.clientHeight\n            };\n          },\n          onResize: function (e) {\n            if (getResize(editor) === 'both') {\n              Resize.resizeTo(editor, startSize.width + e.deltaX, startSize.height + e.deltaY);\n            } else {\n              Resize.resizeTo(editor, null, startSize.height + e.deltaY);\n            }\n          }\n        };\n      }\n      if (hasStatusbar(editor)) {\n        var linkHtml = '<a href=\"https://www.tiny.cloud/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce\" rel=\"noopener\" target=\"_blank\" role=\"presentation\" tabindex=\"-1\">Tiny</a>';\n        var html = global$5.translate([\n          'Powered by {0}',\n          linkHtml\n        ]);\n        var brandingLabel = isBrandingEnabled(editor) ? {\n          type: 'label',\n          classes: 'branding',\n          html: ' ' + html\n        } : null;\n        panel.add({\n          type: 'panel',\n          name: 'statusbar',\n          classes: 'statusbar',\n          layout: 'flow',\n          border: '1 0 0 0',\n          ariaRoot: true,\n          items: [\n            {\n              type: 'elementpath',\n              editor: editor\n            },\n            resizeHandleCtrl,\n            brandingLabel\n          ]\n        });\n      }\n      Events.fireBeforeRenderUI(editor);\n      editor.on('SwitchMode', switchMode(panel));\n      panel.renderBefore(args.targetNode).reflow();\n      if (isReadOnly(editor)) {\n        editor.setMode('readonly');\n      }\n      if (args.width) {\n        DOM$2.setStyle(panel.getEl(), 'width', args.width);\n      }\n      editor.on('remove', function () {\n        panel.remove();\n        panel = null;\n      });\n      A11y.addKeys(editor, panel);\n      ContextToolbars.addContextualToolbars(editor);\n      return {\n        iframeContainer: panel.find('#iframe')[0].getEl(),\n        editorContainer: panel.getEl()\n      };\n    };\n    var Iframe = { render: render };\n\n    var global$9 = tinymce.util.Tools.resolve('tinymce.dom.DomQuery');\n\n    var count = 0;\n    var funcs = {\n      id: function () {\n        return 'mceu_' + count++;\n      },\n      create: function (name, attrs, children) {\n        var elm = domGlobals.document.createElement(name);\n        global$3.DOM.setAttribs(elm, attrs);\n        if (typeof children === 'string') {\n          elm.innerHTML = children;\n        } else {\n          global$2.each(children, function (child) {\n            if (child.nodeType) {\n              elm.appendChild(child);\n            }\n          });\n        }\n        return elm;\n      },\n      createFragment: function (html) {\n        return global$3.DOM.createFragment(html);\n      },\n      getWindowSize: function () {\n        return global$3.DOM.getViewPort();\n      },\n      getSize: function (elm) {\n        var width, height;\n        if (elm.getBoundingClientRect) {\n          var rect = elm.getBoundingClientRect();\n          width = Math.max(rect.width || rect.right - rect.left, elm.offsetWidth);\n          height = Math.max(rect.height || rect.bottom - rect.bottom, elm.offsetHeight);\n        } else {\n          width = elm.offsetWidth;\n          height = elm.offsetHeight;\n        }\n        return {\n          width: width,\n          height: height\n        };\n      },\n      getPos: function (elm, root) {\n        return global$3.DOM.getPos(elm, root || funcs.getContainer());\n      },\n      getContainer: function () {\n        return global$8.container ? global$8.container : domGlobals.document.body;\n      },\n      getViewPort: function (win) {\n        return global$3.DOM.getViewPort(win);\n      },\n      get: function (id) {\n        return domGlobals.document.getElementById(id);\n      },\n      addClass: function (elm, cls) {\n        return global$3.DOM.addClass(elm, cls);\n      },\n      removeClass: function (elm, cls) {\n        return global$3.DOM.removeClass(elm, cls);\n      },\n      hasClass: function (elm, cls) {\n        return global$3.DOM.hasClass(elm, cls);\n      },\n      toggleClass: function (elm, cls, state) {\n        return global$3.DOM.toggleClass(elm, cls, state);\n      },\n      css: function (elm, name, value) {\n        return global$3.DOM.setStyle(elm, name, value);\n      },\n      getRuntimeStyle: function (elm, name) {\n        return global$3.DOM.getStyle(elm, name, true);\n      },\n      on: function (target, name, callback, scope) {\n        return global$3.DOM.bind(target, name, callback, scope);\n      },\n      off: function (target, name, callback) {\n        return global$3.DOM.unbind(target, name, callback);\n      },\n      fire: function (target, name, args) {\n        return global$3.DOM.fire(target, name, args);\n      },\n      innerHtml: function (elm, html) {\n        global$3.DOM.setHTML(elm, html);\n      }\n    };\n\n    var isStatic = function (elm) {\n      return funcs.getRuntimeStyle(elm, 'position') === 'static';\n    };\n    var isFixed = function (ctrl) {\n      return ctrl.state.get('fixed');\n    };\n    function calculateRelativePosition(ctrl, targetElm, rel) {\n      var ctrlElm, pos, x, y, selfW, selfH, targetW, targetH, viewport, size;\n      viewport = getWindowViewPort();\n      pos = funcs.getPos(targetElm, UiContainer.getUiContainer(ctrl));\n      x = pos.x;\n      y = pos.y;\n      if (isFixed(ctrl) && isStatic(domGlobals.document.body)) {\n        x -= viewport.x;\n        y -= viewport.y;\n      }\n      ctrlElm = ctrl.getEl();\n      size = funcs.getSize(ctrlElm);\n      selfW = size.width;\n      selfH = size.height;\n      size = funcs.getSize(targetElm);\n      targetW = size.width;\n      targetH = size.height;\n      rel = (rel || '').split('');\n      if (rel[0] === 'b') {\n        y += targetH;\n      }\n      if (rel[1] === 'r') {\n        x += targetW;\n      }\n      if (rel[0] === 'c') {\n        y += Math.round(targetH / 2);\n      }\n      if (rel[1] === 'c') {\n        x += Math.round(targetW / 2);\n      }\n      if (rel[3] === 'b') {\n        y -= selfH;\n      }\n      if (rel[4] === 'r') {\n        x -= selfW;\n      }\n      if (rel[3] === 'c') {\n        y -= Math.round(selfH / 2);\n      }\n      if (rel[4] === 'c') {\n        x -= Math.round(selfW / 2);\n      }\n      return {\n        x: x,\n        y: y,\n        w: selfW,\n        h: selfH\n      };\n    }\n    var getUiContainerViewPort = function (customUiContainer) {\n      return {\n        x: 0,\n        y: 0,\n        w: customUiContainer.scrollWidth - 1,\n        h: customUiContainer.scrollHeight - 1\n      };\n    };\n    var getWindowViewPort = function () {\n      var win = domGlobals.window;\n      var x = Math.max(win.pageXOffset, domGlobals.document.body.scrollLeft, domGlobals.document.documentElement.scrollLeft);\n      var y = Math.max(win.pageYOffset, domGlobals.document.body.scrollTop, domGlobals.document.documentElement.scrollTop);\n      var w = win.innerWidth || domGlobals.document.documentElement.clientWidth;\n      var h = win.innerHeight || domGlobals.document.documentElement.clientHeight;\n      return {\n        x: x,\n        y: y,\n        w: w,\n        h: h\n      };\n    };\n    var getViewPortRect = function (ctrl) {\n      var customUiContainer = UiContainer.getUiContainer(ctrl);\n      return customUiContainer && !isFixed(ctrl) ? getUiContainerViewPort(customUiContainer) : getWindowViewPort();\n    };\n    var Movable = {\n      testMoveRel: function (elm, rels) {\n        var viewPortRect = getViewPortRect(this);\n        for (var i = 0; i < rels.length; i++) {\n          var pos = calculateRelativePosition(this, elm, rels[i]);\n          if (isFixed(this)) {\n            if (pos.x > 0 && pos.x + pos.w < viewPortRect.w && pos.y > 0 && pos.y + pos.h < viewPortRect.h) {\n              return rels[i];\n            }\n          } else {\n            if (pos.x > viewPortRect.x && pos.x + pos.w < viewPortRect.w + viewPortRect.x && pos.y > viewPortRect.y && pos.y + pos.h < viewPortRect.h + viewPortRect.y) {\n              return rels[i];\n            }\n          }\n        }\n        return rels[0];\n      },\n      moveRel: function (elm, rel) {\n        if (typeof rel !== 'string') {\n          rel = this.testMoveRel(elm, rel);\n        }\n        var pos = calculateRelativePosition(this, elm, rel);\n        return this.moveTo(pos.x, pos.y);\n      },\n      moveBy: function (dx, dy) {\n        var self = this, rect = self.layoutRect();\n        self.moveTo(rect.x + dx, rect.y + dy);\n        return self;\n      },\n      moveTo: function (x, y) {\n        var self = this;\n        function constrain(value, max, size) {\n          if (value < 0) {\n            return 0;\n          }\n          if (value + size > max) {\n            value = max - size;\n            return value < 0 ? 0 : value;\n          }\n          return value;\n        }\n        if (self.settings.constrainToViewport) {\n          var viewPortRect = getViewPortRect(this);\n          var layoutRect = self.layoutRect();\n          x = constrain(x, viewPortRect.w + viewPortRect.x, layoutRect.w);\n          y = constrain(y, viewPortRect.h + viewPortRect.y, layoutRect.h);\n        }\n        var uiContainer = UiContainer.getUiContainer(self);\n        if (uiContainer && isStatic(uiContainer) && !isFixed(self)) {\n          x -= uiContainer.scrollLeft;\n          y -= uiContainer.scrollTop;\n        }\n        if (uiContainer) {\n          x += 1;\n          y += 1;\n        }\n        if (self.state.get('rendered')) {\n          self.layoutRect({\n            x: x,\n            y: y\n          }).repaint();\n        } else {\n          self.settings.x = x;\n          self.settings.y = y;\n        }\n        self.fire('move', {\n          x: x,\n          y: y\n        });\n        return self;\n      }\n    };\n\n    var global$a = tinymce.util.Tools.resolve('tinymce.util.Class');\n\n    var global$b = tinymce.util.Tools.resolve('tinymce.util.EventDispatcher');\n\n    var BoxUtils = {\n      parseBox: function (value) {\n        var len;\n        var radix = 10;\n        if (!value) {\n          return;\n        }\n        if (typeof value === 'number') {\n          value = value || 0;\n          return {\n            top: value,\n            left: value,\n            bottom: value,\n            right: value\n          };\n        }\n        value = value.split(' ');\n        len = value.length;\n        if (len === 1) {\n          value[1] = value[2] = value[3] = value[0];\n        } else if (len === 2) {\n          value[2] = value[0];\n          value[3] = value[1];\n        } else if (len === 3) {\n          value[3] = value[1];\n        }\n        return {\n          top: parseInt(value[0], radix) || 0,\n          right: parseInt(value[1], radix) || 0,\n          bottom: parseInt(value[2], radix) || 0,\n          left: parseInt(value[3], radix) || 0\n        };\n      },\n      measureBox: function (elm, prefix) {\n        function getStyle(name) {\n          var defaultView = elm.ownerDocument.defaultView;\n          if (defaultView) {\n            var computedStyle = defaultView.getComputedStyle(elm, null);\n            if (computedStyle) {\n              name = name.replace(/[A-Z]/g, function (a) {\n                return '-' + a;\n              });\n              return computedStyle.getPropertyValue(name);\n            } else {\n              return null;\n            }\n          }\n          return elm.currentStyle[name];\n        }\n        function getSide(name) {\n          var val = parseFloat(getStyle(name));\n          return isNaN(val) ? 0 : val;\n        }\n        return {\n          top: getSide(prefix + 'TopWidth'),\n          right: getSide(prefix + 'RightWidth'),\n          bottom: getSide(prefix + 'BottomWidth'),\n          left: getSide(prefix + 'LeftWidth')\n        };\n      }\n    };\n\n    function noop$1() {\n    }\n    function ClassList(onchange) {\n      this.cls = [];\n      this.cls._map = {};\n      this.onchange = onchange || noop$1;\n      this.prefix = '';\n    }\n    global$2.extend(ClassList.prototype, {\n      add: function (cls) {\n        if (cls && !this.contains(cls)) {\n          this.cls._map[cls] = true;\n          this.cls.push(cls);\n          this._change();\n        }\n        return this;\n      },\n      remove: function (cls) {\n        if (this.contains(cls)) {\n          var i = void 0;\n          for (i = 0; i < this.cls.length; i++) {\n            if (this.cls[i] === cls) {\n              break;\n            }\n          }\n          this.cls.splice(i, 1);\n          delete this.cls._map[cls];\n          this._change();\n        }\n        return this;\n      },\n      toggle: function (cls, state) {\n        var curState = this.contains(cls);\n        if (curState !== state) {\n          if (curState) {\n            this.remove(cls);\n          } else {\n            this.add(cls);\n          }\n          this._change();\n        }\n        return this;\n      },\n      contains: function (cls) {\n        return !!this.cls._map[cls];\n      },\n      _change: function () {\n        delete this.clsValue;\n        this.onchange.call(this);\n      }\n    });\n    ClassList.prototype.toString = function () {\n      var value;\n      if (this.clsValue) {\n        return this.clsValue;\n      }\n      value = '';\n      for (var i = 0; i < this.cls.length; i++) {\n        if (i > 0) {\n          value += ' ';\n        }\n        value += this.prefix + this.cls[i];\n      }\n      return value;\n    };\n\n    function unique(array) {\n      var uniqueItems = [];\n      var i = array.length, item;\n      while (i--) {\n        item = array[i];\n        if (!item.__checked) {\n          uniqueItems.push(item);\n          item.__checked = 1;\n        }\n      }\n      i = uniqueItems.length;\n      while (i--) {\n        delete uniqueItems[i].__checked;\n      }\n      return uniqueItems;\n    }\n    var expression = /^([\\w\\\\*]+)?(?:#([\\w\\-\\\\]+))?(?:\\.([\\w\\\\\\.]+))?(?:\\[\\@?([\\w\\\\]+)([\\^\\$\\*!~]?=)([\\w\\\\]+)\\])?(?:\\:(.+))?/i;\n    var chunker = /((?:\\((?:\\([^()]+\\)|[^()]+)+\\)|\\[(?:\\[[^\\[\\]]*\\]|['\"][^'\"]*['\"]|[^\\[\\]'\"]+)+\\]|\\\\.|[^ >+~,(\\[\\\\]+)+|[>+~])(\\s*,\\s*)?((?:.|\\r|\\n)*)/g;\n    var whiteSpace = /^\\s*|\\s*$/g;\n    var Collection;\n    var Selector = global$a.extend({\n      init: function (selector) {\n        var match = this.match;\n        function compileNameFilter(name) {\n          if (name) {\n            name = name.toLowerCase();\n            return function (item) {\n              return name === '*' || item.type === name;\n            };\n          }\n        }\n        function compileIdFilter(id) {\n          if (id) {\n            return function (item) {\n              return item._name === id;\n            };\n          }\n        }\n        function compileClassesFilter(classes) {\n          if (classes) {\n            classes = classes.split('.');\n            return function (item) {\n              var i = classes.length;\n              while (i--) {\n                if (!item.classes.contains(classes[i])) {\n                  return false;\n                }\n              }\n              return true;\n            };\n          }\n        }\n        function compileAttrFilter(name, cmp, check) {\n          if (name) {\n            return function (item) {\n              var value = item[name] ? item[name]() : '';\n              return !cmp ? !!check : cmp === '=' ? value === check : cmp === '*=' ? value.indexOf(check) >= 0 : cmp === '~=' ? (' ' + value + ' ').indexOf(' ' + check + ' ') >= 0 : cmp === '!=' ? value !== check : cmp === '^=' ? value.indexOf(check) === 0 : cmp === '$=' ? value.substr(value.length - check.length) === check : false;\n            };\n          }\n        }\n        function compilePsuedoFilter(name) {\n          var notSelectors;\n          if (name) {\n            name = /(?:not\\((.+)\\))|(.+)/i.exec(name);\n            if (!name[1]) {\n              name = name[2];\n              return function (item, index, length) {\n                return name === 'first' ? index === 0 : name === 'last' ? index === length - 1 : name === 'even' ? index % 2 === 0 : name === 'odd' ? index % 2 === 1 : item[name] ? item[name]() : false;\n              };\n            }\n            notSelectors = parseChunks(name[1], []);\n            return function (item) {\n              return !match(item, notSelectors);\n            };\n          }\n        }\n        function compile(selector, filters, direct) {\n          var parts;\n          function add(filter) {\n            if (filter) {\n              filters.push(filter);\n            }\n          }\n          parts = expression.exec(selector.replace(whiteSpace, ''));\n          add(compileNameFilter(parts[1]));\n          add(compileIdFilter(parts[2]));\n          add(compileClassesFilter(parts[3]));\n          add(compileAttrFilter(parts[4], parts[5], parts[6]));\n          add(compilePsuedoFilter(parts[7]));\n          filters.pseudo = !!parts[7];\n          filters.direct = direct;\n          return filters;\n        }\n        function parseChunks(selector, selectors) {\n          var parts = [];\n          var extra, matches, i;\n          do {\n            chunker.exec('');\n            matches = chunker.exec(selector);\n            if (matches) {\n              selector = matches[3];\n              parts.push(matches[1]);\n              if (matches[2]) {\n                extra = matches[3];\n                break;\n              }\n            }\n          } while (matches);\n          if (extra) {\n            parseChunks(extra, selectors);\n          }\n          selector = [];\n          for (i = 0; i < parts.length; i++) {\n            if (parts[i] !== '>') {\n              selector.push(compile(parts[i], [], parts[i - 1] === '>'));\n            }\n          }\n          selectors.push(selector);\n          return selectors;\n        }\n        this._selectors = parseChunks(selector, []);\n      },\n      match: function (control, selectors) {\n        var i, l, si, sl, selector, fi, fl, filters, index, length, siblings, count, item;\n        selectors = selectors || this._selectors;\n        for (i = 0, l = selectors.length; i < l; i++) {\n          selector = selectors[i];\n          sl = selector.length;\n          item = control;\n          count = 0;\n          for (si = sl - 1; si >= 0; si--) {\n            filters = selector[si];\n            while (item) {\n              if (filters.pseudo) {\n                siblings = item.parent().items();\n                index = length = siblings.length;\n                while (index--) {\n                  if (siblings[index] === item) {\n                    break;\n                  }\n                }\n              }\n              for (fi = 0, fl = filters.length; fi < fl; fi++) {\n                if (!filters[fi](item, index, length)) {\n                  fi = fl + 1;\n                  break;\n                }\n              }\n              if (fi === fl) {\n                count++;\n                break;\n              } else {\n                if (si === sl - 1) {\n                  break;\n                }\n              }\n              item = item.parent();\n            }\n          }\n          if (count === sl) {\n            return true;\n          }\n        }\n        return false;\n      },\n      find: function (container) {\n        var matches = [], i, l;\n        var selectors = this._selectors;\n        function collect(items, selector, index) {\n          var i, l, fi, fl, item;\n          var filters = selector[index];\n          for (i = 0, l = items.length; i < l; i++) {\n            item = items[i];\n            for (fi = 0, fl = filters.length; fi < fl; fi++) {\n              if (!filters[fi](item, i, l)) {\n                fi = fl + 1;\n                break;\n              }\n            }\n            if (fi === fl) {\n              if (index === selector.length - 1) {\n                matches.push(item);\n              } else {\n                if (item.items) {\n                  collect(item.items(), selector, index + 1);\n                }\n              }\n            } else if (filters.direct) {\n              return;\n            }\n            if (item.items) {\n              collect(item.items(), selector, index);\n            }\n          }\n        }\n        if (container.items) {\n          for (i = 0, l = selectors.length; i < l; i++) {\n            collect(container.items(), selectors[i], 0);\n          }\n          if (l > 1) {\n            matches = unique(matches);\n          }\n        }\n        if (!Collection) {\n          Collection = Selector.Collection;\n        }\n        return new Collection(matches);\n      }\n    });\n\n    var Collection$1, proto;\n    var push = Array.prototype.push, slice = Array.prototype.slice;\n    proto = {\n      length: 0,\n      init: function (items) {\n        if (items) {\n          this.add(items);\n        }\n      },\n      add: function (items) {\n        var self = this;\n        if (!global$2.isArray(items)) {\n          if (items instanceof Collection$1) {\n            self.add(items.toArray());\n          } else {\n            push.call(self, items);\n          }\n        } else {\n          push.apply(self, items);\n        }\n        return self;\n      },\n      set: function (items) {\n        var self = this;\n        var len = self.length;\n        var i;\n        self.length = 0;\n        self.add(items);\n        for (i = self.length; i < len; i++) {\n          delete self[i];\n        }\n        return self;\n      },\n      filter: function (selector) {\n        var self = this;\n        var i, l;\n        var matches = [];\n        var item, match;\n        if (typeof selector === 'string') {\n          selector = new Selector(selector);\n          match = function (item) {\n            return selector.match(item);\n          };\n        } else {\n          match = selector;\n        }\n        for (i = 0, l = self.length; i < l; i++) {\n          item = self[i];\n          if (match(item)) {\n            matches.push(item);\n          }\n        }\n        return new Collection$1(matches);\n      },\n      slice: function () {\n        return new Collection$1(slice.apply(this, arguments));\n      },\n      eq: function (index) {\n        return index === -1 ? this.slice(index) : this.slice(index, +index + 1);\n      },\n      each: function (callback) {\n        global$2.each(this, callback);\n        return this;\n      },\n      toArray: function () {\n        return global$2.toArray(this);\n      },\n      indexOf: function (ctrl) {\n        var self = this;\n        var i = self.length;\n        while (i--) {\n          if (self[i] === ctrl) {\n            break;\n          }\n        }\n        return i;\n      },\n      reverse: function () {\n        return new Collection$1(global$2.toArray(this).reverse());\n      },\n      hasClass: function (cls) {\n        return this[0] ? this[0].classes.contains(cls) : false;\n      },\n      prop: function (name, value) {\n        var self = this;\n        var item;\n        if (value !== undefined) {\n          self.each(function (item) {\n            if (item[name]) {\n              item[name](value);\n            }\n          });\n          return self;\n        }\n        item = self[0];\n        if (item && item[name]) {\n          return item[name]();\n        }\n      },\n      exec: function (name) {\n        var self = this, args = global$2.toArray(arguments).slice(1);\n        self.each(function (item) {\n          if (item[name]) {\n            item[name].apply(item, args);\n          }\n        });\n        return self;\n      },\n      remove: function () {\n        var i = this.length;\n        while (i--) {\n          this[i].remove();\n        }\n        return this;\n      },\n      addClass: function (cls) {\n        return this.each(function (item) {\n          item.classes.add(cls);\n        });\n      },\n      removeClass: function (cls) {\n        return this.each(function (item) {\n          item.classes.remove(cls);\n        });\n      }\n    };\n    global$2.each('fire on off show hide append prepend before after reflow'.split(' '), function (name) {\n      proto[name] = function () {\n        var args = global$2.toArray(arguments);\n        this.each(function (ctrl) {\n          if (name in ctrl) {\n            ctrl[name].apply(ctrl, args);\n          }\n        });\n        return this;\n      };\n    });\n    global$2.each('text name disabled active selected checked visible parent value data'.split(' '), function (name) {\n      proto[name] = function (value) {\n        return this.prop(name, value);\n      };\n    });\n    Collection$1 = global$a.extend(proto);\n    Selector.Collection = Collection$1;\n    var Collection$2 = Collection$1;\n\n    var Binding = function (settings) {\n      this.create = settings.create;\n    };\n    Binding.create = function (model, name) {\n      return new Binding({\n        create: function (otherModel, otherName) {\n          var bindings;\n          var fromSelfToOther = function (e) {\n            otherModel.set(otherName, e.value);\n          };\n          var fromOtherToSelf = function (e) {\n            model.set(name, e.value);\n          };\n          otherModel.on('change:' + otherName, fromOtherToSelf);\n          model.on('change:' + name, fromSelfToOther);\n          bindings = otherModel._bindings;\n          if (!bindings) {\n            bindings = otherModel._bindings = [];\n            otherModel.on('destroy', function () {\n              var i = bindings.length;\n              while (i--) {\n                bindings[i]();\n              }\n            });\n          }\n          bindings.push(function () {\n            model.off('change:' + name, fromSelfToOther);\n          });\n          return model.get(name);\n        }\n      });\n    };\n\n    var global$c = tinymce.util.Tools.resolve('tinymce.util.Observable');\n\n    function isNode(node) {\n      return node.nodeType > 0;\n    }\n    function isEqual(a, b) {\n      var k, checked;\n      if (a === b) {\n        return true;\n      }\n      if (a === null || b === null) {\n        return a === b;\n      }\n      if (typeof a !== 'object' || typeof b !== 'object') {\n        return a === b;\n      }\n      if (global$2.isArray(b)) {\n        if (a.length !== b.length) {\n          return false;\n        }\n        k = a.length;\n        while (k--) {\n          if (!isEqual(a[k], b[k])) {\n            return false;\n          }\n        }\n      }\n      if (isNode(a) || isNode(b)) {\n        return a === b;\n      }\n      checked = {};\n      for (k in b) {\n        if (!isEqual(a[k], b[k])) {\n          return false;\n        }\n        checked[k] = true;\n      }\n      for (k in a) {\n        if (!checked[k] && !isEqual(a[k], b[k])) {\n          return false;\n        }\n      }\n      return true;\n    }\n    var ObservableObject = global$a.extend({\n      Mixins: [global$c],\n      init: function (data) {\n        var name, value;\n        data = data || {};\n        for (name in data) {\n          value = data[name];\n          if (value instanceof Binding) {\n            data[name] = value.create(this, name);\n          }\n        }\n        this.data = data;\n      },\n      set: function (name, value) {\n        var key, args;\n        var oldValue = this.data[name];\n        if (value instanceof Binding) {\n          value = value.create(this, name);\n        }\n        if (typeof name === 'object') {\n          for (key in name) {\n            this.set(key, name[key]);\n          }\n          return this;\n        }\n        if (!isEqual(oldValue, value)) {\n          this.data[name] = value;\n          args = {\n            target: this,\n            name: name,\n            value: value,\n            oldValue: oldValue\n          };\n          this.fire('change:' + name, args);\n          this.fire('change', args);\n        }\n        return this;\n      },\n      get: function (name) {\n        return this.data[name];\n      },\n      has: function (name) {\n        return name in this.data;\n      },\n      bind: function (name) {\n        return Binding.create(this, name);\n      },\n      destroy: function () {\n        this.fire('destroy');\n      }\n    });\n\n    var dirtyCtrls = {}, animationFrameRequested;\n    var ReflowQueue = {\n      add: function (ctrl) {\n        var parent = ctrl.parent();\n        if (parent) {\n          if (!parent._layout || parent._layout.isNative()) {\n            return;\n          }\n          if (!dirtyCtrls[parent._id]) {\n            dirtyCtrls[parent._id] = parent;\n          }\n          if (!animationFrameRequested) {\n            animationFrameRequested = true;\n            global$7.requestAnimationFrame(function () {\n              var id, ctrl;\n              animationFrameRequested = false;\n              for (id in dirtyCtrls) {\n                ctrl = dirtyCtrls[id];\n                if (ctrl.state.get('rendered')) {\n                  ctrl.reflow();\n                }\n              }\n              dirtyCtrls = {};\n            }, domGlobals.document.body);\n          }\n        }\n      },\n      remove: function (ctrl) {\n        if (dirtyCtrls[ctrl._id]) {\n          delete dirtyCtrls[ctrl._id];\n        }\n      }\n    };\n\n    var hasMouseWheelEventSupport = 'onmousewheel' in domGlobals.document;\n    var hasWheelEventSupport = false;\n    var classPrefix = 'mce-';\n    var Control, idCounter = 0;\n    var proto$1 = {\n      Statics: { classPrefix: classPrefix },\n      isRtl: function () {\n        return Control.rtl;\n      },\n      classPrefix: classPrefix,\n      init: function (settings) {\n        var self = this;\n        var classes, defaultClasses;\n        function applyClasses(classes) {\n          var i;\n          classes = classes.split(' ');\n          for (i = 0; i < classes.length; i++) {\n            self.classes.add(classes[i]);\n          }\n        }\n        self.settings = settings = global$2.extend({}, self.Defaults, settings);\n        self._id = settings.id || 'mceu_' + idCounter++;\n        self._aria = { role: settings.role };\n        self._elmCache = {};\n        self.$ = global$9;\n        self.state = new ObservableObject({\n          visible: true,\n          active: false,\n          disabled: false,\n          value: ''\n        });\n        self.data = new ObservableObject(settings.data);\n        self.classes = new ClassList(function () {\n          if (self.state.get('rendered')) {\n            self.getEl().className = this.toString();\n          }\n        });\n        self.classes.prefix = self.classPrefix;\n        classes = settings.classes;\n        if (classes) {\n          if (self.Defaults) {\n            defaultClasses = self.Defaults.classes;\n            if (defaultClasses && classes !== defaultClasses) {\n              applyClasses(defaultClasses);\n            }\n          }\n          applyClasses(classes);\n        }\n        global$2.each('title text name visible disabled active value'.split(' '), function (name) {\n          if (name in settings) {\n            self[name](settings[name]);\n          }\n        });\n        self.on('click', function () {\n          if (self.disabled()) {\n            return false;\n          }\n        });\n        self.settings = settings;\n        self.borderBox = BoxUtils.parseBox(settings.border);\n        self.paddingBox = BoxUtils.parseBox(settings.padding);\n        self.marginBox = BoxUtils.parseBox(settings.margin);\n        if (settings.hidden) {\n          self.hide();\n        }\n      },\n      Properties: 'parent,name',\n      getContainerElm: function () {\n        var uiContainer = UiContainer.getUiContainer(this);\n        return uiContainer ? uiContainer : funcs.getContainer();\n      },\n      getParentCtrl: function (elm) {\n        var ctrl;\n        var lookup = this.getRoot().controlIdLookup;\n        while (elm && lookup) {\n          ctrl = lookup[elm.id];\n          if (ctrl) {\n            break;\n          }\n          elm = elm.parentNode;\n        }\n        return ctrl;\n      },\n      initLayoutRect: function () {\n        var self = this;\n        var settings = self.settings;\n        var borderBox, layoutRect;\n        var elm = self.getEl();\n        var width, height, minWidth, minHeight, autoResize;\n        var startMinWidth, startMinHeight, initialSize;\n        borderBox = self.borderBox = self.borderBox || BoxUtils.measureBox(elm, 'border');\n        self.paddingBox = self.paddingBox || BoxUtils.measureBox(elm, 'padding');\n        self.marginBox = self.marginBox || BoxUtils.measureBox(elm, 'margin');\n        initialSize = funcs.getSize(elm);\n        startMinWidth = settings.minWidth;\n        startMinHeight = settings.minHeight;\n        minWidth = startMinWidth || initialSize.width;\n        minHeight = startMinHeight || initialSize.height;\n        width = settings.width;\n        height = settings.height;\n        autoResize = settings.autoResize;\n        autoResize = typeof autoResize !== 'undefined' ? autoResize : !width && !height;\n        width = width || minWidth;\n        height = height || minHeight;\n        var deltaW = borderBox.left + borderBox.right;\n        var deltaH = borderBox.top + borderBox.bottom;\n        var maxW = settings.maxWidth || 65535;\n        var maxH = settings.maxHeight || 65535;\n        self._layoutRect = layoutRect = {\n          x: settings.x || 0,\n          y: settings.y || 0,\n          w: width,\n          h: height,\n          deltaW: deltaW,\n          deltaH: deltaH,\n          contentW: width - deltaW,\n          contentH: height - deltaH,\n          innerW: width - deltaW,\n          innerH: height - deltaH,\n          startMinWidth: startMinWidth || 0,\n          startMinHeight: startMinHeight || 0,\n          minW: Math.min(minWidth, maxW),\n          minH: Math.min(minHeight, maxH),\n          maxW: maxW,\n          maxH: maxH,\n          autoResize: autoResize,\n          scrollW: 0\n        };\n        self._lastLayoutRect = {};\n        return layoutRect;\n      },\n      layoutRect: function (newRect) {\n        var self = this;\n        var curRect = self._layoutRect, lastLayoutRect, size, deltaWidth, deltaHeight, repaintControls;\n        if (!curRect) {\n          curRect = self.initLayoutRect();\n        }\n        if (newRect) {\n          deltaWidth = curRect.deltaW;\n          deltaHeight = curRect.deltaH;\n          if (newRect.x !== undefined) {\n            curRect.x = newRect.x;\n          }\n          if (newRect.y !== undefined) {\n            curRect.y = newRect.y;\n          }\n          if (newRect.minW !== undefined) {\n            curRect.minW = newRect.minW;\n          }\n          if (newRect.minH !== undefined) {\n            curRect.minH = newRect.minH;\n          }\n          size = newRect.w;\n          if (size !== undefined) {\n            size = size < curRect.minW ? curRect.minW : size;\n            size = size > curRect.maxW ? curRect.maxW : size;\n            curRect.w = size;\n            curRect.innerW = size - deltaWidth;\n          }\n          size = newRect.h;\n          if (size !== undefined) {\n            size = size < curRect.minH ? curRect.minH : size;\n            size = size > curRect.maxH ? curRect.maxH : size;\n            curRect.h = size;\n            curRect.innerH = size - deltaHeight;\n          }\n          size = newRect.innerW;\n          if (size !== undefined) {\n            size = size < curRect.minW - deltaWidth ? curRect.minW - deltaWidth : size;\n            size = size > curRect.maxW - deltaWidth ? curRect.maxW - deltaWidth : size;\n            curRect.innerW = size;\n            curRect.w = size + deltaWidth;\n          }\n          size = newRect.innerH;\n          if (size !== undefined) {\n            size = size < curRect.minH - deltaHeight ? curRect.minH - deltaHeight : size;\n            size = size > curRect.maxH - deltaHeight ? curRect.maxH - deltaHeight : size;\n            curRect.innerH = size;\n            curRect.h = size + deltaHeight;\n          }\n          if (newRect.contentW !== undefined) {\n            curRect.contentW = newRect.contentW;\n          }\n          if (newRect.contentH !== undefined) {\n            curRect.contentH = newRect.contentH;\n          }\n          lastLayoutRect = self._lastLayoutRect;\n          if (lastLayoutRect.x !== curRect.x || lastLayoutRect.y !== curRect.y || lastLayoutRect.w !== curRect.w || lastLayoutRect.h !== curRect.h) {\n            repaintControls = Control.repaintControls;\n            if (repaintControls) {\n              if (repaintControls.map && !repaintControls.map[self._id]) {\n                repaintControls.push(self);\n                repaintControls.map[self._id] = true;\n              }\n            }\n            lastLayoutRect.x = curRect.x;\n            lastLayoutRect.y = curRect.y;\n            lastLayoutRect.w = curRect.w;\n            lastLayoutRect.h = curRect.h;\n          }\n          return self;\n        }\n        return curRect;\n      },\n      repaint: function () {\n        var self = this;\n        var style, bodyStyle, bodyElm, rect, borderBox;\n        var borderW, borderH, lastRepaintRect, round, value;\n        round = !domGlobals.document.createRange ? Math.round : function (value) {\n          return value;\n        };\n        style = self.getEl().style;\n        rect = self._layoutRect;\n        lastRepaintRect = self._lastRepaintRect || {};\n        borderBox = self.borderBox;\n        borderW = borderBox.left + borderBox.right;\n        borderH = borderBox.top + borderBox.bottom;\n        if (rect.x !== lastRepaintRect.x) {\n          style.left = round(rect.x) + 'px';\n          lastRepaintRect.x = rect.x;\n        }\n        if (rect.y !== lastRepaintRect.y) {\n          style.top = round(rect.y) + 'px';\n          lastRepaintRect.y = rect.y;\n        }\n        if (rect.w !== lastRepaintRect.w) {\n          value = round(rect.w - borderW);\n          style.width = (value >= 0 ? value : 0) + 'px';\n          lastRepaintRect.w = rect.w;\n        }\n        if (rect.h !== lastRepaintRect.h) {\n          value = round(rect.h - borderH);\n          style.height = (value >= 0 ? value : 0) + 'px';\n          lastRepaintRect.h = rect.h;\n        }\n        if (self._hasBody && rect.innerW !== lastRepaintRect.innerW) {\n          value = round(rect.innerW);\n          bodyElm = self.getEl('body');\n          if (bodyElm) {\n            bodyStyle = bodyElm.style;\n            bodyStyle.width = (value >= 0 ? value : 0) + 'px';\n          }\n          lastRepaintRect.innerW = rect.innerW;\n        }\n        if (self._hasBody && rect.innerH !== lastRepaintRect.innerH) {\n          value = round(rect.innerH);\n          bodyElm = bodyElm || self.getEl('body');\n          if (bodyElm) {\n            bodyStyle = bodyStyle || bodyElm.style;\n            bodyStyle.height = (value >= 0 ? value : 0) + 'px';\n          }\n          lastRepaintRect.innerH = rect.innerH;\n        }\n        self._lastRepaintRect = lastRepaintRect;\n        self.fire('repaint', {}, false);\n      },\n      updateLayoutRect: function () {\n        var self = this;\n        self.parent()._lastRect = null;\n        funcs.css(self.getEl(), {\n          width: '',\n          height: ''\n        });\n        self._layoutRect = self._lastRepaintRect = self._lastLayoutRect = null;\n        self.initLayoutRect();\n      },\n      on: function (name, callback) {\n        var self = this;\n        function resolveCallbackName(name) {\n          var callback, scope;\n          if (typeof name !== 'string') {\n            return name;\n          }\n          return function (e) {\n            if (!callback) {\n              self.parentsAndSelf().each(function (ctrl) {\n                var callbacks = ctrl.settings.callbacks;\n                if (callbacks && (callback = callbacks[name])) {\n                  scope = ctrl;\n                  return false;\n                }\n              });\n            }\n            if (!callback) {\n              e.action = name;\n              this.fire('execute', e);\n              return;\n            }\n            return callback.call(scope, e);\n          };\n        }\n        getEventDispatcher(self).on(name, resolveCallbackName(callback));\n        return self;\n      },\n      off: function (name, callback) {\n        getEventDispatcher(this).off(name, callback);\n        return this;\n      },\n      fire: function (name, args, bubble) {\n        var self = this;\n        args = args || {};\n        if (!args.control) {\n          args.control = self;\n        }\n        args = getEventDispatcher(self).fire(name, args);\n        if (bubble !== false && self.parent) {\n          var parent = self.parent();\n          while (parent && !args.isPropagationStopped()) {\n            parent.fire(name, args, false);\n            parent = parent.parent();\n          }\n        }\n        return args;\n      },\n      hasEventListeners: function (name) {\n        return getEventDispatcher(this).has(name);\n      },\n      parents: function (selector) {\n        var self = this;\n        var ctrl, parents = new Collection$2();\n        for (ctrl = self.parent(); ctrl; ctrl = ctrl.parent()) {\n          parents.add(ctrl);\n        }\n        if (selector) {\n          parents = parents.filter(selector);\n        }\n        return parents;\n      },\n      parentsAndSelf: function (selector) {\n        return new Collection$2(this).add(this.parents(selector));\n      },\n      next: function () {\n        var parentControls = this.parent().items();\n        return parentControls[parentControls.indexOf(this) + 1];\n      },\n      prev: function () {\n        var parentControls = this.parent().items();\n        return parentControls[parentControls.indexOf(this) - 1];\n      },\n      innerHtml: function (html) {\n        this.$el.html(html);\n        return this;\n      },\n      getEl: function (suffix) {\n        var id = suffix ? this._id + '-' + suffix : this._id;\n        if (!this._elmCache[id]) {\n          this._elmCache[id] = global$9('#' + id)[0];\n        }\n        return this._elmCache[id];\n      },\n      show: function () {\n        return this.visible(true);\n      },\n      hide: function () {\n        return this.visible(false);\n      },\n      focus: function () {\n        try {\n          this.getEl().focus();\n        } catch (ex) {\n        }\n        return this;\n      },\n      blur: function () {\n        this.getEl().blur();\n        return this;\n      },\n      aria: function (name, value) {\n        var self = this, elm = self.getEl(self.ariaTarget);\n        if (typeof value === 'undefined') {\n          return self._aria[name];\n        }\n        self._aria[name] = value;\n        if (self.state.get('rendered')) {\n          elm.setAttribute(name === 'role' ? name : 'aria-' + name, value);\n        }\n        return self;\n      },\n      encode: function (text, translate) {\n        if (translate !== false) {\n          text = this.translate(text);\n        }\n        return (text || '').replace(/[&<>\"]/g, function (match) {\n          return '&#' + match.charCodeAt(0) + ';';\n        });\n      },\n      translate: function (text) {\n        return Control.translate ? Control.translate(text) : text;\n      },\n      before: function (items) {\n        var self = this, parent = self.parent();\n        if (parent) {\n          parent.insert(items, parent.items().indexOf(self), true);\n        }\n        return self;\n      },\n      after: function (items) {\n        var self = this, parent = self.parent();\n        if (parent) {\n          parent.insert(items, parent.items().indexOf(self));\n        }\n        return self;\n      },\n      remove: function () {\n        var self = this;\n        var elm = self.getEl();\n        var parent = self.parent();\n        var newItems, i;\n        if (self.items) {\n          var controls = self.items().toArray();\n          i = controls.length;\n          while (i--) {\n            controls[i].remove();\n          }\n        }\n        if (parent && parent.items) {\n          newItems = [];\n          parent.items().each(function (item) {\n            if (item !== self) {\n              newItems.push(item);\n            }\n          });\n          parent.items().set(newItems);\n          parent._lastRect = null;\n        }\n        if (self._eventsRoot && self._eventsRoot === self) {\n          global$9(elm).off();\n        }\n        var lookup = self.getRoot().controlIdLookup;\n        if (lookup) {\n          delete lookup[self._id];\n        }\n        if (elm && elm.parentNode) {\n          elm.parentNode.removeChild(elm);\n        }\n        self.state.set('rendered', false);\n        self.state.destroy();\n        self.fire('remove');\n        return self;\n      },\n      renderBefore: function (elm) {\n        global$9(elm).before(this.renderHtml());\n        this.postRender();\n        return this;\n      },\n      renderTo: function (elm) {\n        global$9(elm || this.getContainerElm()).append(this.renderHtml());\n        this.postRender();\n        return this;\n      },\n      preRender: function () {\n      },\n      render: function () {\n      },\n      renderHtml: function () {\n        return '<div id=\"' + this._id + '\" class=\"' + this.classes + '\"></div>';\n      },\n      postRender: function () {\n        var self = this;\n        var settings = self.settings;\n        var elm, box, parent, name, parentEventsRoot;\n        self.$el = global$9(self.getEl());\n        self.state.set('rendered', true);\n        for (name in settings) {\n          if (name.indexOf('on') === 0) {\n            self.on(name.substr(2), settings[name]);\n          }\n        }\n        if (self._eventsRoot) {\n          for (parent = self.parent(); !parentEventsRoot && parent; parent = parent.parent()) {\n            parentEventsRoot = parent._eventsRoot;\n          }\n          if (parentEventsRoot) {\n            for (name in parentEventsRoot._nativeEvents) {\n              self._nativeEvents[name] = true;\n            }\n          }\n        }\n        bindPendingEvents(self);\n        if (settings.style) {\n          elm = self.getEl();\n          if (elm) {\n            elm.setAttribute('style', settings.style);\n            elm.style.cssText = settings.style;\n          }\n        }\n        if (self.settings.border) {\n          box = self.borderBox;\n          self.$el.css({\n            'border-top-width': box.top,\n            'border-right-width': box.right,\n            'border-bottom-width': box.bottom,\n            'border-left-width': box.left\n          });\n        }\n        var root = self.getRoot();\n        if (!root.controlIdLookup) {\n          root.controlIdLookup = {};\n        }\n        root.controlIdLookup[self._id] = self;\n        for (var key in self._aria) {\n          self.aria(key, self._aria[key]);\n        }\n        if (self.state.get('visible') === false) {\n          self.getEl().style.display = 'none';\n        }\n        self.bindStates();\n        self.state.on('change:visible', function (e) {\n          var state = e.value;\n          var parentCtrl;\n          if (self.state.get('rendered')) {\n            self.getEl().style.display = state === false ? 'none' : '';\n            self.getEl().getBoundingClientRect();\n          }\n          parentCtrl = self.parent();\n          if (parentCtrl) {\n            parentCtrl._lastRect = null;\n          }\n          self.fire(state ? 'show' : 'hide');\n          ReflowQueue.add(self);\n        });\n        self.fire('postrender', {}, false);\n      },\n      bindStates: function () {\n      },\n      scrollIntoView: function (align) {\n        function getOffset(elm, rootElm) {\n          var x, y, parent = elm;\n          x = y = 0;\n          while (parent && parent !== rootElm && parent.nodeType) {\n            x += parent.offsetLeft || 0;\n            y += parent.offsetTop || 0;\n            parent = parent.offsetParent;\n          }\n          return {\n            x: x,\n            y: y\n          };\n        }\n        var elm = this.getEl(), parentElm = elm.parentNode;\n        var x, y, width, height, parentWidth, parentHeight;\n        var pos = getOffset(elm, parentElm);\n        x = pos.x;\n        y = pos.y;\n        width = elm.offsetWidth;\n        height = elm.offsetHeight;\n        parentWidth = parentElm.clientWidth;\n        parentHeight = parentElm.clientHeight;\n        if (align === 'end') {\n          x -= parentWidth - width;\n          y -= parentHeight - height;\n        } else if (align === 'center') {\n          x -= parentWidth / 2 - width / 2;\n          y -= parentHeight / 2 - height / 2;\n        }\n        parentElm.scrollLeft = x;\n        parentElm.scrollTop = y;\n        return this;\n      },\n      getRoot: function () {\n        var ctrl = this, rootControl;\n        var parents = [];\n        while (ctrl) {\n          if (ctrl.rootControl) {\n            rootControl = ctrl.rootControl;\n            break;\n          }\n          parents.push(ctrl);\n          rootControl = ctrl;\n          ctrl = ctrl.parent();\n        }\n        if (!rootControl) {\n          rootControl = this;\n        }\n        var i = parents.length;\n        while (i--) {\n          parents[i].rootControl = rootControl;\n        }\n        return rootControl;\n      },\n      reflow: function () {\n        ReflowQueue.remove(this);\n        var parent = this.parent();\n        if (parent && parent._layout && !parent._layout.isNative()) {\n          parent.reflow();\n        }\n        return this;\n      }\n    };\n    global$2.each('text title visible disabled active value'.split(' '), function (name) {\n      proto$1[name] = function (value) {\n        if (arguments.length === 0) {\n          return this.state.get(name);\n        }\n        if (typeof value !== 'undefined') {\n          this.state.set(name, value);\n        }\n        return this;\n      };\n    });\n    Control = global$a.extend(proto$1);\n    function getEventDispatcher(obj) {\n      if (!obj._eventDispatcher) {\n        obj._eventDispatcher = new global$b({\n          scope: obj,\n          toggleEvent: function (name, state) {\n            if (state && global$b.isNative(name)) {\n              if (!obj._nativeEvents) {\n                obj._nativeEvents = {};\n              }\n              obj._nativeEvents[name] = true;\n              if (obj.state.get('rendered')) {\n                bindPendingEvents(obj);\n              }\n            }\n          }\n        });\n      }\n      return obj._eventDispatcher;\n    }\n    function bindPendingEvents(eventCtrl) {\n      var i, l, parents, eventRootCtrl, nativeEvents, name;\n      function delegate(e) {\n        var control = eventCtrl.getParentCtrl(e.target);\n        if (control) {\n          control.fire(e.type, e);\n        }\n      }\n      function mouseLeaveHandler() {\n        var ctrl = eventRootCtrl._lastHoverCtrl;\n        if (ctrl) {\n          ctrl.fire('mouseleave', { target: ctrl.getEl() });\n          ctrl.parents().each(function (ctrl) {\n            ctrl.fire('mouseleave', { target: ctrl.getEl() });\n          });\n          eventRootCtrl._lastHoverCtrl = null;\n        }\n      }\n      function mouseEnterHandler(e) {\n        var ctrl = eventCtrl.getParentCtrl(e.target), lastCtrl = eventRootCtrl._lastHoverCtrl, idx = 0, i, parents, lastParents;\n        if (ctrl !== lastCtrl) {\n          eventRootCtrl._lastHoverCtrl = ctrl;\n          parents = ctrl.parents().toArray().reverse();\n          parents.push(ctrl);\n          if (lastCtrl) {\n            lastParents = lastCtrl.parents().toArray().reverse();\n            lastParents.push(lastCtrl);\n            for (idx = 0; idx < lastParents.length; idx++) {\n              if (parents[idx] !== lastParents[idx]) {\n                break;\n              }\n            }\n            for (i = lastParents.length - 1; i >= idx; i--) {\n              lastCtrl = lastParents[i];\n              lastCtrl.fire('mouseleave', { target: lastCtrl.getEl() });\n            }\n          }\n          for (i = idx; i < parents.length; i++) {\n            ctrl = parents[i];\n            ctrl.fire('mouseenter', { target: ctrl.getEl() });\n          }\n        }\n      }\n      function fixWheelEvent(e) {\n        e.preventDefault();\n        if (e.type === 'mousewheel') {\n          e.deltaY = -1 / 40 * e.wheelDelta;\n          if (e.wheelDeltaX) {\n            e.deltaX = -1 / 40 * e.wheelDeltaX;\n          }\n        } else {\n          e.deltaX = 0;\n          e.deltaY = e.detail;\n        }\n        e = eventCtrl.fire('wheel', e);\n      }\n      nativeEvents = eventCtrl._nativeEvents;\n      if (nativeEvents) {\n        parents = eventCtrl.parents().toArray();\n        parents.unshift(eventCtrl);\n        for (i = 0, l = parents.length; !eventRootCtrl && i < l; i++) {\n          eventRootCtrl = parents[i]._eventsRoot;\n        }\n        if (!eventRootCtrl) {\n          eventRootCtrl = parents[parents.length - 1] || eventCtrl;\n        }\n        eventCtrl._eventsRoot = eventRootCtrl;\n        for (l = i, i = 0; i < l; i++) {\n          parents[i]._eventsRoot = eventRootCtrl;\n        }\n        var eventRootDelegates = eventRootCtrl._delegates;\n        if (!eventRootDelegates) {\n          eventRootDelegates = eventRootCtrl._delegates = {};\n        }\n        for (name in nativeEvents) {\n          if (!nativeEvents) {\n            return false;\n          }\n          if (name === 'wheel' && !hasWheelEventSupport) {\n            if (hasMouseWheelEventSupport) {\n              global$9(eventCtrl.getEl()).on('mousewheel', fixWheelEvent);\n            } else {\n              global$9(eventCtrl.getEl()).on('DOMMouseScroll', fixWheelEvent);\n            }\n            continue;\n          }\n          if (name === 'mouseenter' || name === 'mouseleave') {\n            if (!eventRootCtrl._hasMouseEnter) {\n              global$9(eventRootCtrl.getEl()).on('mouseleave', mouseLeaveHandler).on('mouseover', mouseEnterHandler);\n              eventRootCtrl._hasMouseEnter = 1;\n            }\n          } else if (!eventRootDelegates[name]) {\n            global$9(eventRootCtrl.getEl()).on(name, delegate);\n            eventRootDelegates[name] = true;\n          }\n          nativeEvents[name] = false;\n        }\n      }\n    }\n    var Control$1 = Control;\n\n    var hasTabstopData = function (elm) {\n      return elm.getAttribute('data-mce-tabstop') ? true : false;\n    };\n    function KeyboardNavigation (settings) {\n      var root = settings.root;\n      var focusedElement, focusedControl;\n      function isElement(node) {\n        return node && node.nodeType === 1;\n      }\n      try {\n        focusedElement = domGlobals.document.activeElement;\n      } catch (ex) {\n        focusedElement = domGlobals.document.body;\n      }\n      focusedControl = root.getParentCtrl(focusedElement);\n      function getRole(elm) {\n        elm = elm || focusedElement;\n        if (isElement(elm)) {\n          return elm.getAttribute('role');\n        }\n        return null;\n      }\n      function getParentRole(elm) {\n        var role, parent = elm || focusedElement;\n        while (parent = parent.parentNode) {\n          if (role = getRole(parent)) {\n            return role;\n          }\n        }\n      }\n      function getAriaProp(name) {\n        var elm = focusedElement;\n        if (isElement(elm)) {\n          return elm.getAttribute('aria-' + name);\n        }\n      }\n      function isTextInputElement(elm) {\n        var tagName = elm.tagName.toUpperCase();\n        return tagName === 'INPUT' || tagName === 'TEXTAREA' || tagName === 'SELECT';\n      }\n      function canFocus(elm) {\n        if (isTextInputElement(elm) && !elm.hidden) {\n          return true;\n        }\n        if (hasTabstopData(elm)) {\n          return true;\n        }\n        if (/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell|slider)$/.test(getRole(elm))) {\n          return true;\n        }\n        return false;\n      }\n      function getFocusElements(elm) {\n        var elements = [];\n        function collect(elm) {\n          if (elm.nodeType !== 1 || elm.style.display === 'none' || elm.disabled) {\n            return;\n          }\n          if (canFocus(elm)) {\n            elements.push(elm);\n          }\n          for (var i = 0; i < elm.childNodes.length; i++) {\n            collect(elm.childNodes[i]);\n          }\n        }\n        collect(elm || root.getEl());\n        return elements;\n      }\n      function getNavigationRoot(targetControl) {\n        var navigationRoot, controls;\n        targetControl = targetControl || focusedControl;\n        controls = targetControl.parents().toArray();\n        controls.unshift(targetControl);\n        for (var i = 0; i < controls.length; i++) {\n          navigationRoot = controls[i];\n          if (navigationRoot.settings.ariaRoot) {\n            break;\n          }\n        }\n        return navigationRoot;\n      }\n      function focusFirst(targetControl) {\n        var navigationRoot = getNavigationRoot(targetControl);\n        var focusElements = getFocusElements(navigationRoot.getEl());\n        if (navigationRoot.settings.ariaRemember && 'lastAriaIndex' in navigationRoot) {\n          moveFocusToIndex(navigationRoot.lastAriaIndex, focusElements);\n        } else {\n          moveFocusToIndex(0, focusElements);\n        }\n      }\n      function moveFocusToIndex(idx, elements) {\n        if (idx < 0) {\n          idx = elements.length - 1;\n        } else if (idx >= elements.length) {\n          idx = 0;\n        }\n        if (elements[idx]) {\n          elements[idx].focus();\n        }\n        return idx;\n      }\n      function moveFocus(dir, elements) {\n        var idx = -1;\n        var navigationRoot = getNavigationRoot();\n        elements = elements || getFocusElements(navigationRoot.getEl());\n        for (var i = 0; i < elements.length; i++) {\n          if (elements[i] === focusedElement) {\n            idx = i;\n          }\n        }\n        idx += dir;\n        navigationRoot.lastAriaIndex = moveFocusToIndex(idx, elements);\n      }\n      function left() {\n        var parentRole = getParentRole();\n        if (parentRole === 'tablist') {\n          moveFocus(-1, getFocusElements(focusedElement.parentNode));\n        } else if (focusedControl.parent().submenu) {\n          cancel();\n        } else {\n          moveFocus(-1);\n        }\n      }\n      function right() {\n        var role = getRole(), parentRole = getParentRole();\n        if (parentRole === 'tablist') {\n          moveFocus(1, getFocusElements(focusedElement.parentNode));\n        } else if (role === 'menuitem' && parentRole === 'menu' && getAriaProp('haspopup')) {\n          enter();\n        } else {\n          moveFocus(1);\n        }\n      }\n      function up() {\n        moveFocus(-1);\n      }\n      function down() {\n        var role = getRole(), parentRole = getParentRole();\n        if (role === 'menuitem' && parentRole === 'menubar') {\n          enter();\n        } else if (role === 'button' && getAriaProp('haspopup')) {\n          enter({ key: 'down' });\n        } else {\n          moveFocus(1);\n        }\n      }\n      function tab(e) {\n        var parentRole = getParentRole();\n        if (parentRole === 'tablist') {\n          var elm = getFocusElements(focusedControl.getEl('body'))[0];\n          if (elm) {\n            elm.focus();\n          }\n        } else {\n          moveFocus(e.shiftKey ? -1 : 1);\n        }\n      }\n      function cancel() {\n        focusedControl.fire('cancel');\n      }\n      function enter(aria) {\n        aria = aria || {};\n        focusedControl.fire('click', {\n          target: focusedElement,\n          aria: aria\n        });\n      }\n      root.on('keydown', function (e) {\n        function handleNonTabOrEscEvent(e, handler) {\n          if (isTextInputElement(focusedElement) || hasTabstopData(focusedElement)) {\n            return;\n          }\n          if (getRole(focusedElement) === 'slider') {\n            return;\n          }\n          if (handler(e) !== false) {\n            e.preventDefault();\n          }\n        }\n        if (e.isDefaultPrevented()) {\n          return;\n        }\n        switch (e.keyCode) {\n        case 37:\n          handleNonTabOrEscEvent(e, left);\n          break;\n        case 39:\n          handleNonTabOrEscEvent(e, right);\n          break;\n        case 38:\n          handleNonTabOrEscEvent(e, up);\n          break;\n        case 40:\n          handleNonTabOrEscEvent(e, down);\n          break;\n        case 27:\n          cancel();\n          break;\n        case 14:\n        case 13:\n        case 32:\n          handleNonTabOrEscEvent(e, enter);\n          break;\n        case 9:\n          tab(e);\n          e.preventDefault();\n          break;\n        }\n      });\n      root.on('focusin', function (e) {\n        focusedElement = e.target;\n        focusedControl = e.control;\n      });\n      return { focusFirst: focusFirst };\n    }\n\n    var selectorCache = {};\n    var Container = Control$1.extend({\n      init: function (settings) {\n        var self = this;\n        self._super(settings);\n        settings = self.settings;\n        if (settings.fixed) {\n          self.state.set('fixed', true);\n        }\n        self._items = new Collection$2();\n        if (self.isRtl()) {\n          self.classes.add('rtl');\n        }\n        self.bodyClasses = new ClassList(function () {\n          if (self.state.get('rendered')) {\n            self.getEl('body').className = this.toString();\n          }\n        });\n        self.bodyClasses.prefix = self.classPrefix;\n        self.classes.add('container');\n        self.bodyClasses.add('container-body');\n        if (settings.containerCls) {\n          self.classes.add(settings.containerCls);\n        }\n        self._layout = global$4.create((settings.layout || '') + 'layout');\n        if (self.settings.items) {\n          self.add(self.settings.items);\n        } else {\n          self.add(self.render());\n        }\n        self._hasBody = true;\n      },\n      items: function () {\n        return this._items;\n      },\n      find: function (selector) {\n        selector = selectorCache[selector] = selectorCache[selector] || new Selector(selector);\n        return selector.find(this);\n      },\n      add: function (items) {\n        var self = this;\n        self.items().add(self.create(items)).parent(self);\n        return self;\n      },\n      focus: function (keyboard) {\n        var self = this;\n        var focusCtrl, keyboardNav, items;\n        if (keyboard) {\n          keyboardNav = self.keyboardNav || self.parents().eq(-1)[0].keyboardNav;\n          if (keyboardNav) {\n            keyboardNav.focusFirst(self);\n            return;\n          }\n        }\n        items = self.find('*');\n        if (self.statusbar) {\n          items.add(self.statusbar.items());\n        }\n        items.each(function (ctrl) {\n          if (ctrl.settings.autofocus) {\n            focusCtrl = null;\n            return false;\n          }\n          if (ctrl.canFocus) {\n            focusCtrl = focusCtrl || ctrl;\n          }\n        });\n        if (focusCtrl) {\n          focusCtrl.focus();\n        }\n        return self;\n      },\n      replace: function (oldItem, newItem) {\n        var ctrlElm;\n        var items = this.items();\n        var i = items.length;\n        while (i--) {\n          if (items[i] === oldItem) {\n            items[i] = newItem;\n            break;\n          }\n        }\n        if (i >= 0) {\n          ctrlElm = newItem.getEl();\n          if (ctrlElm) {\n            ctrlElm.parentNode.removeChild(ctrlElm);\n          }\n          ctrlElm = oldItem.getEl();\n          if (ctrlElm) {\n            ctrlElm.parentNode.removeChild(ctrlElm);\n          }\n        }\n        newItem.parent(this);\n      },\n      create: function (items) {\n        var self = this;\n        var settings;\n        var ctrlItems = [];\n        if (!global$2.isArray(items)) {\n          items = [items];\n        }\n        global$2.each(items, function (item) {\n          if (item) {\n            if (!(item instanceof Control$1)) {\n              if (typeof item === 'string') {\n                item = { type: item };\n              }\n              settings = global$2.extend({}, self.settings.defaults, item);\n              item.type = settings.type = settings.type || item.type || self.settings.defaultType || (settings.defaults ? settings.defaults.type : null);\n              item = global$4.create(settings);\n            }\n            ctrlItems.push(item);\n          }\n        });\n        return ctrlItems;\n      },\n      renderNew: function () {\n        var self = this;\n        self.items().each(function (ctrl, index) {\n          var containerElm;\n          ctrl.parent(self);\n          if (!ctrl.state.get('rendered')) {\n            containerElm = self.getEl('body');\n            if (containerElm.hasChildNodes() && index <= containerElm.childNodes.length - 1) {\n              global$9(containerElm.childNodes[index]).before(ctrl.renderHtml());\n            } else {\n              global$9(containerElm).append(ctrl.renderHtml());\n            }\n            ctrl.postRender();\n            ReflowQueue.add(ctrl);\n          }\n        });\n        self._layout.applyClasses(self.items().filter(':visible'));\n        self._lastRect = null;\n        return self;\n      },\n      append: function (items) {\n        return this.add(items).renderNew();\n      },\n      prepend: function (items) {\n        var self = this;\n        self.items().set(self.create(items).concat(self.items().toArray()));\n        return self.renderNew();\n      },\n      insert: function (items, index, before) {\n        var self = this;\n        var curItems, beforeItems, afterItems;\n        items = self.create(items);\n        curItems = self.items();\n        if (!before && index < curItems.length - 1) {\n          index += 1;\n        }\n        if (index >= 0 && index < curItems.length) {\n          beforeItems = curItems.slice(0, index).toArray();\n          afterItems = curItems.slice(index).toArray();\n          curItems.set(beforeItems.concat(items, afterItems));\n        }\n        return self.renderNew();\n      },\n      fromJSON: function (data) {\n        var self = this;\n        for (var name in data) {\n          self.find('#' + name).value(data[name]);\n        }\n        return self;\n      },\n      toJSON: function () {\n        var self = this, data = {};\n        self.find('*').each(function (ctrl) {\n          var name = ctrl.name(), value = ctrl.value();\n          if (name && typeof value !== 'undefined') {\n            data[name] = value;\n          }\n        });\n        return data;\n      },\n      renderHtml: function () {\n        var self = this, layout = self._layout, role = this.settings.role;\n        self.preRender();\n        layout.preRender(self);\n        return '<div id=\"' + self._id + '\" class=\"' + self.classes + '\"' + (role ? ' role=\"' + this.settings.role + '\"' : '') + '>' + '<div id=\"' + self._id + '-body\" class=\"' + self.bodyClasses + '\">' + (self.settings.html || '') + layout.renderHtml(self) + '</div>' + '</div>';\n      },\n      postRender: function () {\n        var self = this;\n        var box;\n        self.items().exec('postRender');\n        self._super();\n        self._layout.postRender(self);\n        self.state.set('rendered', true);\n        if (self.settings.style) {\n          self.$el.css(self.settings.style);\n        }\n        if (self.settings.border) {\n          box = self.borderBox;\n          self.$el.css({\n            'border-top-width': box.top,\n            'border-right-width': box.right,\n            'border-bottom-width': box.bottom,\n            'border-left-width': box.left\n          });\n        }\n        if (!self.parent()) {\n          self.keyboardNav = KeyboardNavigation({ root: self });\n        }\n        return self;\n      },\n      initLayoutRect: function () {\n        var self = this, layoutRect = self._super();\n        self._layout.recalc(self);\n        return layoutRect;\n      },\n      recalc: function () {\n        var self = this;\n        var rect = self._layoutRect;\n        var lastRect = self._lastRect;\n        if (!lastRect || lastRect.w !== rect.w || lastRect.h !== rect.h) {\n          self._layout.recalc(self);\n          rect = self.layoutRect();\n          self._lastRect = {\n            x: rect.x,\n            y: rect.y,\n            w: rect.w,\n            h: rect.h\n          };\n          return true;\n        }\n      },\n      reflow: function () {\n        var i;\n        ReflowQueue.remove(this);\n        if (this.visible()) {\n          Control$1.repaintControls = [];\n          Control$1.repaintControls.map = {};\n          this.recalc();\n          i = Control$1.repaintControls.length;\n          while (i--) {\n            Control$1.repaintControls[i].repaint();\n          }\n          if (this.settings.layout !== 'flow' && this.settings.layout !== 'stack') {\n            this.repaint();\n          }\n          Control$1.repaintControls = [];\n        }\n        return this;\n      }\n    });\n\n    function getDocumentSize(doc) {\n      var documentElement, body, scrollWidth, clientWidth;\n      var offsetWidth, scrollHeight, clientHeight, offsetHeight;\n      var max = Math.max;\n      documentElement = doc.documentElement;\n      body = doc.body;\n      scrollWidth = max(documentElement.scrollWidth, body.scrollWidth);\n      clientWidth = max(documentElement.clientWidth, body.clientWidth);\n      offsetWidth = max(documentElement.offsetWidth, body.offsetWidth);\n      scrollHeight = max(documentElement.scrollHeight, body.scrollHeight);\n      clientHeight = max(documentElement.clientHeight, body.clientHeight);\n      offsetHeight = max(documentElement.offsetHeight, body.offsetHeight);\n      return {\n        width: scrollWidth < offsetWidth ? clientWidth : scrollWidth,\n        height: scrollHeight < offsetHeight ? clientHeight : scrollHeight\n      };\n    }\n    function updateWithTouchData(e) {\n      var keys, i;\n      if (e.changedTouches) {\n        keys = 'screenX screenY pageX pageY clientX clientY'.split(' ');\n        for (i = 0; i < keys.length; i++) {\n          e[keys[i]] = e.changedTouches[0][keys[i]];\n        }\n      }\n    }\n    function DragHelper (id, settings) {\n      var $eventOverlay;\n      var doc = settings.document || domGlobals.document;\n      var downButton;\n      var start, stop, drag, startX, startY;\n      settings = settings || {};\n      var handleElement = doc.getElementById(settings.handle || id);\n      start = function (e) {\n        var docSize = getDocumentSize(doc);\n        var handleElm, cursor;\n        updateWithTouchData(e);\n        e.preventDefault();\n        downButton = e.button;\n        handleElm = handleElement;\n        startX = e.screenX;\n        startY = e.screenY;\n        if (domGlobals.window.getComputedStyle) {\n          cursor = domGlobals.window.getComputedStyle(handleElm, null).getPropertyValue('cursor');\n        } else {\n          cursor = handleElm.runtimeStyle.cursor;\n        }\n        $eventOverlay = global$9('<div></div>').css({\n          position: 'absolute',\n          top: 0,\n          left: 0,\n          width: docSize.width,\n          height: docSize.height,\n          zIndex: 2147483647,\n          opacity: 0.0001,\n          cursor: cursor\n        }).appendTo(doc.body);\n        global$9(doc).on('mousemove touchmove', drag).on('mouseup touchend', stop);\n        settings.start(e);\n      };\n      drag = function (e) {\n        updateWithTouchData(e);\n        if (e.button !== downButton) {\n          return stop(e);\n        }\n        e.deltaX = e.screenX - startX;\n        e.deltaY = e.screenY - startY;\n        e.preventDefault();\n        settings.drag(e);\n      };\n      stop = function (e) {\n        updateWithTouchData(e);\n        global$9(doc).off('mousemove touchmove', drag).off('mouseup touchend', stop);\n        $eventOverlay.remove();\n        if (settings.stop) {\n          settings.stop(e);\n        }\n      };\n      this.destroy = function () {\n        global$9(handleElement).off();\n      };\n      global$9(handleElement).on('mousedown touchstart', start);\n    }\n\n    var Scrollable = {\n      init: function () {\n        var self = this;\n        self.on('repaint', self.renderScroll);\n      },\n      renderScroll: function () {\n        var self = this, margin = 2;\n        function repaintScroll() {\n          var hasScrollH, hasScrollV, bodyElm;\n          function repaintAxis(axisName, posName, sizeName, contentSizeName, hasScroll, ax) {\n            var containerElm, scrollBarElm, scrollThumbElm;\n            var containerSize, scrollSize, ratio, rect;\n            var posNameLower, sizeNameLower;\n            scrollBarElm = self.getEl('scroll' + axisName);\n            if (scrollBarElm) {\n              posNameLower = posName.toLowerCase();\n              sizeNameLower = sizeName.toLowerCase();\n              global$9(self.getEl('absend')).css(posNameLower, self.layoutRect()[contentSizeName] - 1);\n              if (!hasScroll) {\n                global$9(scrollBarElm).css('display', 'none');\n                return;\n              }\n              global$9(scrollBarElm).css('display', 'block');\n              containerElm = self.getEl('body');\n              scrollThumbElm = self.getEl('scroll' + axisName + 't');\n              containerSize = containerElm['client' + sizeName] - margin * 2;\n              containerSize -= hasScrollH && hasScrollV ? scrollBarElm['client' + ax] : 0;\n              scrollSize = containerElm['scroll' + sizeName];\n              ratio = containerSize / scrollSize;\n              rect = {};\n              rect[posNameLower] = containerElm['offset' + posName] + margin;\n              rect[sizeNameLower] = containerSize;\n              global$9(scrollBarElm).css(rect);\n              rect = {};\n              rect[posNameLower] = containerElm['scroll' + posName] * ratio;\n              rect[sizeNameLower] = containerSize * ratio;\n              global$9(scrollThumbElm).css(rect);\n            }\n          }\n          bodyElm = self.getEl('body');\n          hasScrollH = bodyElm.scrollWidth > bodyElm.clientWidth;\n          hasScrollV = bodyElm.scrollHeight > bodyElm.clientHeight;\n          repaintAxis('h', 'Left', 'Width', 'contentW', hasScrollH, 'Height');\n          repaintAxis('v', 'Top', 'Height', 'contentH', hasScrollV, 'Width');\n        }\n        function addScroll() {\n          function addScrollAxis(axisName, posName, sizeName, deltaPosName, ax) {\n            var scrollStart;\n            var axisId = self._id + '-scroll' + axisName, prefix = self.classPrefix;\n            global$9(self.getEl()).append('<div id=\"' + axisId + '\" class=\"' + prefix + 'scrollbar ' + prefix + 'scrollbar-' + axisName + '\">' + '<div id=\"' + axisId + 't\" class=\"' + prefix + 'scrollbar-thumb\"></div>' + '</div>');\n            self.draghelper = new DragHelper(axisId + 't', {\n              start: function () {\n                scrollStart = self.getEl('body')['scroll' + posName];\n                global$9('#' + axisId).addClass(prefix + 'active');\n              },\n              drag: function (e) {\n                var ratio, hasScrollH, hasScrollV, containerSize;\n                var layoutRect = self.layoutRect();\n                hasScrollH = layoutRect.contentW > layoutRect.innerW;\n                hasScrollV = layoutRect.contentH > layoutRect.innerH;\n                containerSize = self.getEl('body')['client' + sizeName] - margin * 2;\n                containerSize -= hasScrollH && hasScrollV ? self.getEl('scroll' + axisName)['client' + ax] : 0;\n                ratio = containerSize / self.getEl('body')['scroll' + sizeName];\n                self.getEl('body')['scroll' + posName] = scrollStart + e['delta' + deltaPosName] / ratio;\n              },\n              stop: function () {\n                global$9('#' + axisId).removeClass(prefix + 'active');\n              }\n            });\n          }\n          self.classes.add('scroll');\n          addScrollAxis('v', 'Top', 'Height', 'Y', 'Width');\n          addScrollAxis('h', 'Left', 'Width', 'X', 'Height');\n        }\n        if (self.settings.autoScroll) {\n          if (!self._hasScroll) {\n            self._hasScroll = true;\n            addScroll();\n            self.on('wheel', function (e) {\n              var bodyEl = self.getEl('body');\n              bodyEl.scrollLeft += (e.deltaX || 0) * 10;\n              bodyEl.scrollTop += e.deltaY * 10;\n              repaintScroll();\n            });\n            global$9(self.getEl('body')).on('scroll', repaintScroll);\n          }\n          repaintScroll();\n        }\n      }\n    };\n\n    var Panel = Container.extend({\n      Defaults: {\n        layout: 'fit',\n        containerCls: 'panel'\n      },\n      Mixins: [Scrollable],\n      renderHtml: function () {\n        var self = this;\n        var layout = self._layout;\n        var innerHtml = self.settings.html;\n        self.preRender();\n        layout.preRender(self);\n        if (typeof innerHtml === 'undefined') {\n          innerHtml = '<div id=\"' + self._id + '-body\" class=\"' + self.bodyClasses + '\">' + layout.renderHtml(self) + '</div>';\n        } else {\n          if (typeof innerHtml === 'function') {\n            innerHtml = innerHtml.call(self);\n          }\n          self._hasBody = false;\n        }\n        return '<div id=\"' + self._id + '\" class=\"' + self.classes + '\" hidefocus=\"1\" tabindex=\"-1\" role=\"group\">' + (self._preBodyHtml || '') + innerHtml + '</div>';\n      }\n    });\n\n    var Resizable = {\n      resizeToContent: function () {\n        this._layoutRect.autoResize = true;\n        this._lastRect = null;\n        this.reflow();\n      },\n      resizeTo: function (w, h) {\n        if (w <= 1 || h <= 1) {\n          var rect = funcs.getWindowSize();\n          w = w <= 1 ? w * rect.w : w;\n          h = h <= 1 ? h * rect.h : h;\n        }\n        this._layoutRect.autoResize = false;\n        return this.layoutRect({\n          minW: w,\n          minH: h,\n          w: w,\n          h: h\n        }).reflow();\n      },\n      resizeBy: function (dw, dh) {\n        var self = this, rect = self.layoutRect();\n        return self.resizeTo(rect.w + dw, rect.h + dh);\n      }\n    };\n\n    var documentClickHandler, documentScrollHandler, windowResizeHandler;\n    var visiblePanels = [];\n    var zOrder = [];\n    var hasModal;\n    function isChildOf(ctrl, parent) {\n      while (ctrl) {\n        if (ctrl === parent) {\n          return true;\n        }\n        ctrl = ctrl.parent();\n      }\n    }\n    function skipOrHidePanels(e) {\n      var i = visiblePanels.length;\n      while (i--) {\n        var panel = visiblePanels[i], clickCtrl = panel.getParentCtrl(e.target);\n        if (panel.settings.autohide) {\n          if (clickCtrl) {\n            if (isChildOf(clickCtrl, panel) || panel.parent() === clickCtrl) {\n              continue;\n            }\n          }\n          e = panel.fire('autohide', { target: e.target });\n          if (!e.isDefaultPrevented()) {\n            panel.hide();\n          }\n        }\n      }\n    }\n    function bindDocumentClickHandler() {\n      if (!documentClickHandler) {\n        documentClickHandler = function (e) {\n          if (e.button === 2) {\n            return;\n          }\n          skipOrHidePanels(e);\n        };\n        global$9(domGlobals.document).on('click touchstart', documentClickHandler);\n      }\n    }\n    function bindDocumentScrollHandler() {\n      if (!documentScrollHandler) {\n        documentScrollHandler = function () {\n          var i;\n          i = visiblePanels.length;\n          while (i--) {\n            repositionPanel(visiblePanels[i]);\n          }\n        };\n        global$9(domGlobals.window).on('scroll', documentScrollHandler);\n      }\n    }\n    function bindWindowResizeHandler() {\n      if (!windowResizeHandler) {\n        var docElm_1 = domGlobals.document.documentElement;\n        var clientWidth_1 = docElm_1.clientWidth, clientHeight_1 = docElm_1.clientHeight;\n        windowResizeHandler = function () {\n          if (!domGlobals.document.all || clientWidth_1 !== docElm_1.clientWidth || clientHeight_1 !== docElm_1.clientHeight) {\n            clientWidth_1 = docElm_1.clientWidth;\n            clientHeight_1 = docElm_1.clientHeight;\n            FloatPanel.hideAll();\n          }\n        };\n        global$9(domGlobals.window).on('resize', windowResizeHandler);\n      }\n    }\n    function repositionPanel(panel) {\n      var scrollY = funcs.getViewPort().y;\n      function toggleFixedChildPanels(fixed, deltaY) {\n        var parent;\n        for (var i = 0; i < visiblePanels.length; i++) {\n          if (visiblePanels[i] !== panel) {\n            parent = visiblePanels[i].parent();\n            while (parent && (parent = parent.parent())) {\n              if (parent === panel) {\n                visiblePanels[i].fixed(fixed).moveBy(0, deltaY).repaint();\n              }\n            }\n          }\n        }\n      }\n      if (panel.settings.autofix) {\n        if (!panel.state.get('fixed')) {\n          panel._autoFixY = panel.layoutRect().y;\n          if (panel._autoFixY < scrollY) {\n            panel.fixed(true).layoutRect({ y: 0 }).repaint();\n            toggleFixedChildPanels(true, scrollY - panel._autoFixY);\n          }\n        } else {\n          if (panel._autoFixY > scrollY) {\n            panel.fixed(false).layoutRect({ y: panel._autoFixY }).repaint();\n            toggleFixedChildPanels(false, panel._autoFixY - scrollY);\n          }\n        }\n      }\n    }\n    function addRemove(add, ctrl) {\n      var i, zIndex = FloatPanel.zIndex || 65535, topModal;\n      if (add) {\n        zOrder.push(ctrl);\n      } else {\n        i = zOrder.length;\n        while (i--) {\n          if (zOrder[i] === ctrl) {\n            zOrder.splice(i, 1);\n          }\n        }\n      }\n      if (zOrder.length) {\n        for (i = 0; i < zOrder.length; i++) {\n          if (zOrder[i].modal) {\n            zIndex++;\n            topModal = zOrder[i];\n          }\n          zOrder[i].getEl().style.zIndex = zIndex;\n          zOrder[i].zIndex = zIndex;\n          zIndex++;\n        }\n      }\n      var modalBlockEl = global$9('#' + ctrl.classPrefix + 'modal-block', ctrl.getContainerElm())[0];\n      if (topModal) {\n        global$9(modalBlockEl).css('z-index', topModal.zIndex - 1);\n      } else if (modalBlockEl) {\n        modalBlockEl.parentNode.removeChild(modalBlockEl);\n        hasModal = false;\n      }\n      FloatPanel.currentZIndex = zIndex;\n    }\n    var FloatPanel = Panel.extend({\n      Mixins: [\n        Movable,\n        Resizable\n      ],\n      init: function (settings) {\n        var self = this;\n        self._super(settings);\n        self._eventsRoot = self;\n        self.classes.add('floatpanel');\n        if (settings.autohide) {\n          bindDocumentClickHandler();\n          bindWindowResizeHandler();\n          visiblePanels.push(self);\n        }\n        if (settings.autofix) {\n          bindDocumentScrollHandler();\n          self.on('move', function () {\n            repositionPanel(this);\n          });\n        }\n        self.on('postrender show', function (e) {\n          if (e.control === self) {\n            var $modalBlockEl_1;\n            var prefix_1 = self.classPrefix;\n            if (self.modal && !hasModal) {\n              $modalBlockEl_1 = global$9('#' + prefix_1 + 'modal-block', self.getContainerElm());\n              if (!$modalBlockEl_1[0]) {\n                $modalBlockEl_1 = global$9('<div id=\"' + prefix_1 + 'modal-block\" class=\"' + prefix_1 + 'reset ' + prefix_1 + 'fade\"></div>').appendTo(self.getContainerElm());\n              }\n              global$7.setTimeout(function () {\n                $modalBlockEl_1.addClass(prefix_1 + 'in');\n                global$9(self.getEl()).addClass(prefix_1 + 'in');\n              });\n              hasModal = true;\n            }\n            addRemove(true, self);\n          }\n        });\n        self.on('show', function () {\n          self.parents().each(function (ctrl) {\n            if (ctrl.state.get('fixed')) {\n              self.fixed(true);\n              return false;\n            }\n          });\n        });\n        if (settings.popover) {\n          self._preBodyHtml = '<div class=\"' + self.classPrefix + 'arrow\"></div>';\n          self.classes.add('popover').add('bottom').add(self.isRtl() ? 'end' : 'start');\n        }\n        self.aria('label', settings.ariaLabel);\n        self.aria('labelledby', self._id);\n        self.aria('describedby', self.describedBy || self._id + '-none');\n      },\n      fixed: function (state) {\n        var self = this;\n        if (self.state.get('fixed') !== state) {\n          if (self.state.get('rendered')) {\n            var viewport = funcs.getViewPort();\n            if (state) {\n              self.layoutRect().y -= viewport.y;\n            } else {\n              self.layoutRect().y += viewport.y;\n            }\n          }\n          self.classes.toggle('fixed', state);\n          self.state.set('fixed', state);\n        }\n        return self;\n      },\n      show: function () {\n        var self = this;\n        var i;\n        var state = self._super();\n        i = visiblePanels.length;\n        while (i--) {\n          if (visiblePanels[i] === self) {\n            break;\n          }\n        }\n        if (i === -1) {\n          visiblePanels.push(self);\n        }\n        return state;\n      },\n      hide: function () {\n        removeVisiblePanel(this);\n        addRemove(false, this);\n        return this._super();\n      },\n      hideAll: function () {\n        FloatPanel.hideAll();\n      },\n      close: function () {\n        var self = this;\n        if (!self.fire('close').isDefaultPrevented()) {\n          self.remove();\n          addRemove(false, self);\n        }\n        return self;\n      },\n      remove: function () {\n        removeVisiblePanel(this);\n        this._super();\n      },\n      postRender: function () {\n        var self = this;\n        if (self.settings.bodyRole) {\n          this.getEl('body').setAttribute('role', self.settings.bodyRole);\n        }\n        return self._super();\n      }\n    });\n    FloatPanel.hideAll = function () {\n      var i = visiblePanels.length;\n      while (i--) {\n        var panel = visiblePanels[i];\n        if (panel && panel.settings.autohide) {\n          panel.hide();\n          visiblePanels.splice(i, 1);\n        }\n      }\n    };\n    function removeVisiblePanel(panel) {\n      var i;\n      i = visiblePanels.length;\n      while (i--) {\n        if (visiblePanels[i] === panel) {\n          visiblePanels.splice(i, 1);\n        }\n      }\n      i = zOrder.length;\n      while (i--) {\n        if (zOrder[i] === panel) {\n          zOrder.splice(i, 1);\n        }\n      }\n    }\n\n    var isFixed$1 = function (inlineToolbarContainer, editor) {\n      return !!(inlineToolbarContainer && !editor.settings.ui_container);\n    };\n    var render$1 = function (editor, theme, args) {\n      var panel, inlineToolbarContainer;\n      var DOM = global$3.DOM;\n      var fixedToolbarContainer = getFixedToolbarContainer(editor);\n      if (fixedToolbarContainer) {\n        inlineToolbarContainer = DOM.select(fixedToolbarContainer)[0];\n      }\n      var reposition = function () {\n        if (panel && panel.moveRel && panel.visible() && !panel._fixed) {\n          var scrollContainer = editor.selection.getScrollContainer(), body = editor.getBody();\n          var deltaX = 0, deltaY = 0;\n          if (scrollContainer) {\n            var bodyPos = DOM.getPos(body), scrollContainerPos = DOM.getPos(scrollContainer);\n            deltaX = Math.max(0, scrollContainerPos.x - bodyPos.x);\n            deltaY = Math.max(0, scrollContainerPos.y - bodyPos.y);\n          }\n          panel.fixed(false).moveRel(body, editor.rtl ? [\n            'tr-br',\n            'br-tr'\n          ] : [\n            'tl-bl',\n            'bl-tl',\n            'tr-br'\n          ]).moveBy(deltaX, deltaY);\n        }\n      };\n      var show = function () {\n        if (panel) {\n          panel.show();\n          reposition();\n          DOM.addClass(editor.getBody(), 'mce-edit-focus');\n        }\n      };\n      var hide = function () {\n        if (panel) {\n          panel.hide();\n          FloatPanel.hideAll();\n          DOM.removeClass(editor.getBody(), 'mce-edit-focus');\n        }\n      };\n      var render = function () {\n        if (panel) {\n          if (!panel.visible()) {\n            show();\n          }\n          return;\n        }\n        panel = theme.panel = global$4.create({\n          type: inlineToolbarContainer ? 'panel' : 'floatpanel',\n          role: 'application',\n          classes: 'tinymce tinymce-inline',\n          layout: 'flex',\n          direction: 'column',\n          align: 'stretch',\n          autohide: false,\n          autofix: true,\n          fixed: isFixed$1(inlineToolbarContainer, editor),\n          border: 1,\n          items: [\n            hasMenubar(editor) === false ? null : {\n              type: 'menubar',\n              border: '0 0 1 0',\n              items: Menubar.createMenuButtons(editor)\n            },\n            Toolbar.createToolbars(editor, getToolbarSize(editor))\n          ]\n        });\n        UiContainer.setUiContainer(editor, panel);\n        Events.fireBeforeRenderUI(editor);\n        if (inlineToolbarContainer) {\n          panel.renderTo(inlineToolbarContainer).reflow();\n        } else {\n          panel.renderTo().reflow();\n        }\n        A11y.addKeys(editor, panel);\n        show();\n        ContextToolbars.addContextualToolbars(editor);\n        editor.on('nodeChange', reposition);\n        editor.on('ResizeWindow', reposition);\n        editor.on('activate', show);\n        editor.on('deactivate', hide);\n        editor.nodeChanged();\n      };\n      editor.settings.content_editable = true;\n      editor.on('focus', function () {\n        if (isSkinDisabled(editor) === false && args.skinUiCss) {\n          DOM.styleSheetLoader.load(args.skinUiCss, render, render);\n        } else {\n          render();\n        }\n      });\n      editor.on('blur hide', hide);\n      editor.on('remove', function () {\n        if (panel) {\n          panel.remove();\n          panel = null;\n        }\n      });\n      if (isSkinDisabled(editor) === false && args.skinUiCss) {\n        DOM.styleSheetLoader.load(args.skinUiCss, SkinLoaded.fireSkinLoaded(editor));\n      } else {\n        SkinLoaded.fireSkinLoaded(editor)();\n      }\n      return {};\n    };\n    var Inline = { render: render$1 };\n\n    function Throbber (elm, inline) {\n      var self = this;\n      var state;\n      var classPrefix = Control$1.classPrefix;\n      var timer;\n      self.show = function (time, callback) {\n        function render() {\n          if (state) {\n            global$9(elm).append('<div class=\"' + classPrefix + 'throbber' + (inline ? ' ' + classPrefix + 'throbber-inline' : '') + '\"></div>');\n            if (callback) {\n              callback();\n            }\n          }\n        }\n        self.hide();\n        state = true;\n        if (time) {\n          timer = global$7.setTimeout(render, time);\n        } else {\n          render();\n        }\n        return self;\n      };\n      self.hide = function () {\n        var child = elm.lastChild;\n        global$7.clearTimeout(timer);\n        if (child && child.className.indexOf('throbber') !== -1) {\n          child.parentNode.removeChild(child);\n        }\n        state = false;\n        return self;\n      };\n    }\n\n    var setup = function (editor, theme) {\n      var throbber;\n      editor.on('ProgressState', function (e) {\n        throbber = throbber || new Throbber(theme.panel.getEl('body'));\n        if (e.state) {\n          throbber.show(e.time);\n        } else {\n          throbber.hide();\n        }\n      });\n    };\n    var ProgressState = { setup: setup };\n\n    var renderUI = function (editor, theme, args) {\n      var skinUrl = getSkinUrl(editor);\n      if (skinUrl) {\n        args.skinUiCss = skinUrl + '/skin.min.css';\n        editor.contentCSS.push(skinUrl + '/content' + (editor.inline ? '.inline' : '') + '.min.css');\n      }\n      ProgressState.setup(editor, theme);\n      return isInline(editor) ? Inline.render(editor, theme, args) : Iframe.render(editor, theme, args);\n    };\n    var Render = { renderUI: renderUI };\n\n    var Tooltip = Control$1.extend({\n      Mixins: [Movable],\n      Defaults: { classes: 'widget tooltip tooltip-n' },\n      renderHtml: function () {\n        var self = this, prefix = self.classPrefix;\n        return '<div id=\"' + self._id + '\" class=\"' + self.classes + '\" role=\"presentation\">' + '<div class=\"' + prefix + 'tooltip-arrow\"></div>' + '<div class=\"' + prefix + 'tooltip-inner\">' + self.encode(self.state.get('text')) + '</div>' + '</div>';\n      },\n      bindStates: function () {\n        var self = this;\n        self.state.on('change:text', function (e) {\n          self.getEl().lastChild.innerHTML = self.encode(e.value);\n        });\n        return self._super();\n      },\n      repaint: function () {\n        var self = this;\n        var style, rect;\n        style = self.getEl().style;\n        rect = self._layoutRect;\n        style.left = rect.x + 'px';\n        style.top = rect.y + 'px';\n        style.zIndex = 65535 + 65535;\n      }\n    });\n\n    var Widget = Control$1.extend({\n      init: function (settings) {\n        var self = this;\n        self._super(settings);\n        settings = self.settings;\n        self.canFocus = true;\n        if (settings.tooltip && Widget.tooltips !== false) {\n          self.on('mouseenter', function (e) {\n            var tooltip = self.tooltip().moveTo(-65535);\n            if (e.control === self) {\n              var rel = tooltip.text(settings.tooltip).show().testMoveRel(self.getEl(), [\n                'bc-tc',\n                'bc-tl',\n                'bc-tr'\n              ]);\n              tooltip.classes.toggle('tooltip-n', rel === 'bc-tc');\n              tooltip.classes.toggle('tooltip-nw', rel === 'bc-tl');\n              tooltip.classes.toggle('tooltip-ne', rel === 'bc-tr');\n              tooltip.moveRel(self.getEl(), rel);\n            } else {\n              tooltip.hide();\n            }\n          });\n          self.on('mouseleave mousedown click', function () {\n            self.tooltip().remove();\n            self._tooltip = null;\n          });\n        }\n        self.aria('label', settings.ariaLabel || settings.tooltip);\n      },\n      tooltip: function () {\n        if (!this._tooltip) {\n          this._tooltip = new Tooltip({ type: 'tooltip' });\n          UiContainer.inheritUiContainer(this, this._tooltip);\n          this._tooltip.renderTo();\n        }\n        return this._tooltip;\n      },\n      postRender: function () {\n        var self = this, settings = self.settings;\n        self._super();\n        if (!self.parent() && (settings.width || settings.height)) {\n          self.initLayoutRect();\n          self.repaint();\n        }\n        if (settings.autofocus) {\n          self.focus();\n        }\n      },\n      bindStates: function () {\n        var self = this;\n        function disable(state) {\n          self.aria('disabled', state);\n          self.classes.toggle('disabled', state);\n        }\n        function active(state) {\n          self.aria('pressed', state);\n          self.classes.toggle('active', state);\n        }\n        self.state.on('change:disabled', function (e) {\n          disable(e.value);\n        });\n        self.state.on('change:active', function (e) {\n          active(e.value);\n        });\n        if (self.state.get('disabled')) {\n          disable(true);\n        }\n        if (self.state.get('active')) {\n          active(true);\n        }\n        return self._super();\n      },\n      remove: function () {\n        this._super();\n        if (this._tooltip) {\n          this._tooltip.remove();\n          this._tooltip = null;\n        }\n      }\n    });\n\n    var Progress = Widget.extend({\n      Defaults: { value: 0 },\n      init: function (settings) {\n        var self = this;\n        self._super(settings);\n        self.classes.add('progress');\n        if (!self.settings.filter) {\n          self.settings.filter = function (value) {\n            return Math.round(value);\n          };\n        }\n      },\n      renderHtml: function () {\n        var self = this, id = self._id, prefix = this.classPrefix;\n        return '<div id=\"' + id + '\" class=\"' + self.classes + '\">' + '<div class=\"' + prefix + 'bar-container\">' + '<div class=\"' + prefix + 'bar\"></div>' + '</div>' + '<div class=\"' + prefix + 'text\">0%</div>' + '</div>';\n      },\n      postRender: function () {\n        var self = this;\n        self._super();\n        self.value(self.settings.value);\n        return self;\n      },\n      bindStates: function () {\n        var self = this;\n        function setValue(value) {\n          value = self.settings.filter(value);\n          self.getEl().lastChild.innerHTML = value + '%';\n          self.getEl().firstChild.firstChild.style.width = value + '%';\n        }\n        self.state.on('change:value', function (e) {\n          setValue(e.value);\n        });\n        setValue(self.state.get('value'));\n        return self._super();\n      }\n    });\n\n    var updateLiveRegion = function (ctx, text) {\n      ctx.getEl().lastChild.textContent = text + (ctx.progressBar ? ' ' + ctx.progressBar.value() + '%' : '');\n    };\n    var Notification = Control$1.extend({\n      Mixins: [Movable],\n      Defaults: { classes: 'widget notification' },\n      init: function (settings) {\n        var self = this;\n        self._super(settings);\n        self.maxWidth = settings.maxWidth;\n        if (settings.text) {\n          self.text(settings.text);\n        }\n        if (settings.icon) {\n          self.icon = settings.icon;\n        }\n        if (settings.color) {\n          self.color = settings.color;\n        }\n        if (settings.type) {\n          self.classes.add('notification-' + settings.type);\n        }\n        if (settings.timeout && (settings.timeout < 0 || settings.timeout > 0) && !settings.closeButton) {\n          self.closeButton = false;\n        } else {\n          self.classes.add('has-close');\n          self.closeButton = true;\n        }\n        if (settings.progressBar) {\n          self.progressBar = new Progress();\n        }\n        self.on('click', function (e) {\n          if (e.target.className.indexOf(self.classPrefix + 'close') !== -1) {\n            self.close();\n          }\n        });\n      },\n      renderHtml: function () {\n        var self = this;\n        var prefix = self.classPrefix;\n        var icon = '', closeButton = '', progressBar = '', notificationStyle = '';\n        if (self.icon) {\n          icon = '<i class=\"' + prefix + 'ico' + ' ' + prefix + 'i-' + self.icon + '\"></i>';\n        }\n        notificationStyle = ' style=\"max-width: ' + self.maxWidth + 'px;' + (self.color ? 'background-color: ' + self.color + ';\"' : '\"');\n        if (self.closeButton) {\n          closeButton = '<button type=\"button\" class=\"' + prefix + 'close\" aria-hidden=\"true\">\\xD7</button>';\n        }\n        if (self.progressBar) {\n          progressBar = self.progressBar.renderHtml();\n        }\n        return '<div id=\"' + self._id + '\" class=\"' + self.classes + '\"' + notificationStyle + ' role=\"presentation\">' + icon + '<div class=\"' + prefix + 'notification-inner\">' + self.state.get('text') + '</div>' + progressBar + closeButton + '<div style=\"clip: rect(1px, 1px, 1px, 1px);height: 1px;overflow: hidden;position: absolute;width: 1px;\"' + ' aria-live=\"assertive\" aria-relevant=\"additions\" aria-atomic=\"true\"></div>' + '</div>';\n      },\n      postRender: function () {\n        var self = this;\n        global$7.setTimeout(function () {\n          self.$el.addClass(self.classPrefix + 'in');\n          updateLiveRegion(self, self.state.get('text'));\n        }, 100);\n        return self._super();\n      },\n      bindStates: function () {\n        var self = this;\n        self.state.on('change:text', function (e) {\n          self.getEl().firstChild.innerHTML = e.value;\n          updateLiveRegion(self, e.value);\n        });\n        if (self.progressBar) {\n          self.progressBar.bindStates();\n          self.progressBar.state.on('change:value', function (e) {\n            updateLiveRegion(self, self.state.get('text'));\n          });\n        }\n        return self._super();\n      },\n      close: function () {\n        var self = this;\n        if (!self.fire('close').isDefaultPrevented()) {\n          self.remove();\n        }\n        return self;\n      },\n      repaint: function () {\n        var self = this;\n        var style, rect;\n        style = self.getEl().style;\n        rect = self._layoutRect;\n        style.left = rect.x + 'px';\n        style.top = rect.y + 'px';\n        style.zIndex = 65535 - 1;\n      }\n    });\n\n    function NotificationManagerImpl (editor) {\n      var getEditorContainer = function (editor) {\n        return editor.inline ? editor.getElement() : editor.getContentAreaContainer();\n      };\n      var getContainerWidth = function () {\n        var container = getEditorContainer(editor);\n        return funcs.getSize(container).width;\n      };\n      var prePositionNotifications = function (notifications) {\n        each(notifications, function (notification) {\n          notification.moveTo(0, 0);\n        });\n      };\n      var positionNotifications = function (notifications) {\n        if (notifications.length > 0) {\n          var firstItem = notifications.slice(0, 1)[0];\n          var container = getEditorContainer(editor);\n          firstItem.moveRel(container, 'tc-tc');\n          each(notifications, function (notification, index) {\n            if (index > 0) {\n              notification.moveRel(notifications[index - 1].getEl(), 'bc-tc');\n            }\n          });\n        }\n      };\n      var reposition = function (notifications) {\n        prePositionNotifications(notifications);\n        positionNotifications(notifications);\n      };\n      var open = function (args, closeCallback) {\n        var extendedArgs = global$2.extend(args, { maxWidth: getContainerWidth() });\n        var notif = new Notification(extendedArgs);\n        notif.args = extendedArgs;\n        if (extendedArgs.timeout > 0) {\n          notif.timer = setTimeout(function () {\n            notif.close();\n            closeCallback();\n          }, extendedArgs.timeout);\n        }\n        notif.on('close', function () {\n          closeCallback();\n        });\n        notif.renderTo();\n        return notif;\n      };\n      var close = function (notification) {\n        notification.close();\n      };\n      var getArgs = function (notification) {\n        return notification.args;\n      };\n      return {\n        open: open,\n        close: close,\n        reposition: reposition,\n        getArgs: getArgs\n      };\n    }\n\n    var windows = [];\n    var oldMetaValue = '';\n    function toggleFullScreenState(state) {\n      var noScaleMetaValue = 'width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0';\n      var viewport = global$9('meta[name=viewport]')[0], contentValue;\n      if (global$8.overrideViewPort === false) {\n        return;\n      }\n      if (!viewport) {\n        viewport = domGlobals.document.createElement('meta');\n        viewport.setAttribute('name', 'viewport');\n        domGlobals.document.getElementsByTagName('head')[0].appendChild(viewport);\n      }\n      contentValue = viewport.getAttribute('content');\n      if (contentValue && typeof oldMetaValue !== 'undefined') {\n        oldMetaValue = contentValue;\n      }\n      viewport.setAttribute('content', state ? noScaleMetaValue : oldMetaValue);\n    }\n    function toggleBodyFullScreenClasses(classPrefix, state) {\n      if (checkFullscreenWindows() && state === false) {\n        global$9([\n          domGlobals.document.documentElement,\n          domGlobals.document.body\n        ]).removeClass(classPrefix + 'fullscreen');\n      }\n    }\n    function checkFullscreenWindows() {\n      for (var i = 0; i < windows.length; i++) {\n        if (windows[i]._fullscreen) {\n          return true;\n        }\n      }\n      return false;\n    }\n    function handleWindowResize() {\n      if (!global$8.desktop) {\n        var lastSize_1 = {\n          w: domGlobals.window.innerWidth,\n          h: domGlobals.window.innerHeight\n        };\n        global$7.setInterval(function () {\n          var w = domGlobals.window.innerWidth, h = domGlobals.window.innerHeight;\n          if (lastSize_1.w !== w || lastSize_1.h !== h) {\n            lastSize_1 = {\n              w: w,\n              h: h\n            };\n            global$9(domGlobals.window).trigger('resize');\n          }\n        }, 100);\n      }\n      function reposition() {\n        var i;\n        var rect = funcs.getWindowSize();\n        var layoutRect;\n        for (i = 0; i < windows.length; i++) {\n          layoutRect = windows[i].layoutRect();\n          windows[i].moveTo(windows[i].settings.x || Math.max(0, rect.w / 2 - layoutRect.w / 2), windows[i].settings.y || Math.max(0, rect.h / 2 - layoutRect.h / 2));\n        }\n      }\n      global$9(domGlobals.window).on('resize', reposition);\n    }\n    var Window = FloatPanel.extend({\n      modal: true,\n      Defaults: {\n        border: 1,\n        layout: 'flex',\n        containerCls: 'panel',\n        role: 'dialog',\n        callbacks: {\n          submit: function () {\n            this.fire('submit', { data: this.toJSON() });\n          },\n          close: function () {\n            this.close();\n          }\n        }\n      },\n      init: function (settings) {\n        var self = this;\n        self._super(settings);\n        if (self.isRtl()) {\n          self.classes.add('rtl');\n        }\n        self.classes.add('window');\n        self.bodyClasses.add('window-body');\n        self.state.set('fixed', true);\n        if (settings.buttons) {\n          self.statusbar = new Panel({\n            layout: 'flex',\n            border: '1 0 0 0',\n            spacing: 3,\n            padding: 10,\n            align: 'center',\n            pack: self.isRtl() ? 'start' : 'end',\n            defaults: { type: 'button' },\n            items: settings.buttons\n          });\n          self.statusbar.classes.add('foot');\n          self.statusbar.parent(self);\n        }\n        self.on('click', function (e) {\n          var closeClass = self.classPrefix + 'close';\n          if (funcs.hasClass(e.target, closeClass) || funcs.hasClass(e.target.parentNode, closeClass)) {\n            self.close();\n          }\n        });\n        self.on('cancel', function () {\n          self.close();\n        });\n        self.on('move', function (e) {\n          if (e.control === self) {\n            FloatPanel.hideAll();\n          }\n        });\n        self.aria('describedby', self.describedBy || self._id + '-none');\n        self.aria('label', settings.title);\n        self._fullscreen = false;\n      },\n      recalc: function () {\n        var self = this;\n        var statusbar = self.statusbar;\n        var layoutRect, width, x, needsRecalc;\n        if (self._fullscreen) {\n          self.layoutRect(funcs.getWindowSize());\n          self.layoutRect().contentH = self.layoutRect().innerH;\n        }\n        self._super();\n        layoutRect = self.layoutRect();\n        if (self.settings.title && !self._fullscreen) {\n          width = layoutRect.headerW;\n          if (width > layoutRect.w) {\n            x = layoutRect.x - Math.max(0, width / 2);\n            self.layoutRect({\n              w: width,\n              x: x\n            });\n            needsRecalc = true;\n          }\n        }\n        if (statusbar) {\n          statusbar.layoutRect({ w: self.layoutRect().innerW }).recalc();\n          width = statusbar.layoutRect().minW + layoutRect.deltaW;\n          if (width > layoutRect.w) {\n            x = layoutRect.x - Math.max(0, width - layoutRect.w);\n            self.layoutRect({\n              w: width,\n              x: x\n            });\n            needsRecalc = true;\n          }\n        }\n        if (needsRecalc) {\n          self.recalc();\n        }\n      },\n      initLayoutRect: function () {\n        var self = this;\n        var layoutRect = self._super();\n        var deltaH = 0, headEl;\n        if (self.settings.title && !self._fullscreen) {\n          headEl = self.getEl('head');\n          var size = funcs.getSize(headEl);\n          layoutRect.headerW = size.width;\n          layoutRect.headerH = size.height;\n          deltaH += layoutRect.headerH;\n        }\n        if (self.statusbar) {\n          deltaH += self.statusbar.layoutRect().h;\n        }\n        layoutRect.deltaH += deltaH;\n        layoutRect.minH += deltaH;\n        layoutRect.h += deltaH;\n        var rect = funcs.getWindowSize();\n        layoutRect.x = self.settings.x || Math.max(0, rect.w / 2 - layoutRect.w / 2);\n        layoutRect.y = self.settings.y || Math.max(0, rect.h / 2 - layoutRect.h / 2);\n        return layoutRect;\n      },\n      renderHtml: function () {\n        var self = this, layout = self._layout, id = self._id, prefix = self.classPrefix;\n        var settings = self.settings;\n        var headerHtml = '', footerHtml = '', html = settings.html;\n        self.preRender();\n        layout.preRender(self);\n        if (settings.title) {\n          headerHtml = '<div id=\"' + id + '-head\" class=\"' + prefix + 'window-head\">' + '<div id=\"' + id + '-title\" class=\"' + prefix + 'title\">' + self.encode(settings.title) + '</div>' + '<div id=\"' + id + '-dragh\" class=\"' + prefix + 'dragh\"></div>' + '<button type=\"button\" class=\"' + prefix + 'close\" aria-hidden=\"true\">' + '<i class=\"mce-ico mce-i-remove\"></i>' + '</button>' + '</div>';\n        }\n        if (settings.url) {\n          html = '<iframe src=\"' + settings.url + '\" tabindex=\"-1\"></iframe>';\n        }\n        if (typeof html === 'undefined') {\n          html = layout.renderHtml(self);\n        }\n        if (self.statusbar) {\n          footerHtml = self.statusbar.renderHtml();\n        }\n        return '<div id=\"' + id + '\" class=\"' + self.classes + '\" hidefocus=\"1\">' + '<div class=\"' + self.classPrefix + 'reset\" role=\"application\">' + headerHtml + '<div id=\"' + id + '-body\" class=\"' + self.bodyClasses + '\">' + html + '</div>' + footerHtml + '</div>' + '</div>';\n      },\n      fullscreen: function (state) {\n        var self = this;\n        var documentElement = domGlobals.document.documentElement;\n        var slowRendering;\n        var prefix = self.classPrefix;\n        var layoutRect;\n        if (state !== self._fullscreen) {\n          global$9(domGlobals.window).on('resize', function () {\n            var time;\n            if (self._fullscreen) {\n              if (!slowRendering) {\n                time = new Date().getTime();\n                var rect = funcs.getWindowSize();\n                self.moveTo(0, 0).resizeTo(rect.w, rect.h);\n                if (new Date().getTime() - time > 50) {\n                  slowRendering = true;\n                }\n              } else {\n                if (!self._timer) {\n                  self._timer = global$7.setTimeout(function () {\n                    var rect = funcs.getWindowSize();\n                    self.moveTo(0, 0).resizeTo(rect.w, rect.h);\n                    self._timer = 0;\n                  }, 50);\n                }\n              }\n            }\n          });\n          layoutRect = self.layoutRect();\n          self._fullscreen = state;\n          if (!state) {\n            self.borderBox = BoxUtils.parseBox(self.settings.border);\n            self.getEl('head').style.display = '';\n            layoutRect.deltaH += layoutRect.headerH;\n            global$9([\n              documentElement,\n              domGlobals.document.body\n            ]).removeClass(prefix + 'fullscreen');\n            self.classes.remove('fullscreen');\n            self.moveTo(self._initial.x, self._initial.y).resizeTo(self._initial.w, self._initial.h);\n          } else {\n            self._initial = {\n              x: layoutRect.x,\n              y: layoutRect.y,\n              w: layoutRect.w,\n              h: layoutRect.h\n            };\n            self.borderBox = BoxUtils.parseBox('0');\n            self.getEl('head').style.display = 'none';\n            layoutRect.deltaH -= layoutRect.headerH + 2;\n            global$9([\n              documentElement,\n              domGlobals.document.body\n            ]).addClass(prefix + 'fullscreen');\n            self.classes.add('fullscreen');\n            var rect = funcs.getWindowSize();\n            self.moveTo(0, 0).resizeTo(rect.w, rect.h);\n          }\n        }\n        return self.reflow();\n      },\n      postRender: function () {\n        var self = this;\n        var startPos;\n        setTimeout(function () {\n          self.classes.add('in');\n          self.fire('open');\n        }, 0);\n        self._super();\n        if (self.statusbar) {\n          self.statusbar.postRender();\n        }\n        self.focus();\n        this.dragHelper = new DragHelper(self._id + '-dragh', {\n          start: function () {\n            startPos = {\n              x: self.layoutRect().x,\n              y: self.layoutRect().y\n            };\n          },\n          drag: function (e) {\n            self.moveTo(startPos.x + e.deltaX, startPos.y + e.deltaY);\n          }\n        });\n        self.on('submit', function (e) {\n          if (!e.isDefaultPrevented()) {\n            self.close();\n          }\n        });\n        windows.push(self);\n        toggleFullScreenState(true);\n      },\n      submit: function () {\n        return this.fire('submit', { data: this.toJSON() });\n      },\n      remove: function () {\n        var self = this;\n        var i;\n        self.dragHelper.destroy();\n        self._super();\n        if (self.statusbar) {\n          this.statusbar.remove();\n        }\n        toggleBodyFullScreenClasses(self.classPrefix, false);\n        i = windows.length;\n        while (i--) {\n          if (windows[i] === self) {\n            windows.splice(i, 1);\n          }\n        }\n        toggleFullScreenState(windows.length > 0);\n      },\n      getContentWindow: function () {\n        var ifr = this.getEl().getElementsByTagName('iframe')[0];\n        return ifr ? ifr.contentWindow : null;\n      }\n    });\n    handleWindowResize();\n\n    var MessageBox = Window.extend({\n      init: function (settings) {\n        settings = {\n          border: 1,\n          padding: 20,\n          layout: 'flex',\n          pack: 'center',\n          align: 'center',\n          containerCls: 'panel',\n          autoScroll: true,\n          buttons: {\n            type: 'button',\n            text: 'Ok',\n            action: 'ok'\n          },\n          items: {\n            type: 'label',\n            multiline: true,\n            maxWidth: 500,\n            maxHeight: 200\n          }\n        };\n        this._super(settings);\n      },\n      Statics: {\n        OK: 1,\n        OK_CANCEL: 2,\n        YES_NO: 3,\n        YES_NO_CANCEL: 4,\n        msgBox: function (settings) {\n          var buttons;\n          var callback = settings.callback || function () {\n          };\n          function createButton(text, status, primary) {\n            return {\n              type: 'button',\n              text: text,\n              subtype: primary ? 'primary' : '',\n              onClick: function (e) {\n                e.control.parents()[1].close();\n                callback(status);\n              }\n            };\n          }\n          switch (settings.buttons) {\n          case MessageBox.OK_CANCEL:\n            buttons = [\n              createButton('Ok', true, true),\n              createButton('Cancel', false)\n            ];\n            break;\n          case MessageBox.YES_NO:\n          case MessageBox.YES_NO_CANCEL:\n            buttons = [\n              createButton('Yes', 1, true),\n              createButton('No', 0)\n            ];\n            if (settings.buttons === MessageBox.YES_NO_CANCEL) {\n              buttons.push(createButton('Cancel', -1));\n            }\n            break;\n          default:\n            buttons = [createButton('Ok', true, true)];\n            break;\n          }\n          return new Window({\n            padding: 20,\n            x: settings.x,\n            y: settings.y,\n            minWidth: 300,\n            minHeight: 100,\n            layout: 'flex',\n            pack: 'center',\n            align: 'center',\n            buttons: buttons,\n            title: settings.title,\n            role: 'alertdialog',\n            items: {\n              type: 'label',\n              multiline: true,\n              maxWidth: 500,\n              maxHeight: 200,\n              text: settings.text\n            },\n            onPostRender: function () {\n              this.aria('describedby', this.items()[0]._id);\n            },\n            onClose: settings.onClose,\n            onCancel: function () {\n              callback(false);\n            }\n          }).renderTo(domGlobals.document.body).reflow();\n        },\n        alert: function (settings, callback) {\n          if (typeof settings === 'string') {\n            settings = { text: settings };\n          }\n          settings.callback = callback;\n          return MessageBox.msgBox(settings);\n        },\n        confirm: function (settings, callback) {\n          if (typeof settings === 'string') {\n            settings = { text: settings };\n          }\n          settings.callback = callback;\n          settings.buttons = MessageBox.OK_CANCEL;\n          return MessageBox.msgBox(settings);\n        }\n      }\n    });\n\n    function WindowManagerImpl (editor) {\n      var open = function (args, params, closeCallback) {\n        var win;\n        args.title = args.title || ' ';\n        args.url = args.url || args.file;\n        if (args.url) {\n          args.width = parseInt(args.width || 320, 10);\n          args.height = parseInt(args.height || 240, 10);\n        }\n        if (args.body) {\n          args.items = {\n            defaults: args.defaults,\n            type: args.bodyType || 'form',\n            items: args.body,\n            data: args.data,\n            callbacks: args.commands\n          };\n        }\n        if (!args.url && !args.buttons) {\n          args.buttons = [\n            {\n              text: 'Ok',\n              subtype: 'primary',\n              onclick: function () {\n                win.find('form')[0].submit();\n              }\n            },\n            {\n              text: 'Cancel',\n              onclick: function () {\n                win.close();\n              }\n            }\n          ];\n        }\n        win = new Window(args);\n        win.on('close', function () {\n          closeCallback(win);\n        });\n        if (args.data) {\n          win.on('postRender', function () {\n            this.find('*').each(function (ctrl) {\n              var name = ctrl.name();\n              if (name in args.data) {\n                ctrl.value(args.data[name]);\n              }\n            });\n          });\n        }\n        win.features = args || {};\n        win.params = params || {};\n        win = win.renderTo(domGlobals.document.body).reflow();\n        return win;\n      };\n      var alert = function (message, choiceCallback, closeCallback) {\n        var win;\n        win = MessageBox.alert(message, function () {\n          choiceCallback();\n        });\n        win.on('close', function () {\n          closeCallback(win);\n        });\n        return win;\n      };\n      var confirm = function (message, choiceCallback, closeCallback) {\n        var win;\n        win = MessageBox.confirm(message, function (state) {\n          choiceCallback(state);\n        });\n        win.on('close', function () {\n          closeCallback(win);\n        });\n        return win;\n      };\n      var close = function (window) {\n        window.close();\n      };\n      var getParams = function (window) {\n        return window.params;\n      };\n      var setParams = function (window, params) {\n        window.params = params;\n      };\n      return {\n        open: open,\n        alert: alert,\n        confirm: confirm,\n        close: close,\n        getParams: getParams,\n        setParams: setParams\n      };\n    }\n\n    var get = function (editor) {\n      var renderUI = function (args) {\n        return Render.renderUI(editor, this, args);\n      };\n      var resizeTo = function (w, h) {\n        return Resize.resizeTo(editor, w, h);\n      };\n      var resizeBy = function (dw, dh) {\n        return Resize.resizeBy(editor, dw, dh);\n      };\n      var getNotificationManagerImpl = function () {\n        return NotificationManagerImpl(editor);\n      };\n      var getWindowManagerImpl = function () {\n        return WindowManagerImpl();\n      };\n      return {\n        renderUI: renderUI,\n        resizeTo: resizeTo,\n        resizeBy: resizeBy,\n        getNotificationManagerImpl: getNotificationManagerImpl,\n        getWindowManagerImpl: getWindowManagerImpl\n      };\n    };\n    var ThemeApi = { get: get };\n\n    var Layout = global$a.extend({\n      Defaults: {\n        firstControlClass: 'first',\n        lastControlClass: 'last'\n      },\n      init: function (settings) {\n        this.settings = global$2.extend({}, this.Defaults, settings);\n      },\n      preRender: function (container) {\n        container.bodyClasses.add(this.settings.containerClass);\n      },\n      applyClasses: function (items) {\n        var self = this;\n        var settings = self.settings;\n        var firstClass, lastClass, firstItem, lastItem;\n        firstClass = settings.firstControlClass;\n        lastClass = settings.lastControlClass;\n        items.each(function (item) {\n          item.classes.remove(firstClass).remove(lastClass).add(settings.controlClass);\n          if (item.visible()) {\n            if (!firstItem) {\n              firstItem = item;\n            }\n            lastItem = item;\n          }\n        });\n        if (firstItem) {\n          firstItem.classes.add(firstClass);\n        }\n        if (lastItem) {\n          lastItem.classes.add(lastClass);\n        }\n      },\n      renderHtml: function (container) {\n        var self = this;\n        var html = '';\n        self.applyClasses(container.items());\n        container.items().each(function (item) {\n          html += item.renderHtml();\n        });\n        return html;\n      },\n      recalc: function () {\n      },\n      postRender: function () {\n      },\n      isNative: function () {\n        return false;\n      }\n    });\n\n    var AbsoluteLayout = Layout.extend({\n      Defaults: {\n        containerClass: 'abs-layout',\n        controlClass: 'abs-layout-item'\n      },\n      recalc: function (container) {\n        container.items().filter(':visible').each(function (ctrl) {\n          var settings = ctrl.settings;\n          ctrl.layoutRect({\n            x: settings.x,\n            y: settings.y,\n            w: settings.w,\n            h: settings.h\n          });\n          if (ctrl.recalc) {\n            ctrl.recalc();\n          }\n        });\n      },\n      renderHtml: function (container) {\n        return '<div id=\"' + container._id + '-absend\" class=\"' + container.classPrefix + 'abs-end\"></div>' + this._super(container);\n      }\n    });\n\n    var Button = Widget.extend({\n      Defaults: {\n        classes: 'widget btn',\n        role: 'button'\n      },\n      init: function (settings) {\n        var self = this;\n        var size;\n        self._super(settings);\n        settings = self.settings;\n        size = self.settings.size;\n        self.on('click mousedown', function (e) {\n          e.preventDefault();\n        });\n        self.on('touchstart', function (e) {\n          self.fire('click', e);\n          e.preventDefault();\n        });\n        if (settings.subtype) {\n          self.classes.add(settings.subtype);\n        }\n        if (size) {\n          self.classes.add('btn-' + size);\n        }\n        if (settings.icon) {\n          self.icon(settings.icon);\n        }\n      },\n      icon: function (icon) {\n        if (!arguments.length) {\n          return this.state.get('icon');\n        }\n        this.state.set('icon', icon);\n        return this;\n      },\n      repaint: function () {\n        var btnElm = this.getEl().firstChild;\n        var btnStyle;\n        if (btnElm) {\n          btnStyle = btnElm.style;\n          btnStyle.width = btnStyle.height = '100%';\n        }\n        this._super();\n      },\n      renderHtml: function () {\n        var self = this, id = self._id, prefix = self.classPrefix;\n        var icon = self.state.get('icon'), image;\n        var text = self.state.get('text');\n        var textHtml = '';\n        var ariaPressed;\n        var settings = self.settings;\n        image = settings.image;\n        if (image) {\n          icon = 'none';\n          if (typeof image !== 'string') {\n            image = domGlobals.window.getSelection ? image[0] : image[1];\n          }\n          image = ' style=\"background-image: url(\\'' + image + '\\')\"';\n        } else {\n          image = '';\n        }\n        if (text) {\n          self.classes.add('btn-has-text');\n          textHtml = '<span class=\"' + prefix + 'txt\">' + self.encode(text) + '</span>';\n        }\n        icon = icon ? prefix + 'ico ' + prefix + 'i-' + icon : '';\n        ariaPressed = typeof settings.active === 'boolean' ? ' aria-pressed=\"' + settings.active + '\"' : '';\n        return '<div id=\"' + id + '\" class=\"' + self.classes + '\" tabindex=\"-1\"' + ariaPressed + '>' + '<button id=\"' + id + '-button\" role=\"presentation\" type=\"button\" tabindex=\"-1\">' + (icon ? '<i class=\"' + icon + '\"' + image + '></i>' : '') + textHtml + '</button>' + '</div>';\n      },\n      bindStates: function () {\n        var self = this, $ = self.$, textCls = self.classPrefix + 'txt';\n        function setButtonText(text) {\n          var $span = $('span.' + textCls, self.getEl());\n          if (text) {\n            if (!$span[0]) {\n              $('button:first', self.getEl()).append('<span class=\"' + textCls + '\"></span>');\n              $span = $('span.' + textCls, self.getEl());\n            }\n            $span.html(self.encode(text));\n          } else {\n            $span.remove();\n          }\n          self.classes.toggle('btn-has-text', !!text);\n        }\n        self.state.on('change:text', function (e) {\n          setButtonText(e.value);\n        });\n        self.state.on('change:icon', function (e) {\n          var icon = e.value;\n          var prefix = self.classPrefix;\n          self.settings.icon = icon;\n          icon = icon ? prefix + 'ico ' + prefix + 'i-' + self.settings.icon : '';\n          var btnElm = self.getEl().firstChild;\n          var iconElm = btnElm.getElementsByTagName('i')[0];\n          if (icon) {\n            if (!iconElm || iconElm !== btnElm.firstChild) {\n              iconElm = domGlobals.document.createElement('i');\n              btnElm.insertBefore(iconElm, btnElm.firstChild);\n            }\n            iconElm.className = icon;\n          } else if (iconElm) {\n            btnElm.removeChild(iconElm);\n          }\n          setButtonText(self.state.get('text'));\n        });\n        return self._super();\n      }\n    });\n\n    var BrowseButton = Button.extend({\n      init: function (settings) {\n        var self = this;\n        settings = global$2.extend({\n          text: 'Browse...',\n          multiple: false,\n          accept: null\n        }, settings);\n        self._super(settings);\n        self.classes.add('browsebutton');\n        if (settings.multiple) {\n          self.classes.add('multiple');\n        }\n      },\n      postRender: function () {\n        var self = this;\n        var input = funcs.create('input', {\n          type: 'file',\n          id: self._id + '-browse',\n          accept: self.settings.accept\n        });\n        self._super();\n        global$9(input).on('change', function (e) {\n          var files = e.target.files;\n          self.value = function () {\n            if (!files.length) {\n              return null;\n            } else if (self.settings.multiple) {\n              return files;\n            } else {\n              return files[0];\n            }\n          };\n          e.preventDefault();\n          if (files.length) {\n            self.fire('change', e);\n          }\n        });\n        global$9(input).on('click', function (e) {\n          e.stopPropagation();\n        });\n        global$9(self.getEl('button')).on('click touchstart', function (e) {\n          e.stopPropagation();\n          input.click();\n          e.preventDefault();\n        });\n        self.getEl().appendChild(input);\n      },\n      remove: function () {\n        global$9(this.getEl('button')).off();\n        global$9(this.getEl('input')).off();\n        this._super();\n      }\n    });\n\n    var ButtonGroup = Container.extend({\n      Defaults: {\n        defaultType: 'button',\n        role: 'group'\n      },\n      renderHtml: function () {\n        var self = this, layout = self._layout;\n        self.classes.add('btn-group');\n        self.preRender();\n        layout.preRender(self);\n        return '<div id=\"' + self._id + '\" class=\"' + self.classes + '\">' + '<div id=\"' + self._id + '-body\">' + (self.settings.html || '') + layout.renderHtml(self) + '</div>' + '</div>';\n      }\n    });\n\n    var Checkbox = Widget.extend({\n      Defaults: {\n        classes: 'checkbox',\n        role: 'checkbox',\n        checked: false\n      },\n      init: function (settings) {\n        var self = this;\n        self._super(settings);\n        self.on('click mousedown', function (e) {\n          e.preventDefault();\n        });\n        self.on('click', function (e) {\n          e.preventDefault();\n          if (!self.disabled()) {\n            self.checked(!self.checked());\n          }\n        });\n        self.checked(self.settings.checked);\n      },\n      checked: function (state) {\n        if (!arguments.length) {\n          return this.state.get('checked');\n        }\n        this.state.set('checked', state);\n        return this;\n      },\n      value: function (state) {\n        if (!arguments.length) {\n          return this.checked();\n        }\n        return this.checked(state);\n      },\n      renderHtml: function () {\n        var self = this, id = self._id, prefix = self.classPrefix;\n        return '<div id=\"' + id + '\" class=\"' + self.classes + '\" unselectable=\"on\" aria-labelledby=\"' + id + '-al\" tabindex=\"-1\">' + '<i class=\"' + prefix + 'ico ' + prefix + 'i-checkbox\"></i>' + '<span id=\"' + id + '-al\" class=\"' + prefix + 'label\">' + self.encode(self.state.get('text')) + '</span>' + '</div>';\n      },\n      bindStates: function () {\n        var self = this;\n        function checked(state) {\n          self.classes.toggle('checked', state);\n          self.aria('checked', state);\n        }\n        self.state.on('change:text', function (e) {\n          self.getEl('al').firstChild.data = self.translate(e.value);\n        });\n        self.state.on('change:checked change:value', function (e) {\n          self.fire('change');\n          checked(e.value);\n        });\n        self.state.on('change:icon', function (e) {\n          var icon = e.value;\n          var prefix = self.classPrefix;\n          if (typeof icon === 'undefined') {\n            return self.settings.icon;\n          }\n          self.settings.icon = icon;\n          icon = icon ? prefix + 'ico ' + prefix + 'i-' + self.settings.icon : '';\n          var btnElm = self.getEl().firstChild;\n          var iconElm = btnElm.getElementsByTagName('i')[0];\n          if (icon) {\n            if (!iconElm || iconElm !== btnElm.firstChild) {\n              iconElm = domGlobals.document.createElement('i');\n              btnElm.insertBefore(iconElm, btnElm.firstChild);\n            }\n            iconElm.className = icon;\n          } else if (iconElm) {\n            btnElm.removeChild(iconElm);\n          }\n        });\n        if (self.state.get('checked')) {\n          checked(true);\n        }\n        return self._super();\n      }\n    });\n\n    var global$d = tinymce.util.Tools.resolve('tinymce.util.VK');\n\n    var ComboBox = Widget.extend({\n      init: function (settings) {\n        var self = this;\n        self._super(settings);\n        settings = self.settings;\n        self.classes.add('combobox');\n        self.subinput = true;\n        self.ariaTarget = 'inp';\n        settings.menu = settings.menu || settings.values;\n        if (settings.menu) {\n          settings.icon = 'caret';\n        }\n        self.on('click', function (e) {\n          var elm = e.target;\n          var root = self.getEl();\n          if (!global$9.contains(root, elm) && elm !== root) {\n            return;\n          }\n          while (elm && elm !== root) {\n            if (elm.id && elm.id.indexOf('-open') !== -1) {\n              self.fire('action');\n              if (settings.menu) {\n                self.showMenu();\n                if (e.aria) {\n                  self.menu.items()[0].focus();\n                }\n              }\n            }\n            elm = elm.parentNode;\n          }\n        });\n        self.on('keydown', function (e) {\n          var rootControl;\n          if (e.keyCode === 13 && e.target.nodeName === 'INPUT') {\n            e.preventDefault();\n            self.parents().reverse().each(function (ctrl) {\n              if (ctrl.toJSON) {\n                rootControl = ctrl;\n                return false;\n              }\n            });\n            self.fire('submit', { data: rootControl.toJSON() });\n          }\n        });\n        self.on('keyup', function (e) {\n          if (e.target.nodeName === 'INPUT') {\n            var oldValue = self.state.get('value');\n            var newValue = e.target.value;\n            if (newValue !== oldValue) {\n              self.state.set('value', newValue);\n              self.fire('autocomplete', e);\n            }\n          }\n        });\n        self.on('mouseover', function (e) {\n          var tooltip = self.tooltip().moveTo(-65535);\n          if (self.statusLevel() && e.target.className.indexOf(self.classPrefix + 'status') !== -1) {\n            var statusMessage = self.statusMessage() || 'Ok';\n            var rel = tooltip.text(statusMessage).show().testMoveRel(e.target, [\n              'bc-tc',\n              'bc-tl',\n              'bc-tr'\n            ]);\n            tooltip.classes.toggle('tooltip-n', rel === 'bc-tc');\n            tooltip.classes.toggle('tooltip-nw', rel === 'bc-tl');\n            tooltip.classes.toggle('tooltip-ne', rel === 'bc-tr');\n            tooltip.moveRel(e.target, rel);\n          }\n        });\n      },\n      statusLevel: function (value) {\n        if (arguments.length > 0) {\n          this.state.set('statusLevel', value);\n        }\n        return this.state.get('statusLevel');\n      },\n      statusMessage: function (value) {\n        if (arguments.length > 0) {\n          this.state.set('statusMessage', value);\n        }\n        return this.state.get('statusMessage');\n      },\n      showMenu: function () {\n        var self = this;\n        var settings = self.settings;\n        var menu;\n        if (!self.menu) {\n          menu = settings.menu || [];\n          if (menu.length) {\n            menu = {\n              type: 'menu',\n              items: menu\n            };\n          } else {\n            menu.type = menu.type || 'menu';\n          }\n          self.menu = global$4.create(menu).parent(self).renderTo(self.getContainerElm());\n          self.fire('createmenu');\n          self.menu.reflow();\n          self.menu.on('cancel', function (e) {\n            if (e.control === self.menu) {\n              self.focus();\n            }\n          });\n          self.menu.on('show hide', function (e) {\n            e.control.items().each(function (ctrl) {\n              ctrl.active(ctrl.value() === self.value());\n            });\n          }).fire('show');\n          self.menu.on('select', function (e) {\n            self.value(e.control.value());\n          });\n          self.on('focusin', function (e) {\n            if (e.target.tagName.toUpperCase() === 'INPUT') {\n              self.menu.hide();\n            }\n          });\n          self.aria('expanded', true);\n        }\n        self.menu.show();\n        self.menu.layoutRect({ w: self.layoutRect().w });\n        self.menu.moveRel(self.getEl(), self.isRtl() ? [\n          'br-tr',\n          'tr-br'\n        ] : [\n          'bl-tl',\n          'tl-bl'\n        ]);\n      },\n      focus: function () {\n        this.getEl('inp').focus();\n      },\n      repaint: function () {\n        var self = this, elm = self.getEl(), openElm = self.getEl('open'), rect = self.layoutRect();\n        var width, lineHeight, innerPadding = 0;\n        var inputElm = elm.firstChild;\n        if (self.statusLevel() && self.statusLevel() !== 'none') {\n          innerPadding = parseInt(funcs.getRuntimeStyle(inputElm, 'padding-right'), 10) - parseInt(funcs.getRuntimeStyle(inputElm, 'padding-left'), 10);\n        }\n        if (openElm) {\n          width = rect.w - funcs.getSize(openElm).width - 10;\n        } else {\n          width = rect.w - 10;\n        }\n        var doc = domGlobals.document;\n        if (doc.all && (!doc.documentMode || doc.documentMode <= 8)) {\n          lineHeight = self.layoutRect().h - 2 + 'px';\n        }\n        global$9(inputElm).css({\n          width: width - innerPadding,\n          lineHeight: lineHeight\n        });\n        self._super();\n        return self;\n      },\n      postRender: function () {\n        var self = this;\n        global$9(this.getEl('inp')).on('change', function (e) {\n          self.state.set('value', e.target.value);\n          self.fire('change', e);\n        });\n        return self._super();\n      },\n      renderHtml: function () {\n        var self = this, id = self._id, settings = self.settings, prefix = self.classPrefix;\n        var value = self.state.get('value') || '';\n        var icon, text, openBtnHtml = '', extraAttrs = '', statusHtml = '';\n        if ('spellcheck' in settings) {\n          extraAttrs += ' spellcheck=\"' + settings.spellcheck + '\"';\n        }\n        if (settings.maxLength) {\n          extraAttrs += ' maxlength=\"' + settings.maxLength + '\"';\n        }\n        if (settings.size) {\n          extraAttrs += ' size=\"' + settings.size + '\"';\n        }\n        if (settings.subtype) {\n          extraAttrs += ' type=\"' + settings.subtype + '\"';\n        }\n        statusHtml = '<i id=\"' + id + '-status\" class=\"mce-status mce-ico\" style=\"display: none\"></i>';\n        if (self.disabled()) {\n          extraAttrs += ' disabled=\"disabled\"';\n        }\n        icon = settings.icon;\n        if (icon && icon !== 'caret') {\n          icon = prefix + 'ico ' + prefix + 'i-' + settings.icon;\n        }\n        text = self.state.get('text');\n        if (icon || text) {\n          openBtnHtml = '<div id=\"' + id + '-open\" class=\"' + prefix + 'btn ' + prefix + 'open\" tabIndex=\"-1\" role=\"button\">' + '<button id=\"' + id + '-action\" type=\"button\" hidefocus=\"1\" tabindex=\"-1\">' + (icon !== 'caret' ? '<i class=\"' + icon + '\"></i>' : '<i class=\"' + prefix + 'caret\"></i>') + (text ? (icon ? ' ' : '') + text : '') + '</button>' + '</div>';\n          self.classes.add('has-open');\n        }\n        return '<div id=\"' + id + '\" class=\"' + self.classes + '\">' + '<input id=\"' + id + '-inp\" class=\"' + prefix + 'textbox\" value=\"' + self.encode(value, false) + '\" hidefocus=\"1\"' + extraAttrs + ' placeholder=\"' + self.encode(settings.placeholder) + '\" />' + statusHtml + openBtnHtml + '</div>';\n      },\n      value: function (value) {\n        if (arguments.length) {\n          this.state.set('value', value);\n          return this;\n        }\n        if (this.state.get('rendered')) {\n          this.state.set('value', this.getEl('inp').value);\n        }\n        return this.state.get('value');\n      },\n      showAutoComplete: function (items, term) {\n        var self = this;\n        if (items.length === 0) {\n          self.hideMenu();\n          return;\n        }\n        var insert = function (value, title) {\n          return function () {\n            self.fire('selectitem', {\n              title: title,\n              value: value\n            });\n          };\n        };\n        if (self.menu) {\n          self.menu.items().remove();\n        } else {\n          self.menu = global$4.create({\n            type: 'menu',\n            classes: 'combobox-menu',\n            layout: 'flow'\n          }).parent(self).renderTo();\n        }\n        global$2.each(items, function (item) {\n          self.menu.add({\n            text: item.title,\n            url: item.previewUrl,\n            match: term,\n            classes: 'menu-item-ellipsis',\n            onclick: insert(item.value, item.title)\n          });\n        });\n        self.menu.renderNew();\n        self.hideMenu();\n        self.menu.on('cancel', function (e) {\n          if (e.control.parent() === self.menu) {\n            e.stopPropagation();\n            self.focus();\n            self.hideMenu();\n          }\n        });\n        self.menu.on('select', function () {\n          self.focus();\n        });\n        var maxW = self.layoutRect().w;\n        self.menu.layoutRect({\n          w: maxW,\n          minW: 0,\n          maxW: maxW\n        });\n        self.menu.repaint();\n        self.menu.reflow();\n        self.menu.show();\n        self.menu.moveRel(self.getEl(), self.isRtl() ? [\n          'br-tr',\n          'tr-br'\n        ] : [\n          'bl-tl',\n          'tl-bl'\n        ]);\n      },\n      hideMenu: function () {\n        if (this.menu) {\n          this.menu.hide();\n        }\n      },\n      bindStates: function () {\n        var self = this;\n        self.state.on('change:value', function (e) {\n          if (self.getEl('inp').value !== e.value) {\n            self.getEl('inp').value = e.value;\n          }\n        });\n        self.state.on('change:disabled', function (e) {\n          self.getEl('inp').disabled = e.value;\n        });\n        self.state.on('change:statusLevel', function (e) {\n          var statusIconElm = self.getEl('status');\n          var prefix = self.classPrefix, value = e.value;\n          funcs.css(statusIconElm, 'display', value === 'none' ? 'none' : '');\n          funcs.toggleClass(statusIconElm, prefix + 'i-checkmark', value === 'ok');\n          funcs.toggleClass(statusIconElm, prefix + 'i-warning', value === 'warn');\n          funcs.toggleClass(statusIconElm, prefix + 'i-error', value === 'error');\n          self.classes.toggle('has-status', value !== 'none');\n          self.repaint();\n        });\n        funcs.on(self.getEl('status'), 'mouseleave', function () {\n          self.tooltip().hide();\n        });\n        self.on('cancel', function (e) {\n          if (self.menu && self.menu.visible()) {\n            e.stopPropagation();\n            self.hideMenu();\n          }\n        });\n        var focusIdx = function (idx, menu) {\n          if (menu && menu.items().length > 0) {\n            menu.items().eq(idx)[0].focus();\n          }\n        };\n        self.on('keydown', function (e) {\n          var keyCode = e.keyCode;\n          if (e.target.nodeName === 'INPUT') {\n            if (keyCode === global$d.DOWN) {\n              e.preventDefault();\n              self.fire('autocomplete');\n              focusIdx(0, self.menu);\n            } else if (keyCode === global$d.UP) {\n              e.preventDefault();\n              focusIdx(-1, self.menu);\n            }\n          }\n        });\n        return self._super();\n      },\n      remove: function () {\n        global$9(this.getEl('inp')).off();\n        if (this.menu) {\n          this.menu.remove();\n        }\n        this._super();\n      }\n    });\n\n    var ColorBox = ComboBox.extend({\n      init: function (settings) {\n        var self = this;\n        settings.spellcheck = false;\n        if (settings.onaction) {\n          settings.icon = 'none';\n        }\n        self._super(settings);\n        self.classes.add('colorbox');\n        self.on('change keyup postrender', function () {\n          self.repaintColor(self.value());\n        });\n      },\n      repaintColor: function (value) {\n        var openElm = this.getEl('open');\n        var elm = openElm ? openElm.getElementsByTagName('i')[0] : null;\n        if (elm) {\n          try {\n            elm.style.background = value;\n          } catch (ex) {\n          }\n        }\n      },\n      bindStates: function () {\n        var self = this;\n        self.state.on('change:value', function (e) {\n          if (self.state.get('rendered')) {\n            self.repaintColor(e.value);\n          }\n        });\n        return self._super();\n      }\n    });\n\n    var PanelButton = Button.extend({\n      showPanel: function () {\n        var self = this, settings = self.settings;\n        self.classes.add('opened');\n        if (!self.panel) {\n          var panelSettings = settings.panel;\n          if (panelSettings.type) {\n            panelSettings = {\n              layout: 'grid',\n              items: panelSettings\n            };\n          }\n          panelSettings.role = panelSettings.role || 'dialog';\n          panelSettings.popover = true;\n          panelSettings.autohide = true;\n          panelSettings.ariaRoot = true;\n          self.panel = new FloatPanel(panelSettings).on('hide', function () {\n            self.classes.remove('opened');\n          }).on('cancel', function (e) {\n            e.stopPropagation();\n            self.focus();\n            self.hidePanel();\n          }).parent(self).renderTo(self.getContainerElm());\n          self.panel.fire('show');\n          self.panel.reflow();\n        } else {\n          self.panel.show();\n        }\n        var rtlRels = [\n          'bc-tc',\n          'bc-tl',\n          'bc-tr'\n        ];\n        var ltrRels = [\n          'bc-tc',\n          'bc-tr',\n          'bc-tl',\n          'tc-bc',\n          'tc-br',\n          'tc-bl'\n        ];\n        var rel = self.panel.testMoveRel(self.getEl(), settings.popoverAlign || (self.isRtl() ? rtlRels : ltrRels));\n        self.panel.classes.toggle('start', rel.substr(-1) === 'l');\n        self.panel.classes.toggle('end', rel.substr(-1) === 'r');\n        var isTop = rel.substr(0, 1) === 't';\n        self.panel.classes.toggle('bottom', !isTop);\n        self.panel.classes.toggle('top', isTop);\n        self.panel.moveRel(self.getEl(), rel);\n      },\n      hidePanel: function () {\n        var self = this;\n        if (self.panel) {\n          self.panel.hide();\n        }\n      },\n      postRender: function () {\n        var self = this;\n        self.aria('haspopup', true);\n        self.on('click', function (e) {\n          if (e.control === self) {\n            if (self.panel && self.panel.visible()) {\n              self.hidePanel();\n            } else {\n              self.showPanel();\n              self.panel.focus(!!e.aria);\n            }\n          }\n        });\n        return self._super();\n      },\n      remove: function () {\n        if (this.panel) {\n          this.panel.remove();\n          this.panel = null;\n        }\n        return this._super();\n      }\n    });\n\n    var DOM$3 = global$3.DOM;\n    var ColorButton = PanelButton.extend({\n      init: function (settings) {\n        this._super(settings);\n        this.classes.add('splitbtn');\n        this.classes.add('colorbutton');\n      },\n      color: function (color) {\n        if (color) {\n          this._color = color;\n          this.getEl('preview').style.backgroundColor = color;\n          return this;\n        }\n        return this._color;\n      },\n      resetColor: function () {\n        this._color = null;\n        this.getEl('preview').style.backgroundColor = null;\n        return this;\n      },\n      renderHtml: function () {\n        var self = this, id = self._id, prefix = self.classPrefix, text = self.state.get('text');\n        var icon = self.settings.icon ? prefix + 'ico ' + prefix + 'i-' + self.settings.icon : '';\n        var image = self.settings.image ? ' style=\"background-image: url(\\'' + self.settings.image + '\\')\"' : '';\n        var textHtml = '';\n        if (text) {\n          self.classes.add('btn-has-text');\n          textHtml = '<span class=\"' + prefix + 'txt\">' + self.encode(text) + '</span>';\n        }\n        return '<div id=\"' + id + '\" class=\"' + self.classes + '\" role=\"button\" tabindex=\"-1\" aria-haspopup=\"true\">' + '<button role=\"presentation\" hidefocus=\"1\" type=\"button\" tabindex=\"-1\">' + (icon ? '<i class=\"' + icon + '\"' + image + '></i>' : '') + '<span id=\"' + id + '-preview\" class=\"' + prefix + 'preview\"></span>' + textHtml + '</button>' + '<button type=\"button\" class=\"' + prefix + 'open\" hidefocus=\"1\" tabindex=\"-1\">' + ' <i class=\"' + prefix + 'caret\"></i>' + '</button>' + '</div>';\n      },\n      postRender: function () {\n        var self = this, onClickHandler = self.settings.onclick;\n        self.on('click', function (e) {\n          if (e.aria && e.aria.key === 'down') {\n            return;\n          }\n          if (e.control === self && !DOM$3.getParent(e.target, '.' + self.classPrefix + 'open')) {\n            e.stopImmediatePropagation();\n            onClickHandler.call(self, e);\n          }\n        });\n        delete self.settings.onclick;\n        return self._super();\n      }\n    });\n\n    var global$e = tinymce.util.Tools.resolve('tinymce.util.Color');\n\n    var ColorPicker = Widget.extend({\n      Defaults: { classes: 'widget colorpicker' },\n      init: function (settings) {\n        this._super(settings);\n      },\n      postRender: function () {\n        var self = this;\n        var color = self.color();\n        var hsv, hueRootElm, huePointElm, svRootElm, svPointElm;\n        hueRootElm = self.getEl('h');\n        huePointElm = self.getEl('hp');\n        svRootElm = self.getEl('sv');\n        svPointElm = self.getEl('svp');\n        function getPos(elm, event) {\n          var pos = funcs.getPos(elm);\n          var x, y;\n          x = event.pageX - pos.x;\n          y = event.pageY - pos.y;\n          x = Math.max(0, Math.min(x / elm.clientWidth, 1));\n          y = Math.max(0, Math.min(y / elm.clientHeight, 1));\n          return {\n            x: x,\n            y: y\n          };\n        }\n        function updateColor(hsv, hueUpdate) {\n          var hue = (360 - hsv.h) / 360;\n          funcs.css(huePointElm, { top: hue * 100 + '%' });\n          if (!hueUpdate) {\n            funcs.css(svPointElm, {\n              left: hsv.s + '%',\n              top: 100 - hsv.v + '%'\n            });\n          }\n          svRootElm.style.background = global$e({\n            s: 100,\n            v: 100,\n            h: hsv.h\n          }).toHex();\n          self.color().parse({\n            s: hsv.s,\n            v: hsv.v,\n            h: hsv.h\n          });\n        }\n        function updateSaturationAndValue(e) {\n          var pos;\n          pos = getPos(svRootElm, e);\n          hsv.s = pos.x * 100;\n          hsv.v = (1 - pos.y) * 100;\n          updateColor(hsv);\n          self.fire('change');\n        }\n        function updateHue(e) {\n          var pos;\n          pos = getPos(hueRootElm, e);\n          hsv = color.toHsv();\n          hsv.h = (1 - pos.y) * 360;\n          updateColor(hsv, true);\n          self.fire('change');\n        }\n        self._repaint = function () {\n          hsv = color.toHsv();\n          updateColor(hsv);\n        };\n        self._super();\n        self._svdraghelper = new DragHelper(self._id + '-sv', {\n          start: updateSaturationAndValue,\n          drag: updateSaturationAndValue\n        });\n        self._hdraghelper = new DragHelper(self._id + '-h', {\n          start: updateHue,\n          drag: updateHue\n        });\n        self._repaint();\n      },\n      rgb: function () {\n        return this.color().toRgb();\n      },\n      value: function (value) {\n        var self = this;\n        if (arguments.length) {\n          self.color().parse(value);\n          if (self._rendered) {\n            self._repaint();\n          }\n        } else {\n          return self.color().toHex();\n        }\n      },\n      color: function () {\n        if (!this._color) {\n          this._color = global$e();\n        }\n        return this._color;\n      },\n      renderHtml: function () {\n        var self = this;\n        var id = self._id;\n        var prefix = self.classPrefix;\n        var hueHtml;\n        var stops = '#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000';\n        function getOldIeFallbackHtml() {\n          var i, l, html = '', gradientPrefix, stopsList;\n          gradientPrefix = 'filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=';\n          stopsList = stops.split(',');\n          for (i = 0, l = stopsList.length - 1; i < l; i++) {\n            html += '<div class=\"' + prefix + 'colorpicker-h-chunk\" style=\"' + 'height:' + 100 / l + '%;' + gradientPrefix + stopsList[i] + ',endColorstr=' + stopsList[i + 1] + ');' + '-ms-' + gradientPrefix + stopsList[i] + ',endColorstr=' + stopsList[i + 1] + ')' + '\"></div>';\n          }\n          return html;\n        }\n        var gradientCssText = 'background: -ms-linear-gradient(top,' + stops + ');' + 'background: linear-gradient(to bottom,' + stops + ');';\n        hueHtml = '<div id=\"' + id + '-h\" class=\"' + prefix + 'colorpicker-h\" style=\"' + gradientCssText + '\">' + getOldIeFallbackHtml() + '<div id=\"' + id + '-hp\" class=\"' + prefix + 'colorpicker-h-marker\"></div>' + '</div>';\n        return '<div id=\"' + id + '\" class=\"' + self.classes + '\">' + '<div id=\"' + id + '-sv\" class=\"' + prefix + 'colorpicker-sv\">' + '<div class=\"' + prefix + 'colorpicker-overlay1\">' + '<div class=\"' + prefix + 'colorpicker-overlay2\">' + '<div id=\"' + id + '-svp\" class=\"' + prefix + 'colorpicker-selector1\">' + '<div class=\"' + prefix + 'colorpicker-selector2\"></div>' + '</div>' + '</div>' + '</div>' + '</div>' + hueHtml + '</div>';\n      }\n    });\n\n    var DropZone = Widget.extend({\n      init: function (settings) {\n        var self = this;\n        settings = global$2.extend({\n          height: 100,\n          text: 'Drop an image here',\n          multiple: false,\n          accept: null\n        }, settings);\n        self._super(settings);\n        self.classes.add('dropzone');\n        if (settings.multiple) {\n          self.classes.add('multiple');\n        }\n      },\n      renderHtml: function () {\n        var self = this;\n        var attrs, elm;\n        var cfg = self.settings;\n        attrs = {\n          id: self._id,\n          hidefocus: '1'\n        };\n        elm = funcs.create('div', attrs, '<span>' + this.translate(cfg.text) + '</span>');\n        if (cfg.height) {\n          funcs.css(elm, 'height', cfg.height + 'px');\n        }\n        if (cfg.width) {\n          funcs.css(elm, 'width', cfg.width + 'px');\n        }\n        elm.className = self.classes;\n        return elm.outerHTML;\n      },\n      postRender: function () {\n        var self = this;\n        var toggleDragClass = function (e) {\n          e.preventDefault();\n          self.classes.toggle('dragenter');\n          self.getEl().className = self.classes;\n        };\n        var filter = function (files) {\n          var accept = self.settings.accept;\n          if (typeof accept !== 'string') {\n            return files;\n          }\n          var re = new RegExp('(' + accept.split(/\\s*,\\s*/).join('|') + ')$', 'i');\n          return global$2.grep(files, function (file) {\n            return re.test(file.name);\n          });\n        };\n        self._super();\n        self.$el.on('dragover', function (e) {\n          e.preventDefault();\n        });\n        self.$el.on('dragenter', toggleDragClass);\n        self.$el.on('dragleave', toggleDragClass);\n        self.$el.on('drop', function (e) {\n          e.preventDefault();\n          if (self.state.get('disabled')) {\n            return;\n          }\n          var files = filter(e.dataTransfer.files);\n          self.value = function () {\n            if (!files.length) {\n              return null;\n            } else if (self.settings.multiple) {\n              return files;\n            } else {\n              return files[0];\n            }\n          };\n          if (files.length) {\n            self.fire('change', e);\n          }\n        });\n      },\n      remove: function () {\n        this.$el.off();\n        this._super();\n      }\n    });\n\n    var Path = Widget.extend({\n      init: function (settings) {\n        var self = this;\n        if (!settings.delimiter) {\n          settings.delimiter = '\\xBB';\n        }\n        self._super(settings);\n        self.classes.add('path');\n        self.canFocus = true;\n        self.on('click', function (e) {\n          var index;\n          var target = e.target;\n          if (index = target.getAttribute('data-index')) {\n            self.fire('select', {\n              value: self.row()[index],\n              index: index\n            });\n          }\n        });\n        self.row(self.settings.row);\n      },\n      focus: function () {\n        var self = this;\n        self.getEl().firstChild.focus();\n        return self;\n      },\n      row: function (row) {\n        if (!arguments.length) {\n          return this.state.get('row');\n        }\n        this.state.set('row', row);\n        return this;\n      },\n      renderHtml: function () {\n        var self = this;\n        return '<div id=\"' + self._id + '\" class=\"' + self.classes + '\">' + self._getDataPathHtml(self.state.get('row')) + '</div>';\n      },\n      bindStates: function () {\n        var self = this;\n        self.state.on('change:row', function (e) {\n          self.innerHtml(self._getDataPathHtml(e.value));\n        });\n        return self._super();\n      },\n      _getDataPathHtml: function (data) {\n        var self = this;\n        var parts = data || [];\n        var i, l, html = '';\n        var prefix = self.classPrefix;\n        for (i = 0, l = parts.length; i < l; i++) {\n          html += (i > 0 ? '<div class=\"' + prefix + 'divider\" aria-hidden=\"true\"> ' + self.settings.delimiter + ' </div>' : '') + '<div role=\"button\" class=\"' + prefix + 'path-item' + (i === l - 1 ? ' ' + prefix + 'last' : '') + '\" data-index=\"' + i + '\" tabindex=\"-1\" id=\"' + self._id + '-' + i + '\" aria-level=\"' + (i + 1) + '\">' + parts[i].name + '</div>';\n        }\n        if (!html) {\n          html = '<div class=\"' + prefix + 'path-item\">\\xA0</div>';\n        }\n        return html;\n      }\n    });\n\n    var ElementPath = Path.extend({\n      postRender: function () {\n        var self = this, editor = self.settings.editor;\n        function isHidden(elm) {\n          if (elm.nodeType === 1) {\n            if (elm.nodeName === 'BR' || !!elm.getAttribute('data-mce-bogus')) {\n              return true;\n            }\n            if (elm.getAttribute('data-mce-type') === 'bookmark') {\n              return true;\n            }\n          }\n          return false;\n        }\n        if (editor.settings.elementpath !== false) {\n          self.on('select', function (e) {\n            editor.focus();\n            editor.selection.select(this.row()[e.index].element);\n            editor.nodeChanged();\n          });\n          editor.on('nodeChange', function (e) {\n            var outParents = [];\n            var parents = e.parents;\n            var i = parents.length;\n            while (i--) {\n              if (parents[i].nodeType === 1 && !isHidden(parents[i])) {\n                var args = editor.fire('ResolveName', {\n                  name: parents[i].nodeName.toLowerCase(),\n                  target: parents[i]\n                });\n                if (!args.isDefaultPrevented()) {\n                  outParents.push({\n                    name: args.name,\n                    element: parents[i]\n                  });\n                }\n                if (args.isPropagationStopped()) {\n                  break;\n                }\n              }\n            }\n            self.row(outParents);\n          });\n        }\n        return self._super();\n      }\n    });\n\n    var FormItem = Container.extend({\n      Defaults: {\n        layout: 'flex',\n        align: 'center',\n        defaults: { flex: 1 }\n      },\n      renderHtml: function () {\n        var self = this, layout = self._layout, prefix = self.classPrefix;\n        self.classes.add('formitem');\n        layout.preRender(self);\n        return '<div id=\"' + self._id + '\" class=\"' + self.classes + '\" hidefocus=\"1\" tabindex=\"-1\">' + (self.settings.title ? '<div id=\"' + self._id + '-title\" class=\"' + prefix + 'title\">' + self.settings.title + '</div>' : '') + '<div id=\"' + self._id + '-body\" class=\"' + self.bodyClasses + '\">' + (self.settings.html || '') + layout.renderHtml(self) + '</div>' + '</div>';\n      }\n    });\n\n    var Form = Container.extend({\n      Defaults: {\n        containerCls: 'form',\n        layout: 'flex',\n        direction: 'column',\n        align: 'stretch',\n        flex: 1,\n        padding: 15,\n        labelGap: 30,\n        spacing: 10,\n        callbacks: {\n          submit: function () {\n            this.submit();\n          }\n        }\n      },\n      preRender: function () {\n        var self = this, items = self.items();\n        if (!self.settings.formItemDefaults) {\n          self.settings.formItemDefaults = {\n            layout: 'flex',\n            autoResize: 'overflow',\n            defaults: { flex: 1 }\n          };\n        }\n        items.each(function (ctrl) {\n          var formItem;\n          var label = ctrl.settings.label;\n          if (label) {\n            formItem = new FormItem(global$2.extend({\n              items: {\n                type: 'label',\n                id: ctrl._id + '-l',\n                text: label,\n                flex: 0,\n                forId: ctrl._id,\n                disabled: ctrl.disabled()\n              }\n            }, self.settings.formItemDefaults));\n            formItem.type = 'formitem';\n            ctrl.aria('labelledby', ctrl._id + '-l');\n            if (typeof ctrl.settings.flex === 'undefined') {\n              ctrl.settings.flex = 1;\n            }\n            self.replace(ctrl, formItem);\n            formItem.add(ctrl);\n          }\n        });\n      },\n      submit: function () {\n        return this.fire('submit', { data: this.toJSON() });\n      },\n      postRender: function () {\n        var self = this;\n        self._super();\n        self.fromJSON(self.settings.data);\n      },\n      bindStates: function () {\n        var self = this;\n        self._super();\n        function recalcLabels() {\n          var maxLabelWidth = 0;\n          var labels = [];\n          var i, labelGap, items;\n          if (self.settings.labelGapCalc === false) {\n            return;\n          }\n          if (self.settings.labelGapCalc === 'children') {\n            items = self.find('formitem');\n          } else {\n            items = self.items();\n          }\n          items.filter('formitem').each(function (item) {\n            var labelCtrl = item.items()[0], labelWidth = labelCtrl.getEl().clientWidth;\n            maxLabelWidth = labelWidth > maxLabelWidth ? labelWidth : maxLabelWidth;\n            labels.push(labelCtrl);\n          });\n          labelGap = self.settings.labelGap || 0;\n          i = labels.length;\n          while (i--) {\n            labels[i].settings.minWidth = maxLabelWidth + labelGap;\n          }\n        }\n        self.on('show', recalcLabels);\n        recalcLabels();\n      }\n    });\n\n    var FieldSet = Form.extend({\n      Defaults: {\n        containerCls: 'fieldset',\n        layout: 'flex',\n        direction: 'column',\n        align: 'stretch',\n        flex: 1,\n        padding: '25 15 5 15',\n        labelGap: 30,\n        spacing: 10,\n        border: 1\n      },\n      renderHtml: function () {\n        var self = this, layout = self._layout, prefix = self.classPrefix;\n        self.preRender();\n        layout.preRender(self);\n        return '<fieldset id=\"' + self._id + '\" class=\"' + self.classes + '\" hidefocus=\"1\" tabindex=\"-1\">' + (self.settings.title ? '<legend id=\"' + self._id + '-title\" class=\"' + prefix + 'fieldset-title\">' + self.settings.title + '</legend>' : '') + '<div id=\"' + self._id + '-body\" class=\"' + self.bodyClasses + '\">' + (self.settings.html || '') + layout.renderHtml(self) + '</div>' + '</fieldset>';\n      }\n    });\n\n    var unique$1 = 0;\n    var generate = function (prefix) {\n      var date = new Date();\n      var time = date.getTime();\n      var random = Math.floor(Math.random() * 1000000000);\n      unique$1++;\n      return prefix + '_' + random + unique$1 + String(time);\n    };\n\n    var fromHtml = function (html, scope) {\n      var doc = scope || domGlobals.document;\n      var div = doc.createElement('div');\n      div.innerHTML = html;\n      if (!div.hasChildNodes() || div.childNodes.length > 1) {\n        domGlobals.console.error('HTML does not have a single root node', html);\n        throw new Error('HTML must have a single root node');\n      }\n      return fromDom(div.childNodes[0]);\n    };\n    var fromTag = function (tag, scope) {\n      var doc = scope || domGlobals.document;\n      var node = doc.createElement(tag);\n      return fromDom(node);\n    };\n    var fromText = function (text, scope) {\n      var doc = scope || domGlobals.document;\n      var node = doc.createTextNode(text);\n      return fromDom(node);\n    };\n    var fromDom = function (node) {\n      if (node === null || node === undefined) {\n        throw new Error('Node cannot be null or undefined');\n      }\n      return { dom: constant(node) };\n    };\n    var fromPoint = function (docElm, x, y) {\n      var doc = docElm.dom();\n      return Option.from(doc.elementFromPoint(x, y)).map(fromDom);\n    };\n    var Element = {\n      fromHtml: fromHtml,\n      fromTag: fromTag,\n      fromText: fromText,\n      fromDom: fromDom,\n      fromPoint: fromPoint\n    };\n\n    var cached = function (f) {\n      var called = false;\n      var r;\n      return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        if (!called) {\n          called = true;\n          r = f.apply(null, args);\n        }\n        return r;\n      };\n    };\n\n    var ATTRIBUTE = domGlobals.Node.ATTRIBUTE_NODE;\n    var CDATA_SECTION = domGlobals.Node.CDATA_SECTION_NODE;\n    var COMMENT = domGlobals.Node.COMMENT_NODE;\n    var DOCUMENT = domGlobals.Node.DOCUMENT_NODE;\n    var DOCUMENT_TYPE = domGlobals.Node.DOCUMENT_TYPE_NODE;\n    var DOCUMENT_FRAGMENT = domGlobals.Node.DOCUMENT_FRAGMENT_NODE;\n    var ELEMENT = domGlobals.Node.ELEMENT_NODE;\n    var TEXT = domGlobals.Node.TEXT_NODE;\n    var PROCESSING_INSTRUCTION = domGlobals.Node.PROCESSING_INSTRUCTION_NODE;\n    var ENTITY_REFERENCE = domGlobals.Node.ENTITY_REFERENCE_NODE;\n    var ENTITY = domGlobals.Node.ENTITY_NODE;\n    var NOTATION = domGlobals.Node.NOTATION_NODE;\n\n    var Global = typeof domGlobals.window !== 'undefined' ? domGlobals.window : Function('return this;')();\n\n    var path = function (parts, scope) {\n      var o = scope !== undefined && scope !== null ? scope : Global;\n      for (var i = 0; i < parts.length && o !== undefined && o !== null; ++i) {\n        o = o[parts[i]];\n      }\n      return o;\n    };\n    var resolve = function (p, scope) {\n      var parts = p.split('.');\n      return path(parts, scope);\n    };\n\n    var unsafe = function (name, scope) {\n      return resolve(name, scope);\n    };\n    var getOrDie = function (name, scope) {\n      var actual = unsafe(name, scope);\n      if (actual === undefined || actual === null) {\n        throw new Error(name + ' not available on this browser');\n      }\n      return actual;\n    };\n    var Global$1 = { getOrDie: getOrDie };\n\n    var Immutable = function () {\n      var fields = [];\n      for (var _i = 0; _i < arguments.length; _i++) {\n        fields[_i] = arguments[_i];\n      }\n      return function () {\n        var values = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          values[_i] = arguments[_i];\n        }\n        if (fields.length !== values.length) {\n          throw new Error('Wrong number of arguments to struct. Expected \"[' + fields.length + ']\", got ' + values.length + ' arguments');\n        }\n        var struct = {};\n        each(fields, function (name, i) {\n          struct[name] = constant(values[i]);\n        });\n        return struct;\n      };\n    };\n\n    var node = function () {\n      var f = Global$1.getOrDie('Node');\n      return f;\n    };\n    var compareDocumentPosition = function (a, b, match) {\n      return (a.compareDocumentPosition(b) & match) !== 0;\n    };\n    var documentPositionPreceding = function (a, b) {\n      return compareDocumentPosition(a, b, node().DOCUMENT_POSITION_PRECEDING);\n    };\n    var documentPositionContainedBy = function (a, b) {\n      return compareDocumentPosition(a, b, node().DOCUMENT_POSITION_CONTAINED_BY);\n    };\n    var Node = {\n      documentPositionPreceding: documentPositionPreceding,\n      documentPositionContainedBy: documentPositionContainedBy\n    };\n\n    var firstMatch = function (regexes, s) {\n      for (var i = 0; i < regexes.length; i++) {\n        var x = regexes[i];\n        if (x.test(s)) {\n          return x;\n        }\n      }\n      return undefined;\n    };\n    var find$1 = function (regexes, agent) {\n      var r = firstMatch(regexes, agent);\n      if (!r) {\n        return {\n          major: 0,\n          minor: 0\n        };\n      }\n      var group = function (i) {\n        return Number(agent.replace(r, '$' + i));\n      };\n      return nu(group(1), group(2));\n    };\n    var detect = function (versionRegexes, agent) {\n      var cleanedAgent = String(agent).toLowerCase();\n      if (versionRegexes.length === 0) {\n        return unknown();\n      }\n      return find$1(versionRegexes, cleanedAgent);\n    };\n    var unknown = function () {\n      return nu(0, 0);\n    };\n    var nu = function (major, minor) {\n      return {\n        major: major,\n        minor: minor\n      };\n    };\n    var Version = {\n      nu: nu,\n      detect: detect,\n      unknown: unknown\n    };\n\n    var edge = 'Edge';\n    var chrome = 'Chrome';\n    var ie = 'IE';\n    var opera = 'Opera';\n    var firefox = 'Firefox';\n    var safari = 'Safari';\n    var isBrowser = function (name, current) {\n      return function () {\n        return current === name;\n      };\n    };\n    var unknown$1 = function () {\n      return nu$1({\n        current: undefined,\n        version: Version.unknown()\n      });\n    };\n    var nu$1 = function (info) {\n      var current = info.current;\n      var version = info.version;\n      return {\n        current: current,\n        version: version,\n        isEdge: isBrowser(edge, current),\n        isChrome: isBrowser(chrome, current),\n        isIE: isBrowser(ie, current),\n        isOpera: isBrowser(opera, current),\n        isFirefox: isBrowser(firefox, current),\n        isSafari: isBrowser(safari, current)\n      };\n    };\n    var Browser = {\n      unknown: unknown$1,\n      nu: nu$1,\n      edge: constant(edge),\n      chrome: constant(chrome),\n      ie: constant(ie),\n      opera: constant(opera),\n      firefox: constant(firefox),\n      safari: constant(safari)\n    };\n\n    var windows$1 = 'Windows';\n    var ios = 'iOS';\n    var android = 'Android';\n    var linux = 'Linux';\n    var osx = 'OSX';\n    var solaris = 'Solaris';\n    var freebsd = 'FreeBSD';\n    var isOS = function (name, current) {\n      return function () {\n        return current === name;\n      };\n    };\n    var unknown$2 = function () {\n      return nu$2({\n        current: undefined,\n        version: Version.unknown()\n      });\n    };\n    var nu$2 = function (info) {\n      var current = info.current;\n      var version = info.version;\n      return {\n        current: current,\n        version: version,\n        isWindows: isOS(windows$1, current),\n        isiOS: isOS(ios, current),\n        isAndroid: isOS(android, current),\n        isOSX: isOS(osx, current),\n        isLinux: isOS(linux, current),\n        isSolaris: isOS(solaris, current),\n        isFreeBSD: isOS(freebsd, current)\n      };\n    };\n    var OperatingSystem = {\n      unknown: unknown$2,\n      nu: nu$2,\n      windows: constant(windows$1),\n      ios: constant(ios),\n      android: constant(android),\n      linux: constant(linux),\n      osx: constant(osx),\n      solaris: constant(solaris),\n      freebsd: constant(freebsd)\n    };\n\n    var DeviceType = function (os, browser, userAgent) {\n      var isiPad = os.isiOS() && /ipad/i.test(userAgent) === true;\n      var isiPhone = os.isiOS() && !isiPad;\n      var isAndroid3 = os.isAndroid() && os.version.major === 3;\n      var isAndroid4 = os.isAndroid() && os.version.major === 4;\n      var isTablet = isiPad || isAndroid3 || isAndroid4 && /mobile/i.test(userAgent) === true;\n      var isTouch = os.isiOS() || os.isAndroid();\n      var isPhone = isTouch && !isTablet;\n      var iOSwebview = browser.isSafari() && os.isiOS() && /safari/i.test(userAgent) === false;\n      return {\n        isiPad: constant(isiPad),\n        isiPhone: constant(isiPhone),\n        isTablet: constant(isTablet),\n        isPhone: constant(isPhone),\n        isTouch: constant(isTouch),\n        isAndroid: os.isAndroid,\n        isiOS: os.isiOS,\n        isWebView: constant(iOSwebview)\n      };\n    };\n\n    var detect$1 = function (candidates, userAgent) {\n      var agent = String(userAgent).toLowerCase();\n      return find(candidates, function (candidate) {\n        return candidate.search(agent);\n      });\n    };\n    var detectBrowser = function (browsers, userAgent) {\n      return detect$1(browsers, userAgent).map(function (browser) {\n        var version = Version.detect(browser.versionRegexes, userAgent);\n        return {\n          current: browser.name,\n          version: version\n        };\n      });\n    };\n    var detectOs = function (oses, userAgent) {\n      return detect$1(oses, userAgent).map(function (os) {\n        var version = Version.detect(os.versionRegexes, userAgent);\n        return {\n          current: os.name,\n          version: version\n        };\n      });\n    };\n    var UaString = {\n      detectBrowser: detectBrowser,\n      detectOs: detectOs\n    };\n\n    var contains = function (str, substr) {\n      return str.indexOf(substr) !== -1;\n    };\n\n    var normalVersionRegex = /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/;\n    var checkContains = function (target) {\n      return function (uastring) {\n        return contains(uastring, target);\n      };\n    };\n    var browsers = [\n      {\n        name: 'Edge',\n        versionRegexes: [/.*?edge\\/ ?([0-9]+)\\.([0-9]+)$/],\n        search: function (uastring) {\n          return contains(uastring, 'edge/') && contains(uastring, 'chrome') && contains(uastring, 'safari') && contains(uastring, 'applewebkit');\n        }\n      },\n      {\n        name: 'Chrome',\n        versionRegexes: [\n          /.*?chrome\\/([0-9]+)\\.([0-9]+).*/,\n          normalVersionRegex\n        ],\n        search: function (uastring) {\n          return contains(uastring, 'chrome') && !contains(uastring, 'chromeframe');\n        }\n      },\n      {\n        name: 'IE',\n        versionRegexes: [\n          /.*?msie\\ ?([0-9]+)\\.([0-9]+).*/,\n          /.*?rv:([0-9]+)\\.([0-9]+).*/\n        ],\n        search: function (uastring) {\n          return contains(uastring, 'msie') || contains(uastring, 'trident');\n        }\n      },\n      {\n        name: 'Opera',\n        versionRegexes: [\n          normalVersionRegex,\n          /.*?opera\\/([0-9]+)\\.([0-9]+).*/\n        ],\n        search: checkContains('opera')\n      },\n      {\n        name: 'Firefox',\n        versionRegexes: [/.*?firefox\\/\\ ?([0-9]+)\\.([0-9]+).*/],\n        search: checkContains('firefox')\n      },\n      {\n        name: 'Safari',\n        versionRegexes: [\n          normalVersionRegex,\n          /.*?cpu os ([0-9]+)_([0-9]+).*/\n        ],\n        search: function (uastring) {\n          return (contains(uastring, 'safari') || contains(uastring, 'mobile/')) && contains(uastring, 'applewebkit');\n        }\n      }\n    ];\n    var oses = [\n      {\n        name: 'Windows',\n        search: checkContains('win'),\n        versionRegexes: [/.*?windows\\ nt\\ ?([0-9]+)\\.([0-9]+).*/]\n      },\n      {\n        name: 'iOS',\n        search: function (uastring) {\n          return contains(uastring, 'iphone') || contains(uastring, 'ipad');\n        },\n        versionRegexes: [\n          /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/,\n          /.*cpu os ([0-9]+)_([0-9]+).*/,\n          /.*cpu iphone os ([0-9]+)_([0-9]+).*/\n        ]\n      },\n      {\n        name: 'Android',\n        search: checkContains('android'),\n        versionRegexes: [/.*?android\\ ?([0-9]+)\\.([0-9]+).*/]\n      },\n      {\n        name: 'OSX',\n        search: checkContains('os x'),\n        versionRegexes: [/.*?os\\ x\\ ?([0-9]+)_([0-9]+).*/]\n      },\n      {\n        name: 'Linux',\n        search: checkContains('linux'),\n        versionRegexes: []\n      },\n      {\n        name: 'Solaris',\n        search: checkContains('sunos'),\n        versionRegexes: []\n      },\n      {\n        name: 'FreeBSD',\n        search: checkContains('freebsd'),\n        versionRegexes: []\n      }\n    ];\n    var PlatformInfo = {\n      browsers: constant(browsers),\n      oses: constant(oses)\n    };\n\n    var detect$2 = function (userAgent) {\n      var browsers = PlatformInfo.browsers();\n      var oses = PlatformInfo.oses();\n      var browser = UaString.detectBrowser(browsers, userAgent).fold(Browser.unknown, Browser.nu);\n      var os = UaString.detectOs(oses, userAgent).fold(OperatingSystem.unknown, OperatingSystem.nu);\n      var deviceType = DeviceType(os, browser, userAgent);\n      return {\n        browser: browser,\n        os: os,\n        deviceType: deviceType\n      };\n    };\n    var PlatformDetection = { detect: detect$2 };\n\n    var detect$3 = cached(function () {\n      var userAgent = domGlobals.navigator.userAgent;\n      return PlatformDetection.detect(userAgent);\n    });\n    var PlatformDetection$1 = { detect: detect$3 };\n\n    var ELEMENT$1 = ELEMENT;\n    var DOCUMENT$1 = DOCUMENT;\n    var bypassSelector = function (dom) {\n      return dom.nodeType !== ELEMENT$1 && dom.nodeType !== DOCUMENT$1 || dom.childElementCount === 0;\n    };\n    var all = function (selector, scope) {\n      var base = scope === undefined ? domGlobals.document : scope.dom();\n      return bypassSelector(base) ? [] : map(base.querySelectorAll(selector), Element.fromDom);\n    };\n    var one = function (selector, scope) {\n      var base = scope === undefined ? domGlobals.document : scope.dom();\n      return bypassSelector(base) ? Option.none() : Option.from(base.querySelector(selector)).map(Element.fromDom);\n    };\n\n    var regularContains = function (e1, e2) {\n      var d1 = e1.dom();\n      var d2 = e2.dom();\n      return d1 === d2 ? false : d1.contains(d2);\n    };\n    var ieContains = function (e1, e2) {\n      return Node.documentPositionContainedBy(e1.dom(), e2.dom());\n    };\n    var browser = PlatformDetection$1.detect().browser;\n    var contains$1 = browser.isIE() ? ieContains : regularContains;\n\n    var spot = Immutable('element', 'offset');\n\n    var descendants = function (scope, selector) {\n      return all(selector, scope);\n    };\n\n    var trim = global$2.trim;\n    var hasContentEditableState = function (value) {\n      return function (node) {\n        if (node && node.nodeType === 1) {\n          if (node.contentEditable === value) {\n            return true;\n          }\n          if (node.getAttribute('data-mce-contenteditable') === value) {\n            return true;\n          }\n        }\n        return false;\n      };\n    };\n    var isContentEditableTrue = hasContentEditableState('true');\n    var isContentEditableFalse = hasContentEditableState('false');\n    var create = function (type, title, url, level, attach) {\n      return {\n        type: type,\n        title: title,\n        url: url,\n        level: level,\n        attach: attach\n      };\n    };\n    var isChildOfContentEditableTrue = function (node) {\n      while (node = node.parentNode) {\n        var value = node.contentEditable;\n        if (value && value !== 'inherit') {\n          return isContentEditableTrue(node);\n        }\n      }\n      return false;\n    };\n    var select = function (selector, root) {\n      return map(descendants(Element.fromDom(root), selector), function (element) {\n        return element.dom();\n      });\n    };\n    var getElementText = function (elm) {\n      return elm.innerText || elm.textContent;\n    };\n    var getOrGenerateId = function (elm) {\n      return elm.id ? elm.id : generate('h');\n    };\n    var isAnchor = function (elm) {\n      return elm && elm.nodeName === 'A' && (elm.id || elm.name);\n    };\n    var isValidAnchor = function (elm) {\n      return isAnchor(elm) && isEditable(elm);\n    };\n    var isHeader = function (elm) {\n      return elm && /^(H[1-6])$/.test(elm.nodeName);\n    };\n    var isEditable = function (elm) {\n      return isChildOfContentEditableTrue(elm) && !isContentEditableFalse(elm);\n    };\n    var isValidHeader = function (elm) {\n      return isHeader(elm) && isEditable(elm);\n    };\n    var getLevel = function (elm) {\n      return isHeader(elm) ? parseInt(elm.nodeName.substr(1), 10) : 0;\n    };\n    var headerTarget = function (elm) {\n      var headerId = getOrGenerateId(elm);\n      var attach = function () {\n        elm.id = headerId;\n      };\n      return create('header', getElementText(elm), '#' + headerId, getLevel(elm), attach);\n    };\n    var anchorTarget = function (elm) {\n      var anchorId = elm.id || elm.name;\n      var anchorText = getElementText(elm);\n      return create('anchor', anchorText ? anchorText : '#' + anchorId, '#' + anchorId, 0, noop);\n    };\n    var getHeaderTargets = function (elms) {\n      return map(filter(elms, isValidHeader), headerTarget);\n    };\n    var getAnchorTargets = function (elms) {\n      return map(filter(elms, isValidAnchor), anchorTarget);\n    };\n    var getTargetElements = function (elm) {\n      var elms = select('h1,h2,h3,h4,h5,h6,a:not([href])', elm);\n      return elms;\n    };\n    var hasTitle = function (target) {\n      return trim(target.title).length > 0;\n    };\n    var find$2 = function (elm) {\n      var elms = getTargetElements(elm);\n      return filter(getHeaderTargets(elms).concat(getAnchorTargets(elms)), hasTitle);\n    };\n    var LinkTargets = { find: find$2 };\n\n    var getActiveEditor = function () {\n      return window.tinymce ? window.tinymce.activeEditor : global$1.activeEditor;\n    };\n    var history = {};\n    var HISTORY_LENGTH = 5;\n    var clearHistory = function () {\n      history = {};\n    };\n    var toMenuItem = function (target) {\n      return {\n        title: target.title,\n        value: {\n          title: { raw: target.title },\n          url: target.url,\n          attach: target.attach\n        }\n      };\n    };\n    var toMenuItems = function (targets) {\n      return global$2.map(targets, toMenuItem);\n    };\n    var staticMenuItem = function (title, url) {\n      return {\n        title: title,\n        value: {\n          title: title,\n          url: url,\n          attach: noop\n        }\n      };\n    };\n    var isUniqueUrl = function (url, targets) {\n      var foundTarget = exists(targets, function (target) {\n        return target.url === url;\n      });\n      return !foundTarget;\n    };\n    var getSetting = function (editorSettings, name, defaultValue) {\n      var value = name in editorSettings ? editorSettings[name] : defaultValue;\n      return value === false ? null : value;\n    };\n    var createMenuItems = function (term, targets, fileType, editorSettings) {\n      var separator = { title: '-' };\n      var fromHistoryMenuItems = function (history) {\n        var historyItems = history.hasOwnProperty(fileType) ? history[fileType] : [];\n        var uniqueHistory = filter(historyItems, function (url) {\n          return isUniqueUrl(url, targets);\n        });\n        return global$2.map(uniqueHistory, function (url) {\n          return {\n            title: url,\n            value: {\n              title: url,\n              url: url,\n              attach: noop\n            }\n          };\n        });\n      };\n      var fromMenuItems = function (type) {\n        var filteredTargets = filter(targets, function (target) {\n          return target.type === type;\n        });\n        return toMenuItems(filteredTargets);\n      };\n      var anchorMenuItems = function () {\n        var anchorMenuItems = fromMenuItems('anchor');\n        var topAnchor = getSetting(editorSettings, 'anchor_top', '#top');\n        var bottomAchor = getSetting(editorSettings, 'anchor_bottom', '#bottom');\n        if (topAnchor !== null) {\n          anchorMenuItems.unshift(staticMenuItem('<top>', topAnchor));\n        }\n        if (bottomAchor !== null) {\n          anchorMenuItems.push(staticMenuItem('<bottom>', bottomAchor));\n        }\n        return anchorMenuItems;\n      };\n      var join = function (items) {\n        return foldl(items, function (a, b) {\n          var bothEmpty = a.length === 0 || b.length === 0;\n          return bothEmpty ? a.concat(b) : a.concat(separator, b);\n        }, []);\n      };\n      if (editorSettings.typeahead_urls === false) {\n        return [];\n      }\n      return fileType === 'file' ? join([\n        filterByQuery(term, fromHistoryMenuItems(history)),\n        filterByQuery(term, fromMenuItems('header')),\n        filterByQuery(term, anchorMenuItems())\n      ]) : filterByQuery(term, fromHistoryMenuItems(history));\n    };\n    var addToHistory = function (url, fileType) {\n      var items = history[fileType];\n      if (!/^https?/.test(url)) {\n        return;\n      }\n      if (items) {\n        if (indexOf(items, url).isNone()) {\n          history[fileType] = items.slice(0, HISTORY_LENGTH).concat(url);\n        }\n      } else {\n        history[fileType] = [url];\n      }\n    };\n    var filterByQuery = function (term, menuItems) {\n      var lowerCaseTerm = term.toLowerCase();\n      var result = global$2.grep(menuItems, function (item) {\n        return item.title.toLowerCase().indexOf(lowerCaseTerm) !== -1;\n      });\n      return result.length === 1 && result[0].title === term ? [] : result;\n    };\n    var getTitle = function (linkDetails) {\n      var title = linkDetails.title;\n      return title.raw ? title.raw : title;\n    };\n    var setupAutoCompleteHandler = function (ctrl, editorSettings, bodyElm, fileType) {\n      var autocomplete = function (term) {\n        var linkTargets = LinkTargets.find(bodyElm);\n        var menuItems = createMenuItems(term, linkTargets, fileType, editorSettings);\n        ctrl.showAutoComplete(menuItems, term);\n      };\n      ctrl.on('autocomplete', function () {\n        autocomplete(ctrl.value());\n      });\n      ctrl.on('selectitem', function (e) {\n        var linkDetails = e.value;\n        ctrl.value(linkDetails.url);\n        var title = getTitle(linkDetails);\n        if (fileType === 'image') {\n          ctrl.fire('change', {\n            meta: {\n              alt: title,\n              attach: linkDetails.attach\n            }\n          });\n        } else {\n          ctrl.fire('change', {\n            meta: {\n              text: title,\n              attach: linkDetails.attach\n            }\n          });\n        }\n        ctrl.focus();\n      });\n      ctrl.on('click', function (e) {\n        if (ctrl.value().length === 0 && e.target.nodeName === 'INPUT') {\n          autocomplete('');\n        }\n      });\n      ctrl.on('PostRender', function () {\n        ctrl.getRoot().on('submit', function (e) {\n          if (!e.isDefaultPrevented()) {\n            addToHistory(ctrl.value(), fileType);\n          }\n        });\n      });\n    };\n    var statusToUiState = function (result) {\n      var status = result.status, message = result.message;\n      if (status === 'valid') {\n        return {\n          status: 'ok',\n          message: message\n        };\n      } else if (status === 'unknown') {\n        return {\n          status: 'warn',\n          message: message\n        };\n      } else if (status === 'invalid') {\n        return {\n          status: 'warn',\n          message: message\n        };\n      } else {\n        return {\n          status: 'none',\n          message: ''\n        };\n      }\n    };\n    var setupLinkValidatorHandler = function (ctrl, editorSettings, fileType) {\n      var validatorHandler = editorSettings.filepicker_validator_handler;\n      if (validatorHandler) {\n        var validateUrl_1 = function (url) {\n          if (url.length === 0) {\n            ctrl.statusLevel('none');\n            return;\n          }\n          validatorHandler({\n            url: url,\n            type: fileType\n          }, function (result) {\n            var uiState = statusToUiState(result);\n            ctrl.statusMessage(uiState.message);\n            ctrl.statusLevel(uiState.status);\n          });\n        };\n        ctrl.state.on('change:value', function (e) {\n          validateUrl_1(e.value);\n        });\n      }\n    };\n    var FilePicker = ComboBox.extend({\n      Statics: { clearHistory: clearHistory },\n      init: function (settings) {\n        var self = this, editor = getActiveEditor(), editorSettings = editor.settings;\n        var actionCallback, fileBrowserCallback, fileBrowserCallbackTypes;\n        var fileType = settings.filetype;\n        settings.spellcheck = false;\n        fileBrowserCallbackTypes = editorSettings.file_picker_types || editorSettings.file_browser_callback_types;\n        if (fileBrowserCallbackTypes) {\n          fileBrowserCallbackTypes = global$2.makeMap(fileBrowserCallbackTypes, /[, ]/);\n        }\n        if (!fileBrowserCallbackTypes || fileBrowserCallbackTypes[fileType]) {\n          fileBrowserCallback = editorSettings.file_picker_callback;\n          if (fileBrowserCallback && (!fileBrowserCallbackTypes || fileBrowserCallbackTypes[fileType])) {\n            actionCallback = function () {\n              var meta = self.fire('beforecall').meta;\n              meta = global$2.extend({ filetype: fileType }, meta);\n              fileBrowserCallback.call(editor, function (value, meta) {\n                self.value(value).fire('change', { meta: meta });\n              }, self.value(), meta);\n            };\n          } else {\n            fileBrowserCallback = editorSettings.file_browser_callback;\n            if (fileBrowserCallback && (!fileBrowserCallbackTypes || fileBrowserCallbackTypes[fileType])) {\n              actionCallback = function () {\n                fileBrowserCallback(self.getEl('inp').id, self.value(), fileType, window);\n              };\n            }\n          }\n        }\n        if (actionCallback) {\n          settings.icon = 'browse';\n          settings.onaction = actionCallback;\n        }\n        self._super(settings);\n        self.classes.add('filepicker');\n        setupAutoCompleteHandler(self, editorSettings, editor.getBody(), fileType);\n        setupLinkValidatorHandler(self, editorSettings, fileType);\n      }\n    });\n\n    var FitLayout = AbsoluteLayout.extend({\n      recalc: function (container) {\n        var contLayoutRect = container.layoutRect(), paddingBox = container.paddingBox;\n        container.items().filter(':visible').each(function (ctrl) {\n          ctrl.layoutRect({\n            x: paddingBox.left,\n            y: paddingBox.top,\n            w: contLayoutRect.innerW - paddingBox.right - paddingBox.left,\n            h: contLayoutRect.innerH - paddingBox.top - paddingBox.bottom\n          });\n          if (ctrl.recalc) {\n            ctrl.recalc();\n          }\n        });\n      }\n    });\n\n    var FlexLayout = AbsoluteLayout.extend({\n      recalc: function (container) {\n        var i, l, items, contLayoutRect, contPaddingBox, contSettings, align, pack, spacing, totalFlex, availableSpace, direction;\n        var ctrl, ctrlLayoutRect, ctrlSettings, flex;\n        var maxSizeItems = [];\n        var size, maxSize, ratio, rect, pos, maxAlignEndPos;\n        var sizeName, minSizeName, posName, maxSizeName, beforeName, innerSizeName, deltaSizeName, contentSizeName;\n        var alignAxisName, alignInnerSizeName, alignSizeName, alignMinSizeName, alignBeforeName, alignAfterName;\n        var alignDeltaSizeName, alignContentSizeName;\n        var max = Math.max, min = Math.min;\n        items = container.items().filter(':visible');\n        contLayoutRect = container.layoutRect();\n        contPaddingBox = container.paddingBox;\n        contSettings = container.settings;\n        direction = container.isRtl() ? contSettings.direction || 'row-reversed' : contSettings.direction;\n        align = contSettings.align;\n        pack = container.isRtl() ? contSettings.pack || 'end' : contSettings.pack;\n        spacing = contSettings.spacing || 0;\n        if (direction === 'row-reversed' || direction === 'column-reverse') {\n          items = items.set(items.toArray().reverse());\n          direction = direction.split('-')[0];\n        }\n        if (direction === 'column') {\n          posName = 'y';\n          sizeName = 'h';\n          minSizeName = 'minH';\n          maxSizeName = 'maxH';\n          innerSizeName = 'innerH';\n          beforeName = 'top';\n          deltaSizeName = 'deltaH';\n          contentSizeName = 'contentH';\n          alignBeforeName = 'left';\n          alignSizeName = 'w';\n          alignAxisName = 'x';\n          alignInnerSizeName = 'innerW';\n          alignMinSizeName = 'minW';\n          alignAfterName = 'right';\n          alignDeltaSizeName = 'deltaW';\n          alignContentSizeName = 'contentW';\n        } else {\n          posName = 'x';\n          sizeName = 'w';\n          minSizeName = 'minW';\n          maxSizeName = 'maxW';\n          innerSizeName = 'innerW';\n          beforeName = 'left';\n          deltaSizeName = 'deltaW';\n          contentSizeName = 'contentW';\n          alignBeforeName = 'top';\n          alignSizeName = 'h';\n          alignAxisName = 'y';\n          alignInnerSizeName = 'innerH';\n          alignMinSizeName = 'minH';\n          alignAfterName = 'bottom';\n          alignDeltaSizeName = 'deltaH';\n          alignContentSizeName = 'contentH';\n        }\n        availableSpace = contLayoutRect[innerSizeName] - contPaddingBox[beforeName] - contPaddingBox[beforeName];\n        maxAlignEndPos = totalFlex = 0;\n        for (i = 0, l = items.length; i < l; i++) {\n          ctrl = items[i];\n          ctrlLayoutRect = ctrl.layoutRect();\n          ctrlSettings = ctrl.settings;\n          flex = ctrlSettings.flex;\n          availableSpace -= i < l - 1 ? spacing : 0;\n          if (flex > 0) {\n            totalFlex += flex;\n            if (ctrlLayoutRect[maxSizeName]) {\n              maxSizeItems.push(ctrl);\n            }\n            ctrlLayoutRect.flex = flex;\n          }\n          availableSpace -= ctrlLayoutRect[minSizeName];\n          size = contPaddingBox[alignBeforeName] + ctrlLayoutRect[alignMinSizeName] + contPaddingBox[alignAfterName];\n          if (size > maxAlignEndPos) {\n            maxAlignEndPos = size;\n          }\n        }\n        rect = {};\n        if (availableSpace < 0) {\n          rect[minSizeName] = contLayoutRect[minSizeName] - availableSpace + contLayoutRect[deltaSizeName];\n        } else {\n          rect[minSizeName] = contLayoutRect[innerSizeName] - availableSpace + contLayoutRect[deltaSizeName];\n        }\n        rect[alignMinSizeName] = maxAlignEndPos + contLayoutRect[alignDeltaSizeName];\n        rect[contentSizeName] = contLayoutRect[innerSizeName] - availableSpace;\n        rect[alignContentSizeName] = maxAlignEndPos;\n        rect.minW = min(rect.minW, contLayoutRect.maxW);\n        rect.minH = min(rect.minH, contLayoutRect.maxH);\n        rect.minW = max(rect.minW, contLayoutRect.startMinWidth);\n        rect.minH = max(rect.minH, contLayoutRect.startMinHeight);\n        if (contLayoutRect.autoResize && (rect.minW !== contLayoutRect.minW || rect.minH !== contLayoutRect.minH)) {\n          rect.w = rect.minW;\n          rect.h = rect.minH;\n          container.layoutRect(rect);\n          this.recalc(container);\n          if (container._lastRect === null) {\n            var parentCtrl = container.parent();\n            if (parentCtrl) {\n              parentCtrl._lastRect = null;\n              parentCtrl.recalc();\n            }\n          }\n          return;\n        }\n        ratio = availableSpace / totalFlex;\n        for (i = 0, l = maxSizeItems.length; i < l; i++) {\n          ctrl = maxSizeItems[i];\n          ctrlLayoutRect = ctrl.layoutRect();\n          maxSize = ctrlLayoutRect[maxSizeName];\n          size = ctrlLayoutRect[minSizeName] + ctrlLayoutRect.flex * ratio;\n          if (size > maxSize) {\n            availableSpace -= ctrlLayoutRect[maxSizeName] - ctrlLayoutRect[minSizeName];\n            totalFlex -= ctrlLayoutRect.flex;\n            ctrlLayoutRect.flex = 0;\n            ctrlLayoutRect.maxFlexSize = maxSize;\n          } else {\n            ctrlLayoutRect.maxFlexSize = 0;\n          }\n        }\n        ratio = availableSpace / totalFlex;\n        pos = contPaddingBox[beforeName];\n        rect = {};\n        if (totalFlex === 0) {\n          if (pack === 'end') {\n            pos = availableSpace + contPaddingBox[beforeName];\n          } else if (pack === 'center') {\n            pos = Math.round(contLayoutRect[innerSizeName] / 2 - (contLayoutRect[innerSizeName] - availableSpace) / 2) + contPaddingBox[beforeName];\n            if (pos < 0) {\n              pos = contPaddingBox[beforeName];\n            }\n          } else if (pack === 'justify') {\n            pos = contPaddingBox[beforeName];\n            spacing = Math.floor(availableSpace / (items.length - 1));\n          }\n        }\n        rect[alignAxisName] = contPaddingBox[alignBeforeName];\n        for (i = 0, l = items.length; i < l; i++) {\n          ctrl = items[i];\n          ctrlLayoutRect = ctrl.layoutRect();\n          size = ctrlLayoutRect.maxFlexSize || ctrlLayoutRect[minSizeName];\n          if (align === 'center') {\n            rect[alignAxisName] = Math.round(contLayoutRect[alignInnerSizeName] / 2 - ctrlLayoutRect[alignSizeName] / 2);\n          } else if (align === 'stretch') {\n            rect[alignSizeName] = max(ctrlLayoutRect[alignMinSizeName] || 0, contLayoutRect[alignInnerSizeName] - contPaddingBox[alignBeforeName] - contPaddingBox[alignAfterName]);\n            rect[alignAxisName] = contPaddingBox[alignBeforeName];\n          } else if (align === 'end') {\n            rect[alignAxisName] = contLayoutRect[alignInnerSizeName] - ctrlLayoutRect[alignSizeName] - contPaddingBox.top;\n          }\n          if (ctrlLayoutRect.flex > 0) {\n            size += ctrlLayoutRect.flex * ratio;\n          }\n          rect[sizeName] = size;\n          rect[posName] = pos;\n          ctrl.layoutRect(rect);\n          if (ctrl.recalc) {\n            ctrl.recalc();\n          }\n          pos += size + spacing;\n        }\n      }\n    });\n\n    var FlowLayout = Layout.extend({\n      Defaults: {\n        containerClass: 'flow-layout',\n        controlClass: 'flow-layout-item',\n        endClass: 'break'\n      },\n      recalc: function (container) {\n        container.items().filter(':visible').each(function (ctrl) {\n          if (ctrl.recalc) {\n            ctrl.recalc();\n          }\n        });\n      },\n      isNative: function () {\n        return true;\n      }\n    });\n\n    var descendant = function (scope, selector) {\n      return one(selector, scope);\n    };\n\n    var toggleFormat = function (editor, fmt) {\n      return function () {\n        editor.execCommand('mceToggleFormat', false, fmt);\n      };\n    };\n    var addFormatChangedListener = function (editor, name, changed) {\n      var handler = function (state) {\n        changed(state, name);\n      };\n      if (editor.formatter) {\n        editor.formatter.formatChanged(name, handler);\n      } else {\n        editor.on('init', function () {\n          editor.formatter.formatChanged(name, handler);\n        });\n      }\n    };\n    var postRenderFormatToggle = function (editor, name) {\n      return function (e) {\n        addFormatChangedListener(editor, name, function (state) {\n          e.control.active(state);\n        });\n      };\n    };\n\n    var register = function (editor) {\n      var alignFormats = [\n        'alignleft',\n        'aligncenter',\n        'alignright',\n        'alignjustify'\n      ];\n      var defaultAlign = 'alignleft';\n      var alignMenuItems = [\n        {\n          text: 'Left',\n          icon: 'alignleft',\n          onclick: toggleFormat(editor, 'alignleft')\n        },\n        {\n          text: 'Center',\n          icon: 'aligncenter',\n          onclick: toggleFormat(editor, 'aligncenter')\n        },\n        {\n          text: 'Right',\n          icon: 'alignright',\n          onclick: toggleFormat(editor, 'alignright')\n        },\n        {\n          text: 'Justify',\n          icon: 'alignjustify',\n          onclick: toggleFormat(editor, 'alignjustify')\n        }\n      ];\n      editor.addMenuItem('align', {\n        text: 'Align',\n        menu: alignMenuItems\n      });\n      editor.addButton('align', {\n        type: 'menubutton',\n        icon: defaultAlign,\n        menu: alignMenuItems,\n        onShowMenu: function (e) {\n          var menu = e.control.menu;\n          global$2.each(alignFormats, function (formatName, idx) {\n            menu.items().eq(idx).each(function (item) {\n              return item.active(editor.formatter.match(formatName));\n            });\n          });\n        },\n        onPostRender: function (e) {\n          var ctrl = e.control;\n          global$2.each(alignFormats, function (formatName, idx) {\n            addFormatChangedListener(editor, formatName, function (state) {\n              ctrl.icon(defaultAlign);\n              if (state) {\n                ctrl.icon(formatName);\n              }\n            });\n          });\n        }\n      });\n      global$2.each({\n        alignleft: [\n          'Align left',\n          'JustifyLeft'\n        ],\n        aligncenter: [\n          'Align center',\n          'JustifyCenter'\n        ],\n        alignright: [\n          'Align right',\n          'JustifyRight'\n        ],\n        alignjustify: [\n          'Justify',\n          'JustifyFull'\n        ],\n        alignnone: [\n          'No alignment',\n          'JustifyNone'\n        ]\n      }, function (item, name) {\n        editor.addButton(name, {\n          active: false,\n          tooltip: item[0],\n          cmd: item[1],\n          onPostRender: postRenderFormatToggle(editor, name)\n        });\n      });\n    };\n    var Align = { register: register };\n\n    var getFirstFont = function (fontFamily) {\n      return fontFamily ? fontFamily.split(',')[0] : '';\n    };\n    var findMatchingValue = function (items, fontFamily) {\n      var font = fontFamily ? fontFamily.toLowerCase() : '';\n      var value;\n      global$2.each(items, function (item) {\n        if (item.value.toLowerCase() === font) {\n          value = item.value;\n        }\n      });\n      global$2.each(items, function (item) {\n        if (!value && getFirstFont(item.value).toLowerCase() === getFirstFont(font).toLowerCase()) {\n          value = item.value;\n        }\n      });\n      return value;\n    };\n    var createFontNameListBoxChangeHandler = function (editor, items) {\n      return function () {\n        var self = this;\n        self.state.set('value', null);\n        editor.on('init nodeChange', function (e) {\n          var fontFamily = editor.queryCommandValue('FontName');\n          var match = findMatchingValue(items, fontFamily);\n          self.value(match ? match : null);\n          if (!match && fontFamily) {\n            self.text(getFirstFont(fontFamily));\n          }\n        });\n      };\n    };\n    var createFormats = function (formats) {\n      formats = formats.replace(/;$/, '').split(';');\n      var i = formats.length;\n      while (i--) {\n        formats[i] = formats[i].split('=');\n      }\n      return formats;\n    };\n    var getFontItems = function (editor) {\n      var defaultFontsFormats = 'Andale Mono=andale mono,monospace;' + 'Arial=arial,helvetica,sans-serif;' + 'Arial Black=arial black,sans-serif;' + 'Book Antiqua=book antiqua,palatino,serif;' + 'Comic Sans MS=comic sans ms,sans-serif;' + 'Courier New=courier new,courier,monospace;' + 'Georgia=georgia,palatino,serif;' + 'Helvetica=helvetica,arial,sans-serif;' + 'Impact=impact,sans-serif;' + 'Symbol=symbol;' + 'Tahoma=tahoma,arial,helvetica,sans-serif;' + 'Terminal=terminal,monaco,monospace;' + 'Times New Roman=times new roman,times,serif;' + 'Trebuchet MS=trebuchet ms,geneva,sans-serif;' + 'Verdana=verdana,geneva,sans-serif;' + 'Webdings=webdings;' + 'Wingdings=wingdings,zapf dingbats';\n      var fonts = createFormats(editor.settings.font_formats || defaultFontsFormats);\n      return global$2.map(fonts, function (font) {\n        return {\n          text: { raw: font[0] },\n          value: font[1],\n          textStyle: font[1].indexOf('dings') === -1 ? 'font-family:' + font[1] : ''\n        };\n      });\n    };\n    var registerButtons = function (editor) {\n      editor.addButton('fontselect', function () {\n        var items = getFontItems(editor);\n        return {\n          type: 'listbox',\n          text: 'Font Family',\n          tooltip: 'Font Family',\n          values: items,\n          fixedWidth: true,\n          onPostRender: createFontNameListBoxChangeHandler(editor, items),\n          onselect: function (e) {\n            if (e.control.settings.value) {\n              editor.execCommand('FontName', false, e.control.settings.value);\n            }\n          }\n        };\n      });\n    };\n    var register$1 = function (editor) {\n      registerButtons(editor);\n    };\n    var FontSelect = { register: register$1 };\n\n    var round = function (number, precision) {\n      var factor = Math.pow(10, precision);\n      return Math.round(number * factor) / factor;\n    };\n    var toPt = function (fontSize, precision) {\n      if (/[0-9.]+px$/.test(fontSize)) {\n        return round(parseInt(fontSize, 10) * 72 / 96, precision || 0) + 'pt';\n      }\n      return fontSize;\n    };\n    var findMatchingValue$1 = function (items, pt, px) {\n      var value;\n      global$2.each(items, function (item) {\n        if (item.value === px) {\n          value = px;\n        } else if (item.value === pt) {\n          value = pt;\n        }\n      });\n      return value;\n    };\n    var createFontSizeListBoxChangeHandler = function (editor, items) {\n      return function () {\n        var self = this;\n        editor.on('init nodeChange', function (e) {\n          var px, pt, precision, match;\n          px = editor.queryCommandValue('FontSize');\n          if (px) {\n            for (precision = 3; !match && precision >= 0; precision--) {\n              pt = toPt(px, precision);\n              match = findMatchingValue$1(items, pt, px);\n            }\n          }\n          self.value(match ? match : null);\n          if (!match) {\n            self.text(pt);\n          }\n        });\n      };\n    };\n    var getFontSizeItems = function (editor) {\n      var defaultFontsizeFormats = '8pt 10pt 12pt 14pt 18pt 24pt 36pt';\n      var fontsizeFormats = editor.settings.fontsize_formats || defaultFontsizeFormats;\n      return global$2.map(fontsizeFormats.split(' '), function (item) {\n        var text = item, value = item;\n        var values = item.split('=');\n        if (values.length > 1) {\n          text = values[0];\n          value = values[1];\n        }\n        return {\n          text: text,\n          value: value\n        };\n      });\n    };\n    var registerButtons$1 = function (editor) {\n      editor.addButton('fontsizeselect', function () {\n        var items = getFontSizeItems(editor);\n        return {\n          type: 'listbox',\n          text: 'Font Sizes',\n          tooltip: 'Font Sizes',\n          values: items,\n          fixedWidth: true,\n          onPostRender: createFontSizeListBoxChangeHandler(editor, items),\n          onclick: function (e) {\n            if (e.control.settings.value) {\n              editor.execCommand('FontSize', false, e.control.settings.value);\n            }\n          }\n        };\n      });\n    };\n    var register$2 = function (editor) {\n      registerButtons$1(editor);\n    };\n    var FontSizeSelect = { register: register$2 };\n\n    var hideMenuObjects = function (editor, menu) {\n      var count = menu.length;\n      global$2.each(menu, function (item) {\n        if (item.menu) {\n          item.hidden = hideMenuObjects(editor, item.menu) === 0;\n        }\n        var formatName = item.format;\n        if (formatName) {\n          item.hidden = !editor.formatter.canApply(formatName);\n        }\n        if (item.hidden) {\n          count--;\n        }\n      });\n      return count;\n    };\n    var hideFormatMenuItems = function (editor, menu) {\n      var count = menu.items().length;\n      menu.items().each(function (item) {\n        if (item.menu) {\n          item.visible(hideFormatMenuItems(editor, item.menu) > 0);\n        }\n        if (!item.menu && item.settings.menu) {\n          item.visible(hideMenuObjects(editor, item.settings.menu) > 0);\n        }\n        var formatName = item.settings.format;\n        if (formatName) {\n          item.visible(editor.formatter.canApply(formatName));\n        }\n        if (!item.visible()) {\n          count--;\n        }\n      });\n      return count;\n    };\n    var createFormatMenu = function (editor) {\n      var count = 0;\n      var newFormats = [];\n      var defaultStyleFormats = [\n        {\n          title: 'Headings',\n          items: [\n            {\n              title: 'Heading 1',\n              format: 'h1'\n            },\n            {\n              title: 'Heading 2',\n              format: 'h2'\n            },\n            {\n              title: 'Heading 3',\n              format: 'h3'\n            },\n            {\n              title: 'Heading 4',\n              format: 'h4'\n            },\n            {\n              title: 'Heading 5',\n              format: 'h5'\n            },\n            {\n              title: 'Heading 6',\n              format: 'h6'\n            }\n          ]\n        },\n        {\n          title: 'Inline',\n          items: [\n            {\n              title: 'Bold',\n              icon: 'bold',\n              format: 'bold'\n            },\n            {\n              title: 'Italic',\n              icon: 'italic',\n              format: 'italic'\n            },\n            {\n              title: 'Underline',\n              icon: 'underline',\n              format: 'underline'\n            },\n            {\n              title: 'Strikethrough',\n              icon: 'strikethrough',\n              format: 'strikethrough'\n            },\n            {\n              title: 'Superscript',\n              icon: 'superscript',\n              format: 'superscript'\n            },\n            {\n              title: 'Subscript',\n              icon: 'subscript',\n              format: 'subscript'\n            },\n            {\n              title: 'Code',\n              icon: 'code',\n              format: 'code'\n            }\n          ]\n        },\n        {\n          title: 'Blocks',\n          items: [\n            {\n              title: 'Paragraph',\n              format: 'p'\n            },\n            {\n              title: 'Blockquote',\n              format: 'blockquote'\n            },\n            {\n              title: 'Div',\n              format: 'div'\n            },\n            {\n              title: 'Pre',\n              format: 'pre'\n            }\n          ]\n        },\n        {\n          title: 'Alignment',\n          items: [\n            {\n              title: 'Left',\n              icon: 'alignleft',\n              format: 'alignleft'\n            },\n            {\n              title: 'Center',\n              icon: 'aligncenter',\n              format: 'aligncenter'\n            },\n            {\n              title: 'Right',\n              icon: 'alignright',\n              format: 'alignright'\n            },\n            {\n              title: 'Justify',\n              icon: 'alignjustify',\n              format: 'alignjustify'\n            }\n          ]\n        }\n      ];\n      var createMenu = function (formats) {\n        var menu = [];\n        if (!formats) {\n          return;\n        }\n        global$2.each(formats, function (format) {\n          var menuItem = {\n            text: format.title,\n            icon: format.icon\n          };\n          if (format.items) {\n            menuItem.menu = createMenu(format.items);\n          } else {\n            var formatName = format.format || 'custom' + count++;\n            if (!format.format) {\n              format.name = formatName;\n              newFormats.push(format);\n            }\n            menuItem.format = formatName;\n            menuItem.cmd = format.cmd;\n          }\n          menu.push(menuItem);\n        });\n        return menu;\n      };\n      var createStylesMenu = function () {\n        var menu;\n        if (editor.settings.style_formats_merge) {\n          if (editor.settings.style_formats) {\n            menu = createMenu(defaultStyleFormats.concat(editor.settings.style_formats));\n          } else {\n            menu = createMenu(defaultStyleFormats);\n          }\n        } else {\n          menu = createMenu(editor.settings.style_formats || defaultStyleFormats);\n        }\n        return menu;\n      };\n      editor.on('init', function () {\n        global$2.each(newFormats, function (format) {\n          editor.formatter.register(format.name, format);\n        });\n      });\n      return {\n        type: 'menu',\n        items: createStylesMenu(),\n        onPostRender: function (e) {\n          editor.fire('renderFormatsMenu', { control: e.control });\n        },\n        itemDefaults: {\n          preview: true,\n          textStyle: function () {\n            if (this.settings.format) {\n              return editor.formatter.getCssText(this.settings.format);\n            }\n          },\n          onPostRender: function () {\n            var self = this;\n            self.parent().on('show', function () {\n              var formatName, command;\n              formatName = self.settings.format;\n              if (formatName) {\n                self.disabled(!editor.formatter.canApply(formatName));\n                self.active(editor.formatter.match(formatName));\n              }\n              command = self.settings.cmd;\n              if (command) {\n                self.active(editor.queryCommandState(command));\n              }\n            });\n          },\n          onclick: function () {\n            if (this.settings.format) {\n              toggleFormat(editor, this.settings.format)();\n            }\n            if (this.settings.cmd) {\n              editor.execCommand(this.settings.cmd);\n            }\n          }\n        }\n      };\n    };\n    var registerMenuItems = function (editor, formatMenu) {\n      editor.addMenuItem('formats', {\n        text: 'Formats',\n        menu: formatMenu\n      });\n    };\n    var registerButtons$2 = function (editor, formatMenu) {\n      editor.addButton('styleselect', {\n        type: 'menubutton',\n        text: 'Formats',\n        menu: formatMenu,\n        onShowMenu: function () {\n          if (editor.settings.style_formats_autohide) {\n            hideFormatMenuItems(editor, this.menu);\n          }\n        }\n      });\n    };\n    var register$3 = function (editor) {\n      var formatMenu = createFormatMenu(editor);\n      registerMenuItems(editor, formatMenu);\n      registerButtons$2(editor, formatMenu);\n    };\n    var Formats = { register: register$3 };\n\n    var defaultBlocks = 'Paragraph=p;' + 'Heading 1=h1;' + 'Heading 2=h2;' + 'Heading 3=h3;' + 'Heading 4=h4;' + 'Heading 5=h5;' + 'Heading 6=h6;' + 'Preformatted=pre';\n    var createFormats$1 = function (formats) {\n      formats = formats.replace(/;$/, '').split(';');\n      var i = formats.length;\n      while (i--) {\n        formats[i] = formats[i].split('=');\n      }\n      return formats;\n    };\n    var createListBoxChangeHandler = function (editor, items, formatName) {\n      return function () {\n        var self = this;\n        editor.on('nodeChange', function (e) {\n          var formatter = editor.formatter;\n          var value = null;\n          global$2.each(e.parents, function (node) {\n            global$2.each(items, function (item) {\n              if (formatName) {\n                if (formatter.matchNode(node, formatName, { value: item.value })) {\n                  value = item.value;\n                }\n              } else {\n                if (formatter.matchNode(node, item.value)) {\n                  value = item.value;\n                }\n              }\n              if (value) {\n                return false;\n              }\n            });\n            if (value) {\n              return false;\n            }\n          });\n          self.value(value);\n        });\n      };\n    };\n    var lazyFormatSelectBoxItems = function (editor, blocks) {\n      return function () {\n        var items = [];\n        global$2.each(blocks, function (block) {\n          items.push({\n            text: block[0],\n            value: block[1],\n            textStyle: function () {\n              return editor.formatter.getCssText(block[1]);\n            }\n          });\n        });\n        return {\n          type: 'listbox',\n          text: blocks[0][0],\n          values: items,\n          fixedWidth: true,\n          onselect: function (e) {\n            if (e.control) {\n              var fmt = e.control.value();\n              toggleFormat(editor, fmt)();\n            }\n          },\n          onPostRender: createListBoxChangeHandler(editor, items)\n        };\n      };\n    };\n    var buildMenuItems = function (editor, blocks) {\n      return global$2.map(blocks, function (block) {\n        return {\n          text: block[0],\n          onclick: toggleFormat(editor, block[1]),\n          textStyle: function () {\n            return editor.formatter.getCssText(block[1]);\n          }\n        };\n      });\n    };\n    var register$4 = function (editor) {\n      var blocks = createFormats$1(editor.settings.block_formats || defaultBlocks);\n      editor.addMenuItem('blockformats', {\n        text: 'Blocks',\n        menu: buildMenuItems(editor, blocks)\n      });\n      editor.addButton('formatselect', lazyFormatSelectBoxItems(editor, blocks));\n    };\n    var FormatSelect = { register: register$4 };\n\n    var createCustomMenuItems = function (editor, names) {\n      var items, nameList;\n      if (typeof names === 'string') {\n        nameList = names.split(' ');\n      } else if (global$2.isArray(names)) {\n        return flatten(global$2.map(names, function (names) {\n          return createCustomMenuItems(editor, names);\n        }));\n      }\n      items = global$2.grep(nameList, function (name) {\n        return name === '|' || name in editor.menuItems;\n      });\n      return global$2.map(items, function (name) {\n        return name === '|' ? { text: '-' } : editor.menuItems[name];\n      });\n    };\n    var isSeparator$1 = function (menuItem) {\n      return menuItem && menuItem.text === '-';\n    };\n    var trimMenuItems = function (menuItems) {\n      var menuItems2 = filter(menuItems, function (menuItem, i) {\n        return !isSeparator$1(menuItem) || !isSeparator$1(menuItems[i - 1]);\n      });\n      return filter(menuItems2, function (menuItem, i) {\n        return !isSeparator$1(menuItem) || i > 0 && i < menuItems2.length - 1;\n      });\n    };\n    var createContextMenuItems = function (editor, context) {\n      var outputMenuItems = [{ text: '-' }];\n      var menuItems = global$2.grep(editor.menuItems, function (menuItem) {\n        return menuItem.context === context;\n      });\n      global$2.each(menuItems, function (menuItem) {\n        if (menuItem.separator === 'before') {\n          outputMenuItems.push({ text: '|' });\n        }\n        if (menuItem.prependToContext) {\n          outputMenuItems.unshift(menuItem);\n        } else {\n          outputMenuItems.push(menuItem);\n        }\n        if (menuItem.separator === 'after') {\n          outputMenuItems.push({ text: '|' });\n        }\n      });\n      return outputMenuItems;\n    };\n    var createInsertMenu = function (editor) {\n      var insertButtonItems = editor.settings.insert_button_items;\n      if (insertButtonItems) {\n        return trimMenuItems(createCustomMenuItems(editor, insertButtonItems));\n      } else {\n        return trimMenuItems(createContextMenuItems(editor, 'insert'));\n      }\n    };\n    var registerButtons$3 = function (editor) {\n      editor.addButton('insert', {\n        type: 'menubutton',\n        icon: 'insert',\n        menu: [],\n        oncreatemenu: function () {\n          this.menu.add(createInsertMenu(editor));\n          this.menu.renderNew();\n        }\n      });\n    };\n    var register$5 = function (editor) {\n      registerButtons$3(editor);\n    };\n    var InsertButton = { register: register$5 };\n\n    var registerFormatButtons = function (editor) {\n      global$2.each({\n        bold: 'Bold',\n        italic: 'Italic',\n        underline: 'Underline',\n        strikethrough: 'Strikethrough',\n        subscript: 'Subscript',\n        superscript: 'Superscript'\n      }, function (text, name) {\n        editor.addButton(name, {\n          active: false,\n          tooltip: text,\n          onPostRender: postRenderFormatToggle(editor, name),\n          onclick: toggleFormat(editor, name)\n        });\n      });\n    };\n    var registerCommandButtons = function (editor) {\n      global$2.each({\n        outdent: [\n          'Decrease indent',\n          'Outdent'\n        ],\n        indent: [\n          'Increase indent',\n          'Indent'\n        ],\n        cut: [\n          'Cut',\n          'Cut'\n        ],\n        copy: [\n          'Copy',\n          'Copy'\n        ],\n        paste: [\n          'Paste',\n          'Paste'\n        ],\n        help: [\n          'Help',\n          'mceHelp'\n        ],\n        selectall: [\n          'Select all',\n          'SelectAll'\n        ],\n        visualaid: [\n          'Visual aids',\n          'mceToggleVisualAid'\n        ],\n        newdocument: [\n          'New document',\n          'mceNewDocument'\n        ],\n        removeformat: [\n          'Clear formatting',\n          'RemoveFormat'\n        ],\n        remove: [\n          'Remove',\n          'Delete'\n        ]\n      }, function (item, name) {\n        editor.addButton(name, {\n          tooltip: item[0],\n          cmd: item[1]\n        });\n      });\n    };\n    var registerCommandToggleButtons = function (editor) {\n      global$2.each({\n        blockquote: [\n          'Blockquote',\n          'mceBlockQuote'\n        ],\n        subscript: [\n          'Subscript',\n          'Subscript'\n        ],\n        superscript: [\n          'Superscript',\n          'Superscript'\n        ]\n      }, function (item, name) {\n        editor.addButton(name, {\n          active: false,\n          tooltip: item[0],\n          cmd: item[1],\n          onPostRender: postRenderFormatToggle(editor, name)\n        });\n      });\n    };\n    var registerButtons$4 = function (editor) {\n      registerFormatButtons(editor);\n      registerCommandButtons(editor);\n      registerCommandToggleButtons(editor);\n    };\n    var registerMenuItems$1 = function (editor) {\n      global$2.each({\n        bold: [\n          'Bold',\n          'Bold',\n          'Meta+B'\n        ],\n        italic: [\n          'Italic',\n          'Italic',\n          'Meta+I'\n        ],\n        underline: [\n          'Underline',\n          'Underline',\n          'Meta+U'\n        ],\n        strikethrough: [\n          'Strikethrough',\n          'Strikethrough'\n        ],\n        subscript: [\n          'Subscript',\n          'Subscript'\n        ],\n        superscript: [\n          'Superscript',\n          'Superscript'\n        ],\n        removeformat: [\n          'Clear formatting',\n          'RemoveFormat'\n        ],\n        newdocument: [\n          'New document',\n          'mceNewDocument'\n        ],\n        cut: [\n          'Cut',\n          'Cut',\n          'Meta+X'\n        ],\n        copy: [\n          'Copy',\n          'Copy',\n          'Meta+C'\n        ],\n        paste: [\n          'Paste',\n          'Paste',\n          'Meta+V'\n        ],\n        selectall: [\n          'Select all',\n          'SelectAll',\n          'Meta+A'\n        ]\n      }, function (item, name) {\n        editor.addMenuItem(name, {\n          text: item[0],\n          icon: name,\n          shortcut: item[2],\n          cmd: item[1]\n        });\n      });\n      editor.addMenuItem('codeformat', {\n        text: 'Code',\n        icon: 'code',\n        onclick: toggleFormat(editor, 'code')\n      });\n    };\n    var register$6 = function (editor) {\n      registerButtons$4(editor);\n      registerMenuItems$1(editor);\n    };\n    var SimpleControls = { register: register$6 };\n\n    var toggleUndoRedoState = function (editor, type) {\n      return function () {\n        var self = this;\n        var checkState = function () {\n          var typeFn = type === 'redo' ? 'hasRedo' : 'hasUndo';\n          return editor.undoManager ? editor.undoManager[typeFn]() : false;\n        };\n        self.disabled(!checkState());\n        editor.on('Undo Redo AddUndo TypingUndo ClearUndos SwitchMode', function () {\n          self.disabled(editor.readonly || !checkState());\n        });\n      };\n    };\n    var registerMenuItems$2 = function (editor) {\n      editor.addMenuItem('undo', {\n        text: 'Undo',\n        icon: 'undo',\n        shortcut: 'Meta+Z',\n        onPostRender: toggleUndoRedoState(editor, 'undo'),\n        cmd: 'undo'\n      });\n      editor.addMenuItem('redo', {\n        text: 'Redo',\n        icon: 'redo',\n        shortcut: 'Meta+Y',\n        onPostRender: toggleUndoRedoState(editor, 'redo'),\n        cmd: 'redo'\n      });\n    };\n    var registerButtons$5 = function (editor) {\n      editor.addButton('undo', {\n        tooltip: 'Undo',\n        onPostRender: toggleUndoRedoState(editor, 'undo'),\n        cmd: 'undo'\n      });\n      editor.addButton('redo', {\n        tooltip: 'Redo',\n        onPostRender: toggleUndoRedoState(editor, 'redo'),\n        cmd: 'redo'\n      });\n    };\n    var register$7 = function (editor) {\n      registerMenuItems$2(editor);\n      registerButtons$5(editor);\n    };\n    var UndoRedo = { register: register$7 };\n\n    var toggleVisualAidState = function (editor) {\n      return function () {\n        var self = this;\n        editor.on('VisualAid', function (e) {\n          self.active(e.hasVisual);\n        });\n        self.active(editor.hasVisual);\n      };\n    };\n    var registerMenuItems$3 = function (editor) {\n      editor.addMenuItem('visualaid', {\n        text: 'Visual aids',\n        selectable: true,\n        onPostRender: toggleVisualAidState(editor),\n        cmd: 'mceToggleVisualAid'\n      });\n    };\n    var register$8 = function (editor) {\n      registerMenuItems$3(editor);\n    };\n    var VisualAid = { register: register$8 };\n\n    var setupEnvironment = function () {\n      Widget.tooltips = !global$8.iOS;\n      Control$1.translate = function (text) {\n        return global$1.translate(text);\n      };\n    };\n    var setupUiContainer = function (editor) {\n      if (editor.settings.ui_container) {\n        global$8.container = descendant(Element.fromDom(domGlobals.document.body), editor.settings.ui_container).fold(constant(null), function (elm) {\n          return elm.dom();\n        });\n      }\n    };\n    var setupRtlMode = function (editor) {\n      if (editor.rtl) {\n        Control$1.rtl = true;\n      }\n    };\n    var setupHideFloatPanels = function (editor) {\n      editor.on('mousedown progressstate', function () {\n        FloatPanel.hideAll();\n      });\n    };\n    var setup$1 = function (editor) {\n      setupRtlMode(editor);\n      setupHideFloatPanels(editor);\n      setupUiContainer(editor);\n      setupEnvironment();\n      FormatSelect.register(editor);\n      Align.register(editor);\n      SimpleControls.register(editor);\n      UndoRedo.register(editor);\n      FontSizeSelect.register(editor);\n      FontSelect.register(editor);\n      Formats.register(editor);\n      VisualAid.register(editor);\n      InsertButton.register(editor);\n    };\n    var FormatControls = { setup: setup$1 };\n\n    var GridLayout = AbsoluteLayout.extend({\n      recalc: function (container) {\n        var settings, rows, cols, items, contLayoutRect, width, height, rect, ctrlLayoutRect, ctrl, x, y, posX, posY, ctrlSettings, contPaddingBox, align, spacingH, spacingV, alignH, alignV, maxX, maxY;\n        var colWidths = [];\n        var rowHeights = [];\n        var ctrlMinWidth, ctrlMinHeight, availableWidth, availableHeight, reverseRows, idx;\n        settings = container.settings;\n        items = container.items().filter(':visible');\n        contLayoutRect = container.layoutRect();\n        cols = settings.columns || Math.ceil(Math.sqrt(items.length));\n        rows = Math.ceil(items.length / cols);\n        spacingH = settings.spacingH || settings.spacing || 0;\n        spacingV = settings.spacingV || settings.spacing || 0;\n        alignH = settings.alignH || settings.align;\n        alignV = settings.alignV || settings.align;\n        contPaddingBox = container.paddingBox;\n        reverseRows = 'reverseRows' in settings ? settings.reverseRows : container.isRtl();\n        if (alignH && typeof alignH === 'string') {\n          alignH = [alignH];\n        }\n        if (alignV && typeof alignV === 'string') {\n          alignV = [alignV];\n        }\n        for (x = 0; x < cols; x++) {\n          colWidths.push(0);\n        }\n        for (y = 0; y < rows; y++) {\n          rowHeights.push(0);\n        }\n        for (y = 0; y < rows; y++) {\n          for (x = 0; x < cols; x++) {\n            ctrl = items[y * cols + x];\n            if (!ctrl) {\n              break;\n            }\n            ctrlLayoutRect = ctrl.layoutRect();\n            ctrlMinWidth = ctrlLayoutRect.minW;\n            ctrlMinHeight = ctrlLayoutRect.minH;\n            colWidths[x] = ctrlMinWidth > colWidths[x] ? ctrlMinWidth : colWidths[x];\n            rowHeights[y] = ctrlMinHeight > rowHeights[y] ? ctrlMinHeight : rowHeights[y];\n          }\n        }\n        availableWidth = contLayoutRect.innerW - contPaddingBox.left - contPaddingBox.right;\n        for (maxX = 0, x = 0; x < cols; x++) {\n          maxX += colWidths[x] + (x > 0 ? spacingH : 0);\n          availableWidth -= (x > 0 ? spacingH : 0) + colWidths[x];\n        }\n        availableHeight = contLayoutRect.innerH - contPaddingBox.top - contPaddingBox.bottom;\n        for (maxY = 0, y = 0; y < rows; y++) {\n          maxY += rowHeights[y] + (y > 0 ? spacingV : 0);\n          availableHeight -= (y > 0 ? spacingV : 0) + rowHeights[y];\n        }\n        maxX += contPaddingBox.left + contPaddingBox.right;\n        maxY += contPaddingBox.top + contPaddingBox.bottom;\n        rect = {};\n        rect.minW = maxX + (contLayoutRect.w - contLayoutRect.innerW);\n        rect.minH = maxY + (contLayoutRect.h - contLayoutRect.innerH);\n        rect.contentW = rect.minW - contLayoutRect.deltaW;\n        rect.contentH = rect.minH - contLayoutRect.deltaH;\n        rect.minW = Math.min(rect.minW, contLayoutRect.maxW);\n        rect.minH = Math.min(rect.minH, contLayoutRect.maxH);\n        rect.minW = Math.max(rect.minW, contLayoutRect.startMinWidth);\n        rect.minH = Math.max(rect.minH, contLayoutRect.startMinHeight);\n        if (contLayoutRect.autoResize && (rect.minW !== contLayoutRect.minW || rect.minH !== contLayoutRect.minH)) {\n          rect.w = rect.minW;\n          rect.h = rect.minH;\n          container.layoutRect(rect);\n          this.recalc(container);\n          if (container._lastRect === null) {\n            var parentCtrl = container.parent();\n            if (parentCtrl) {\n              parentCtrl._lastRect = null;\n              parentCtrl.recalc();\n            }\n          }\n          return;\n        }\n        if (contLayoutRect.autoResize) {\n          rect = container.layoutRect(rect);\n          rect.contentW = rect.minW - contLayoutRect.deltaW;\n          rect.contentH = rect.minH - contLayoutRect.deltaH;\n        }\n        var flexV;\n        if (settings.packV === 'start') {\n          flexV = 0;\n        } else {\n          flexV = availableHeight > 0 ? Math.floor(availableHeight / rows) : 0;\n        }\n        var totalFlex = 0;\n        var flexWidths = settings.flexWidths;\n        if (flexWidths) {\n          for (x = 0; x < flexWidths.length; x++) {\n            totalFlex += flexWidths[x];\n          }\n        } else {\n          totalFlex = cols;\n        }\n        var ratio = availableWidth / totalFlex;\n        for (x = 0; x < cols; x++) {\n          colWidths[x] += flexWidths ? flexWidths[x] * ratio : ratio;\n        }\n        posY = contPaddingBox.top;\n        for (y = 0; y < rows; y++) {\n          posX = contPaddingBox.left;\n          height = rowHeights[y] + flexV;\n          for (x = 0; x < cols; x++) {\n            if (reverseRows) {\n              idx = y * cols + cols - 1 - x;\n            } else {\n              idx = y * cols + x;\n            }\n            ctrl = items[idx];\n            if (!ctrl) {\n              break;\n            }\n            ctrlSettings = ctrl.settings;\n            ctrlLayoutRect = ctrl.layoutRect();\n            width = Math.max(colWidths[x], ctrlLayoutRect.startMinWidth);\n            ctrlLayoutRect.x = posX;\n            ctrlLayoutRect.y = posY;\n            align = ctrlSettings.alignH || (alignH ? alignH[x] || alignH[0] : null);\n            if (align === 'center') {\n              ctrlLayoutRect.x = posX + width / 2 - ctrlLayoutRect.w / 2;\n            } else if (align === 'right') {\n              ctrlLayoutRect.x = posX + width - ctrlLayoutRect.w;\n            } else if (align === 'stretch') {\n              ctrlLayoutRect.w = width;\n            }\n            align = ctrlSettings.alignV || (alignV ? alignV[x] || alignV[0] : null);\n            if (align === 'center') {\n              ctrlLayoutRect.y = posY + height / 2 - ctrlLayoutRect.h / 2;\n            } else if (align === 'bottom') {\n              ctrlLayoutRect.y = posY + height - ctrlLayoutRect.h;\n            } else if (align === 'stretch') {\n              ctrlLayoutRect.h = height;\n            }\n            ctrl.layoutRect(ctrlLayoutRect);\n            posX += width + spacingH;\n            if (ctrl.recalc) {\n              ctrl.recalc();\n            }\n          }\n          posY += height + spacingV;\n        }\n      }\n    });\n\n    var Iframe$1 = Widget.extend({\n      renderHtml: function () {\n        var self = this;\n        self.classes.add('iframe');\n        self.canFocus = false;\n        return '<iframe id=\"' + self._id + '\" class=\"' + self.classes + '\" tabindex=\"-1\" src=\"' + (self.settings.url || 'javascript:\\'\\'') + '\" frameborder=\"0\"></iframe>';\n      },\n      src: function (src) {\n        this.getEl().src = src;\n      },\n      html: function (html, callback) {\n        var self = this, body = this.getEl().contentWindow.document.body;\n        if (!body) {\n          global$7.setTimeout(function () {\n            self.html(html);\n          });\n        } else {\n          body.innerHTML = html;\n          if (callback) {\n            callback();\n          }\n        }\n        return this;\n      }\n    });\n\n    var InfoBox = Widget.extend({\n      init: function (settings) {\n        var self = this;\n        self._super(settings);\n        self.classes.add('widget').add('infobox');\n        self.canFocus = false;\n      },\n      severity: function (level) {\n        this.classes.remove('error');\n        this.classes.remove('warning');\n        this.classes.remove('success');\n        this.classes.add(level);\n      },\n      help: function (state) {\n        this.state.set('help', state);\n      },\n      renderHtml: function () {\n        var self = this, prefix = self.classPrefix;\n        return '<div id=\"' + self._id + '\" class=\"' + self.classes + '\">' + '<div id=\"' + self._id + '-body\">' + self.encode(self.state.get('text')) + '<button role=\"button\" tabindex=\"-1\">' + '<i class=\"' + prefix + 'ico ' + prefix + 'i-help\"></i>' + '</button>' + '</div>' + '</div>';\n      },\n      bindStates: function () {\n        var self = this;\n        self.state.on('change:text', function (e) {\n          self.getEl('body').firstChild.data = self.encode(e.value);\n          if (self.state.get('rendered')) {\n            self.updateLayoutRect();\n          }\n        });\n        self.state.on('change:help', function (e) {\n          self.classes.toggle('has-help', e.value);\n          if (self.state.get('rendered')) {\n            self.updateLayoutRect();\n          }\n        });\n        return self._super();\n      }\n    });\n\n    var Label = Widget.extend({\n      init: function (settings) {\n        var self = this;\n        self._super(settings);\n        self.classes.add('widget').add('label');\n        self.canFocus = false;\n        if (settings.multiline) {\n          self.classes.add('autoscroll');\n        }\n        if (settings.strong) {\n          self.classes.add('strong');\n        }\n      },\n      initLayoutRect: function () {\n        var self = this, layoutRect = self._super();\n        if (self.settings.multiline) {\n          var size = funcs.getSize(self.getEl());\n          if (size.width > layoutRect.maxW) {\n            layoutRect.minW = layoutRect.maxW;\n            self.classes.add('multiline');\n          }\n          self.getEl().style.width = layoutRect.minW + 'px';\n          layoutRect.startMinH = layoutRect.h = layoutRect.minH = Math.min(layoutRect.maxH, funcs.getSize(self.getEl()).height);\n        }\n        return layoutRect;\n      },\n      repaint: function () {\n        var self = this;\n        if (!self.settings.multiline) {\n          self.getEl().style.lineHeight = self.layoutRect().h + 'px';\n        }\n        return self._super();\n      },\n      severity: function (level) {\n        this.classes.remove('error');\n        this.classes.remove('warning');\n        this.classes.remove('success');\n        this.classes.add(level);\n      },\n      renderHtml: function () {\n        var self = this;\n        var targetCtrl, forName, forId = self.settings.forId;\n        var text = self.settings.html ? self.settings.html : self.encode(self.state.get('text'));\n        if (!forId && (forName = self.settings.forName)) {\n          targetCtrl = self.getRoot().find('#' + forName)[0];\n          if (targetCtrl) {\n            forId = targetCtrl._id;\n          }\n        }\n        if (forId) {\n          return '<label id=\"' + self._id + '\" class=\"' + self.classes + '\"' + (forId ? ' for=\"' + forId + '\"' : '') + '>' + text + '</label>';\n        }\n        return '<span id=\"' + self._id + '\" class=\"' + self.classes + '\">' + text + '</span>';\n      },\n      bindStates: function () {\n        var self = this;\n        self.state.on('change:text', function (e) {\n          self.innerHtml(self.encode(e.value));\n          if (self.state.get('rendered')) {\n            self.updateLayoutRect();\n          }\n        });\n        return self._super();\n      }\n    });\n\n    var Toolbar$1 = Container.extend({\n      Defaults: {\n        role: 'toolbar',\n        layout: 'flow'\n      },\n      init: function (settings) {\n        var self = this;\n        self._super(settings);\n        self.classes.add('toolbar');\n      },\n      postRender: function () {\n        var self = this;\n        self.items().each(function (ctrl) {\n          ctrl.classes.add('toolbar-item');\n        });\n        return self._super();\n      }\n    });\n\n    var MenuBar = Toolbar$1.extend({\n      Defaults: {\n        role: 'menubar',\n        containerCls: 'menubar',\n        ariaRoot: true,\n        defaults: { type: 'menubutton' }\n      }\n    });\n\n    function isChildOf$1(node, parent) {\n      while (node) {\n        if (parent === node) {\n          return true;\n        }\n        node = node.parentNode;\n      }\n      return false;\n    }\n    var MenuButton = Button.extend({\n      init: function (settings) {\n        var self = this;\n        self._renderOpen = true;\n        self._super(settings);\n        settings = self.settings;\n        self.classes.add('menubtn');\n        if (settings.fixedWidth) {\n          self.classes.add('fixed-width');\n        }\n        self.aria('haspopup', true);\n        self.state.set('menu', settings.menu || self.render());\n      },\n      showMenu: function (toggle) {\n        var self = this;\n        var menu;\n        if (self.menu && self.menu.visible() && toggle !== false) {\n          return self.hideMenu();\n        }\n        if (!self.menu) {\n          menu = self.state.get('menu') || [];\n          self.classes.add('opened');\n          if (menu.length) {\n            menu = {\n              type: 'menu',\n              animate: true,\n              items: menu\n            };\n          } else {\n            menu.type = menu.type || 'menu';\n            menu.animate = true;\n          }\n          if (!menu.renderTo) {\n            self.menu = global$4.create(menu).parent(self).renderTo();\n          } else {\n            self.menu = menu.parent(self).show().renderTo();\n          }\n          self.fire('createmenu');\n          self.menu.reflow();\n          self.menu.on('cancel', function (e) {\n            if (e.control.parent() === self.menu) {\n              e.stopPropagation();\n              self.focus();\n              self.hideMenu();\n            }\n          });\n          self.menu.on('select', function () {\n            self.focus();\n          });\n          self.menu.on('show hide', function (e) {\n            if (e.type === 'hide' && e.control.parent() === self) {\n              self.classes.remove('opened-under');\n            }\n            if (e.control === self.menu) {\n              self.activeMenu(e.type === 'show');\n              self.classes.toggle('opened', e.type === 'show');\n            }\n            self.aria('expanded', e.type === 'show');\n          }).fire('show');\n        }\n        self.menu.show();\n        self.menu.layoutRect({ w: self.layoutRect().w });\n        self.menu.repaint();\n        self.menu.moveRel(self.getEl(), self.isRtl() ? [\n          'br-tr',\n          'tr-br'\n        ] : [\n          'bl-tl',\n          'tl-bl'\n        ]);\n        var menuLayoutRect = self.menu.layoutRect();\n        var selfBottom = self.$el.offset().top + self.layoutRect().h;\n        if (selfBottom > menuLayoutRect.y && selfBottom < menuLayoutRect.y + menuLayoutRect.h) {\n          self.classes.add('opened-under');\n        }\n        self.fire('showmenu');\n      },\n      hideMenu: function () {\n        var self = this;\n        if (self.menu) {\n          self.menu.items().each(function (item) {\n            if (item.hideMenu) {\n              item.hideMenu();\n            }\n          });\n          self.menu.hide();\n        }\n      },\n      activeMenu: function (state) {\n        this.classes.toggle('active', state);\n      },\n      renderHtml: function () {\n        var self = this, id = self._id, prefix = self.classPrefix;\n        var icon = self.settings.icon, image;\n        var text = self.state.get('text');\n        var textHtml = '';\n        image = self.settings.image;\n        if (image) {\n          icon = 'none';\n          if (typeof image !== 'string') {\n            image = domGlobals.window.getSelection ? image[0] : image[1];\n          }\n          image = ' style=\"background-image: url(\\'' + image + '\\')\"';\n        } else {\n          image = '';\n        }\n        if (text) {\n          self.classes.add('btn-has-text');\n          textHtml = '<span class=\"' + prefix + 'txt\">' + self.encode(text) + '</span>';\n        }\n        icon = self.settings.icon ? prefix + 'ico ' + prefix + 'i-' + icon : '';\n        self.aria('role', self.parent() instanceof MenuBar ? 'menuitem' : 'button');\n        return '<div id=\"' + id + '\" class=\"' + self.classes + '\" tabindex=\"-1\" aria-labelledby=\"' + id + '\">' + '<button id=\"' + id + '-open\" role=\"presentation\" type=\"button\" tabindex=\"-1\">' + (icon ? '<i class=\"' + icon + '\"' + image + '></i>' : '') + textHtml + ' <i class=\"' + prefix + 'caret\"></i>' + '</button>' + '</div>';\n      },\n      postRender: function () {\n        var self = this;\n        self.on('click', function (e) {\n          if (e.control === self && isChildOf$1(e.target, self.getEl())) {\n            self.focus();\n            self.showMenu(!e.aria);\n            if (e.aria) {\n              self.menu.items().filter(':visible')[0].focus();\n            }\n          }\n        });\n        self.on('mouseenter', function (e) {\n          var overCtrl = e.control;\n          var parent = self.parent();\n          var hasVisibleSiblingMenu;\n          if (overCtrl && parent && overCtrl instanceof MenuButton && overCtrl.parent() === parent) {\n            parent.items().filter('MenuButton').each(function (ctrl) {\n              if (ctrl.hideMenu && ctrl !== overCtrl) {\n                if (ctrl.menu && ctrl.menu.visible()) {\n                  hasVisibleSiblingMenu = true;\n                }\n                ctrl.hideMenu();\n              }\n            });\n            if (hasVisibleSiblingMenu) {\n              overCtrl.focus();\n              overCtrl.showMenu();\n            }\n          }\n        });\n        return self._super();\n      },\n      bindStates: function () {\n        var self = this;\n        self.state.on('change:menu', function () {\n          if (self.menu) {\n            self.menu.remove();\n          }\n          self.menu = null;\n        });\n        return self._super();\n      },\n      remove: function () {\n        this._super();\n        if (this.menu) {\n          this.menu.remove();\n        }\n      }\n    });\n\n    var Menu = FloatPanel.extend({\n      Defaults: {\n        defaultType: 'menuitem',\n        border: 1,\n        layout: 'stack',\n        role: 'application',\n        bodyRole: 'menu',\n        ariaRoot: true\n      },\n      init: function (settings) {\n        var self = this;\n        settings.autohide = true;\n        settings.constrainToViewport = true;\n        if (typeof settings.items === 'function') {\n          settings.itemsFactory = settings.items;\n          settings.items = [];\n        }\n        if (settings.itemDefaults) {\n          var items = settings.items;\n          var i = items.length;\n          while (i--) {\n            items[i] = global$2.extend({}, settings.itemDefaults, items[i]);\n          }\n        }\n        self._super(settings);\n        self.classes.add('menu');\n        if (settings.animate && global$8.ie !== 11) {\n          self.classes.add('animate');\n        }\n      },\n      repaint: function () {\n        this.classes.toggle('menu-align', true);\n        this._super();\n        this.getEl().style.height = '';\n        this.getEl('body').style.height = '';\n        return this;\n      },\n      cancel: function () {\n        var self = this;\n        self.hideAll();\n        self.fire('select');\n      },\n      load: function () {\n        var self = this;\n        var time, factory;\n        function hideThrobber() {\n          if (self.throbber) {\n            self.throbber.hide();\n            self.throbber = null;\n          }\n        }\n        factory = self.settings.itemsFactory;\n        if (!factory) {\n          return;\n        }\n        if (!self.throbber) {\n          self.throbber = new Throbber(self.getEl('body'), true);\n          if (self.items().length === 0) {\n            self.throbber.show();\n            self.fire('loading');\n          } else {\n            self.throbber.show(100, function () {\n              self.items().remove();\n              self.fire('loading');\n            });\n          }\n          self.on('hide close', hideThrobber);\n        }\n        self.requestTime = time = new Date().getTime();\n        self.settings.itemsFactory(function (items) {\n          if (items.length === 0) {\n            self.hide();\n            return;\n          }\n          if (self.requestTime !== time) {\n            return;\n          }\n          self.getEl().style.width = '';\n          self.getEl('body').style.width = '';\n          hideThrobber();\n          self.items().remove();\n          self.getEl('body').innerHTML = '';\n          self.add(items);\n          self.renderNew();\n          self.fire('loaded');\n        });\n      },\n      hideAll: function () {\n        var self = this;\n        this.find('menuitem').exec('hideMenu');\n        return self._super();\n      },\n      preRender: function () {\n        var self = this;\n        self.items().each(function (ctrl) {\n          var settings = ctrl.settings;\n          if (settings.icon || settings.image || settings.selectable) {\n            self._hasIcons = true;\n            return false;\n          }\n        });\n        if (self.settings.itemsFactory) {\n          self.on('postrender', function () {\n            if (self.settings.itemsFactory) {\n              self.load();\n            }\n          });\n        }\n        self.on('show hide', function (e) {\n          if (e.control === self) {\n            if (e.type === 'show') {\n              global$7.setTimeout(function () {\n                self.classes.add('in');\n              }, 0);\n            } else {\n              self.classes.remove('in');\n            }\n          }\n        });\n        return self._super();\n      }\n    });\n\n    var ListBox = MenuButton.extend({\n      init: function (settings) {\n        var self = this;\n        var values, selected, selectedText, lastItemCtrl;\n        function setSelected(menuValues) {\n          for (var i = 0; i < menuValues.length; i++) {\n            selected = menuValues[i].selected || settings.value === menuValues[i].value;\n            if (selected) {\n              selectedText = selectedText || menuValues[i].text;\n              self.state.set('value', menuValues[i].value);\n              return true;\n            }\n            if (menuValues[i].menu) {\n              if (setSelected(menuValues[i].menu)) {\n                return true;\n              }\n            }\n          }\n        }\n        self._super(settings);\n        settings = self.settings;\n        self._values = values = settings.values;\n        if (values) {\n          if (typeof settings.value !== 'undefined') {\n            setSelected(values);\n          }\n          if (!selected && values.length > 0) {\n            selectedText = values[0].text;\n            self.state.set('value', values[0].value);\n          }\n          self.state.set('menu', values);\n        }\n        self.state.set('text', settings.text || selectedText);\n        self.classes.add('listbox');\n        self.on('select', function (e) {\n          var ctrl = e.control;\n          if (lastItemCtrl) {\n            e.lastControl = lastItemCtrl;\n          }\n          if (settings.multiple) {\n            ctrl.active(!ctrl.active());\n          } else {\n            self.value(e.control.value());\n          }\n          lastItemCtrl = ctrl;\n        });\n      },\n      value: function (value) {\n        if (arguments.length === 0) {\n          return this.state.get('value');\n        }\n        if (typeof value === 'undefined') {\n          return this;\n        }\n        function valueExists(values) {\n          return exists(values, function (a) {\n            return a.menu ? valueExists(a.menu) : a.value === value;\n          });\n        }\n        if (this.settings.values) {\n          if (valueExists(this.settings.values)) {\n            this.state.set('value', value);\n          } else if (value === null) {\n            this.state.set('value', null);\n          }\n        } else {\n          this.state.set('value', value);\n        }\n        return this;\n      },\n      bindStates: function () {\n        var self = this;\n        function activateMenuItemsByValue(menu, value) {\n          if (menu instanceof Menu) {\n            menu.items().each(function (ctrl) {\n              if (!ctrl.hasMenus()) {\n                ctrl.active(ctrl.value() === value);\n              }\n            });\n          }\n        }\n        function getSelectedItem(menuValues, value) {\n          var selectedItem;\n          if (!menuValues) {\n            return;\n          }\n          for (var i = 0; i < menuValues.length; i++) {\n            if (menuValues[i].value === value) {\n              return menuValues[i];\n            }\n            if (menuValues[i].menu) {\n              selectedItem = getSelectedItem(menuValues[i].menu, value);\n              if (selectedItem) {\n                return selectedItem;\n              }\n            }\n          }\n        }\n        self.on('show', function (e) {\n          activateMenuItemsByValue(e.control, self.value());\n        });\n        self.state.on('change:value', function (e) {\n          var selectedItem = getSelectedItem(self.state.get('menu'), e.value);\n          if (selectedItem) {\n            self.text(selectedItem.text);\n          } else {\n            self.text(self.settings.text);\n          }\n        });\n        return self._super();\n      }\n    });\n\n    var toggleTextStyle = function (ctrl, state) {\n      var textStyle = ctrl._textStyle;\n      if (textStyle) {\n        var textElm = ctrl.getEl('text');\n        textElm.setAttribute('style', textStyle);\n        if (state) {\n          textElm.style.color = '';\n          textElm.style.backgroundColor = '';\n        }\n      }\n    };\n    var MenuItem = Widget.extend({\n      Defaults: {\n        border: 0,\n        role: 'menuitem'\n      },\n      init: function (settings) {\n        var self = this;\n        var text;\n        self._super(settings);\n        settings = self.settings;\n        self.classes.add('menu-item');\n        if (settings.menu) {\n          self.classes.add('menu-item-expand');\n        }\n        if (settings.preview) {\n          self.classes.add('menu-item-preview');\n        }\n        text = self.state.get('text');\n        if (text === '-' || text === '|') {\n          self.classes.add('menu-item-sep');\n          self.aria('role', 'separator');\n          self.state.set('text', '-');\n        }\n        if (settings.selectable) {\n          self.aria('role', 'menuitemcheckbox');\n          self.classes.add('menu-item-checkbox');\n          settings.icon = 'selected';\n        }\n        if (!settings.preview && !settings.selectable) {\n          self.classes.add('menu-item-normal');\n        }\n        self.on('mousedown', function (e) {\n          e.preventDefault();\n        });\n        if (settings.menu && !settings.ariaHideMenu) {\n          self.aria('haspopup', true);\n        }\n      },\n      hasMenus: function () {\n        return !!this.settings.menu;\n      },\n      showMenu: function () {\n        var self = this;\n        var settings = self.settings;\n        var menu;\n        var parent = self.parent();\n        parent.items().each(function (ctrl) {\n          if (ctrl !== self) {\n            ctrl.hideMenu();\n          }\n        });\n        if (settings.menu) {\n          menu = self.menu;\n          if (!menu) {\n            menu = settings.menu;\n            if (menu.length) {\n              menu = {\n                type: 'menu',\n                items: menu\n              };\n            } else {\n              menu.type = menu.type || 'menu';\n            }\n            if (parent.settings.itemDefaults) {\n              menu.itemDefaults = parent.settings.itemDefaults;\n            }\n            menu = self.menu = global$4.create(menu).parent(self).renderTo();\n            menu.reflow();\n            menu.on('cancel', function (e) {\n              e.stopPropagation();\n              self.focus();\n              menu.hide();\n            });\n            menu.on('show hide', function (e) {\n              if (e.control.items) {\n                e.control.items().each(function (ctrl) {\n                  ctrl.active(ctrl.settings.selected);\n                });\n              }\n            }).fire('show');\n            menu.on('hide', function (e) {\n              if (e.control === menu) {\n                self.classes.remove('selected');\n              }\n            });\n            menu.submenu = true;\n          } else {\n            menu.show();\n          }\n          menu._parentMenu = parent;\n          menu.classes.add('menu-sub');\n          var rel = menu.testMoveRel(self.getEl(), self.isRtl() ? [\n            'tl-tr',\n            'bl-br',\n            'tr-tl',\n            'br-bl'\n          ] : [\n            'tr-tl',\n            'br-bl',\n            'tl-tr',\n            'bl-br'\n          ]);\n          menu.moveRel(self.getEl(), rel);\n          menu.rel = rel;\n          rel = 'menu-sub-' + rel;\n          menu.classes.remove(menu._lastRel).add(rel);\n          menu._lastRel = rel;\n          self.classes.add('selected');\n          self.aria('expanded', true);\n        }\n      },\n      hideMenu: function () {\n        var self = this;\n        if (self.menu) {\n          self.menu.items().each(function (item) {\n            if (item.hideMenu) {\n              item.hideMenu();\n            }\n          });\n          self.menu.hide();\n          self.aria('expanded', false);\n        }\n        return self;\n      },\n      renderHtml: function () {\n        var self = this;\n        var id = self._id;\n        var settings = self.settings;\n        var prefix = self.classPrefix;\n        var text = self.state.get('text');\n        var icon = self.settings.icon, image = '', shortcut = settings.shortcut;\n        var url = self.encode(settings.url), iconHtml = '';\n        function convertShortcut(shortcut) {\n          var i, value, replace = {};\n          if (global$8.mac) {\n            replace = {\n              alt: '&#x2325;',\n              ctrl: '&#x2318;',\n              shift: '&#x21E7;',\n              meta: '&#x2318;'\n            };\n          } else {\n            replace = { meta: 'Ctrl' };\n          }\n          shortcut = shortcut.split('+');\n          for (i = 0; i < shortcut.length; i++) {\n            value = replace[shortcut[i].toLowerCase()];\n            if (value) {\n              shortcut[i] = value;\n            }\n          }\n          return shortcut.join('+');\n        }\n        function escapeRegExp(str) {\n          return str.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n        }\n        function markMatches(text) {\n          var match = settings.match || '';\n          return match ? text.replace(new RegExp(escapeRegExp(match), 'gi'), function (match) {\n            return '!mce~match[' + match + ']mce~match!';\n          }) : text;\n        }\n        function boldMatches(text) {\n          return text.replace(new RegExp(escapeRegExp('!mce~match['), 'g'), '<b>').replace(new RegExp(escapeRegExp(']mce~match!'), 'g'), '</b>');\n        }\n        if (icon) {\n          self.parent().classes.add('menu-has-icons');\n        }\n        if (settings.image) {\n          image = ' style=\"background-image: url(\\'' + settings.image + '\\')\"';\n        }\n        if (shortcut) {\n          shortcut = convertShortcut(shortcut);\n        }\n        icon = prefix + 'ico ' + prefix + 'i-' + (self.settings.icon || 'none');\n        iconHtml = text !== '-' ? '<i class=\"' + icon + '\"' + image + '></i>\\xA0' : '';\n        text = boldMatches(self.encode(markMatches(text)));\n        url = boldMatches(self.encode(markMatches(url)));\n        return '<div id=\"' + id + '\" class=\"' + self.classes + '\" tabindex=\"-1\">' + iconHtml + (text !== '-' ? '<span id=\"' + id + '-text\" class=\"' + prefix + 'text\">' + text + '</span>' : '') + (shortcut ? '<div id=\"' + id + '-shortcut\" class=\"' + prefix + 'menu-shortcut\">' + shortcut + '</div>' : '') + (settings.menu ? '<div class=\"' + prefix + 'caret\"></div>' : '') + (url ? '<div class=\"' + prefix + 'menu-item-link\">' + url + '</div>' : '') + '</div>';\n      },\n      postRender: function () {\n        var self = this, settings = self.settings;\n        var textStyle = settings.textStyle;\n        if (typeof textStyle === 'function') {\n          textStyle = textStyle.call(this);\n        }\n        if (textStyle) {\n          var textElm = self.getEl('text');\n          if (textElm) {\n            textElm.setAttribute('style', textStyle);\n            self._textStyle = textStyle;\n          }\n        }\n        self.on('mouseenter click', function (e) {\n          if (e.control === self) {\n            if (!settings.menu && e.type === 'click') {\n              self.fire('select');\n              global$7.requestAnimationFrame(function () {\n                self.parent().hideAll();\n              });\n            } else {\n              self.showMenu();\n              if (e.aria) {\n                self.menu.focus(true);\n              }\n            }\n          }\n        });\n        self._super();\n        return self;\n      },\n      hover: function () {\n        var self = this;\n        self.parent().items().each(function (ctrl) {\n          ctrl.classes.remove('selected');\n        });\n        self.classes.toggle('selected', true);\n        return self;\n      },\n      active: function (state) {\n        toggleTextStyle(this, state);\n        if (typeof state !== 'undefined') {\n          this.aria('checked', state);\n        }\n        return this._super(state);\n      },\n      remove: function () {\n        this._super();\n        if (this.menu) {\n          this.menu.remove();\n        }\n      }\n    });\n\n    var Radio = Checkbox.extend({\n      Defaults: {\n        classes: 'radio',\n        role: 'radio'\n      }\n    });\n\n    var ResizeHandle = Widget.extend({\n      renderHtml: function () {\n        var self = this, prefix = self.classPrefix;\n        self.classes.add('resizehandle');\n        if (self.settings.direction === 'both') {\n          self.classes.add('resizehandle-both');\n        }\n        self.canFocus = false;\n        return '<div id=\"' + self._id + '\" class=\"' + self.classes + '\">' + '<i class=\"' + prefix + 'ico ' + prefix + 'i-resize\"></i>' + '</div>';\n      },\n      postRender: function () {\n        var self = this;\n        self._super();\n        self.resizeDragHelper = new DragHelper(this._id, {\n          start: function () {\n            self.fire('ResizeStart');\n          },\n          drag: function (e) {\n            if (self.settings.direction !== 'both') {\n              e.deltaX = 0;\n            }\n            self.fire('Resize', e);\n          },\n          stop: function () {\n            self.fire('ResizeEnd');\n          }\n        });\n      },\n      remove: function () {\n        if (this.resizeDragHelper) {\n          this.resizeDragHelper.destroy();\n        }\n        return this._super();\n      }\n    });\n\n    function createOptions(options) {\n      var strOptions = '';\n      if (options) {\n        for (var i = 0; i < options.length; i++) {\n          strOptions += '<option value=\"' + options[i] + '\">' + options[i] + '</option>';\n        }\n      }\n      return strOptions;\n    }\n    var SelectBox = Widget.extend({\n      Defaults: {\n        classes: 'selectbox',\n        role: 'selectbox',\n        options: []\n      },\n      init: function (settings) {\n        var self = this;\n        self._super(settings);\n        if (self.settings.size) {\n          self.size = self.settings.size;\n        }\n        if (self.settings.options) {\n          self._options = self.settings.options;\n        }\n        self.on('keydown', function (e) {\n          var rootControl;\n          if (e.keyCode === 13) {\n            e.preventDefault();\n            self.parents().reverse().each(function (ctrl) {\n              if (ctrl.toJSON) {\n                rootControl = ctrl;\n                return false;\n              }\n            });\n            self.fire('submit', { data: rootControl.toJSON() });\n          }\n        });\n      },\n      options: function (state) {\n        if (!arguments.length) {\n          return this.state.get('options');\n        }\n        this.state.set('options', state);\n        return this;\n      },\n      renderHtml: function () {\n        var self = this;\n        var options, size = '';\n        options = createOptions(self._options);\n        if (self.size) {\n          size = ' size = \"' + self.size + '\"';\n        }\n        return '<select id=\"' + self._id + '\" class=\"' + self.classes + '\"' + size + '>' + options + '</select>';\n      },\n      bindStates: function () {\n        var self = this;\n        self.state.on('change:options', function (e) {\n          self.getEl().innerHTML = createOptions(e.value);\n        });\n        return self._super();\n      }\n    });\n\n    function constrain(value, minVal, maxVal) {\n      if (value < minVal) {\n        value = minVal;\n      }\n      if (value > maxVal) {\n        value = maxVal;\n      }\n      return value;\n    }\n    function setAriaProp(el, name, value) {\n      el.setAttribute('aria-' + name, value);\n    }\n    function updateSliderHandle(ctrl, value) {\n      var maxHandlePos, shortSizeName, sizeName, stylePosName, styleValue, handleEl;\n      if (ctrl.settings.orientation === 'v') {\n        stylePosName = 'top';\n        sizeName = 'height';\n        shortSizeName = 'h';\n      } else {\n        stylePosName = 'left';\n        sizeName = 'width';\n        shortSizeName = 'w';\n      }\n      handleEl = ctrl.getEl('handle');\n      maxHandlePos = (ctrl.layoutRect()[shortSizeName] || 100) - funcs.getSize(handleEl)[sizeName];\n      styleValue = maxHandlePos * ((value - ctrl._minValue) / (ctrl._maxValue - ctrl._minValue)) + 'px';\n      handleEl.style[stylePosName] = styleValue;\n      handleEl.style.height = ctrl.layoutRect().h + 'px';\n      setAriaProp(handleEl, 'valuenow', value);\n      setAriaProp(handleEl, 'valuetext', '' + ctrl.settings.previewFilter(value));\n      setAriaProp(handleEl, 'valuemin', ctrl._minValue);\n      setAriaProp(handleEl, 'valuemax', ctrl._maxValue);\n    }\n    var Slider = Widget.extend({\n      init: function (settings) {\n        var self = this;\n        if (!settings.previewFilter) {\n          settings.previewFilter = function (value) {\n            return Math.round(value * 100) / 100;\n          };\n        }\n        self._super(settings);\n        self.classes.add('slider');\n        if (settings.orientation === 'v') {\n          self.classes.add('vertical');\n        }\n        self._minValue = isNumber(settings.minValue) ? settings.minValue : 0;\n        self._maxValue = isNumber(settings.maxValue) ? settings.maxValue : 100;\n        self._initValue = self.state.get('value');\n      },\n      renderHtml: function () {\n        var self = this, id = self._id, prefix = self.classPrefix;\n        return '<div id=\"' + id + '\" class=\"' + self.classes + '\">' + '<div id=\"' + id + '-handle\" class=\"' + prefix + 'slider-handle\" role=\"slider\" tabindex=\"-1\"></div>' + '</div>';\n      },\n      reset: function () {\n        this.value(this._initValue).repaint();\n      },\n      postRender: function () {\n        var self = this;\n        var minValue, maxValue, screenCordName, stylePosName, sizeName, shortSizeName;\n        function toFraction(min, max, val) {\n          return (val + min) / (max - min);\n        }\n        function fromFraction(min, max, val) {\n          return val * (max - min) - min;\n        }\n        function handleKeyboard(minValue, maxValue) {\n          function alter(delta) {\n            var value;\n            value = self.value();\n            value = fromFraction(minValue, maxValue, toFraction(minValue, maxValue, value) + delta * 0.05);\n            value = constrain(value, minValue, maxValue);\n            self.value(value);\n            self.fire('dragstart', { value: value });\n            self.fire('drag', { value: value });\n            self.fire('dragend', { value: value });\n          }\n          self.on('keydown', function (e) {\n            switch (e.keyCode) {\n            case 37:\n            case 38:\n              alter(-1);\n              break;\n            case 39:\n            case 40:\n              alter(1);\n              break;\n            }\n          });\n        }\n        function handleDrag(minValue, maxValue, handleEl) {\n          var startPos, startHandlePos, maxHandlePos, handlePos, value;\n          self._dragHelper = new DragHelper(self._id, {\n            handle: self._id + '-handle',\n            start: function (e) {\n              startPos = e[screenCordName];\n              startHandlePos = parseInt(self.getEl('handle').style[stylePosName], 10);\n              maxHandlePos = (self.layoutRect()[shortSizeName] || 100) - funcs.getSize(handleEl)[sizeName];\n              self.fire('dragstart', { value: value });\n            },\n            drag: function (e) {\n              var delta = e[screenCordName] - startPos;\n              handlePos = constrain(startHandlePos + delta, 0, maxHandlePos);\n              handleEl.style[stylePosName] = handlePos + 'px';\n              value = minValue + handlePos / maxHandlePos * (maxValue - minValue);\n              self.value(value);\n              self.tooltip().text('' + self.settings.previewFilter(value)).show().moveRel(handleEl, 'bc tc');\n              self.fire('drag', { value: value });\n            },\n            stop: function () {\n              self.tooltip().hide();\n              self.fire('dragend', { value: value });\n            }\n          });\n        }\n        minValue = self._minValue;\n        maxValue = self._maxValue;\n        if (self.settings.orientation === 'v') {\n          screenCordName = 'screenY';\n          stylePosName = 'top';\n          sizeName = 'height';\n          shortSizeName = 'h';\n        } else {\n          screenCordName = 'screenX';\n          stylePosName = 'left';\n          sizeName = 'width';\n          shortSizeName = 'w';\n        }\n        self._super();\n        handleKeyboard(minValue, maxValue);\n        handleDrag(minValue, maxValue, self.getEl('handle'));\n      },\n      repaint: function () {\n        this._super();\n        updateSliderHandle(this, this.value());\n      },\n      bindStates: function () {\n        var self = this;\n        self.state.on('change:value', function (e) {\n          updateSliderHandle(self, e.value);\n        });\n        return self._super();\n      }\n    });\n\n    var Spacer = Widget.extend({\n      renderHtml: function () {\n        var self = this;\n        self.classes.add('spacer');\n        self.canFocus = false;\n        return '<div id=\"' + self._id + '\" class=\"' + self.classes + '\"></div>';\n      }\n    });\n\n    var SplitButton = MenuButton.extend({\n      Defaults: {\n        classes: 'widget btn splitbtn',\n        role: 'button'\n      },\n      repaint: function () {\n        var self = this;\n        var elm = self.getEl();\n        var rect = self.layoutRect();\n        var mainButtonElm, menuButtonElm;\n        self._super();\n        mainButtonElm = elm.firstChild;\n        menuButtonElm = elm.lastChild;\n        global$9(mainButtonElm).css({\n          width: rect.w - funcs.getSize(menuButtonElm).width,\n          height: rect.h - 2\n        });\n        global$9(menuButtonElm).css({ height: rect.h - 2 });\n        return self;\n      },\n      activeMenu: function (state) {\n        var self = this;\n        global$9(self.getEl().lastChild).toggleClass(self.classPrefix + 'active', state);\n      },\n      renderHtml: function () {\n        var self = this;\n        var id = self._id;\n        var prefix = self.classPrefix;\n        var image;\n        var icon = self.state.get('icon');\n        var text = self.state.get('text');\n        var settings = self.settings;\n        var textHtml = '', ariaPressed;\n        image = settings.image;\n        if (image) {\n          icon = 'none';\n          if (typeof image !== 'string') {\n            image = domGlobals.window.getSelection ? image[0] : image[1];\n          }\n          image = ' style=\"background-image: url(\\'' + image + '\\')\"';\n        } else {\n          image = '';\n        }\n        icon = settings.icon ? prefix + 'ico ' + prefix + 'i-' + icon : '';\n        if (text) {\n          self.classes.add('btn-has-text');\n          textHtml = '<span class=\"' + prefix + 'txt\">' + self.encode(text) + '</span>';\n        }\n        ariaPressed = typeof settings.active === 'boolean' ? ' aria-pressed=\"' + settings.active + '\"' : '';\n        return '<div id=\"' + id + '\" class=\"' + self.classes + '\" role=\"button\"' + ariaPressed + ' tabindex=\"-1\">' + '<button type=\"button\" hidefocus=\"1\" tabindex=\"-1\">' + (icon ? '<i class=\"' + icon + '\"' + image + '></i>' : '') + textHtml + '</button>' + '<button type=\"button\" class=\"' + prefix + 'open\" hidefocus=\"1\" tabindex=\"-1\">' + (self._menuBtnText ? (icon ? '\\xA0' : '') + self._menuBtnText : '') + ' <i class=\"' + prefix + 'caret\"></i>' + '</button>' + '</div>';\n      },\n      postRender: function () {\n        var self = this, onClickHandler = self.settings.onclick;\n        self.on('click', function (e) {\n          var node = e.target;\n          if (e.control === this) {\n            while (node) {\n              if (e.aria && e.aria.key !== 'down' || node.nodeName === 'BUTTON' && node.className.indexOf('open') === -1) {\n                e.stopImmediatePropagation();\n                if (onClickHandler) {\n                  onClickHandler.call(this, e);\n                }\n                return;\n              }\n              node = node.parentNode;\n            }\n          }\n        });\n        delete self.settings.onclick;\n        return self._super();\n      }\n    });\n\n    var StackLayout = FlowLayout.extend({\n      Defaults: {\n        containerClass: 'stack-layout',\n        controlClass: 'stack-layout-item',\n        endClass: 'break'\n      },\n      isNative: function () {\n        return true;\n      }\n    });\n\n    var TabPanel = Panel.extend({\n      Defaults: {\n        layout: 'absolute',\n        defaults: { type: 'panel' }\n      },\n      activateTab: function (idx) {\n        var activeTabElm;\n        if (this.activeTabId) {\n          activeTabElm = this.getEl(this.activeTabId);\n          global$9(activeTabElm).removeClass(this.classPrefix + 'active');\n          activeTabElm.setAttribute('aria-selected', 'false');\n        }\n        this.activeTabId = 't' + idx;\n        activeTabElm = this.getEl('t' + idx);\n        activeTabElm.setAttribute('aria-selected', 'true');\n        global$9(activeTabElm).addClass(this.classPrefix + 'active');\n        this.items()[idx].show().fire('showtab');\n        this.reflow();\n        this.items().each(function (item, i) {\n          if (idx !== i) {\n            item.hide();\n          }\n        });\n      },\n      renderHtml: function () {\n        var self = this;\n        var layout = self._layout;\n        var tabsHtml = '';\n        var prefix = self.classPrefix;\n        self.preRender();\n        layout.preRender(self);\n        self.items().each(function (ctrl, i) {\n          var id = self._id + '-t' + i;\n          ctrl.aria('role', 'tabpanel');\n          ctrl.aria('labelledby', id);\n          tabsHtml += '<div id=\"' + id + '\" class=\"' + prefix + 'tab\" ' + 'unselectable=\"on\" role=\"tab\" aria-controls=\"' + ctrl._id + '\" aria-selected=\"false\" tabIndex=\"-1\">' + self.encode(ctrl.settings.title) + '</div>';\n        });\n        return '<div id=\"' + self._id + '\" class=\"' + self.classes + '\" hidefocus=\"1\" tabindex=\"-1\">' + '<div id=\"' + self._id + '-head\" class=\"' + prefix + 'tabs\" role=\"tablist\">' + tabsHtml + '</div>' + '<div id=\"' + self._id + '-body\" class=\"' + self.bodyClasses + '\">' + layout.renderHtml(self) + '</div>' + '</div>';\n      },\n      postRender: function () {\n        var self = this;\n        self._super();\n        self.settings.activeTab = self.settings.activeTab || 0;\n        self.activateTab(self.settings.activeTab);\n        this.on('click', function (e) {\n          var targetParent = e.target.parentNode;\n          if (targetParent && targetParent.id === self._id + '-head') {\n            var i = targetParent.childNodes.length;\n            while (i--) {\n              if (targetParent.childNodes[i] === e.target) {\n                self.activateTab(i);\n              }\n            }\n          }\n        });\n      },\n      initLayoutRect: function () {\n        var self = this;\n        var rect, minW, minH;\n        minW = funcs.getSize(self.getEl('head')).width;\n        minW = minW < 0 ? 0 : minW;\n        minH = 0;\n        self.items().each(function (item) {\n          minW = Math.max(minW, item.layoutRect().minW);\n          minH = Math.max(minH, item.layoutRect().minH);\n        });\n        self.items().each(function (ctrl) {\n          ctrl.settings.x = 0;\n          ctrl.settings.y = 0;\n          ctrl.settings.w = minW;\n          ctrl.settings.h = minH;\n          ctrl.layoutRect({\n            x: 0,\n            y: 0,\n            w: minW,\n            h: minH\n          });\n        });\n        var headH = funcs.getSize(self.getEl('head')).height;\n        self.settings.minWidth = minW;\n        self.settings.minHeight = minH + headH;\n        rect = self._super();\n        rect.deltaH += headH;\n        rect.innerH = rect.h - rect.deltaH;\n        return rect;\n      }\n    });\n\n    var TextBox = Widget.extend({\n      init: function (settings) {\n        var self = this;\n        self._super(settings);\n        self.classes.add('textbox');\n        if (settings.multiline) {\n          self.classes.add('multiline');\n        } else {\n          self.on('keydown', function (e) {\n            var rootControl;\n            if (e.keyCode === 13) {\n              e.preventDefault();\n              self.parents().reverse().each(function (ctrl) {\n                if (ctrl.toJSON) {\n                  rootControl = ctrl;\n                  return false;\n                }\n              });\n              self.fire('submit', { data: rootControl.toJSON() });\n            }\n          });\n          self.on('keyup', function (e) {\n            self.state.set('value', e.target.value);\n          });\n        }\n      },\n      repaint: function () {\n        var self = this;\n        var style, rect, borderBox, borderW, borderH = 0, lastRepaintRect;\n        style = self.getEl().style;\n        rect = self._layoutRect;\n        lastRepaintRect = self._lastRepaintRect || {};\n        var doc = domGlobals.document;\n        if (!self.settings.multiline && doc.all && (!doc.documentMode || doc.documentMode <= 8)) {\n          style.lineHeight = rect.h - borderH + 'px';\n        }\n        borderBox = self.borderBox;\n        borderW = borderBox.left + borderBox.right + 8;\n        borderH = borderBox.top + borderBox.bottom + (self.settings.multiline ? 8 : 0);\n        if (rect.x !== lastRepaintRect.x) {\n          style.left = rect.x + 'px';\n          lastRepaintRect.x = rect.x;\n        }\n        if (rect.y !== lastRepaintRect.y) {\n          style.top = rect.y + 'px';\n          lastRepaintRect.y = rect.y;\n        }\n        if (rect.w !== lastRepaintRect.w) {\n          style.width = rect.w - borderW + 'px';\n          lastRepaintRect.w = rect.w;\n        }\n        if (rect.h !== lastRepaintRect.h) {\n          style.height = rect.h - borderH + 'px';\n          lastRepaintRect.h = rect.h;\n        }\n        self._lastRepaintRect = lastRepaintRect;\n        self.fire('repaint', {}, false);\n        return self;\n      },\n      renderHtml: function () {\n        var self = this;\n        var settings = self.settings;\n        var attrs, elm;\n        attrs = {\n          id: self._id,\n          hidefocus: '1'\n        };\n        global$2.each([\n          'rows',\n          'spellcheck',\n          'maxLength',\n          'size',\n          'readonly',\n          'min',\n          'max',\n          'step',\n          'list',\n          'pattern',\n          'placeholder',\n          'required',\n          'multiple'\n        ], function (name) {\n          attrs[name] = settings[name];\n        });\n        if (self.disabled()) {\n          attrs.disabled = 'disabled';\n        }\n        if (settings.subtype) {\n          attrs.type = settings.subtype;\n        }\n        elm = funcs.create(settings.multiline ? 'textarea' : 'input', attrs);\n        elm.value = self.state.get('value');\n        elm.className = self.classes.toString();\n        return elm.outerHTML;\n      },\n      value: function (value) {\n        if (arguments.length) {\n          this.state.set('value', value);\n          return this;\n        }\n        if (this.state.get('rendered')) {\n          this.state.set('value', this.getEl().value);\n        }\n        return this.state.get('value');\n      },\n      postRender: function () {\n        var self = this;\n        self.getEl().value = self.state.get('value');\n        self._super();\n        self.$el.on('change', function (e) {\n          self.state.set('value', e.target.value);\n          self.fire('change', e);\n        });\n      },\n      bindStates: function () {\n        var self = this;\n        self.state.on('change:value', function (e) {\n          if (self.getEl().value !== e.value) {\n            self.getEl().value = e.value;\n          }\n        });\n        self.state.on('change:disabled', function (e) {\n          self.getEl().disabled = e.value;\n        });\n        return self._super();\n      },\n      remove: function () {\n        this.$el.off();\n        this._super();\n      }\n    });\n\n    var getApi = function () {\n      return {\n        Selector: Selector,\n        Collection: Collection$2,\n        ReflowQueue: ReflowQueue,\n        Control: Control$1,\n        Factory: global$4,\n        KeyboardNavigation: KeyboardNavigation,\n        Container: Container,\n        DragHelper: DragHelper,\n        Scrollable: Scrollable,\n        Panel: Panel,\n        Movable: Movable,\n        Resizable: Resizable,\n        FloatPanel: FloatPanel,\n        Window: Window,\n        MessageBox: MessageBox,\n        Tooltip: Tooltip,\n        Widget: Widget,\n        Progress: Progress,\n        Notification: Notification,\n        Layout: Layout,\n        AbsoluteLayout: AbsoluteLayout,\n        Button: Button,\n        ButtonGroup: ButtonGroup,\n        Checkbox: Checkbox,\n        ComboBox: ComboBox,\n        ColorBox: ColorBox,\n        PanelButton: PanelButton,\n        ColorButton: ColorButton,\n        ColorPicker: ColorPicker,\n        Path: Path,\n        ElementPath: ElementPath,\n        FormItem: FormItem,\n        Form: Form,\n        FieldSet: FieldSet,\n        FilePicker: FilePicker,\n        FitLayout: FitLayout,\n        FlexLayout: FlexLayout,\n        FlowLayout: FlowLayout,\n        FormatControls: FormatControls,\n        GridLayout: GridLayout,\n        Iframe: Iframe$1,\n        InfoBox: InfoBox,\n        Label: Label,\n        Toolbar: Toolbar$1,\n        MenuBar: MenuBar,\n        MenuButton: MenuButton,\n        MenuItem: MenuItem,\n        Throbber: Throbber,\n        Menu: Menu,\n        ListBox: ListBox,\n        Radio: Radio,\n        ResizeHandle: ResizeHandle,\n        SelectBox: SelectBox,\n        Slider: Slider,\n        Spacer: Spacer,\n        SplitButton: SplitButton,\n        StackLayout: StackLayout,\n        TabPanel: TabPanel,\n        TextBox: TextBox,\n        DropZone: DropZone,\n        BrowseButton: BrowseButton\n      };\n    };\n    var appendTo = function (target) {\n      if (target.ui) {\n        global$2.each(getApi(), function (ref, key) {\n          target.ui[key] = ref;\n        });\n      } else {\n        target.ui = getApi();\n      }\n    };\n    var registerToFactory = function () {\n      global$2.each(getApi(), function (ref, key) {\n        global$4.add(key, ref);\n      });\n    };\n    var Api = {\n      appendTo: appendTo,\n      registerToFactory: registerToFactory\n    };\n\n    Api.registerToFactory();\n    Api.appendTo(window.tinymce ? window.tinymce : {});\n    global.add('modern', function (editor) {\n      FormatControls.setup(editor);\n      return ThemeApi.get(editor);\n    });\n    function Theme () {\n    }\n\n    return Theme;\n\n}(window));\n})();\n","// 4.9.11 (2020-07-13)\n(function () {\n(function (domGlobals) {\n    'use strict';\n\n    var noop = function () {\n    };\n    var compose = function (fa, fb) {\n      return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        return fa(fb.apply(null, args));\n      };\n    };\n    var constant = function (value) {\n      return function () {\n        return value;\n      };\n    };\n    var identity = function (x) {\n      return x;\n    };\n    function curry(fn) {\n      var initialArgs = [];\n      for (var _i = 1; _i < arguments.length; _i++) {\n        initialArgs[_i - 1] = arguments[_i];\n      }\n      return function () {\n        var restArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          restArgs[_i] = arguments[_i];\n        }\n        var all = initialArgs.concat(restArgs);\n        return fn.apply(null, all);\n      };\n    }\n    var not = function (f) {\n      return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        return !f.apply(null, args);\n      };\n    };\n    var die = function (msg) {\n      return function () {\n        throw new Error(msg);\n      };\n    };\n    var never = constant(false);\n    var always = constant(true);\n\n    var none = function () {\n      return NONE;\n    };\n    var NONE = function () {\n      var eq = function (o) {\n        return o.isNone();\n      };\n      var call = function (thunk) {\n        return thunk();\n      };\n      var id = function (n) {\n        return n;\n      };\n      var me = {\n        fold: function (n, s) {\n          return n();\n        },\n        is: never,\n        isSome: never,\n        isNone: always,\n        getOr: id,\n        getOrThunk: call,\n        getOrDie: function (msg) {\n          throw new Error(msg || 'error: getOrDie called on none.');\n        },\n        getOrNull: constant(null),\n        getOrUndefined: constant(undefined),\n        or: id,\n        orThunk: call,\n        map: none,\n        each: noop,\n        bind: none,\n        exists: never,\n        forall: always,\n        filter: none,\n        equals: eq,\n        equals_: eq,\n        toArray: function () {\n          return [];\n        },\n        toString: constant('none()')\n      };\n      if (Object.freeze) {\n        Object.freeze(me);\n      }\n      return me;\n    }();\n    var some = function (a) {\n      var constant_a = constant(a);\n      var self = function () {\n        return me;\n      };\n      var bind = function (f) {\n        return f(a);\n      };\n      var me = {\n        fold: function (n, s) {\n          return s(a);\n        },\n        is: function (v) {\n          return a === v;\n        },\n        isSome: always,\n        isNone: never,\n        getOr: constant_a,\n        getOrThunk: constant_a,\n        getOrDie: constant_a,\n        getOrNull: constant_a,\n        getOrUndefined: constant_a,\n        or: self,\n        orThunk: self,\n        map: function (f) {\n          return some(f(a));\n        },\n        each: function (f) {\n          f(a);\n        },\n        bind: bind,\n        exists: bind,\n        forall: bind,\n        filter: function (f) {\n          return f(a) ? me : NONE;\n        },\n        toArray: function () {\n          return [a];\n        },\n        toString: function () {\n          return 'some(' + a + ')';\n        },\n        equals: function (o) {\n          return o.is(a);\n        },\n        equals_: function (o, elementEq) {\n          return o.fold(never, function (b) {\n            return elementEq(a, b);\n          });\n        }\n      };\n      return me;\n    };\n    var from = function (value) {\n      return value === null || value === undefined ? NONE : some(value);\n    };\n    var Option = {\n      some: some,\n      none: none,\n      from: from\n    };\n\n    var typeOf = function (x) {\n      if (x === null) {\n        return 'null';\n      }\n      var t = typeof x;\n      if (t === 'object' && (Array.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'Array')) {\n        return 'array';\n      }\n      if (t === 'object' && (String.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'String')) {\n        return 'string';\n      }\n      return t;\n    };\n    var isType = function (type) {\n      return function (value) {\n        return typeOf(value) === type;\n      };\n    };\n    var isString = isType('string');\n    var isObject = isType('object');\n    var isArray = isType('array');\n    var isNull = isType('null');\n    var isBoolean = isType('boolean');\n    var isFunction = isType('function');\n    var isNumber = isType('number');\n\n    var nativeSlice = Array.prototype.slice;\n    var nativeIndexOf = Array.prototype.indexOf;\n    var nativePush = Array.prototype.push;\n    var rawIndexOf = function (ts, t) {\n      return nativeIndexOf.call(ts, t);\n    };\n    var indexOf = function (xs, x) {\n      var r = rawIndexOf(xs, x);\n      return r === -1 ? Option.none() : Option.some(r);\n    };\n    var contains = function (xs, x) {\n      return rawIndexOf(xs, x) > -1;\n    };\n    var exists = function (xs, pred) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          return true;\n        }\n      }\n      return false;\n    };\n    var map = function (xs, f) {\n      var len = xs.length;\n      var r = new Array(len);\n      for (var i = 0; i < len; i++) {\n        var x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    var each = function (xs, f) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        f(x, i);\n      }\n    };\n    var eachr = function (xs, f) {\n      for (var i = xs.length - 1; i >= 0; i--) {\n        var x = xs[i];\n        f(x, i);\n      }\n    };\n    var partition = function (xs, pred) {\n      var pass = [];\n      var fail = [];\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        var arr = pred(x, i) ? pass : fail;\n        arr.push(x);\n      }\n      return {\n        pass: pass,\n        fail: fail\n      };\n    };\n    var filter = function (xs, pred) {\n      var r = [];\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          r.push(x);\n        }\n      }\n      return r;\n    };\n    var foldr = function (xs, f, acc) {\n      eachr(xs, function (x) {\n        acc = f(acc, x);\n      });\n      return acc;\n    };\n    var foldl = function (xs, f, acc) {\n      each(xs, function (x) {\n        acc = f(acc, x);\n      });\n      return acc;\n    };\n    var find = function (xs, pred) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          return Option.some(x);\n        }\n      }\n      return Option.none();\n    };\n    var findIndex = function (xs, pred) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          return Option.some(i);\n        }\n      }\n      return Option.none();\n    };\n    var flatten = function (xs) {\n      var r = [];\n      for (var i = 0, len = xs.length; i < len; ++i) {\n        if (!isArray(xs[i])) {\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        }\n        nativePush.apply(r, xs[i]);\n      }\n      return r;\n    };\n    var bind = function (xs, f) {\n      var output = map(xs, f);\n      return flatten(output);\n    };\n    var forall = function (xs, pred) {\n      for (var i = 0, len = xs.length; i < len; ++i) {\n        var x = xs[i];\n        if (pred(x, i) !== true) {\n          return false;\n        }\n      }\n      return true;\n    };\n    var reverse = function (xs) {\n      var r = nativeSlice.call(xs, 0);\n      r.reverse();\n      return r;\n    };\n    var difference = function (a1, a2) {\n      return filter(a1, function (x) {\n        return !contains(a2, x);\n      });\n    };\n    var mapToObject = function (xs, f) {\n      var r = {};\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        r[String(x)] = f(x, i);\n      }\n      return r;\n    };\n    var sort = function (xs, comparator) {\n      var copy = nativeSlice.call(xs, 0);\n      copy.sort(comparator);\n      return copy;\n    };\n    var head = function (xs) {\n      return xs.length === 0 ? Option.none() : Option.some(xs[0]);\n    };\n    var last = function (xs) {\n      return xs.length === 0 ? Option.none() : Option.some(xs[xs.length - 1]);\n    };\n    var from$1 = isFunction(Array.from) ? Array.from : function (x) {\n      return nativeSlice.call(x);\n    };\n\n    var Global = typeof domGlobals.window !== 'undefined' ? domGlobals.window : Function('return this;')();\n\n    var path = function (parts, scope) {\n      var o = scope !== undefined && scope !== null ? scope : Global;\n      for (var i = 0; i < parts.length && o !== undefined && o !== null; ++i) {\n        o = o[parts[i]];\n      }\n      return o;\n    };\n    var resolve = function (p, scope) {\n      var parts = p.split('.');\n      return path(parts, scope);\n    };\n\n    var unsafe = function (name, scope) {\n      return resolve(name, scope);\n    };\n    var getOrDie = function (name, scope) {\n      var actual = unsafe(name, scope);\n      if (actual === undefined || actual === null) {\n        throw new Error(name + ' not available on this browser');\n      }\n      return actual;\n    };\n    var Global$1 = { getOrDie: getOrDie };\n\n    var url = function () {\n      return Global$1.getOrDie('URL');\n    };\n    var createObjectURL = function (blob) {\n      return url().createObjectURL(blob);\n    };\n    var revokeObjectURL = function (u) {\n      url().revokeObjectURL(u);\n    };\n    var URL = {\n      createObjectURL: createObjectURL,\n      revokeObjectURL: revokeObjectURL\n    };\n\n    var nav = domGlobals.navigator, userAgent = nav.userAgent;\n    var opera, webkit, ie, ie11, ie12, gecko, mac, iDevice, android, fileApi, phone, tablet, windowsPhone;\n    var matchMediaQuery = function (query) {\n      return 'matchMedia' in domGlobals.window ? domGlobals.matchMedia(query).matches : false;\n    };\n    opera = false;\n    android = /Android/.test(userAgent);\n    webkit = /WebKit/.test(userAgent);\n    ie = !webkit && !opera && /MSIE/gi.test(userAgent) && /Explorer/gi.test(nav.appName);\n    ie = ie && /MSIE (\\w+)\\./.exec(userAgent)[1];\n    ie11 = userAgent.indexOf('Trident/') !== -1 && (userAgent.indexOf('rv:') !== -1 || nav.appName.indexOf('Netscape') !== -1) ? 11 : false;\n    ie12 = userAgent.indexOf('Edge/') !== -1 && !ie && !ie11 ? 12 : false;\n    ie = ie || ie11 || ie12;\n    gecko = !webkit && !ie11 && /Gecko/.test(userAgent);\n    mac = userAgent.indexOf('Mac') !== -1;\n    iDevice = /(iPad|iPhone)/.test(userAgent);\n    fileApi = 'FormData' in domGlobals.window && 'FileReader' in domGlobals.window && 'URL' in domGlobals.window && !!URL.createObjectURL;\n    phone = matchMediaQuery('only screen and (max-device-width: 480px)') && (android || iDevice);\n    tablet = matchMediaQuery('only screen and (min-width: 800px)') && (android || iDevice);\n    windowsPhone = userAgent.indexOf('Windows Phone') !== -1;\n    if (ie12) {\n      webkit = false;\n    }\n    var contentEditable = !iDevice || fileApi || parseInt(userAgent.match(/AppleWebKit\\/(\\d*)/)[1], 10) >= 534;\n    var Env = {\n      opera: opera,\n      webkit: webkit,\n      ie: ie,\n      gecko: gecko,\n      mac: mac,\n      iOS: iDevice,\n      android: android,\n      contentEditable: contentEditable,\n      transparentSrc: 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7',\n      caretAfter: ie !== 8,\n      range: domGlobals.window.getSelection && 'Range' in domGlobals.window,\n      documentMode: ie && !ie12 ? domGlobals.document.documentMode || 7 : 10,\n      fileApi: fileApi,\n      ceFalse: ie === false || ie > 8,\n      cacheSuffix: null,\n      container: null,\n      overrideViewPort: null,\n      experimentalShadowDom: false,\n      canHaveCSP: ie === false || ie > 11,\n      desktop: !phone && !tablet,\n      windowsPhone: windowsPhone\n    };\n\n    var promise = function () {\n      function bind(fn, thisArg) {\n        return function () {\n          fn.apply(thisArg, arguments);\n        };\n      }\n      var isArray = Array.isArray || function (value) {\n        return Object.prototype.toString.call(value) === '[object Array]';\n      };\n      var Promise = function (fn) {\n        if (typeof this !== 'object') {\n          throw new TypeError('Promises must be constructed via new');\n        }\n        if (typeof fn !== 'function') {\n          throw new TypeError('not a function');\n        }\n        this._state = null;\n        this._value = null;\n        this._deferreds = [];\n        doResolve(fn, bind(resolve, this), bind(reject, this));\n      };\n      var asap = Promise.immediateFn || typeof setImmediate === 'function' && setImmediate || function (fn) {\n        setTimeout(fn, 1);\n      };\n      function handle(deferred) {\n        var me = this;\n        if (this._state === null) {\n          this._deferreds.push(deferred);\n          return;\n        }\n        asap(function () {\n          var cb = me._state ? deferred.onFulfilled : deferred.onRejected;\n          if (cb === null) {\n            (me._state ? deferred.resolve : deferred.reject)(me._value);\n            return;\n          }\n          var ret;\n          try {\n            ret = cb(me._value);\n          } catch (e) {\n            deferred.reject(e);\n            return;\n          }\n          deferred.resolve(ret);\n        });\n      }\n      function resolve(newValue) {\n        try {\n          if (newValue === this) {\n            throw new TypeError('A promise cannot be resolved with itself.');\n          }\n          if (newValue && (typeof newValue === 'object' || typeof newValue === 'function')) {\n            var then = newValue.then;\n            if (typeof then === 'function') {\n              doResolve(bind(then, newValue), bind(resolve, this), bind(reject, this));\n              return;\n            }\n          }\n          this._state = true;\n          this._value = newValue;\n          finale.call(this);\n        } catch (e) {\n          reject.call(this, e);\n        }\n      }\n      function reject(newValue) {\n        this._state = false;\n        this._value = newValue;\n        finale.call(this);\n      }\n      function finale() {\n        for (var i = 0, len = this._deferreds.length; i < len; i++) {\n          handle.call(this, this._deferreds[i]);\n        }\n        this._deferreds = null;\n      }\n      function Handler(onFulfilled, onRejected, resolve, reject) {\n        this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n        this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n        this.resolve = resolve;\n        this.reject = reject;\n      }\n      function doResolve(fn, onFulfilled, onRejected) {\n        var done = false;\n        try {\n          fn(function (value) {\n            if (done) {\n              return;\n            }\n            done = true;\n            onFulfilled(value);\n          }, function (reason) {\n            if (done) {\n              return;\n            }\n            done = true;\n            onRejected(reason);\n          });\n        } catch (ex) {\n          if (done) {\n            return;\n          }\n          done = true;\n          onRejected(ex);\n        }\n      }\n      Promise.prototype.catch = function (onRejected) {\n        return this.then(null, onRejected);\n      };\n      Promise.prototype.then = function (onFulfilled, onRejected) {\n        var me = this;\n        return new Promise(function (resolve, reject) {\n          handle.call(me, new Handler(onFulfilled, onRejected, resolve, reject));\n        });\n      };\n      Promise.all = function () {\n        var args = Array.prototype.slice.call(arguments.length === 1 && isArray(arguments[0]) ? arguments[0] : arguments);\n        return new Promise(function (resolve, reject) {\n          if (args.length === 0) {\n            return resolve([]);\n          }\n          var remaining = args.length;\n          function res(i, val) {\n            try {\n              if (val && (typeof val === 'object' || typeof val === 'function')) {\n                var then = val.then;\n                if (typeof then === 'function') {\n                  then.call(val, function (val) {\n                    res(i, val);\n                  }, reject);\n                  return;\n                }\n              }\n              args[i] = val;\n              if (--remaining === 0) {\n                resolve(args);\n              }\n            } catch (ex) {\n              reject(ex);\n            }\n          }\n          for (var i = 0; i < args.length; i++) {\n            res(i, args[i]);\n          }\n        });\n      };\n      Promise.resolve = function (value) {\n        if (value && typeof value === 'object' && value.constructor === Promise) {\n          return value;\n        }\n        return new Promise(function (resolve) {\n          resolve(value);\n        });\n      };\n      Promise.reject = function (value) {\n        return new Promise(function (resolve, reject) {\n          reject(value);\n        });\n      };\n      Promise.race = function (values) {\n        return new Promise(function (resolve, reject) {\n          for (var i = 0, len = values.length; i < len; i++) {\n            values[i].then(resolve, reject);\n          }\n        });\n      };\n      return Promise;\n    };\n    var promiseObj = window.Promise ? window.Promise : promise();\n\n    var requestAnimationFramePromise;\n    var requestAnimationFrame = function (callback, element) {\n      var i, requestAnimationFrameFunc = domGlobals.window.requestAnimationFrame;\n      var vendors = [\n        'ms',\n        'moz',\n        'webkit'\n      ];\n      var featurefill = function (callback) {\n        domGlobals.window.setTimeout(callback, 0);\n      };\n      for (i = 0; i < vendors.length && !requestAnimationFrameFunc; i++) {\n        requestAnimationFrameFunc = domGlobals.window[vendors[i] + 'RequestAnimationFrame'];\n      }\n      if (!requestAnimationFrameFunc) {\n        requestAnimationFrameFunc = featurefill;\n      }\n      requestAnimationFrameFunc(callback, element);\n    };\n    var wrappedSetTimeout = function (callback, time) {\n      if (typeof time !== 'number') {\n        time = 0;\n      }\n      return setTimeout(callback, time);\n    };\n    var wrappedSetInterval = function (callback, time) {\n      if (typeof time !== 'number') {\n        time = 1;\n      }\n      return setInterval(callback, time);\n    };\n    var wrappedClearTimeout = function (id) {\n      return clearTimeout(id);\n    };\n    var wrappedClearInterval = function (id) {\n      return clearInterval(id);\n    };\n    var debounce = function (callback, time) {\n      var timer, func;\n      func = function () {\n        var args = arguments;\n        clearTimeout(timer);\n        timer = wrappedSetTimeout(function () {\n          callback.apply(this, args);\n        }, time);\n      };\n      func.stop = function () {\n        clearTimeout(timer);\n      };\n      return func;\n    };\n    var Delay = {\n      requestAnimationFrame: function (callback, element) {\n        if (requestAnimationFramePromise) {\n          requestAnimationFramePromise.then(callback);\n          return;\n        }\n        requestAnimationFramePromise = new promiseObj(function (resolve) {\n          if (!element) {\n            element = domGlobals.document.body;\n          }\n          requestAnimationFrame(resolve, element);\n        }).then(callback);\n      },\n      setTimeout: wrappedSetTimeout,\n      setInterval: wrappedSetInterval,\n      setEditorTimeout: function (editor, callback, time) {\n        return wrappedSetTimeout(function () {\n          if (!editor.removed) {\n            callback();\n          }\n        }, time);\n      },\n      setEditorInterval: function (editor, callback, time) {\n        var timer;\n        timer = wrappedSetInterval(function () {\n          if (!editor.removed) {\n            callback();\n          } else {\n            clearInterval(timer);\n          }\n        }, time);\n        return timer;\n      },\n      debounce: debounce,\n      throttle: debounce,\n      clearInterval: wrappedClearInterval,\n      clearTimeout: wrappedClearTimeout\n    };\n\n    var eventExpandoPrefix = 'mce-data-';\n    var mouseEventRe = /^(?:mouse|contextmenu)|click/;\n    var deprecated = {\n      keyLocation: 1,\n      layerX: 1,\n      layerY: 1,\n      returnValue: 1,\n      webkitMovementX: 1,\n      webkitMovementY: 1,\n      keyIdentifier: 1\n    };\n    var hasIsDefaultPrevented = function (event) {\n      return event.isDefaultPrevented === returnTrue || event.isDefaultPrevented === returnFalse;\n    };\n    var returnFalse = function () {\n      return false;\n    };\n    var returnTrue = function () {\n      return true;\n    };\n    var addEvent = function (target, name, callback, capture) {\n      if (target.addEventListener) {\n        target.addEventListener(name, callback, capture || false);\n      } else if (target.attachEvent) {\n        target.attachEvent('on' + name, callback);\n      }\n    };\n    var removeEvent = function (target, name, callback, capture) {\n      if (target.removeEventListener) {\n        target.removeEventListener(name, callback, capture || false);\n      } else if (target.detachEvent) {\n        target.detachEvent('on' + name, callback);\n      }\n    };\n    var getTargetFromShadowDom = function (event, defaultTarget) {\n      if (event.composedPath) {\n        var composedPath = event.composedPath();\n        if (composedPath && composedPath.length > 0) {\n          return composedPath[0];\n        }\n      }\n      return defaultTarget;\n    };\n    var fix = function (originalEvent, data) {\n      var name;\n      var event = data || {};\n      for (name in originalEvent) {\n        if (!deprecated[name]) {\n          event[name] = originalEvent[name];\n        }\n      }\n      if (!event.target) {\n        event.target = event.srcElement || domGlobals.document;\n      }\n      if (Env.experimentalShadowDom) {\n        event.target = getTargetFromShadowDom(originalEvent, event.target);\n      }\n      if (originalEvent && mouseEventRe.test(originalEvent.type) && originalEvent.pageX === undefined && originalEvent.clientX !== undefined) {\n        var eventDoc = event.target.ownerDocument || domGlobals.document;\n        var doc = eventDoc.documentElement;\n        var body = eventDoc.body;\n        event.pageX = originalEvent.clientX + (doc && doc.scrollLeft || body && body.scrollLeft || 0) - (doc && doc.clientLeft || body && body.clientLeft || 0);\n        event.pageY = originalEvent.clientY + (doc && doc.scrollTop || body && body.scrollTop || 0) - (doc && doc.clientTop || body && body.clientTop || 0);\n      }\n      event.preventDefault = function () {\n        event.isDefaultPrevented = returnTrue;\n        if (originalEvent) {\n          if (originalEvent.preventDefault) {\n            originalEvent.preventDefault();\n          } else {\n            originalEvent.returnValue = false;\n          }\n        }\n      };\n      event.stopPropagation = function () {\n        event.isPropagationStopped = returnTrue;\n        if (originalEvent) {\n          if (originalEvent.stopPropagation) {\n            originalEvent.stopPropagation();\n          } else {\n            originalEvent.cancelBubble = true;\n          }\n        }\n      };\n      event.stopImmediatePropagation = function () {\n        event.isImmediatePropagationStopped = returnTrue;\n        event.stopPropagation();\n      };\n      if (hasIsDefaultPrevented(event) === false) {\n        event.isDefaultPrevented = returnFalse;\n        event.isPropagationStopped = returnFalse;\n        event.isImmediatePropagationStopped = returnFalse;\n      }\n      if (typeof event.metaKey === 'undefined') {\n        event.metaKey = false;\n      }\n      return event;\n    };\n    var bindOnReady = function (win, callback, eventUtils) {\n      var doc = win.document, event = { type: 'ready' };\n      if (eventUtils.domLoaded) {\n        callback(event);\n        return;\n      }\n      var isDocReady = function () {\n        return doc.readyState === 'complete' || doc.readyState === 'interactive' && doc.body;\n      };\n      var readyHandler = function () {\n        if (!eventUtils.domLoaded) {\n          eventUtils.domLoaded = true;\n          callback(event);\n        }\n      };\n      var waitForDomLoaded = function () {\n        if (isDocReady()) {\n          removeEvent(doc, 'readystatechange', waitForDomLoaded);\n          readyHandler();\n        }\n      };\n      var tryScroll = function () {\n        try {\n          doc.documentElement.doScroll('left');\n        } catch (ex) {\n          Delay.setTimeout(tryScroll);\n          return;\n        }\n        readyHandler();\n      };\n      if (doc.addEventListener && !(Env.ie && Env.ie < 11)) {\n        if (isDocReady()) {\n          readyHandler();\n        } else {\n          addEvent(win, 'DOMContentLoaded', readyHandler);\n        }\n      } else {\n        addEvent(doc, 'readystatechange', waitForDomLoaded);\n        if (doc.documentElement.doScroll && win.self === win.top) {\n          tryScroll();\n        }\n      }\n      addEvent(win, 'load', readyHandler);\n    };\n    var EventUtils = function () {\n      var self = this;\n      var events = {}, count, expando, hasFocusIn, hasMouseEnterLeave, mouseEnterLeave;\n      expando = eventExpandoPrefix + (+new Date()).toString(32);\n      hasMouseEnterLeave = 'onmouseenter' in domGlobals.document.documentElement;\n      hasFocusIn = 'onfocusin' in domGlobals.document.documentElement;\n      mouseEnterLeave = {\n        mouseenter: 'mouseover',\n        mouseleave: 'mouseout'\n      };\n      count = 1;\n      self.domLoaded = false;\n      self.events = events;\n      var executeHandlers = function (evt, id) {\n        var callbackList, i, l, callback;\n        var container = events[id];\n        callbackList = container && container[evt.type];\n        if (callbackList) {\n          for (i = 0, l = callbackList.length; i < l; i++) {\n            callback = callbackList[i];\n            if (callback && callback.func.call(callback.scope, evt) === false) {\n              evt.preventDefault();\n            }\n            if (evt.isImmediatePropagationStopped()) {\n              return;\n            }\n          }\n        }\n      };\n      self.bind = function (target, names, callback, scope) {\n        var id, callbackList, i, name, fakeName, nativeHandler, capture;\n        var win = domGlobals.window;\n        var defaultNativeHandler = function (evt) {\n          executeHandlers(fix(evt || win.event), id);\n        };\n        if (!target || target.nodeType === 3 || target.nodeType === 8) {\n          return;\n        }\n        if (!target[expando]) {\n          id = count++;\n          target[expando] = id;\n          events[id] = {};\n        } else {\n          id = target[expando];\n        }\n        scope = scope || target;\n        names = names.split(' ');\n        i = names.length;\n        while (i--) {\n          name = names[i];\n          nativeHandler = defaultNativeHandler;\n          fakeName = capture = false;\n          if (name === 'DOMContentLoaded') {\n            name = 'ready';\n          }\n          if (self.domLoaded && name === 'ready' && target.readyState === 'complete') {\n            callback.call(scope, fix({ type: name }));\n            continue;\n          }\n          if (!hasMouseEnterLeave) {\n            fakeName = mouseEnterLeave[name];\n            if (fakeName) {\n              nativeHandler = function (evt) {\n                var current, related;\n                current = evt.currentTarget;\n                related = evt.relatedTarget;\n                if (related && current.contains) {\n                  related = current.contains(related);\n                } else {\n                  while (related && related !== current) {\n                    related = related.parentNode;\n                  }\n                }\n                if (!related) {\n                  evt = fix(evt || win.event);\n                  evt.type = evt.type === 'mouseout' ? 'mouseleave' : 'mouseenter';\n                  evt.target = current;\n                  executeHandlers(evt, id);\n                }\n              };\n            }\n          }\n          if (!hasFocusIn && (name === 'focusin' || name === 'focusout')) {\n            capture = true;\n            fakeName = name === 'focusin' ? 'focus' : 'blur';\n            nativeHandler = function (evt) {\n              evt = fix(evt || win.event);\n              evt.type = evt.type === 'focus' ? 'focusin' : 'focusout';\n              executeHandlers(evt, id);\n            };\n          }\n          callbackList = events[id][name];\n          if (!callbackList) {\n            events[id][name] = callbackList = [{\n                func: callback,\n                scope: scope\n              }];\n            callbackList.fakeName = fakeName;\n            callbackList.capture = capture;\n            callbackList.nativeHandler = nativeHandler;\n            if (name === 'ready') {\n              bindOnReady(target, nativeHandler, self);\n            } else {\n              addEvent(target, fakeName || name, nativeHandler, capture);\n            }\n          } else {\n            if (name === 'ready' && self.domLoaded) {\n              callback({ type: name });\n            } else {\n              callbackList.push({\n                func: callback,\n                scope: scope\n              });\n            }\n          }\n        }\n        target = callbackList = 0;\n        return callback;\n      };\n      self.unbind = function (target, names, callback) {\n        var id, callbackList, i, ci, name, eventMap;\n        if (!target || target.nodeType === 3 || target.nodeType === 8) {\n          return self;\n        }\n        id = target[expando];\n        if (id) {\n          eventMap = events[id];\n          if (names) {\n            names = names.split(' ');\n            i = names.length;\n            while (i--) {\n              name = names[i];\n              callbackList = eventMap[name];\n              if (callbackList) {\n                if (callback) {\n                  ci = callbackList.length;\n                  while (ci--) {\n                    if (callbackList[ci].func === callback) {\n                      var nativeHandler = callbackList.nativeHandler;\n                      var fakeName = callbackList.fakeName, capture = callbackList.capture;\n                      callbackList = callbackList.slice(0, ci).concat(callbackList.slice(ci + 1));\n                      callbackList.nativeHandler = nativeHandler;\n                      callbackList.fakeName = fakeName;\n                      callbackList.capture = capture;\n                      eventMap[name] = callbackList;\n                    }\n                  }\n                }\n                if (!callback || callbackList.length === 0) {\n                  delete eventMap[name];\n                  removeEvent(target, callbackList.fakeName || name, callbackList.nativeHandler, callbackList.capture);\n                }\n              }\n            }\n          } else {\n            for (name in eventMap) {\n              callbackList = eventMap[name];\n              removeEvent(target, callbackList.fakeName || name, callbackList.nativeHandler, callbackList.capture);\n            }\n            eventMap = {};\n          }\n          for (name in eventMap) {\n            return self;\n          }\n          delete events[id];\n          try {\n            delete target[expando];\n          } catch (ex) {\n            target[expando] = null;\n          }\n        }\n        return self;\n      };\n      self.fire = function (target, name, args) {\n        var id;\n        if (!target || target.nodeType === 3 || target.nodeType === 8) {\n          return self;\n        }\n        args = fix(null, args);\n        args.type = name;\n        args.target = target;\n        do {\n          id = target[expando];\n          if (id) {\n            executeHandlers(args, id);\n          }\n          target = target.parentNode || target.ownerDocument || target.defaultView || target.parentWindow;\n        } while (target && !args.isPropagationStopped());\n        return self;\n      };\n      self.clean = function (target) {\n        var i, children;\n        var unbind = self.unbind;\n        if (!target || target.nodeType === 3 || target.nodeType === 8) {\n          return self;\n        }\n        if (target[expando]) {\n          unbind(target);\n        }\n        if (!target.getElementsByTagName) {\n          target = target.document;\n        }\n        if (target && target.getElementsByTagName) {\n          unbind(target);\n          children = target.getElementsByTagName('*');\n          i = children.length;\n          while (i--) {\n            target = children[i];\n            if (target[expando]) {\n              unbind(target);\n            }\n          }\n        }\n        return self;\n      };\n      self.destroy = function () {\n        events = {};\n      };\n      self.cancel = function (e) {\n        if (e) {\n          e.preventDefault();\n          e.stopImmediatePropagation();\n        }\n        return false;\n      };\n    };\n    EventUtils.Event = new EventUtils();\n    EventUtils.Event.bind(domGlobals.window, 'ready', function () {\n    });\n\n    var i, support, Expr, getText, isXML, tokenize, compile, select, outermostContext, sortInput, hasDuplicate, setDocument, document, docElem, documentIsHTML, rbuggyQSA, rbuggyMatches, matches, contains$1, expando = 'sizzle' + -new Date(), preferredDoc = domGlobals.window.document, dirruns = 0, done = 0, classCache = createCache(), tokenCache = createCache(), compilerCache = createCache(), sortOrder = function (a, b) {\n        if (a === b) {\n          hasDuplicate = true;\n        }\n        return 0;\n      }, strundefined = typeof undefined, MAX_NEGATIVE = 1 << 31, hasOwn = {}.hasOwnProperty, arr = [], pop = arr.pop, push_native = arr.push, push = arr.push, slice = arr.slice, indexOf$1 = arr.indexOf || function (elem) {\n        var i = 0, len = this.length;\n        for (; i < len; i++) {\n          if (this[i] === elem) {\n            return i;\n          }\n        }\n        return -1;\n      }, booleans = 'checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped', whitespace = '[\\\\x20\\\\t\\\\r\\\\n\\\\f]', identifier = '(?:\\\\\\\\.|[\\\\w-]|[^\\\\x00-\\\\xa0])+', attributes = '\\\\[' + whitespace + '*(' + identifier + ')(?:' + whitespace + '*([*^$|!~]?=)' + whitespace + '*(?:\\'((?:\\\\\\\\.|[^\\\\\\\\\\'])*)\\'|\"((?:\\\\\\\\.|[^\\\\\\\\\"])*)\"|(' + identifier + '))|)' + whitespace + '*\\\\]', pseudos = ':(' + identifier + ')(?:\\\\((' + '(\\'((?:\\\\\\\\.|[^\\\\\\\\\\'])*)\\'|\"((?:\\\\\\\\.|[^\\\\\\\\\"])*)\")|' + '((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|' + attributes + ')*)|' + '.*' + ')\\\\)|)', rtrim = new RegExp('^' + whitespace + '+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)' + whitespace + '+$', 'g'), rcomma = new RegExp('^' + whitespace + '*,' + whitespace + '*'), rcombinators = new RegExp('^' + whitespace + '*([>+~]|' + whitespace + ')' + whitespace + '*'), rattributeQuotes = new RegExp('=' + whitespace + '*([^\\\\]\\'\"]*?)' + whitespace + '*\\\\]', 'g'), rpseudo = new RegExp(pseudos), ridentifier = new RegExp('^' + identifier + '$'), matchExpr = {\n        ID: new RegExp('^#(' + identifier + ')'),\n        CLASS: new RegExp('^\\\\.(' + identifier + ')'),\n        TAG: new RegExp('^(' + identifier + '|[*])'),\n        ATTR: new RegExp('^' + attributes),\n        PSEUDO: new RegExp('^' + pseudos),\n        CHILD: new RegExp('^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\(' + whitespace + '*(even|odd|(([+-]|)(\\\\d*)n|)' + whitespace + '*(?:([+-]|)' + whitespace + '*(\\\\d+)|))' + whitespace + '*\\\\)|)', 'i'),\n        bool: new RegExp('^(?:' + booleans + ')$', 'i'),\n        needsContext: new RegExp('^' + whitespace + '*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\(' + whitespace + '*((?:-\\\\d)?\\\\d*)' + whitespace + '*\\\\)|)(?=[^-]|$)', 'i')\n      }, rinputs = /^(?:input|select|textarea|button)$/i, rheader = /^h\\d$/i, rnative = /^[^{]+\\{\\s*\\[native \\w/, rquickExpr = /^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/, rsibling = /[+~]/, rescape = /'|\\\\/g, runescape = new RegExp('\\\\\\\\([\\\\da-f]{1,6}' + whitespace + '?|(' + whitespace + ')|.)', 'ig'), funescape = function (_, escaped, escapedWhitespace) {\n        var high = '0x' + escaped - 65536;\n        return high !== high || escapedWhitespace ? escaped : high < 0 ? String.fromCharCode(high + 65536) : String.fromCharCode(high >> 10 | 55296, high & 1023 | 56320);\n      };\n    try {\n      push.apply(arr = slice.call(preferredDoc.childNodes), preferredDoc.childNodes);\n      arr[preferredDoc.childNodes.length].nodeType;\n    } catch (e) {\n      push = {\n        apply: arr.length ? function (target, els) {\n          push_native.apply(target, slice.call(els));\n        } : function (target, els) {\n          var j = target.length, i = 0;\n          while (target[j++] = els[i++]) {\n          }\n          target.length = j - 1;\n        }\n      };\n    }\n    var Sizzle = function (selector, context, results, seed) {\n      var match, elem, m, nodeType, i, groups, old, nid, newContext, newSelector;\n      if ((context ? context.ownerDocument || context : preferredDoc) !== document) {\n        setDocument(context);\n      }\n      context = context || document;\n      results = results || [];\n      if (!selector || typeof selector !== 'string') {\n        return results;\n      }\n      if ((nodeType = context.nodeType) !== 1 && nodeType !== 9) {\n        return [];\n      }\n      if (documentIsHTML && !seed) {\n        if (match = rquickExpr.exec(selector)) {\n          if (m = match[1]) {\n            if (nodeType === 9) {\n              elem = context.getElementById(m);\n              if (elem && elem.parentNode) {\n                if (elem.id === m) {\n                  results.push(elem);\n                  return results;\n                }\n              } else {\n                return results;\n              }\n            } else {\n              if (context.ownerDocument && (elem = context.ownerDocument.getElementById(m)) && contains$1(context, elem) && elem.id === m) {\n                results.push(elem);\n                return results;\n              }\n            }\n          } else if (match[2]) {\n            push.apply(results, context.getElementsByTagName(selector));\n            return results;\n          } else if ((m = match[3]) && support.getElementsByClassName) {\n            push.apply(results, context.getElementsByClassName(m));\n            return results;\n          }\n        }\n        if (support.qsa && (!rbuggyQSA || !rbuggyQSA.test(selector))) {\n          nid = old = expando;\n          newContext = context;\n          newSelector = nodeType === 9 && selector;\n          if (nodeType === 1 && context.nodeName.toLowerCase() !== 'object') {\n            groups = tokenize(selector);\n            if (old = context.getAttribute('id')) {\n              nid = old.replace(rescape, '\\\\$&');\n            } else {\n              context.setAttribute('id', nid);\n            }\n            nid = '[id=\\'' + nid + '\\'] ';\n            i = groups.length;\n            while (i--) {\n              groups[i] = nid + toSelector(groups[i]);\n            }\n            newContext = rsibling.test(selector) && testContext(context.parentNode) || context;\n            newSelector = groups.join(',');\n          }\n          if (newSelector) {\n            try {\n              push.apply(results, newContext.querySelectorAll(newSelector));\n              return results;\n            } catch (qsaError) {\n            } finally {\n              if (!old) {\n                context.removeAttribute('id');\n              }\n            }\n          }\n        }\n      }\n      return select(selector.replace(rtrim, '$1'), context, results, seed);\n    };\n    function createCache() {\n      var keys = [];\n      function cache(key, value) {\n        if (keys.push(key + ' ') > Expr.cacheLength) {\n          delete cache[keys.shift()];\n        }\n        return cache[key + ' '] = value;\n      }\n      return cache;\n    }\n    function markFunction(fn) {\n      fn[expando] = true;\n      return fn;\n    }\n    function siblingCheck(a, b) {\n      var cur = b && a, diff = cur && a.nodeType === 1 && b.nodeType === 1 && (~b.sourceIndex || MAX_NEGATIVE) - (~a.sourceIndex || MAX_NEGATIVE);\n      if (diff) {\n        return diff;\n      }\n      if (cur) {\n        while (cur = cur.nextSibling) {\n          if (cur === b) {\n            return -1;\n          }\n        }\n      }\n      return a ? 1 : -1;\n    }\n    function createInputPseudo(type) {\n      return function (elem) {\n        var name = elem.nodeName.toLowerCase();\n        return name === 'input' && elem.type === type;\n      };\n    }\n    function createButtonPseudo(type) {\n      return function (elem) {\n        var name = elem.nodeName.toLowerCase();\n        return (name === 'input' || name === 'button') && elem.type === type;\n      };\n    }\n    function createPositionalPseudo(fn) {\n      return markFunction(function (argument) {\n        argument = +argument;\n        return markFunction(function (seed, matches) {\n          var j, matchIndexes = fn([], seed.length, argument), i = matchIndexes.length;\n          while (i--) {\n            if (seed[j = matchIndexes[i]]) {\n              seed[j] = !(matches[j] = seed[j]);\n            }\n          }\n        });\n      });\n    }\n    function testContext(context) {\n      return context && typeof context.getElementsByTagName !== strundefined && context;\n    }\n    support = Sizzle.support = {};\n    isXML = Sizzle.isXML = function (elem) {\n      var documentElement = elem && (elem.ownerDocument || elem).documentElement;\n      return documentElement ? documentElement.nodeName !== 'HTML' : false;\n    };\n    setDocument = Sizzle.setDocument = function (node) {\n      var hasCompare, doc = node ? node.ownerDocument || node : preferredDoc, parent = doc.defaultView;\n      function getTop(win) {\n        try {\n          return win.top;\n        } catch (ex) {\n        }\n        return null;\n      }\n      if (doc === document || doc.nodeType !== 9 || !doc.documentElement) {\n        return document;\n      }\n      document = doc;\n      docElem = doc.documentElement;\n      documentIsHTML = !isXML(doc);\n      if (parent && parent !== getTop(parent)) {\n        if (parent.addEventListener) {\n          parent.addEventListener('unload', function () {\n            setDocument();\n          }, false);\n        } else if (parent.attachEvent) {\n          parent.attachEvent('onunload', function () {\n            setDocument();\n          });\n        }\n      }\n      support.attributes = true;\n      support.getElementsByTagName = true;\n      support.getElementsByClassName = rnative.test(doc.getElementsByClassName);\n      support.getById = true;\n      Expr.find.ID = function (id, context) {\n        if (typeof context.getElementById !== strundefined && documentIsHTML) {\n          var m = context.getElementById(id);\n          return m && m.parentNode ? [m] : [];\n        }\n      };\n      Expr.filter.ID = function (id) {\n        var attrId = id.replace(runescape, funescape);\n        return function (elem) {\n          return elem.getAttribute('id') === attrId;\n        };\n      };\n      Expr.find.TAG = support.getElementsByTagName ? function (tag, context) {\n        if (typeof context.getElementsByTagName !== strundefined) {\n          return context.getElementsByTagName(tag);\n        }\n      } : function (tag, context) {\n        var elem, tmp = [], i = 0, results = context.getElementsByTagName(tag);\n        if (tag === '*') {\n          while (elem = results[i++]) {\n            if (elem.nodeType === 1) {\n              tmp.push(elem);\n            }\n          }\n          return tmp;\n        }\n        return results;\n      };\n      Expr.find.CLASS = support.getElementsByClassName && function (className, context) {\n        if (documentIsHTML) {\n          return context.getElementsByClassName(className);\n        }\n      };\n      rbuggyMatches = [];\n      rbuggyQSA = [];\n      support.disconnectedMatch = true;\n      rbuggyQSA = rbuggyQSA.length && new RegExp(rbuggyQSA.join('|'));\n      rbuggyMatches = rbuggyMatches.length && new RegExp(rbuggyMatches.join('|'));\n      hasCompare = rnative.test(docElem.compareDocumentPosition);\n      contains$1 = hasCompare || rnative.test(docElem.contains) ? function (a, b) {\n        var adown = a.nodeType === 9 ? a.documentElement : a, bup = b && b.parentNode;\n        return a === bup || !!(bup && bup.nodeType === 1 && (adown.contains ? adown.contains(bup) : a.compareDocumentPosition && a.compareDocumentPosition(bup) & 16));\n      } : function (a, b) {\n        if (b) {\n          while (b = b.parentNode) {\n            if (b === a) {\n              return true;\n            }\n          }\n        }\n        return false;\n      };\n      sortOrder = hasCompare ? function (a, b) {\n        if (a === b) {\n          hasDuplicate = true;\n          return 0;\n        }\n        var compare = !a.compareDocumentPosition - !b.compareDocumentPosition;\n        if (compare) {\n          return compare;\n        }\n        compare = (a.ownerDocument || a) === (b.ownerDocument || b) ? a.compareDocumentPosition(b) : 1;\n        if (compare & 1 || !support.sortDetached && b.compareDocumentPosition(a) === compare) {\n          if (a === doc || a.ownerDocument === preferredDoc && contains$1(preferredDoc, a)) {\n            return -1;\n          }\n          if (b === doc || b.ownerDocument === preferredDoc && contains$1(preferredDoc, b)) {\n            return 1;\n          }\n          return sortInput ? indexOf$1.call(sortInput, a) - indexOf$1.call(sortInput, b) : 0;\n        }\n        return compare & 4 ? -1 : 1;\n      } : function (a, b) {\n        if (a === b) {\n          hasDuplicate = true;\n          return 0;\n        }\n        var cur, i = 0, aup = a.parentNode, bup = b.parentNode, ap = [a], bp = [b];\n        if (!aup || !bup) {\n          return a === doc ? -1 : b === doc ? 1 : aup ? -1 : bup ? 1 : sortInput ? indexOf$1.call(sortInput, a) - indexOf$1.call(sortInput, b) : 0;\n        } else if (aup === bup) {\n          return siblingCheck(a, b);\n        }\n        cur = a;\n        while (cur = cur.parentNode) {\n          ap.unshift(cur);\n        }\n        cur = b;\n        while (cur = cur.parentNode) {\n          bp.unshift(cur);\n        }\n        while (ap[i] === bp[i]) {\n          i++;\n        }\n        return i ? siblingCheck(ap[i], bp[i]) : ap[i] === preferredDoc ? -1 : bp[i] === preferredDoc ? 1 : 0;\n      };\n      return doc;\n    };\n    Sizzle.matches = function (expr, elements) {\n      return Sizzle(expr, null, null, elements);\n    };\n    Sizzle.matchesSelector = function (elem, expr) {\n      if ((elem.ownerDocument || elem) !== document) {\n        setDocument(elem);\n      }\n      expr = expr.replace(rattributeQuotes, '=\\'$1\\']');\n      if (support.matchesSelector && documentIsHTML && (!rbuggyMatches || !rbuggyMatches.test(expr)) && (!rbuggyQSA || !rbuggyQSA.test(expr))) {\n        try {\n          var ret = matches.call(elem, expr);\n          if (ret || support.disconnectedMatch || elem.document && elem.document.nodeType !== 11) {\n            return ret;\n          }\n        } catch (e) {\n        }\n      }\n      return Sizzle(expr, document, null, [elem]).length > 0;\n    };\n    Sizzle.contains = function (context, elem) {\n      if ((context.ownerDocument || context) !== document) {\n        setDocument(context);\n      }\n      return contains$1(context, elem);\n    };\n    Sizzle.attr = function (elem, name) {\n      if ((elem.ownerDocument || elem) !== document) {\n        setDocument(elem);\n      }\n      var fn = Expr.attrHandle[name.toLowerCase()], val = fn && hasOwn.call(Expr.attrHandle, name.toLowerCase()) ? fn(elem, name, !documentIsHTML) : undefined;\n      return val !== undefined ? val : support.attributes || !documentIsHTML ? elem.getAttribute(name) : (val = elem.getAttributeNode(name)) && val.specified ? val.value : null;\n    };\n    Sizzle.error = function (msg) {\n      throw new Error('Syntax error, unrecognized expression: ' + msg);\n    };\n    Sizzle.uniqueSort = function (results) {\n      var elem, duplicates = [], j = 0, i = 0;\n      hasDuplicate = !support.detectDuplicates;\n      sortInput = !support.sortStable && results.slice(0);\n      results.sort(sortOrder);\n      if (hasDuplicate) {\n        while (elem = results[i++]) {\n          if (elem === results[i]) {\n            j = duplicates.push(i);\n          }\n        }\n        while (j--) {\n          results.splice(duplicates[j], 1);\n        }\n      }\n      sortInput = null;\n      return results;\n    };\n    getText = Sizzle.getText = function (elem) {\n      var node, ret = '', i = 0, nodeType = elem.nodeType;\n      if (!nodeType) {\n        while (node = elem[i++]) {\n          ret += getText(node);\n        }\n      } else if (nodeType === 1 || nodeType === 9 || nodeType === 11) {\n        if (typeof elem.textContent === 'string') {\n          return elem.textContent;\n        } else {\n          for (elem = elem.firstChild; elem; elem = elem.nextSibling) {\n            ret += getText(elem);\n          }\n        }\n      } else if (nodeType === 3 || nodeType === 4) {\n        return elem.nodeValue;\n      }\n      return ret;\n    };\n    Expr = Sizzle.selectors = {\n      cacheLength: 50,\n      createPseudo: markFunction,\n      match: matchExpr,\n      attrHandle: {},\n      find: {},\n      relative: {\n        '>': {\n          dir: 'parentNode',\n          first: true\n        },\n        ' ': { dir: 'parentNode' },\n        '+': {\n          dir: 'previousSibling',\n          first: true\n        },\n        '~': { dir: 'previousSibling' }\n      },\n      preFilter: {\n        ATTR: function (match) {\n          match[1] = match[1].replace(runescape, funescape);\n          match[3] = (match[3] || match[4] || match[5] || '').replace(runescape, funescape);\n          if (match[2] === '~=') {\n            match[3] = ' ' + match[3] + ' ';\n          }\n          return match.slice(0, 4);\n        },\n        CHILD: function (match) {\n          match[1] = match[1].toLowerCase();\n          if (match[1].slice(0, 3) === 'nth') {\n            if (!match[3]) {\n              Sizzle.error(match[0]);\n            }\n            match[4] = +(match[4] ? match[5] + (match[6] || 1) : 2 * (match[3] === 'even' || match[3] === 'odd'));\n            match[5] = +(match[7] + match[8] || match[3] === 'odd');\n          } else if (match[3]) {\n            Sizzle.error(match[0]);\n          }\n          return match;\n        },\n        PSEUDO: function (match) {\n          var excess, unquoted = !match[6] && match[2];\n          if (matchExpr.CHILD.test(match[0])) {\n            return null;\n          }\n          if (match[3]) {\n            match[2] = match[4] || match[5] || '';\n          } else if (unquoted && rpseudo.test(unquoted) && (excess = tokenize(unquoted, true)) && (excess = unquoted.indexOf(')', unquoted.length - excess) - unquoted.length)) {\n            match[0] = match[0].slice(0, excess);\n            match[2] = unquoted.slice(0, excess);\n          }\n          return match.slice(0, 3);\n        }\n      },\n      filter: {\n        TAG: function (nodeNameSelector) {\n          var nodeName = nodeNameSelector.replace(runescape, funescape).toLowerCase();\n          return nodeNameSelector === '*' ? function () {\n            return true;\n          } : function (elem) {\n            return elem.nodeName && elem.nodeName.toLowerCase() === nodeName;\n          };\n        },\n        CLASS: function (className) {\n          var pattern = classCache[className + ' '];\n          return pattern || (pattern = new RegExp('(^|' + whitespace + ')' + className + '(' + whitespace + '|$)')) && classCache(className, function (elem) {\n            return pattern.test(typeof elem.className === 'string' && elem.className || typeof elem.getAttribute !== strundefined && elem.getAttribute('class') || '');\n          });\n        },\n        ATTR: function (name, operator, check) {\n          return function (elem) {\n            var result = Sizzle.attr(elem, name);\n            if (result == null) {\n              return operator === '!=';\n            }\n            if (!operator) {\n              return true;\n            }\n            result += '';\n            return operator === '=' ? result === check : operator === '!=' ? result !== check : operator === '^=' ? check && result.indexOf(check) === 0 : operator === '*=' ? check && result.indexOf(check) > -1 : operator === '$=' ? check && result.slice(-check.length) === check : operator === '~=' ? (' ' + result + ' ').indexOf(check) > -1 : operator === '|=' ? result === check || result.slice(0, check.length + 1) === check + '-' : false;\n          };\n        },\n        CHILD: function (type, what, argument, first, last) {\n          var simple = type.slice(0, 3) !== 'nth', forward = type.slice(-4) !== 'last', ofType = what === 'of-type';\n          return first === 1 && last === 0 ? function (elem) {\n            return !!elem.parentNode;\n          } : function (elem, context, xml) {\n            var cache, outerCache, node, diff, nodeIndex, start, dir = simple !== forward ? 'nextSibling' : 'previousSibling', parent = elem.parentNode, name = ofType && elem.nodeName.toLowerCase(), useCache = !xml && !ofType;\n            if (parent) {\n              if (simple) {\n                while (dir) {\n                  node = elem;\n                  while (node = node[dir]) {\n                    if (ofType ? node.nodeName.toLowerCase() === name : node.nodeType === 1) {\n                      return false;\n                    }\n                  }\n                  start = dir = type === 'only' && !start && 'nextSibling';\n                }\n                return true;\n              }\n              start = [forward ? parent.firstChild : parent.lastChild];\n              if (forward && useCache) {\n                outerCache = parent[expando] || (parent[expando] = {});\n                cache = outerCache[type] || [];\n                nodeIndex = cache[0] === dirruns && cache[1];\n                diff = cache[0] === dirruns && cache[2];\n                node = nodeIndex && parent.childNodes[nodeIndex];\n                while (node = ++nodeIndex && node && node[dir] || (diff = nodeIndex = 0) || start.pop()) {\n                  if (node.nodeType === 1 && ++diff && node === elem) {\n                    outerCache[type] = [\n                      dirruns,\n                      nodeIndex,\n                      diff\n                    ];\n                    break;\n                  }\n                }\n              } else if (useCache && (cache = (elem[expando] || (elem[expando] = {}))[type]) && cache[0] === dirruns) {\n                diff = cache[1];\n              } else {\n                while (node = ++nodeIndex && node && node[dir] || (diff = nodeIndex = 0) || start.pop()) {\n                  if ((ofType ? node.nodeName.toLowerCase() === name : node.nodeType === 1) && ++diff) {\n                    if (useCache) {\n                      (node[expando] || (node[expando] = {}))[type] = [\n                        dirruns,\n                        diff\n                      ];\n                    }\n                    if (node === elem) {\n                      break;\n                    }\n                  }\n                }\n              }\n              diff -= last;\n              return diff === first || diff % first === 0 && diff / first >= 0;\n            }\n          };\n        },\n        PSEUDO: function (pseudo, argument) {\n          var args, fn = Expr.pseudos[pseudo] || Expr.setFilters[pseudo.toLowerCase()] || Sizzle.error('unsupported pseudo: ' + pseudo);\n          if (fn[expando]) {\n            return fn(argument);\n          }\n          if (fn.length > 1) {\n            args = [\n              pseudo,\n              pseudo,\n              '',\n              argument\n            ];\n            return Expr.setFilters.hasOwnProperty(pseudo.toLowerCase()) ? markFunction(function (seed, matches) {\n              var idx, matched = fn(seed, argument), i = matched.length;\n              while (i--) {\n                idx = indexOf$1.call(seed, matched[i]);\n                seed[idx] = !(matches[idx] = matched[i]);\n              }\n            }) : function (elem) {\n              return fn(elem, 0, args);\n            };\n          }\n          return fn;\n        }\n      },\n      pseudos: {\n        not: markFunction(function (selector) {\n          var input = [], results = [], matcher = compile(selector.replace(rtrim, '$1'));\n          return matcher[expando] ? markFunction(function (seed, matches, context, xml) {\n            var elem, unmatched = matcher(seed, null, xml, []), i = seed.length;\n            while (i--) {\n              if (elem = unmatched[i]) {\n                seed[i] = !(matches[i] = elem);\n              }\n            }\n          }) : function (elem, context, xml) {\n            input[0] = elem;\n            matcher(input, null, xml, results);\n            return !results.pop();\n          };\n        }),\n        has: markFunction(function (selector) {\n          return function (elem) {\n            return Sizzle(selector, elem).length > 0;\n          };\n        }),\n        contains: markFunction(function (text) {\n          text = text.replace(runescape, funescape);\n          return function (elem) {\n            return (elem.textContent || elem.innerText || getText(elem)).indexOf(text) > -1;\n          };\n        }),\n        lang: markFunction(function (lang) {\n          if (!ridentifier.test(lang || '')) {\n            Sizzle.error('unsupported lang: ' + lang);\n          }\n          lang = lang.replace(runescape, funescape).toLowerCase();\n          return function (elem) {\n            var elemLang;\n            do {\n              if (elemLang = documentIsHTML ? elem.lang : elem.getAttribute('xml:lang') || elem.getAttribute('lang')) {\n                elemLang = elemLang.toLowerCase();\n                return elemLang === lang || elemLang.indexOf(lang + '-') === 0;\n              }\n            } while ((elem = elem.parentNode) && elem.nodeType === 1);\n            return false;\n          };\n        }),\n        target: function (elem) {\n          var hash = domGlobals.window.location && domGlobals.window.location.hash;\n          return hash && hash.slice(1) === elem.id;\n        },\n        root: function (elem) {\n          return elem === docElem;\n        },\n        focus: function (elem) {\n          return elem === document.activeElement && (!document.hasFocus || document.hasFocus()) && !!(elem.type || elem.href || ~elem.tabIndex);\n        },\n        enabled: function (elem) {\n          return elem.disabled === false;\n        },\n        disabled: function (elem) {\n          return elem.disabled === true;\n        },\n        checked: function (elem) {\n          var nodeName = elem.nodeName.toLowerCase();\n          return nodeName === 'input' && !!elem.checked || nodeName === 'option' && !!elem.selected;\n        },\n        selected: function (elem) {\n          if (elem.parentNode) {\n            elem.parentNode.selectedIndex;\n          }\n          return elem.selected === true;\n        },\n        empty: function (elem) {\n          for (elem = elem.firstChild; elem; elem = elem.nextSibling) {\n            if (elem.nodeType < 6) {\n              return false;\n            }\n          }\n          return true;\n        },\n        parent: function (elem) {\n          return !Expr.pseudos.empty(elem);\n        },\n        header: function (elem) {\n          return rheader.test(elem.nodeName);\n        },\n        input: function (elem) {\n          return rinputs.test(elem.nodeName);\n        },\n        button: function (elem) {\n          var name = elem.nodeName.toLowerCase();\n          return name === 'input' && elem.type === 'button' || name === 'button';\n        },\n        text: function (elem) {\n          var attr;\n          return elem.nodeName.toLowerCase() === 'input' && elem.type === 'text' && ((attr = elem.getAttribute('type')) == null || attr.toLowerCase() === 'text');\n        },\n        first: createPositionalPseudo(function () {\n          return [0];\n        }),\n        last: createPositionalPseudo(function (matchIndexes, length) {\n          return [length - 1];\n        }),\n        eq: createPositionalPseudo(function (matchIndexes, length, argument) {\n          return [argument < 0 ? argument + length : argument];\n        }),\n        even: createPositionalPseudo(function (matchIndexes, length) {\n          var i = 0;\n          for (; i < length; i += 2) {\n            matchIndexes.push(i);\n          }\n          return matchIndexes;\n        }),\n        odd: createPositionalPseudo(function (matchIndexes, length) {\n          var i = 1;\n          for (; i < length; i += 2) {\n            matchIndexes.push(i);\n          }\n          return matchIndexes;\n        }),\n        lt: createPositionalPseudo(function (matchIndexes, length, argument) {\n          var i = argument < 0 ? argument + length : argument;\n          for (; --i >= 0;) {\n            matchIndexes.push(i);\n          }\n          return matchIndexes;\n        }),\n        gt: createPositionalPseudo(function (matchIndexes, length, argument) {\n          var i = argument < 0 ? argument + length : argument;\n          for (; ++i < length;) {\n            matchIndexes.push(i);\n          }\n          return matchIndexes;\n        })\n      }\n    };\n    Expr.pseudos.nth = Expr.pseudos.eq;\n    for (i in {\n        radio: true,\n        checkbox: true,\n        file: true,\n        password: true,\n        image: true\n      }) {\n      Expr.pseudos[i] = createInputPseudo(i);\n    }\n    for (i in {\n        submit: true,\n        reset: true\n      }) {\n      Expr.pseudos[i] = createButtonPseudo(i);\n    }\n    function setFilters() {\n    }\n    setFilters.prototype = Expr.filters = Expr.pseudos;\n    Expr.setFilters = new setFilters();\n    tokenize = Sizzle.tokenize = function (selector, parseOnly) {\n      var matched, match, tokens, type, soFar, groups, preFilters, cached = tokenCache[selector + ' '];\n      if (cached) {\n        return parseOnly ? 0 : cached.slice(0);\n      }\n      soFar = selector;\n      groups = [];\n      preFilters = Expr.preFilter;\n      while (soFar) {\n        if (!matched || (match = rcomma.exec(soFar))) {\n          if (match) {\n            soFar = soFar.slice(match[0].length) || soFar;\n          }\n          groups.push(tokens = []);\n        }\n        matched = false;\n        if (match = rcombinators.exec(soFar)) {\n          matched = match.shift();\n          tokens.push({\n            value: matched,\n            type: match[0].replace(rtrim, ' ')\n          });\n          soFar = soFar.slice(matched.length);\n        }\n        for (type in Expr.filter) {\n          if ((match = matchExpr[type].exec(soFar)) && (!preFilters[type] || (match = preFilters[type](match)))) {\n            matched = match.shift();\n            tokens.push({\n              value: matched,\n              type: type,\n              matches: match\n            });\n            soFar = soFar.slice(matched.length);\n          }\n        }\n        if (!matched) {\n          break;\n        }\n      }\n      return parseOnly ? soFar.length : soFar ? Sizzle.error(selector) : tokenCache(selector, groups).slice(0);\n    };\n    function toSelector(tokens) {\n      var i = 0, len = tokens.length, selector = '';\n      for (; i < len; i++) {\n        selector += tokens[i].value;\n      }\n      return selector;\n    }\n    function addCombinator(matcher, combinator, base) {\n      var dir = combinator.dir, checkNonElements = base && dir === 'parentNode', doneName = done++;\n      return combinator.first ? function (elem, context, xml) {\n        while (elem = elem[dir]) {\n          if (elem.nodeType === 1 || checkNonElements) {\n            return matcher(elem, context, xml);\n          }\n        }\n      } : function (elem, context, xml) {\n        var oldCache, outerCache, newCache = [\n            dirruns,\n            doneName\n          ];\n        if (xml) {\n          while (elem = elem[dir]) {\n            if (elem.nodeType === 1 || checkNonElements) {\n              if (matcher(elem, context, xml)) {\n                return true;\n              }\n            }\n          }\n        } else {\n          while (elem = elem[dir]) {\n            if (elem.nodeType === 1 || checkNonElements) {\n              outerCache = elem[expando] || (elem[expando] = {});\n              if ((oldCache = outerCache[dir]) && oldCache[0] === dirruns && oldCache[1] === doneName) {\n                return newCache[2] = oldCache[2];\n              } else {\n                outerCache[dir] = newCache;\n                if (newCache[2] = matcher(elem, context, xml)) {\n                  return true;\n                }\n              }\n            }\n          }\n        }\n      };\n    }\n    function elementMatcher(matchers) {\n      return matchers.length > 1 ? function (elem, context, xml) {\n        var i = matchers.length;\n        while (i--) {\n          if (!matchers[i](elem, context, xml)) {\n            return false;\n          }\n        }\n        return true;\n      } : matchers[0];\n    }\n    function multipleContexts(selector, contexts, results) {\n      var i = 0, len = contexts.length;\n      for (; i < len; i++) {\n        Sizzle(selector, contexts[i], results);\n      }\n      return results;\n    }\n    function condense(unmatched, map, filter, context, xml) {\n      var elem, newUnmatched = [], i = 0, len = unmatched.length, mapped = map != null;\n      for (; i < len; i++) {\n        if (elem = unmatched[i]) {\n          if (!filter || filter(elem, context, xml)) {\n            newUnmatched.push(elem);\n            if (mapped) {\n              map.push(i);\n            }\n          }\n        }\n      }\n      return newUnmatched;\n    }\n    function setMatcher(preFilter, selector, matcher, postFilter, postFinder, postSelector) {\n      if (postFilter && !postFilter[expando]) {\n        postFilter = setMatcher(postFilter);\n      }\n      if (postFinder && !postFinder[expando]) {\n        postFinder = setMatcher(postFinder, postSelector);\n      }\n      return markFunction(function (seed, results, context, xml) {\n        var temp, i, elem, preMap = [], postMap = [], preexisting = results.length, elems = seed || multipleContexts(selector || '*', context.nodeType ? [context] : context, []), matcherIn = preFilter && (seed || !selector) ? condense(elems, preMap, preFilter, context, xml) : elems, matcherOut = matcher ? postFinder || (seed ? preFilter : preexisting || postFilter) ? [] : results : matcherIn;\n        if (matcher) {\n          matcher(matcherIn, matcherOut, context, xml);\n        }\n        if (postFilter) {\n          temp = condense(matcherOut, postMap);\n          postFilter(temp, [], context, xml);\n          i = temp.length;\n          while (i--) {\n            if (elem = temp[i]) {\n              matcherOut[postMap[i]] = !(matcherIn[postMap[i]] = elem);\n            }\n          }\n        }\n        if (seed) {\n          if (postFinder || preFilter) {\n            if (postFinder) {\n              temp = [];\n              i = matcherOut.length;\n              while (i--) {\n                if (elem = matcherOut[i]) {\n                  temp.push(matcherIn[i] = elem);\n                }\n              }\n              postFinder(null, matcherOut = [], temp, xml);\n            }\n            i = matcherOut.length;\n            while (i--) {\n              if ((elem = matcherOut[i]) && (temp = postFinder ? indexOf$1.call(seed, elem) : preMap[i]) > -1) {\n                seed[temp] = !(results[temp] = elem);\n              }\n            }\n          }\n        } else {\n          matcherOut = condense(matcherOut === results ? matcherOut.splice(preexisting, matcherOut.length) : matcherOut);\n          if (postFinder) {\n            postFinder(null, results, matcherOut, xml);\n          } else {\n            push.apply(results, matcherOut);\n          }\n        }\n      });\n    }\n    function matcherFromTokens(tokens) {\n      var checkContext, matcher, j, len = tokens.length, leadingRelative = Expr.relative[tokens[0].type], implicitRelative = leadingRelative || Expr.relative[' '], i = leadingRelative ? 1 : 0, matchContext = addCombinator(function (elem) {\n          return elem === checkContext;\n        }, implicitRelative, true), matchAnyContext = addCombinator(function (elem) {\n          return indexOf$1.call(checkContext, elem) > -1;\n        }, implicitRelative, true), matchers = [function (elem, context, xml) {\n            return !leadingRelative && (xml || context !== outermostContext) || ((checkContext = context).nodeType ? matchContext(elem, context, xml) : matchAnyContext(elem, context, xml));\n          }];\n      for (; i < len; i++) {\n        if (matcher = Expr.relative[tokens[i].type]) {\n          matchers = [addCombinator(elementMatcher(matchers), matcher)];\n        } else {\n          matcher = Expr.filter[tokens[i].type].apply(null, tokens[i].matches);\n          if (matcher[expando]) {\n            j = ++i;\n            for (; j < len; j++) {\n              if (Expr.relative[tokens[j].type]) {\n                break;\n              }\n            }\n            return setMatcher(i > 1 && elementMatcher(matchers), i > 1 && toSelector(tokens.slice(0, i - 1).concat({ value: tokens[i - 2].type === ' ' ? '*' : '' })).replace(rtrim, '$1'), matcher, i < j && matcherFromTokens(tokens.slice(i, j)), j < len && matcherFromTokens(tokens = tokens.slice(j)), j < len && toSelector(tokens));\n          }\n          matchers.push(matcher);\n        }\n      }\n      return elementMatcher(matchers);\n    }\n    function matcherFromGroupMatchers(elementMatchers, setMatchers) {\n      var bySet = setMatchers.length > 0, byElement = elementMatchers.length > 0, superMatcher = function (seed, context, xml, results, outermost) {\n          var elem, j, matcher, matchedCount = 0, i = '0', unmatched = seed && [], setMatched = [], contextBackup = outermostContext, elems = seed || byElement && Expr.find.TAG('*', outermost), dirrunsUnique = dirruns += contextBackup == null ? 1 : Math.random() || 0.1, len = elems.length;\n          if (outermost) {\n            outermostContext = context !== document && context;\n          }\n          for (; i !== len && (elem = elems[i]) != null; i++) {\n            if (byElement && elem) {\n              j = 0;\n              while (matcher = elementMatchers[j++]) {\n                if (matcher(elem, context, xml)) {\n                  results.push(elem);\n                  break;\n                }\n              }\n              if (outermost) {\n                dirruns = dirrunsUnique;\n              }\n            }\n            if (bySet) {\n              if (elem = !matcher && elem) {\n                matchedCount--;\n              }\n              if (seed) {\n                unmatched.push(elem);\n              }\n            }\n          }\n          matchedCount += i;\n          if (bySet && i !== matchedCount) {\n            j = 0;\n            while (matcher = setMatchers[j++]) {\n              matcher(unmatched, setMatched, context, xml);\n            }\n            if (seed) {\n              if (matchedCount > 0) {\n                while (i--) {\n                  if (!(unmatched[i] || setMatched[i])) {\n                    setMatched[i] = pop.call(results);\n                  }\n                }\n              }\n              setMatched = condense(setMatched);\n            }\n            push.apply(results, setMatched);\n            if (outermost && !seed && setMatched.length > 0 && matchedCount + setMatchers.length > 1) {\n              Sizzle.uniqueSort(results);\n            }\n          }\n          if (outermost) {\n            dirruns = dirrunsUnique;\n            outermostContext = contextBackup;\n          }\n          return unmatched;\n        };\n      return bySet ? markFunction(superMatcher) : superMatcher;\n    }\n    compile = Sizzle.compile = function (selector, match) {\n      var i, setMatchers = [], elementMatchers = [], cached = compilerCache[selector + ' '];\n      if (!cached) {\n        if (!match) {\n          match = tokenize(selector);\n        }\n        i = match.length;\n        while (i--) {\n          cached = matcherFromTokens(match[i]);\n          if (cached[expando]) {\n            setMatchers.push(cached);\n          } else {\n            elementMatchers.push(cached);\n          }\n        }\n        cached = compilerCache(selector, matcherFromGroupMatchers(elementMatchers, setMatchers));\n        cached.selector = selector;\n      }\n      return cached;\n    };\n    select = Sizzle.select = function (selector, context, results, seed) {\n      var i, tokens, token, type, find, compiled = typeof selector === 'function' && selector, match = !seed && tokenize(selector = compiled.selector || selector);\n      results = results || [];\n      if (match.length === 1) {\n        tokens = match[0] = match[0].slice(0);\n        if (tokens.length > 2 && (token = tokens[0]).type === 'ID' && support.getById && context.nodeType === 9 && documentIsHTML && Expr.relative[tokens[1].type]) {\n          context = (Expr.find.ID(token.matches[0].replace(runescape, funescape), context) || [])[0];\n          if (!context) {\n            return results;\n          } else if (compiled) {\n            context = context.parentNode;\n          }\n          selector = selector.slice(tokens.shift().value.length);\n        }\n        i = matchExpr.needsContext.test(selector) ? 0 : tokens.length;\n        while (i--) {\n          token = tokens[i];\n          if (Expr.relative[type = token.type]) {\n            break;\n          }\n          if (find = Expr.find[type]) {\n            if (seed = find(token.matches[0].replace(runescape, funescape), rsibling.test(tokens[0].type) && testContext(context.parentNode) || context)) {\n              tokens.splice(i, 1);\n              selector = seed.length && toSelector(tokens);\n              if (!selector) {\n                push.apply(results, seed);\n                return results;\n              }\n              break;\n            }\n          }\n        }\n      }\n      (compiled || compile(selector, match))(seed, context, !documentIsHTML, results, rsibling.test(selector) && testContext(context.parentNode) || context);\n      return results;\n    };\n    support.sortStable = expando.split('').sort(sortOrder).join('') === expando;\n    support.detectDuplicates = !!hasDuplicate;\n    setDocument();\n    support.sortDetached = true;\n\n    var isArray$1 = Array.isArray;\n    var toArray = function (obj) {\n      var array = obj, i, l;\n      if (!isArray$1(obj)) {\n        array = [];\n        for (i = 0, l = obj.length; i < l; i++) {\n          array[i] = obj[i];\n        }\n      }\n      return array;\n    };\n    var each$1 = function (o, cb, s) {\n      var n, l;\n      if (!o) {\n        return 0;\n      }\n      s = s || o;\n      if (o.length !== undefined) {\n        for (n = 0, l = o.length; n < l; n++) {\n          if (cb.call(s, o[n], n, o) === false) {\n            return 0;\n          }\n        }\n      } else {\n        for (n in o) {\n          if (o.hasOwnProperty(n)) {\n            if (cb.call(s, o[n], n, o) === false) {\n              return 0;\n            }\n          }\n        }\n      }\n      return 1;\n    };\n    var map$1 = function (array, callback) {\n      var out = [];\n      each$1(array, function (item, index) {\n        out.push(callback(item, index, array));\n      });\n      return out;\n    };\n    var filter$1 = function (a, f) {\n      var o = [];\n      each$1(a, function (v, index) {\n        if (!f || f(v, index, a)) {\n          o.push(v);\n        }\n      });\n      return o;\n    };\n    var indexOf$2 = function (a, v) {\n      var i, l;\n      if (a) {\n        for (i = 0, l = a.length; i < l; i++) {\n          if (a[i] === v) {\n            return i;\n          }\n        }\n      }\n      return -1;\n    };\n    var reduce = function (collection, iteratee, accumulator, thisArg) {\n      var i = 0;\n      if (arguments.length < 3) {\n        accumulator = collection[0];\n      }\n      for (; i < collection.length; i++) {\n        accumulator = iteratee.call(thisArg, accumulator, collection[i], i);\n      }\n      return accumulator;\n    };\n    var findIndex$1 = function (array, predicate, thisArg) {\n      var i, l;\n      for (i = 0, l = array.length; i < l; i++) {\n        if (predicate.call(thisArg, array[i], i, array)) {\n          return i;\n        }\n      }\n      return -1;\n    };\n    var find$1 = function (array, predicate, thisArg) {\n      var idx = findIndex$1(array, predicate, thisArg);\n      if (idx !== -1) {\n        return array[idx];\n      }\n      return undefined;\n    };\n    var last$1 = function (collection) {\n      return collection[collection.length - 1];\n    };\n    var ArrUtils = {\n      isArray: isArray$1,\n      toArray: toArray,\n      each: each$1,\n      map: map$1,\n      filter: filter$1,\n      indexOf: indexOf$2,\n      reduce: reduce,\n      findIndex: findIndex$1,\n      find: find$1,\n      last: last$1\n    };\n\n    var whiteSpaceRegExp = /^\\s*|\\s*$/g;\n    var trim = function (str) {\n      return str === null || str === undefined ? '' : ('' + str).replace(whiteSpaceRegExp, '');\n    };\n    var is = function (obj, type) {\n      if (!type) {\n        return obj !== undefined;\n      }\n      if (type === 'array' && ArrUtils.isArray(obj)) {\n        return true;\n      }\n      return typeof obj === type;\n    };\n    var makeMap = function (items, delim, map) {\n      var i;\n      items = items || [];\n      delim = delim || ',';\n      if (typeof items === 'string') {\n        items = items.split(delim);\n      }\n      map = map || {};\n      i = items.length;\n      while (i--) {\n        map[items[i]] = {};\n      }\n      return map;\n    };\n    var hasOwnProperty = function (obj, prop) {\n      return Object.prototype.hasOwnProperty.call(obj, prop);\n    };\n    var create = function (s, p, root) {\n      var self = this;\n      var sp, ns, cn, scn, c, de = 0;\n      s = /^((static) )?([\\w.]+)(:([\\w.]+))?/.exec(s);\n      cn = s[3].match(/(^|\\.)(\\w+)$/i)[2];\n      ns = self.createNS(s[3].replace(/\\.\\w+$/, ''), root);\n      if (ns[cn]) {\n        return;\n      }\n      if (s[2] === 'static') {\n        ns[cn] = p;\n        if (this.onCreate) {\n          this.onCreate(s[2], s[3], ns[cn]);\n        }\n        return;\n      }\n      if (!p[cn]) {\n        p[cn] = function () {\n        };\n        de = 1;\n      }\n      ns[cn] = p[cn];\n      self.extend(ns[cn].prototype, p);\n      if (s[5]) {\n        sp = self.resolve(s[5]).prototype;\n        scn = s[5].match(/\\.(\\w+)$/i)[1];\n        c = ns[cn];\n        if (de) {\n          ns[cn] = function () {\n            return sp[scn].apply(this, arguments);\n          };\n        } else {\n          ns[cn] = function () {\n            this.parent = sp[scn];\n            return c.apply(this, arguments);\n          };\n        }\n        ns[cn].prototype[cn] = ns[cn];\n        self.each(sp, function (f, n) {\n          ns[cn].prototype[n] = sp[n];\n        });\n        self.each(p, function (f, n) {\n          if (sp[n]) {\n            ns[cn].prototype[n] = function () {\n              this.parent = sp[n];\n              return f.apply(this, arguments);\n            };\n          } else {\n            if (n !== cn) {\n              ns[cn].prototype[n] = f;\n            }\n          }\n        });\n      }\n      self.each(p.static, function (f, n) {\n        ns[cn][n] = f;\n      });\n    };\n    var extend = function (obj, ext) {\n      var x = [];\n      for (var _i = 2; _i < arguments.length; _i++) {\n        x[_i - 2] = arguments[_i];\n      }\n      var i, l, name;\n      var args = arguments;\n      var value;\n      for (i = 1, l = args.length; i < l; i++) {\n        ext = args[i];\n        for (name in ext) {\n          if (ext.hasOwnProperty(name)) {\n            value = ext[name];\n            if (value !== undefined) {\n              obj[name] = value;\n            }\n          }\n        }\n      }\n      return obj;\n    };\n    var walk = function (o, f, n, s) {\n      s = s || this;\n      if (o) {\n        if (n) {\n          o = o[n];\n        }\n        ArrUtils.each(o, function (o, i) {\n          if (f.call(s, o, i, n) === false) {\n            return false;\n          }\n          walk(o, f, n, s);\n        });\n      }\n    };\n    var createNS = function (n, o) {\n      var i, v;\n      o = o || domGlobals.window;\n      n = n.split('.');\n      for (i = 0; i < n.length; i++) {\n        v = n[i];\n        if (!o[v]) {\n          o[v] = {};\n        }\n        o = o[v];\n      }\n      return o;\n    };\n    var resolve$1 = function (n, o) {\n      var i, l;\n      o = o || domGlobals.window;\n      n = n.split('.');\n      for (i = 0, l = n.length; i < l; i++) {\n        o = o[n[i]];\n        if (!o) {\n          break;\n        }\n      }\n      return o;\n    };\n    var explode = function (s, d) {\n      if (!s || is(s, 'array')) {\n        return s;\n      }\n      return ArrUtils.map(s.split(d || ','), trim);\n    };\n    var _addCacheSuffix = function (url) {\n      var cacheSuffix = Env.cacheSuffix;\n      if (cacheSuffix) {\n        url += (url.indexOf('?') === -1 ? '?' : '&') + cacheSuffix;\n      }\n      return url;\n    };\n    var Tools = {\n      trim: trim,\n      isArray: ArrUtils.isArray,\n      is: is,\n      toArray: ArrUtils.toArray,\n      makeMap: makeMap,\n      each: ArrUtils.each,\n      map: ArrUtils.map,\n      grep: ArrUtils.filter,\n      inArray: ArrUtils.indexOf,\n      hasOwn: hasOwnProperty,\n      extend: extend,\n      create: create,\n      walk: walk,\n      createNS: createNS,\n      resolve: resolve$1,\n      explode: explode,\n      _addCacheSuffix: _addCacheSuffix\n    };\n\n    var doc = domGlobals.document, push$1 = Array.prototype.push, slice$1 = Array.prototype.slice;\n    var rquickExpr$1 = /^(?:[^#<]*(<[\\w\\W]+>)[^>]*$|#([\\w\\-]*)$)/;\n    var Event = EventUtils.Event;\n    var skipUniques = Tools.makeMap('children,contents,next,prev');\n    var isDefined = function (obj) {\n      return typeof obj !== 'undefined';\n    };\n    var isString$1 = function (obj) {\n      return typeof obj === 'string';\n    };\n    var isWindow = function (obj) {\n      return obj && obj === obj.window;\n    };\n    var createFragment = function (html, fragDoc) {\n      var frag, node, container;\n      fragDoc = fragDoc || doc;\n      container = fragDoc.createElement('div');\n      frag = fragDoc.createDocumentFragment();\n      container.innerHTML = html;\n      while (node = container.firstChild) {\n        frag.appendChild(node);\n      }\n      return frag;\n    };\n    var domManipulate = function (targetNodes, sourceItem, callback, reverse) {\n      var i;\n      if (isString$1(sourceItem)) {\n        sourceItem = createFragment(sourceItem, getElementDocument(targetNodes[0]));\n      } else if (sourceItem.length && !sourceItem.nodeType) {\n        sourceItem = DomQuery.makeArray(sourceItem);\n        if (reverse) {\n          for (i = sourceItem.length - 1; i >= 0; i--) {\n            domManipulate(targetNodes, sourceItem[i], callback, reverse);\n          }\n        } else {\n          for (i = 0; i < sourceItem.length; i++) {\n            domManipulate(targetNodes, sourceItem[i], callback, reverse);\n          }\n        }\n        return targetNodes;\n      }\n      if (sourceItem.nodeType) {\n        i = targetNodes.length;\n        while (i--) {\n          callback.call(targetNodes[i], sourceItem);\n        }\n      }\n      return targetNodes;\n    };\n    var hasClass = function (node, className) {\n      return node && className && (' ' + node.className + ' ').indexOf(' ' + className + ' ') !== -1;\n    };\n    var wrap = function (elements, wrapper, all) {\n      var lastParent, newWrapper;\n      wrapper = DomQuery(wrapper)[0];\n      elements.each(function () {\n        var self = this;\n        if (!all || lastParent !== self.parentNode) {\n          lastParent = self.parentNode;\n          newWrapper = wrapper.cloneNode(false);\n          self.parentNode.insertBefore(newWrapper, self);\n          newWrapper.appendChild(self);\n        } else {\n          newWrapper.appendChild(self);\n        }\n      });\n      return elements;\n    };\n    var numericCssMap = Tools.makeMap('fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom', ' ');\n    var booleanMap = Tools.makeMap('checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected', ' ');\n    var propFix = {\n      for: 'htmlFor',\n      class: 'className',\n      readonly: 'readOnly'\n    };\n    var cssFix = { float: 'cssFloat' };\n    var attrHooks = {}, cssHooks = {};\n    var DomQuery = function (selector, context) {\n      return new DomQuery.fn.init(selector, context);\n    };\n    var inArray = function (item, array) {\n      var i;\n      if (array.indexOf) {\n        return array.indexOf(item);\n      }\n      i = array.length;\n      while (i--) {\n        if (array[i] === item) {\n          return i;\n        }\n      }\n      return -1;\n    };\n    var whiteSpaceRegExp$1 = /^\\s*|\\s*$/g;\n    var trim$1 = function (str) {\n      return str === null || str === undefined ? '' : ('' + str).replace(whiteSpaceRegExp$1, '');\n    };\n    var each$2 = function (obj, callback) {\n      var length, key, i, value;\n      if (obj) {\n        length = obj.length;\n        if (length === undefined) {\n          for (key in obj) {\n            if (obj.hasOwnProperty(key)) {\n              value = obj[key];\n              if (callback.call(value, key, value) === false) {\n                break;\n              }\n            }\n          }\n        } else {\n          for (i = 0; i < length; i++) {\n            value = obj[i];\n            if (callback.call(value, i, value) === false) {\n              break;\n            }\n          }\n        }\n      }\n      return obj;\n    };\n    var grep = function (array, callback) {\n      var out = [];\n      each$2(array, function (i, item) {\n        if (callback(item, i)) {\n          out.push(item);\n        }\n      });\n      return out;\n    };\n    var getElementDocument = function (element) {\n      if (!element) {\n        return doc;\n      }\n      if (element.nodeType === 9) {\n        return element;\n      }\n      return element.ownerDocument;\n    };\n    DomQuery.fn = DomQuery.prototype = {\n      constructor: DomQuery,\n      selector: '',\n      context: null,\n      length: 0,\n      init: function (selector, context) {\n        var self = this;\n        var match, node;\n        if (!selector) {\n          return self;\n        }\n        if (selector.nodeType) {\n          self.context = self[0] = selector;\n          self.length = 1;\n          return self;\n        }\n        if (context && context.nodeType) {\n          self.context = context;\n        } else {\n          if (context) {\n            return DomQuery(selector).attr(context);\n          }\n          self.context = context = domGlobals.document;\n        }\n        if (isString$1(selector)) {\n          self.selector = selector;\n          if (selector.charAt(0) === '<' && selector.charAt(selector.length - 1) === '>' && selector.length >= 3) {\n            match = [\n              null,\n              selector,\n              null\n            ];\n          } else {\n            match = rquickExpr$1.exec(selector);\n          }\n          if (match) {\n            if (match[1]) {\n              node = createFragment(selector, getElementDocument(context)).firstChild;\n              while (node) {\n                push$1.call(self, node);\n                node = node.nextSibling;\n              }\n            } else {\n              node = getElementDocument(context).getElementById(match[2]);\n              if (!node) {\n                return self;\n              }\n              if (node.id !== match[2]) {\n                return self.find(selector);\n              }\n              self.length = 1;\n              self[0] = node;\n            }\n          } else {\n            return DomQuery(context).find(selector);\n          }\n        } else {\n          this.add(selector, false);\n        }\n        return self;\n      },\n      toArray: function () {\n        return Tools.toArray(this);\n      },\n      add: function (items, sort) {\n        var self = this;\n        var nodes, i;\n        if (isString$1(items)) {\n          return self.add(DomQuery(items));\n        }\n        if (sort !== false) {\n          nodes = DomQuery.unique(self.toArray().concat(DomQuery.makeArray(items)));\n          self.length = nodes.length;\n          for (i = 0; i < nodes.length; i++) {\n            self[i] = nodes[i];\n          }\n        } else {\n          push$1.apply(self, DomQuery.makeArray(items));\n        }\n        return self;\n      },\n      attr: function (name, value) {\n        var self = this;\n        var hook;\n        if (typeof name === 'object') {\n          each$2(name, function (name, value) {\n            self.attr(name, value);\n          });\n        } else if (isDefined(value)) {\n          this.each(function () {\n            var hook;\n            if (this.nodeType === 1) {\n              hook = attrHooks[name];\n              if (hook && hook.set) {\n                hook.set(this, value);\n                return;\n              }\n              if (value === null) {\n                this.removeAttribute(name, 2);\n              } else {\n                this.setAttribute(name, value, 2);\n              }\n            }\n          });\n        } else {\n          if (self[0] && self[0].nodeType === 1) {\n            hook = attrHooks[name];\n            if (hook && hook.get) {\n              return hook.get(self[0], name);\n            }\n            if (booleanMap[name]) {\n              return self.prop(name) ? name : undefined;\n            }\n            value = self[0].getAttribute(name, 2);\n            if (value === null) {\n              value = undefined;\n            }\n          }\n          return value;\n        }\n        return self;\n      },\n      removeAttr: function (name) {\n        return this.attr(name, null);\n      },\n      prop: function (name, value) {\n        var self = this;\n        name = propFix[name] || name;\n        if (typeof name === 'object') {\n          each$2(name, function (name, value) {\n            self.prop(name, value);\n          });\n        } else if (isDefined(value)) {\n          this.each(function () {\n            if (this.nodeType === 1) {\n              this[name] = value;\n            }\n          });\n        } else {\n          if (self[0] && self[0].nodeType && name in self[0]) {\n            return self[0][name];\n          }\n          return value;\n        }\n        return self;\n      },\n      css: function (name, value) {\n        var self = this;\n        var elm, hook;\n        var camel = function (name) {\n          return name.replace(/-(\\D)/g, function (a, b) {\n            return b.toUpperCase();\n          });\n        };\n        var dashed = function (name) {\n          return name.replace(/[A-Z]/g, function (a) {\n            return '-' + a;\n          });\n        };\n        if (typeof name === 'object') {\n          each$2(name, function (name, value) {\n            self.css(name, value);\n          });\n        } else {\n          if (isDefined(value)) {\n            name = camel(name);\n            if (typeof value === 'number' && !numericCssMap[name]) {\n              value = value.toString() + 'px';\n            }\n            self.each(function () {\n              var style = this.style;\n              hook = cssHooks[name];\n              if (hook && hook.set) {\n                hook.set(this, value);\n                return;\n              }\n              try {\n                this.style[cssFix[name] || name] = value;\n              } catch (ex) {\n              }\n              if (value === null || value === '') {\n                if (style.removeProperty) {\n                  style.removeProperty(dashed(name));\n                } else {\n                  style.removeAttribute(name);\n                }\n              }\n            });\n          } else {\n            elm = self[0];\n            hook = cssHooks[name];\n            if (hook && hook.get) {\n              return hook.get(elm);\n            }\n            if (elm.ownerDocument.defaultView) {\n              try {\n                return elm.ownerDocument.defaultView.getComputedStyle(elm, null).getPropertyValue(dashed(name));\n              } catch (ex) {\n                return undefined;\n              }\n            } else if (elm.currentStyle) {\n              return elm.currentStyle[camel(name)];\n            } else {\n              return '';\n            }\n          }\n        }\n        return self;\n      },\n      remove: function () {\n        var self = this;\n        var node, i = this.length;\n        while (i--) {\n          node = self[i];\n          Event.clean(node);\n          if (node.parentNode) {\n            node.parentNode.removeChild(node);\n          }\n        }\n        return this;\n      },\n      empty: function () {\n        var self = this;\n        var node, i = this.length;\n        while (i--) {\n          node = self[i];\n          while (node.firstChild) {\n            node.removeChild(node.firstChild);\n          }\n        }\n        return this;\n      },\n      html: function (value) {\n        var self = this;\n        var i;\n        if (isDefined(value)) {\n          i = self.length;\n          try {\n            while (i--) {\n              self[i].innerHTML = value;\n            }\n          } catch (ex) {\n            DomQuery(self[i]).empty().append(value);\n          }\n          return self;\n        }\n        return self[0] ? self[0].innerHTML : '';\n      },\n      text: function (value) {\n        var self = this;\n        var i;\n        if (isDefined(value)) {\n          i = self.length;\n          while (i--) {\n            if ('innerText' in self[i]) {\n              self[i].innerText = value;\n            } else {\n              self[0].textContent = value;\n            }\n          }\n          return self;\n        }\n        return self[0] ? self[0].innerText || self[0].textContent : '';\n      },\n      append: function () {\n        return domManipulate(this, arguments, function (node) {\n          if (this.nodeType === 1 || this.host && this.host.nodeType === 1) {\n            this.appendChild(node);\n          }\n        });\n      },\n      prepend: function () {\n        return domManipulate(this, arguments, function (node) {\n          if (this.nodeType === 1 || this.host && this.host.nodeType === 1) {\n            this.insertBefore(node, this.firstChild);\n          }\n        }, true);\n      },\n      before: function () {\n        var self = this;\n        if (self[0] && self[0].parentNode) {\n          return domManipulate(self, arguments, function (node) {\n            this.parentNode.insertBefore(node, this);\n          });\n        }\n        return self;\n      },\n      after: function () {\n        var self = this;\n        if (self[0] && self[0].parentNode) {\n          return domManipulate(self, arguments, function (node) {\n            this.parentNode.insertBefore(node, this.nextSibling);\n          }, true);\n        }\n        return self;\n      },\n      appendTo: function (val) {\n        DomQuery(val).append(this);\n        return this;\n      },\n      prependTo: function (val) {\n        DomQuery(val).prepend(this);\n        return this;\n      },\n      replaceWith: function (content) {\n        return this.before(content).remove();\n      },\n      wrap: function (content) {\n        return wrap(this, content);\n      },\n      wrapAll: function (content) {\n        return wrap(this, content, true);\n      },\n      wrapInner: function (content) {\n        this.each(function () {\n          DomQuery(this).contents().wrapAll(content);\n        });\n        return this;\n      },\n      unwrap: function () {\n        return this.parent().each(function () {\n          DomQuery(this).replaceWith(this.childNodes);\n        });\n      },\n      clone: function () {\n        var result = [];\n        this.each(function () {\n          result.push(this.cloneNode(true));\n        });\n        return DomQuery(result);\n      },\n      addClass: function (className) {\n        return this.toggleClass(className, true);\n      },\n      removeClass: function (className) {\n        return this.toggleClass(className, false);\n      },\n      toggleClass: function (className, state) {\n        var self = this;\n        if (typeof className !== 'string') {\n          return self;\n        }\n        if (className.indexOf(' ') !== -1) {\n          each$2(className.split(' '), function () {\n            self.toggleClass(this, state);\n          });\n        } else {\n          self.each(function (index, node) {\n            var existingClassName, classState;\n            classState = hasClass(node, className);\n            if (classState !== state) {\n              existingClassName = node.className;\n              if (classState) {\n                node.className = trim$1((' ' + existingClassName + ' ').replace(' ' + className + ' ', ' '));\n              } else {\n                node.className += existingClassName ? ' ' + className : className;\n              }\n            }\n          });\n        }\n        return self;\n      },\n      hasClass: function (className) {\n        return hasClass(this[0], className);\n      },\n      each: function (callback) {\n        return each$2(this, callback);\n      },\n      on: function (name, callback) {\n        return this.each(function () {\n          Event.bind(this, name, callback);\n        });\n      },\n      off: function (name, callback) {\n        return this.each(function () {\n          Event.unbind(this, name, callback);\n        });\n      },\n      trigger: function (name) {\n        return this.each(function () {\n          if (typeof name === 'object') {\n            Event.fire(this, name.type, name);\n          } else {\n            Event.fire(this, name);\n          }\n        });\n      },\n      show: function () {\n        return this.css('display', '');\n      },\n      hide: function () {\n        return this.css('display', 'none');\n      },\n      slice: function () {\n        return new DomQuery(slice$1.apply(this, arguments));\n      },\n      eq: function (index) {\n        return index === -1 ? this.slice(index) : this.slice(index, +index + 1);\n      },\n      first: function () {\n        return this.eq(0);\n      },\n      last: function () {\n        return this.eq(-1);\n      },\n      find: function (selector) {\n        var i, l;\n        var ret = [];\n        for (i = 0, l = this.length; i < l; i++) {\n          DomQuery.find(selector, this[i], ret);\n        }\n        return DomQuery(ret);\n      },\n      filter: function (selector) {\n        if (typeof selector === 'function') {\n          return DomQuery(grep(this.toArray(), function (item, i) {\n            return selector(i, item);\n          }));\n        }\n        return DomQuery(DomQuery.filter(selector, this.toArray()));\n      },\n      closest: function (selector) {\n        var result = [];\n        if (selector instanceof DomQuery) {\n          selector = selector[0];\n        }\n        this.each(function (i, node) {\n          while (node) {\n            if (typeof selector === 'string' && DomQuery(node).is(selector)) {\n              result.push(node);\n              break;\n            } else if (node === selector) {\n              result.push(node);\n              break;\n            }\n            node = node.parentNode;\n          }\n        });\n        return DomQuery(result);\n      },\n      offset: function (offset) {\n        var elm, doc, docElm;\n        var x = 0, y = 0, pos;\n        if (!offset) {\n          elm = this[0];\n          if (elm) {\n            doc = elm.ownerDocument;\n            docElm = doc.documentElement;\n            if (elm.getBoundingClientRect) {\n              pos = elm.getBoundingClientRect();\n              x = pos.left + (docElm.scrollLeft || doc.body.scrollLeft) - docElm.clientLeft;\n              y = pos.top + (docElm.scrollTop || doc.body.scrollTop) - docElm.clientTop;\n            }\n          }\n          return {\n            left: x,\n            top: y\n          };\n        }\n        return this.css(offset);\n      },\n      push: push$1,\n      sort: [].sort,\n      splice: [].splice\n    };\n    Tools.extend(DomQuery, {\n      extend: Tools.extend,\n      makeArray: function (object) {\n        if (isWindow(object) || object.nodeType) {\n          return [object];\n        }\n        return Tools.toArray(object);\n      },\n      inArray: inArray,\n      isArray: Tools.isArray,\n      each: each$2,\n      trim: trim$1,\n      grep: grep,\n      find: Sizzle,\n      expr: Sizzle.selectors,\n      unique: Sizzle.uniqueSort,\n      text: Sizzle.getText,\n      contains: Sizzle.contains,\n      filter: function (expr, elems, not) {\n        var i = elems.length;\n        if (not) {\n          expr = ':not(' + expr + ')';\n        }\n        while (i--) {\n          if (elems[i].nodeType !== 1) {\n            elems.splice(i, 1);\n          }\n        }\n        if (elems.length === 1) {\n          elems = DomQuery.find.matchesSelector(elems[0], expr) ? [elems[0]] : [];\n        } else {\n          elems = DomQuery.find.matches(expr, elems);\n        }\n        return elems;\n      }\n    });\n    var dir = function (el, prop, until) {\n      var matched = [];\n      var cur = el[prop];\n      if (typeof until !== 'string' && until instanceof DomQuery) {\n        until = until[0];\n      }\n      while (cur && cur.nodeType !== 9) {\n        if (until !== undefined) {\n          if (cur === until) {\n            break;\n          }\n          if (typeof until === 'string' && DomQuery(cur).is(until)) {\n            break;\n          }\n        }\n        if (cur.nodeType === 1) {\n          matched.push(cur);\n        }\n        cur = cur[prop];\n      }\n      return matched;\n    };\n    var sibling = function (node, siblingName, nodeType, until) {\n      var result = [];\n      if (until instanceof DomQuery) {\n        until = until[0];\n      }\n      for (; node; node = node[siblingName]) {\n        if (nodeType && node.nodeType !== nodeType) {\n          continue;\n        }\n        if (until !== undefined) {\n          if (node === until) {\n            break;\n          }\n          if (typeof until === 'string' && DomQuery(node).is(until)) {\n            break;\n          }\n        }\n        result.push(node);\n      }\n      return result;\n    };\n    var firstSibling = function (node, siblingName, nodeType) {\n      for (node = node[siblingName]; node; node = node[siblingName]) {\n        if (node.nodeType === nodeType) {\n          return node;\n        }\n      }\n      return null;\n    };\n    each$2({\n      parent: function (node) {\n        var parent = node.parentNode;\n        return parent && parent.nodeType !== 11 ? parent : null;\n      },\n      parents: function (node) {\n        return dir(node, 'parentNode');\n      },\n      next: function (node) {\n        return firstSibling(node, 'nextSibling', 1);\n      },\n      prev: function (node) {\n        return firstSibling(node, 'previousSibling', 1);\n      },\n      children: function (node) {\n        return sibling(node.firstChild, 'nextSibling', 1);\n      },\n      contents: function (node) {\n        return Tools.toArray((node.nodeName === 'iframe' ? node.contentDocument || node.contentWindow.document : node).childNodes);\n      }\n    }, function (name, fn) {\n      DomQuery.fn[name] = function (selector) {\n        var self = this;\n        var result = [];\n        self.each(function () {\n          var nodes = fn.call(result, this, selector, result);\n          if (nodes) {\n            if (DomQuery.isArray(nodes)) {\n              result.push.apply(result, nodes);\n            } else {\n              result.push(nodes);\n            }\n          }\n        });\n        if (this.length > 1) {\n          if (!skipUniques[name]) {\n            result = DomQuery.unique(result);\n          }\n          if (name.indexOf('parents') === 0) {\n            result = result.reverse();\n          }\n        }\n        result = DomQuery(result);\n        if (selector) {\n          return result.filter(selector);\n        }\n        return result;\n      };\n    });\n    each$2({\n      parentsUntil: function (node, until) {\n        return dir(node, 'parentNode', until);\n      },\n      nextUntil: function (node, until) {\n        return sibling(node, 'nextSibling', 1, until).slice(1);\n      },\n      prevUntil: function (node, until) {\n        return sibling(node, 'previousSibling', 1, until).slice(1);\n      }\n    }, function (name, fn) {\n      DomQuery.fn[name] = function (selector, filter) {\n        var self = this;\n        var result = [];\n        self.each(function () {\n          var nodes = fn.call(result, this, selector, result);\n          if (nodes) {\n            if (DomQuery.isArray(nodes)) {\n              result.push.apply(result, nodes);\n            } else {\n              result.push(nodes);\n            }\n          }\n        });\n        if (this.length > 1) {\n          result = DomQuery.unique(result);\n          if (name.indexOf('parents') === 0 || name === 'prevUntil') {\n            result = result.reverse();\n          }\n        }\n        result = DomQuery(result);\n        if (filter) {\n          return result.filter(filter);\n        }\n        return result;\n      };\n    });\n    DomQuery.fn.is = function (selector) {\n      return !!selector && this.filter(selector).length > 0;\n    };\n    DomQuery.fn.init.prototype = DomQuery.fn;\n    DomQuery.overrideDefaults = function (callback) {\n      var defaults;\n      var sub = function (selector, context) {\n        defaults = defaults || callback();\n        if (arguments.length === 0) {\n          selector = defaults.element;\n        }\n        if (!context) {\n          context = defaults.context;\n        }\n        return new sub.fn.init(selector, context);\n      };\n      DomQuery.extend(sub, this);\n      return sub;\n    };\n    var appendHooks = function (targetHooks, prop, hooks) {\n      each$2(hooks, function (name, func) {\n        targetHooks[name] = targetHooks[name] || {};\n        targetHooks[name][prop] = func;\n      });\n    };\n    if (Env.ie && Env.ie < 8) {\n      appendHooks(attrHooks, 'get', {\n        maxlength: function (elm) {\n          var value = elm.maxLength;\n          if (value === 2147483647) {\n            return undefined;\n          }\n          return value;\n        },\n        size: function (elm) {\n          var value = elm.size;\n          if (value === 20) {\n            return undefined;\n          }\n          return value;\n        },\n        class: function (elm) {\n          return elm.className;\n        },\n        style: function (elm) {\n          var value = elm.style.cssText;\n          if (value.length === 0) {\n            return undefined;\n          }\n          return value;\n        }\n      });\n      appendHooks(attrHooks, 'set', {\n        class: function (elm, value) {\n          elm.className = value;\n        },\n        style: function (elm, value) {\n          elm.style.cssText = value;\n        }\n      });\n    }\n    if (Env.ie && Env.ie < 9) {\n      cssFix.float = 'styleFloat';\n      appendHooks(cssHooks, 'set', {\n        opacity: function (elm, value) {\n          var style = elm.style;\n          if (value === null || value === '') {\n            style.removeAttribute('filter');\n          } else {\n            style.zoom = 1;\n            style.filter = 'alpha(opacity=' + value * 100 + ')';\n          }\n        }\n      });\n    }\n    DomQuery.attrHooks = attrHooks;\n    DomQuery.cssHooks = cssHooks;\n\n    var cached = function (f) {\n      var called = false;\n      var r;\n      return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        if (!called) {\n          called = true;\n          r = f.apply(null, args);\n        }\n        return r;\n      };\n    };\n\n    var firstMatch = function (regexes, s) {\n      for (var i = 0; i < regexes.length; i++) {\n        var x = regexes[i];\n        if (x.test(s)) {\n          return x;\n        }\n      }\n      return undefined;\n    };\n    var find$2 = function (regexes, agent) {\n      var r = firstMatch(regexes, agent);\n      if (!r) {\n        return {\n          major: 0,\n          minor: 0\n        };\n      }\n      var group = function (i) {\n        return Number(agent.replace(r, '$' + i));\n      };\n      return nu(group(1), group(2));\n    };\n    var detect = function (versionRegexes, agent) {\n      var cleanedAgent = String(agent).toLowerCase();\n      if (versionRegexes.length === 0) {\n        return unknown();\n      }\n      return find$2(versionRegexes, cleanedAgent);\n    };\n    var unknown = function () {\n      return nu(0, 0);\n    };\n    var nu = function (major, minor) {\n      return {\n        major: major,\n        minor: minor\n      };\n    };\n    var Version = {\n      nu: nu,\n      detect: detect,\n      unknown: unknown\n    };\n\n    var edge = 'Edge';\n    var chrome = 'Chrome';\n    var ie$1 = 'IE';\n    var opera$1 = 'Opera';\n    var firefox = 'Firefox';\n    var safari = 'Safari';\n    var isBrowser = function (name, current) {\n      return function () {\n        return current === name;\n      };\n    };\n    var unknown$1 = function () {\n      return nu$1({\n        current: undefined,\n        version: Version.unknown()\n      });\n    };\n    var nu$1 = function (info) {\n      var current = info.current;\n      var version = info.version;\n      return {\n        current: current,\n        version: version,\n        isEdge: isBrowser(edge, current),\n        isChrome: isBrowser(chrome, current),\n        isIE: isBrowser(ie$1, current),\n        isOpera: isBrowser(opera$1, current),\n        isFirefox: isBrowser(firefox, current),\n        isSafari: isBrowser(safari, current)\n      };\n    };\n    var Browser = {\n      unknown: unknown$1,\n      nu: nu$1,\n      edge: constant(edge),\n      chrome: constant(chrome),\n      ie: constant(ie$1),\n      opera: constant(opera$1),\n      firefox: constant(firefox),\n      safari: constant(safari)\n    };\n\n    var windows = 'Windows';\n    var ios = 'iOS';\n    var android$1 = 'Android';\n    var linux = 'Linux';\n    var osx = 'OSX';\n    var solaris = 'Solaris';\n    var freebsd = 'FreeBSD';\n    var isOS = function (name, current) {\n      return function () {\n        return current === name;\n      };\n    };\n    var unknown$2 = function () {\n      return nu$2({\n        current: undefined,\n        version: Version.unknown()\n      });\n    };\n    var nu$2 = function (info) {\n      var current = info.current;\n      var version = info.version;\n      return {\n        current: current,\n        version: version,\n        isWindows: isOS(windows, current),\n        isiOS: isOS(ios, current),\n        isAndroid: isOS(android$1, current),\n        isOSX: isOS(osx, current),\n        isLinux: isOS(linux, current),\n        isSolaris: isOS(solaris, current),\n        isFreeBSD: isOS(freebsd, current)\n      };\n    };\n    var OperatingSystem = {\n      unknown: unknown$2,\n      nu: nu$2,\n      windows: constant(windows),\n      ios: constant(ios),\n      android: constant(android$1),\n      linux: constant(linux),\n      osx: constant(osx),\n      solaris: constant(solaris),\n      freebsd: constant(freebsd)\n    };\n\n    var DeviceType = function (os, browser, userAgent) {\n      var isiPad = os.isiOS() && /ipad/i.test(userAgent) === true;\n      var isiPhone = os.isiOS() && !isiPad;\n      var isAndroid3 = os.isAndroid() && os.version.major === 3;\n      var isAndroid4 = os.isAndroid() && os.version.major === 4;\n      var isTablet = isiPad || isAndroid3 || isAndroid4 && /mobile/i.test(userAgent) === true;\n      var isTouch = os.isiOS() || os.isAndroid();\n      var isPhone = isTouch && !isTablet;\n      var iOSwebview = browser.isSafari() && os.isiOS() && /safari/i.test(userAgent) === false;\n      return {\n        isiPad: constant(isiPad),\n        isiPhone: constant(isiPhone),\n        isTablet: constant(isTablet),\n        isPhone: constant(isPhone),\n        isTouch: constant(isTouch),\n        isAndroid: os.isAndroid,\n        isiOS: os.isiOS,\n        isWebView: constant(iOSwebview)\n      };\n    };\n\n    var detect$1 = function (candidates, userAgent) {\n      var agent = String(userAgent).toLowerCase();\n      return find(candidates, function (candidate) {\n        return candidate.search(agent);\n      });\n    };\n    var detectBrowser = function (browsers, userAgent) {\n      return detect$1(browsers, userAgent).map(function (browser) {\n        var version = Version.detect(browser.versionRegexes, userAgent);\n        return {\n          current: browser.name,\n          version: version\n        };\n      });\n    };\n    var detectOs = function (oses, userAgent) {\n      return detect$1(oses, userAgent).map(function (os) {\n        var version = Version.detect(os.versionRegexes, userAgent);\n        return {\n          current: os.name,\n          version: version\n        };\n      });\n    };\n    var UaString = {\n      detectBrowser: detectBrowser,\n      detectOs: detectOs\n    };\n\n    var contains$2 = function (str, substr) {\n      return str.indexOf(substr) !== -1;\n    };\n    var trim$2 = function (str) {\n      return str.replace(/^\\s+|\\s+$/g, '');\n    };\n    var lTrim = function (str) {\n      return str.replace(/^\\s+/g, '');\n    };\n    var rTrim = function (str) {\n      return str.replace(/\\s+$/g, '');\n    };\n\n    var normalVersionRegex = /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/;\n    var checkContains = function (target) {\n      return function (uastring) {\n        return contains$2(uastring, target);\n      };\n    };\n    var browsers = [\n      {\n        name: 'Edge',\n        versionRegexes: [/.*?edge\\/ ?([0-9]+)\\.([0-9]+)$/],\n        search: function (uastring) {\n          return contains$2(uastring, 'edge/') && contains$2(uastring, 'chrome') && contains$2(uastring, 'safari') && contains$2(uastring, 'applewebkit');\n        }\n      },\n      {\n        name: 'Chrome',\n        versionRegexes: [\n          /.*?chrome\\/([0-9]+)\\.([0-9]+).*/,\n          normalVersionRegex\n        ],\n        search: function (uastring) {\n          return contains$2(uastring, 'chrome') && !contains$2(uastring, 'chromeframe');\n        }\n      },\n      {\n        name: 'IE',\n        versionRegexes: [\n          /.*?msie\\ ?([0-9]+)\\.([0-9]+).*/,\n          /.*?rv:([0-9]+)\\.([0-9]+).*/\n        ],\n        search: function (uastring) {\n          return contains$2(uastring, 'msie') || contains$2(uastring, 'trident');\n        }\n      },\n      {\n        name: 'Opera',\n        versionRegexes: [\n          normalVersionRegex,\n          /.*?opera\\/([0-9]+)\\.([0-9]+).*/\n        ],\n        search: checkContains('opera')\n      },\n      {\n        name: 'Firefox',\n        versionRegexes: [/.*?firefox\\/\\ ?([0-9]+)\\.([0-9]+).*/],\n        search: checkContains('firefox')\n      },\n      {\n        name: 'Safari',\n        versionRegexes: [\n          normalVersionRegex,\n          /.*?cpu os ([0-9]+)_([0-9]+).*/\n        ],\n        search: function (uastring) {\n          return (contains$2(uastring, 'safari') || contains$2(uastring, 'mobile/')) && contains$2(uastring, 'applewebkit');\n        }\n      }\n    ];\n    var oses = [\n      {\n        name: 'Windows',\n        search: checkContains('win'),\n        versionRegexes: [/.*?windows\\ nt\\ ?([0-9]+)\\.([0-9]+).*/]\n      },\n      {\n        name: 'iOS',\n        search: function (uastring) {\n          return contains$2(uastring, 'iphone') || contains$2(uastring, 'ipad');\n        },\n        versionRegexes: [\n          /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/,\n          /.*cpu os ([0-9]+)_([0-9]+).*/,\n          /.*cpu iphone os ([0-9]+)_([0-9]+).*/\n        ]\n      },\n      {\n        name: 'Android',\n        search: checkContains('android'),\n        versionRegexes: [/.*?android\\ ?([0-9]+)\\.([0-9]+).*/]\n      },\n      {\n        name: 'OSX',\n        search: checkContains('os x'),\n        versionRegexes: [/.*?os\\ x\\ ?([0-9]+)_([0-9]+).*/]\n      },\n      {\n        name: 'Linux',\n        search: checkContains('linux'),\n        versionRegexes: []\n      },\n      {\n        name: 'Solaris',\n        search: checkContains('sunos'),\n        versionRegexes: []\n      },\n      {\n        name: 'FreeBSD',\n        search: checkContains('freebsd'),\n        versionRegexes: []\n      }\n    ];\n    var PlatformInfo = {\n      browsers: constant(browsers),\n      oses: constant(oses)\n    };\n\n    var detect$2 = function (userAgent) {\n      var browsers = PlatformInfo.browsers();\n      var oses = PlatformInfo.oses();\n      var browser = UaString.detectBrowser(browsers, userAgent).fold(Browser.unknown, Browser.nu);\n      var os = UaString.detectOs(oses, userAgent).fold(OperatingSystem.unknown, OperatingSystem.nu);\n      var deviceType = DeviceType(os, browser, userAgent);\n      return {\n        browser: browser,\n        os: os,\n        deviceType: deviceType\n      };\n    };\n    var PlatformDetection = { detect: detect$2 };\n\n    var detect$3 = cached(function () {\n      var userAgent = domGlobals.navigator.userAgent;\n      return PlatformDetection.detect(userAgent);\n    });\n    var PlatformDetection$1 = { detect: detect$3 };\n\n    var fromHtml = function (html, scope) {\n      var doc = scope || domGlobals.document;\n      var div = doc.createElement('div');\n      div.innerHTML = html;\n      if (!div.hasChildNodes() || div.childNodes.length > 1) {\n        domGlobals.console.error('HTML does not have a single root node', html);\n        throw new Error('HTML must have a single root node');\n      }\n      return fromDom(div.childNodes[0]);\n    };\n    var fromTag = function (tag, scope) {\n      var doc = scope || domGlobals.document;\n      var node = doc.createElement(tag);\n      return fromDom(node);\n    };\n    var fromText = function (text, scope) {\n      var doc = scope || domGlobals.document;\n      var node = doc.createTextNode(text);\n      return fromDom(node);\n    };\n    var fromDom = function (node) {\n      if (node === null || node === undefined) {\n        throw new Error('Node cannot be null or undefined');\n      }\n      return { dom: constant(node) };\n    };\n    var fromPoint = function (docElm, x, y) {\n      var doc = docElm.dom();\n      return Option.from(doc.elementFromPoint(x, y)).map(fromDom);\n    };\n    var Element = {\n      fromHtml: fromHtml,\n      fromTag: fromTag,\n      fromText: fromText,\n      fromDom: fromDom,\n      fromPoint: fromPoint\n    };\n\n    var ATTRIBUTE = domGlobals.Node.ATTRIBUTE_NODE;\n    var CDATA_SECTION = domGlobals.Node.CDATA_SECTION_NODE;\n    var COMMENT = domGlobals.Node.COMMENT_NODE;\n    var DOCUMENT = domGlobals.Node.DOCUMENT_NODE;\n    var DOCUMENT_TYPE = domGlobals.Node.DOCUMENT_TYPE_NODE;\n    var DOCUMENT_FRAGMENT = domGlobals.Node.DOCUMENT_FRAGMENT_NODE;\n    var ELEMENT = domGlobals.Node.ELEMENT_NODE;\n    var TEXT = domGlobals.Node.TEXT_NODE;\n    var PROCESSING_INSTRUCTION = domGlobals.Node.PROCESSING_INSTRUCTION_NODE;\n    var ENTITY_REFERENCE = domGlobals.Node.ENTITY_REFERENCE_NODE;\n    var ENTITY = domGlobals.Node.ENTITY_NODE;\n    var NOTATION = domGlobals.Node.NOTATION_NODE;\n\n    var name = function (element) {\n      var r = element.dom().nodeName;\n      return r.toLowerCase();\n    };\n    var type = function (element) {\n      return element.dom().nodeType;\n    };\n    var isType$1 = function (t) {\n      return function (element) {\n        return type(element) === t;\n      };\n    };\n    var isElement = isType$1(ELEMENT);\n    var isText = isType$1(TEXT);\n\n    var keys = Object.keys;\n    var hasOwnProperty$1 = Object.hasOwnProperty;\n    var each$3 = function (obj, f) {\n      var props = keys(obj);\n      for (var k = 0, len = props.length; k < len; k++) {\n        var i = props[k];\n        var x = obj[i];\n        f(x, i);\n      }\n    };\n    var map$2 = function (obj, f) {\n      return tupleMap(obj, function (x, i) {\n        return {\n          k: i,\n          v: f(x, i)\n        };\n      });\n    };\n    var tupleMap = function (obj, f) {\n      var r = {};\n      each$3(obj, function (x, i) {\n        var tuple = f(x, i);\n        r[tuple.k] = tuple.v;\n      });\n      return r;\n    };\n    var bifilter = function (obj, pred) {\n      var t = {};\n      var f = {};\n      each$3(obj, function (x, i) {\n        var branch = pred(x, i) ? t : f;\n        branch[i] = x;\n      });\n      return {\n        t: t,\n        f: f\n      };\n    };\n    var has = function (obj, key) {\n      return hasOwnProperty$1.call(obj, key);\n    };\n\n    var isSupported = function (dom) {\n      return dom.style !== undefined && isFunction(dom.style.getPropertyValue);\n    };\n\n    var inBody = function (element) {\n      var dom = isText(element) ? element.dom().parentNode : element.dom();\n      return dom !== undefined && dom !== null && dom.ownerDocument.body.contains(dom);\n    };\n\n    var rawSet = function (dom, key, value) {\n      if (isString(value) || isBoolean(value) || isNumber(value)) {\n        dom.setAttribute(key, value + '');\n      } else {\n        domGlobals.console.error('Invalid call to Attr.set. Key ', key, ':: Value ', value, ':: Element ', dom);\n        throw new Error('Attribute value was not simple');\n      }\n    };\n    var set = function (element, key, value) {\n      rawSet(element.dom(), key, value);\n    };\n    var setAll = function (element, attrs) {\n      var dom = element.dom();\n      each$3(attrs, function (v, k) {\n        rawSet(dom, k, v);\n      });\n    };\n    var get = function (element, key) {\n      var v = element.dom().getAttribute(key);\n      return v === null ? undefined : v;\n    };\n    var has$1 = function (element, key) {\n      var dom = element.dom();\n      return dom && dom.hasAttribute ? dom.hasAttribute(key) : false;\n    };\n    var remove = function (element, key) {\n      element.dom().removeAttribute(key);\n    };\n\n    var internalSet = function (dom, property, value) {\n      if (!isString(value)) {\n        domGlobals.console.error('Invalid call to CSS.set. Property ', property, ':: Value ', value, ':: Element ', dom);\n        throw new Error('CSS value must be a string: ' + value);\n      }\n      if (isSupported(dom)) {\n        dom.style.setProperty(property, value);\n      }\n    };\n    var setAll$1 = function (element, css) {\n      var dom = element.dom();\n      each$3(css, function (v, k) {\n        internalSet(dom, k, v);\n      });\n    };\n    var get$1 = function (element, property) {\n      var dom = element.dom();\n      var styles = domGlobals.window.getComputedStyle(dom);\n      var r = styles.getPropertyValue(property);\n      var v = r === '' && !inBody(element) ? getUnsafeProperty(dom, property) : r;\n      return v === null ? undefined : v;\n    };\n    var getUnsafeProperty = function (dom, property) {\n      return isSupported(dom) ? dom.style.getPropertyValue(property) : '';\n    };\n    var getRaw = function (element, property) {\n      var dom = element.dom();\n      var raw = getUnsafeProperty(dom, property);\n      return Option.from(raw).filter(function (r) {\n        return r.length > 0;\n      });\n    };\n    var getAllRaw = function (element) {\n      var css = {};\n      var dom = element.dom();\n      if (isSupported(dom)) {\n        for (var i = 0; i < dom.style.length; i++) {\n          var ruleName = dom.style.item(i);\n          css[ruleName] = dom.style[ruleName];\n        }\n      }\n      return css;\n    };\n\n    var Immutable = function () {\n      var fields = [];\n      for (var _i = 0; _i < arguments.length; _i++) {\n        fields[_i] = arguments[_i];\n      }\n      return function () {\n        var values = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          values[_i] = arguments[_i];\n        }\n        if (fields.length !== values.length) {\n          throw new Error('Wrong number of arguments to struct. Expected \"[' + fields.length + ']\", got ' + values.length + ' arguments');\n        }\n        var struct = {};\n        each(fields, function (name, i) {\n          struct[name] = constant(values[i]);\n        });\n        return struct;\n      };\n    };\n\n    var toArray$1 = function (target, f) {\n      var r = [];\n      var recurse = function (e) {\n        r.push(e);\n        return f(e);\n      };\n      var cur = f(target);\n      do {\n        cur = cur.bind(recurse);\n      } while (cur.isSome());\n      return r;\n    };\n    var Recurse = { toArray: toArray$1 };\n\n    var node = function () {\n      var f = Global$1.getOrDie('Node');\n      return f;\n    };\n    var compareDocumentPosition = function (a, b, match) {\n      return (a.compareDocumentPosition(b) & match) !== 0;\n    };\n    var documentPositionPreceding = function (a, b) {\n      return compareDocumentPosition(a, b, node().DOCUMENT_POSITION_PRECEDING);\n    };\n    var documentPositionContainedBy = function (a, b) {\n      return compareDocumentPosition(a, b, node().DOCUMENT_POSITION_CONTAINED_BY);\n    };\n    var Node = {\n      documentPositionPreceding: documentPositionPreceding,\n      documentPositionContainedBy: documentPositionContainedBy\n    };\n\n    var ELEMENT$1 = ELEMENT;\n    var DOCUMENT$1 = DOCUMENT;\n    var is$1 = function (element, selector) {\n      var dom = element.dom();\n      if (dom.nodeType !== ELEMENT$1) {\n        return false;\n      } else {\n        var elem = dom;\n        if (elem.matches !== undefined) {\n          return elem.matches(selector);\n        } else if (elem.msMatchesSelector !== undefined) {\n          return elem.msMatchesSelector(selector);\n        } else if (elem.webkitMatchesSelector !== undefined) {\n          return elem.webkitMatchesSelector(selector);\n        } else if (elem.mozMatchesSelector !== undefined) {\n          return elem.mozMatchesSelector(selector);\n        } else {\n          throw new Error('Browser lacks native selectors');\n        }\n      }\n    };\n    var bypassSelector = function (dom) {\n      return dom.nodeType !== ELEMENT$1 && dom.nodeType !== DOCUMENT$1 || dom.childElementCount === 0;\n    };\n    var all = function (selector, scope) {\n      var base = scope === undefined ? domGlobals.document : scope.dom();\n      return bypassSelector(base) ? [] : map(base.querySelectorAll(selector), Element.fromDom);\n    };\n    var one = function (selector, scope) {\n      var base = scope === undefined ? domGlobals.document : scope.dom();\n      return bypassSelector(base) ? Option.none() : Option.from(base.querySelector(selector)).map(Element.fromDom);\n    };\n\n    var eq = function (e1, e2) {\n      return e1.dom() === e2.dom();\n    };\n    var regularContains = function (e1, e2) {\n      var d1 = e1.dom();\n      var d2 = e2.dom();\n      return d1 === d2 ? false : d1.contains(d2);\n    };\n    var ieContains = function (e1, e2) {\n      return Node.documentPositionContainedBy(e1.dom(), e2.dom());\n    };\n    var browser = PlatformDetection$1.detect().browser;\n    var contains$3 = browser.isIE() ? ieContains : regularContains;\n\n    var owner = function (element) {\n      return Element.fromDom(element.dom().ownerDocument);\n    };\n    var documentElement = function (element) {\n      return Element.fromDom(element.dom().ownerDocument.documentElement);\n    };\n    var defaultView = function (element) {\n      return Element.fromDom(element.dom().ownerDocument.defaultView);\n    };\n    var parent = function (element) {\n      return Option.from(element.dom().parentNode).map(Element.fromDom);\n    };\n    var parents = function (element, isRoot) {\n      var stop = isFunction(isRoot) ? isRoot : never;\n      var dom = element.dom();\n      var ret = [];\n      while (dom.parentNode !== null && dom.parentNode !== undefined) {\n        var rawParent = dom.parentNode;\n        var p = Element.fromDom(rawParent);\n        ret.push(p);\n        if (stop(p) === true) {\n          break;\n        } else {\n          dom = rawParent;\n        }\n      }\n      return ret;\n    };\n    var prevSibling = function (element) {\n      return Option.from(element.dom().previousSibling).map(Element.fromDom);\n    };\n    var nextSibling = function (element) {\n      return Option.from(element.dom().nextSibling).map(Element.fromDom);\n    };\n    var prevSiblings = function (element) {\n      return reverse(Recurse.toArray(element, prevSibling));\n    };\n    var nextSiblings = function (element) {\n      return Recurse.toArray(element, nextSibling);\n    };\n    var children = function (element) {\n      return map(element.dom().childNodes, Element.fromDom);\n    };\n    var child = function (element, index) {\n      var cs = element.dom().childNodes;\n      return Option.from(cs[index]).map(Element.fromDom);\n    };\n    var firstChild = function (element) {\n      return child(element, 0);\n    };\n    var lastChild = function (element) {\n      return child(element, element.dom().childNodes.length - 1);\n    };\n    var childNodesCount = function (element) {\n      return element.dom().childNodes.length;\n    };\n    var spot = Immutable('element', 'offset');\n\n    var browser$1 = PlatformDetection$1.detect().browser;\n    var firstElement = function (nodes) {\n      return find(nodes, isElement);\n    };\n    var getTableCaptionDeltaY = function (elm) {\n      if (browser$1.isFirefox() && name(elm) === 'table') {\n        return firstElement(children(elm)).filter(function (elm) {\n          return name(elm) === 'caption';\n        }).bind(function (caption) {\n          return firstElement(nextSiblings(caption)).map(function (body) {\n            var bodyTop = body.dom().offsetTop;\n            var captionTop = caption.dom().offsetTop;\n            var captionHeight = caption.dom().offsetHeight;\n            return bodyTop <= captionTop ? -captionHeight : 0;\n          });\n        }).getOr(0);\n      } else {\n        return 0;\n      }\n    };\n    var getPos = function (body, elm, rootElm) {\n      var x = 0, y = 0, offsetParent;\n      var doc = body.ownerDocument;\n      var pos;\n      rootElm = rootElm ? rootElm : body;\n      if (elm) {\n        if (rootElm === body && elm.getBoundingClientRect && get$1(Element.fromDom(body), 'position') === 'static') {\n          pos = elm.getBoundingClientRect();\n          x = pos.left + (doc.documentElement.scrollLeft || body.scrollLeft) - doc.documentElement.clientLeft;\n          y = pos.top + (doc.documentElement.scrollTop || body.scrollTop) - doc.documentElement.clientTop;\n          return {\n            x: x,\n            y: y\n          };\n        }\n        offsetParent = elm;\n        while (offsetParent && offsetParent !== rootElm && offsetParent.nodeType) {\n          x += offsetParent.offsetLeft || 0;\n          y += offsetParent.offsetTop || 0;\n          offsetParent = offsetParent.offsetParent;\n        }\n        offsetParent = elm.parentNode;\n        while (offsetParent && offsetParent !== rootElm && offsetParent.nodeType) {\n          x -= offsetParent.scrollLeft || 0;\n          y -= offsetParent.scrollTop || 0;\n          offsetParent = offsetParent.parentNode;\n        }\n        y += getTableCaptionDeltaY(Element.fromDom(elm));\n      }\n      return {\n        x: x,\n        y: y\n      };\n    };\n    var Position = { getPos: getPos };\n\n    var exports$1 = {}, module$1 = { exports: exports$1 };\n    (function (define, exports, module, require) {\n      (function (f) {\n        if (typeof exports === 'object' && typeof module !== 'undefined') {\n          module.exports = f();\n        } else if (typeof define === 'function' && define.amd) {\n          define([], f);\n        } else {\n          var g;\n          if (typeof window !== 'undefined') {\n            g = window;\n          } else if (typeof global !== 'undefined') {\n            g = global;\n          } else if (typeof self !== 'undefined') {\n            g = self;\n          } else {\n            g = this;\n          }\n          g.EphoxContactWrapper = f();\n        }\n      }(function () {\n        return function () {\n          function r(e, n, t) {\n            function o(i, f) {\n              if (!n[i]) {\n                if (!e[i]) {\n                  var c = 'function' == typeof require && require;\n                  if (!f && c)\n                    return c(i, !0);\n                  if (u)\n                    return u(i, !0);\n                  var a = new Error('Cannot find module \\'' + i + '\\'');\n                  throw a.code = 'MODULE_NOT_FOUND', a;\n                }\n                var p = n[i] = { exports: {} };\n                e[i][0].call(p.exports, function (r) {\n                  var n = e[i][1][r];\n                  return o(n || r);\n                }, p, p.exports, r, e, n, t);\n              }\n              return n[i].exports;\n            }\n            for (var u = 'function' == typeof require && require, i = 0; i < t.length; i++)\n              o(t[i]);\n            return o;\n          }\n          return r;\n        }()({\n          1: [\n            function (require, module, exports) {\n              var process = module.exports = {};\n              var cachedSetTimeout;\n              var cachedClearTimeout;\n              function defaultSetTimout() {\n                throw new Error('setTimeout has not been defined');\n              }\n              function defaultClearTimeout() {\n                throw new Error('clearTimeout has not been defined');\n              }\n              (function () {\n                try {\n                  if (typeof setTimeout === 'function') {\n                    cachedSetTimeout = setTimeout;\n                  } else {\n                    cachedSetTimeout = defaultSetTimout;\n                  }\n                } catch (e) {\n                  cachedSetTimeout = defaultSetTimout;\n                }\n                try {\n                  if (typeof clearTimeout === 'function') {\n                    cachedClearTimeout = clearTimeout;\n                  } else {\n                    cachedClearTimeout = defaultClearTimeout;\n                  }\n                } catch (e) {\n                  cachedClearTimeout = defaultClearTimeout;\n                }\n              }());\n              function runTimeout(fun) {\n                if (cachedSetTimeout === setTimeout) {\n                  return setTimeout(fun, 0);\n                }\n                if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n                  cachedSetTimeout = setTimeout;\n                  return setTimeout(fun, 0);\n                }\n                try {\n                  return cachedSetTimeout(fun, 0);\n                } catch (e) {\n                  try {\n                    return cachedSetTimeout.call(null, fun, 0);\n                  } catch (e) {\n                    return cachedSetTimeout.call(this, fun, 0);\n                  }\n                }\n              }\n              function runClearTimeout(marker) {\n                if (cachedClearTimeout === clearTimeout) {\n                  return clearTimeout(marker);\n                }\n                if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n                  cachedClearTimeout = clearTimeout;\n                  return clearTimeout(marker);\n                }\n                try {\n                  return cachedClearTimeout(marker);\n                } catch (e) {\n                  try {\n                    return cachedClearTimeout.call(null, marker);\n                  } catch (e) {\n                    return cachedClearTimeout.call(this, marker);\n                  }\n                }\n              }\n              var queue = [];\n              var draining = false;\n              var currentQueue;\n              var queueIndex = -1;\n              function cleanUpNextTick() {\n                if (!draining || !currentQueue) {\n                  return;\n                }\n                draining = false;\n                if (currentQueue.length) {\n                  queue = currentQueue.concat(queue);\n                } else {\n                  queueIndex = -1;\n                }\n                if (queue.length) {\n                  drainQueue();\n                }\n              }\n              function drainQueue() {\n                if (draining) {\n                  return;\n                }\n                var timeout = runTimeout(cleanUpNextTick);\n                draining = true;\n                var len = queue.length;\n                while (len) {\n                  currentQueue = queue;\n                  queue = [];\n                  while (++queueIndex < len) {\n                    if (currentQueue) {\n                      currentQueue[queueIndex].run();\n                    }\n                  }\n                  queueIndex = -1;\n                  len = queue.length;\n                }\n                currentQueue = null;\n                draining = false;\n                runClearTimeout(timeout);\n              }\n              process.nextTick = function (fun) {\n                var args = new Array(arguments.length - 1);\n                if (arguments.length > 1) {\n                  for (var i = 1; i < arguments.length; i++) {\n                    args[i - 1] = arguments[i];\n                  }\n                }\n                queue.push(new Item(fun, args));\n                if (queue.length === 1 && !draining) {\n                  runTimeout(drainQueue);\n                }\n              };\n              function Item(fun, array) {\n                this.fun = fun;\n                this.array = array;\n              }\n              Item.prototype.run = function () {\n                this.fun.apply(null, this.array);\n              };\n              process.title = 'browser';\n              process.browser = true;\n              process.env = {};\n              process.argv = [];\n              process.version = '';\n              process.versions = {};\n              function noop() {\n              }\n              process.on = noop;\n              process.addListener = noop;\n              process.once = noop;\n              process.off = noop;\n              process.removeListener = noop;\n              process.removeAllListeners = noop;\n              process.emit = noop;\n              process.prependListener = noop;\n              process.prependOnceListener = noop;\n              process.listeners = function (name) {\n                return [];\n              };\n              process.binding = function (name) {\n                throw new Error('process.binding is not supported');\n              };\n              process.cwd = function () {\n                return '/';\n              };\n              process.chdir = function (dir) {\n                throw new Error('process.chdir is not supported');\n              };\n              process.umask = function () {\n                return 0;\n              };\n            },\n            {}\n          ],\n          2: [\n            function (require, module, exports) {\n              (function (setImmediate) {\n                (function (root) {\n                  var setTimeoutFunc = setTimeout;\n                  function noop() {\n                  }\n                  function bind(fn, thisArg) {\n                    return function () {\n                      fn.apply(thisArg, arguments);\n                    };\n                  }\n                  function Promise(fn) {\n                    if (typeof this !== 'object')\n                      throw new TypeError('Promises must be constructed via new');\n                    if (typeof fn !== 'function')\n                      throw new TypeError('not a function');\n                    this._state = 0;\n                    this._handled = false;\n                    this._value = undefined;\n                    this._deferreds = [];\n                    doResolve(fn, this);\n                  }\n                  function handle(self, deferred) {\n                    while (self._state === 3) {\n                      self = self._value;\n                    }\n                    if (self._state === 0) {\n                      self._deferreds.push(deferred);\n                      return;\n                    }\n                    self._handled = true;\n                    Promise._immediateFn(function () {\n                      var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;\n                      if (cb === null) {\n                        (self._state === 1 ? resolve : reject)(deferred.promise, self._value);\n                        return;\n                      }\n                      var ret;\n                      try {\n                        ret = cb(self._value);\n                      } catch (e) {\n                        reject(deferred.promise, e);\n                        return;\n                      }\n                      resolve(deferred.promise, ret);\n                    });\n                  }\n                  function resolve(self, newValue) {\n                    try {\n                      if (newValue === self)\n                        throw new TypeError('A promise cannot be resolved with itself.');\n                      if (newValue && (typeof newValue === 'object' || typeof newValue === 'function')) {\n                        var then = newValue.then;\n                        if (newValue instanceof Promise) {\n                          self._state = 3;\n                          self._value = newValue;\n                          finale(self);\n                          return;\n                        } else if (typeof then === 'function') {\n                          doResolve(bind(then, newValue), self);\n                          return;\n                        }\n                      }\n                      self._state = 1;\n                      self._value = newValue;\n                      finale(self);\n                    } catch (e) {\n                      reject(self, e);\n                    }\n                  }\n                  function reject(self, newValue) {\n                    self._state = 2;\n                    self._value = newValue;\n                    finale(self);\n                  }\n                  function finale(self) {\n                    if (self._state === 2 && self._deferreds.length === 0) {\n                      Promise._immediateFn(function () {\n                        if (!self._handled) {\n                          Promise._unhandledRejectionFn(self._value);\n                        }\n                      });\n                    }\n                    for (var i = 0, len = self._deferreds.length; i < len; i++) {\n                      handle(self, self._deferreds[i]);\n                    }\n                    self._deferreds = null;\n                  }\n                  function Handler(onFulfilled, onRejected, promise) {\n                    this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n                    this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n                    this.promise = promise;\n                  }\n                  function doResolve(fn, self) {\n                    var done = false;\n                    try {\n                      fn(function (value) {\n                        if (done)\n                          return;\n                        done = true;\n                        resolve(self, value);\n                      }, function (reason) {\n                        if (done)\n                          return;\n                        done = true;\n                        reject(self, reason);\n                      });\n                    } catch (ex) {\n                      if (done)\n                        return;\n                      done = true;\n                      reject(self, ex);\n                    }\n                  }\n                  Promise.prototype['catch'] = function (onRejected) {\n                    return this.then(null, onRejected);\n                  };\n                  Promise.prototype.then = function (onFulfilled, onRejected) {\n                    var prom = new this.constructor(noop);\n                    handle(this, new Handler(onFulfilled, onRejected, prom));\n                    return prom;\n                  };\n                  Promise.all = function (arr) {\n                    var args = Array.prototype.slice.call(arr);\n                    return new Promise(function (resolve, reject) {\n                      if (args.length === 0)\n                        return resolve([]);\n                      var remaining = args.length;\n                      function res(i, val) {\n                        try {\n                          if (val && (typeof val === 'object' || typeof val === 'function')) {\n                            var then = val.then;\n                            if (typeof then === 'function') {\n                              then.call(val, function (val) {\n                                res(i, val);\n                              }, reject);\n                              return;\n                            }\n                          }\n                          args[i] = val;\n                          if (--remaining === 0) {\n                            resolve(args);\n                          }\n                        } catch (ex) {\n                          reject(ex);\n                        }\n                      }\n                      for (var i = 0; i < args.length; i++) {\n                        res(i, args[i]);\n                      }\n                    });\n                  };\n                  Promise.resolve = function (value) {\n                    if (value && typeof value === 'object' && value.constructor === Promise) {\n                      return value;\n                    }\n                    return new Promise(function (resolve) {\n                      resolve(value);\n                    });\n                  };\n                  Promise.reject = function (value) {\n                    return new Promise(function (resolve, reject) {\n                      reject(value);\n                    });\n                  };\n                  Promise.race = function (values) {\n                    return new Promise(function (resolve, reject) {\n                      for (var i = 0, len = values.length; i < len; i++) {\n                        values[i].then(resolve, reject);\n                      }\n                    });\n                  };\n                  Promise._immediateFn = typeof setImmediate === 'function' ? function (fn) {\n                    setImmediate(fn);\n                  } : function (fn) {\n                    setTimeoutFunc(fn, 0);\n                  };\n                  Promise._unhandledRejectionFn = function _unhandledRejectionFn(err) {\n                    if (typeof console !== 'undefined' && console) {\n                      console.warn('Possible Unhandled Promise Rejection:', err);\n                    }\n                  };\n                  Promise._setImmediateFn = function _setImmediateFn(fn) {\n                    Promise._immediateFn = fn;\n                  };\n                  Promise._setUnhandledRejectionFn = function _setUnhandledRejectionFn(fn) {\n                    Promise._unhandledRejectionFn = fn;\n                  };\n                  if (typeof module !== 'undefined' && module.exports) {\n                    module.exports = Promise;\n                  } else if (!root.Promise) {\n                    root.Promise = Promise;\n                  }\n                }(this));\n              }.call(this, require('timers').setImmediate));\n            },\n            { 'timers': 3 }\n          ],\n          3: [\n            function (require, module, exports) {\n              (function (setImmediate, clearImmediate) {\n                var nextTick = require('process/browser.js').nextTick;\n                var apply = Function.prototype.apply;\n                var slice = Array.prototype.slice;\n                var immediateIds = {};\n                var nextImmediateId = 0;\n                exports.setTimeout = function () {\n                  return new Timeout(apply.call(setTimeout, window, arguments), clearTimeout);\n                };\n                exports.setInterval = function () {\n                  return new Timeout(apply.call(setInterval, window, arguments), clearInterval);\n                };\n                exports.clearTimeout = exports.clearInterval = function (timeout) {\n                  timeout.close();\n                };\n                function Timeout(id, clearFn) {\n                  this._id = id;\n                  this._clearFn = clearFn;\n                }\n                Timeout.prototype.unref = Timeout.prototype.ref = function () {\n                };\n                Timeout.prototype.close = function () {\n                  this._clearFn.call(window, this._id);\n                };\n                exports.enroll = function (item, msecs) {\n                  clearTimeout(item._idleTimeoutId);\n                  item._idleTimeout = msecs;\n                };\n                exports.unenroll = function (item) {\n                  clearTimeout(item._idleTimeoutId);\n                  item._idleTimeout = -1;\n                };\n                exports._unrefActive = exports.active = function (item) {\n                  clearTimeout(item._idleTimeoutId);\n                  var msecs = item._idleTimeout;\n                  if (msecs >= 0) {\n                    item._idleTimeoutId = setTimeout(function onTimeout() {\n                      if (item._onTimeout)\n                        item._onTimeout();\n                    }, msecs);\n                  }\n                };\n                exports.setImmediate = typeof setImmediate === 'function' ? setImmediate : function (fn) {\n                  var id = nextImmediateId++;\n                  var args = arguments.length < 2 ? false : slice.call(arguments, 1);\n                  immediateIds[id] = true;\n                  nextTick(function onNextTick() {\n                    if (immediateIds[id]) {\n                      if (args) {\n                        fn.apply(null, args);\n                      } else {\n                        fn.call(null);\n                      }\n                      exports.clearImmediate(id);\n                    }\n                  });\n                  return id;\n                };\n                exports.clearImmediate = typeof clearImmediate === 'function' ? clearImmediate : function (id) {\n                  delete immediateIds[id];\n                };\n              }.call(this, require('timers').setImmediate, require('timers').clearImmediate));\n            },\n            {\n              'process/browser.js': 1,\n              'timers': 3\n            }\n          ],\n          4: [\n            function (require, module, exports) {\n              var promisePolyfill = require('promise-polyfill');\n              var Global = function () {\n                if (typeof window !== 'undefined') {\n                  return window;\n                } else {\n                  return Function('return this;')();\n                }\n              }();\n              module.exports = { boltExport: Global.Promise || promisePolyfill };\n            },\n            { 'promise-polyfill': 2 }\n          ]\n        }, {}, [4])(4);\n      }));\n    }(undefined, exports$1, module$1, undefined));\n    var Promise = module$1.exports.boltExport;\n\n    var nu$3 = function (baseFn) {\n      var data = Option.none();\n      var callbacks = [];\n      var map = function (f) {\n        return nu$3(function (nCallback) {\n          get(function (data) {\n            nCallback(f(data));\n          });\n        });\n      };\n      var get = function (nCallback) {\n        if (isReady()) {\n          call(nCallback);\n        } else {\n          callbacks.push(nCallback);\n        }\n      };\n      var set = function (x) {\n        data = Option.some(x);\n        run(callbacks);\n        callbacks = [];\n      };\n      var isReady = function () {\n        return data.isSome();\n      };\n      var run = function (cbs) {\n        each(cbs, call);\n      };\n      var call = function (cb) {\n        data.each(function (x) {\n          domGlobals.setTimeout(function () {\n            cb(x);\n          }, 0);\n        });\n      };\n      baseFn(set);\n      return {\n        get: get,\n        map: map,\n        isReady: isReady\n      };\n    };\n    var pure = function (a) {\n      return nu$3(function (callback) {\n        callback(a);\n      });\n    };\n    var LazyValue = {\n      nu: nu$3,\n      pure: pure\n    };\n\n    var errorReporter = function (err) {\n      domGlobals.setTimeout(function () {\n        throw err;\n      }, 0);\n    };\n    var make = function (run) {\n      var get = function (callback) {\n        run().then(callback, errorReporter);\n      };\n      var map = function (fab) {\n        return make(function () {\n          return run().then(fab);\n        });\n      };\n      var bind = function (aFutureB) {\n        return make(function () {\n          return run().then(function (v) {\n            return aFutureB(v).toPromise();\n          });\n        });\n      };\n      var anonBind = function (futureB) {\n        return make(function () {\n          return run().then(function () {\n            return futureB.toPromise();\n          });\n        });\n      };\n      var toLazy = function () {\n        return LazyValue.nu(get);\n      };\n      var toCached = function () {\n        var cache = null;\n        return make(function () {\n          if (cache === null) {\n            cache = run();\n          }\n          return cache;\n        });\n      };\n      var toPromise = run;\n      return {\n        map: map,\n        bind: bind,\n        anonBind: anonBind,\n        toLazy: toLazy,\n        toCached: toCached,\n        toPromise: toPromise,\n        get: get\n      };\n    };\n    var nu$4 = function (baseFn) {\n      return make(function () {\n        return new Promise(baseFn);\n      });\n    };\n    var pure$1 = function (a) {\n      return make(function () {\n        return Promise.resolve(a);\n      });\n    };\n    var Future = {\n      nu: nu$4,\n      pure: pure$1\n    };\n\n    var par = function (asyncValues, nu) {\n      return nu(function (callback) {\n        var r = [];\n        var count = 0;\n        var cb = function (i) {\n          return function (value) {\n            r[i] = value;\n            count++;\n            if (count >= asyncValues.length) {\n              callback(r);\n            }\n          };\n        };\n        if (asyncValues.length === 0) {\n          callback([]);\n        } else {\n          each(asyncValues, function (asyncValue, i) {\n            asyncValue.get(cb(i));\n          });\n        }\n      });\n    };\n\n    var par$1 = function (futures) {\n      return par(futures, Future.nu);\n    };\n\n    var value = function (o) {\n      var is = function (v) {\n        return o === v;\n      };\n      var or = function (opt) {\n        return value(o);\n      };\n      var orThunk = function (f) {\n        return value(o);\n      };\n      var map = function (f) {\n        return value(f(o));\n      };\n      var mapError = function (f) {\n        return value(o);\n      };\n      var each = function (f) {\n        f(o);\n      };\n      var bind = function (f) {\n        return f(o);\n      };\n      var fold = function (_, onValue) {\n        return onValue(o);\n      };\n      var exists = function (f) {\n        return f(o);\n      };\n      var forall = function (f) {\n        return f(o);\n      };\n      var toOption = function () {\n        return Option.some(o);\n      };\n      return {\n        is: is,\n        isValue: always,\n        isError: never,\n        getOr: constant(o),\n        getOrThunk: constant(o),\n        getOrDie: constant(o),\n        or: or,\n        orThunk: orThunk,\n        fold: fold,\n        map: map,\n        mapError: mapError,\n        each: each,\n        bind: bind,\n        exists: exists,\n        forall: forall,\n        toOption: toOption\n      };\n    };\n    var error = function (message) {\n      var getOrThunk = function (f) {\n        return f();\n      };\n      var getOrDie = function () {\n        return die(String(message))();\n      };\n      var or = function (opt) {\n        return opt;\n      };\n      var orThunk = function (f) {\n        return f();\n      };\n      var map = function (f) {\n        return error(message);\n      };\n      var mapError = function (f) {\n        return error(f(message));\n      };\n      var bind = function (f) {\n        return error(message);\n      };\n      var fold = function (onError, _) {\n        return onError(message);\n      };\n      return {\n        is: never,\n        isValue: never,\n        isError: always,\n        getOr: identity,\n        getOrThunk: getOrThunk,\n        getOrDie: getOrDie,\n        or: or,\n        orThunk: orThunk,\n        fold: fold,\n        map: map,\n        mapError: mapError,\n        each: noop,\n        bind: bind,\n        exists: never,\n        forall: always,\n        toOption: Option.none\n      };\n    };\n    var fromOption = function (opt, err) {\n      return opt.fold(function () {\n        return error(err);\n      }, value);\n    };\n    var Result = {\n      value: value,\n      error: error,\n      fromOption: fromOption\n    };\n\n    function StyleSheetLoader(document, settings) {\n      if (settings === void 0) {\n        settings = {};\n      }\n      var idCount = 0;\n      var loadedStates = {};\n      var maxLoadTime;\n      maxLoadTime = settings.maxLoadTime || 5000;\n      var appendToHead = function (node) {\n        document.getElementsByTagName('head')[0].appendChild(node);\n      };\n      var load = function (url, loadedCallback, errorCallback) {\n        var link, style, startTime, state;\n        var passed = function () {\n          var callbacks = state.passed;\n          var i = callbacks.length;\n          while (i--) {\n            callbacks[i]();\n          }\n          state.status = 2;\n          state.passed = [];\n          state.failed = [];\n        };\n        var failed = function () {\n          var callbacks = state.failed;\n          var i = callbacks.length;\n          while (i--) {\n            callbacks[i]();\n          }\n          state.status = 3;\n          state.passed = [];\n          state.failed = [];\n        };\n        var isOldWebKit = function () {\n          var webKitChunks = domGlobals.navigator.userAgent.match(/WebKit\\/(\\d*)/);\n          return !!(webKitChunks && parseInt(webKitChunks[1], 10) < 536);\n        };\n        var wait = function (testCallback, waitCallback) {\n          if (!testCallback()) {\n            if (new Date().getTime() - startTime < maxLoadTime) {\n              Delay.setTimeout(waitCallback);\n            } else {\n              failed();\n            }\n          }\n        };\n        var waitForWebKitLinkLoaded = function () {\n          wait(function () {\n            var styleSheets = document.styleSheets;\n            var styleSheet, i = styleSheets.length, owner;\n            while (i--) {\n              styleSheet = styleSheets[i];\n              owner = styleSheet.ownerNode ? styleSheet.ownerNode : styleSheet.owningElement;\n              if (owner && owner.id === link.id) {\n                passed();\n                return true;\n              }\n            }\n          }, waitForWebKitLinkLoaded);\n        };\n        var waitForGeckoLinkLoaded = function () {\n          wait(function () {\n            try {\n              var cssRules = style.sheet.cssRules;\n              passed();\n              return !!cssRules;\n            } catch (ex) {\n            }\n          }, waitForGeckoLinkLoaded);\n        };\n        url = Tools._addCacheSuffix(url);\n        if (!loadedStates[url]) {\n          state = {\n            passed: [],\n            failed: []\n          };\n          loadedStates[url] = state;\n        } else {\n          state = loadedStates[url];\n        }\n        if (loadedCallback) {\n          state.passed.push(loadedCallback);\n        }\n        if (errorCallback) {\n          state.failed.push(errorCallback);\n        }\n        if (state.status === 1) {\n          return;\n        }\n        if (state.status === 2) {\n          passed();\n          return;\n        }\n        if (state.status === 3) {\n          failed();\n          return;\n        }\n        state.status = 1;\n        link = document.createElement('link');\n        link.rel = 'stylesheet';\n        link.type = 'text/css';\n        link.id = 'u' + idCount++;\n        link.async = false;\n        link.defer = false;\n        startTime = new Date().getTime();\n        if (settings.contentCssCors) {\n          link.crossOrigin = 'anonymous';\n        }\n        if ('onload' in link && !isOldWebKit()) {\n          link.onload = waitForWebKitLinkLoaded;\n          link.onerror = failed;\n        } else {\n          if (domGlobals.navigator.userAgent.indexOf('Firefox') > 0) {\n            style = document.createElement('style');\n            style.textContent = '@import \"' + url + '\"';\n            waitForGeckoLinkLoaded();\n            appendToHead(style);\n            return;\n          }\n          waitForWebKitLinkLoaded();\n        }\n        appendToHead(link);\n        link.href = url;\n      };\n      var loadF = function (url) {\n        return Future.nu(function (resolve) {\n          load(url, compose(resolve, constant(Result.value(url))), compose(resolve, constant(Result.error(url))));\n        });\n      };\n      var unbox = function (result) {\n        return result.fold(identity, identity);\n      };\n      var loadAll = function (urls, success, failure) {\n        par$1(map(urls, loadF)).get(function (result) {\n          var parts = partition(result, function (r) {\n            return r.isValue();\n          });\n          if (parts.fail.length > 0) {\n            failure(parts.fail.map(unbox));\n          } else {\n            success(parts.pass.map(unbox));\n          }\n        });\n      };\n      return {\n        load: load,\n        loadAll: loadAll\n      };\n    }\n\n    function TreeWalker (startNode, rootNode) {\n      var node = startNode;\n      var findSibling = function (node, startName, siblingName, shallow) {\n        var sibling, parent;\n        if (node) {\n          if (!shallow && node[startName]) {\n            return node[startName];\n          }\n          if (node !== rootNode) {\n            sibling = node[siblingName];\n            if (sibling) {\n              return sibling;\n            }\n            for (parent = node.parentNode; parent && parent !== rootNode; parent = parent.parentNode) {\n              sibling = parent[siblingName];\n              if (sibling) {\n                return sibling;\n              }\n            }\n          }\n        }\n      };\n      var findPreviousNode = function (node, startName, siblingName, shallow) {\n        var sibling, parent, child;\n        if (node) {\n          sibling = node[siblingName];\n          if (rootNode && sibling === rootNode) {\n            return;\n          }\n          if (sibling) {\n            if (!shallow) {\n              for (child = sibling[startName]; child; child = child[startName]) {\n                if (!child[startName]) {\n                  return child;\n                }\n              }\n            }\n            return sibling;\n          }\n          parent = node.parentNode;\n          if (parent && parent !== rootNode) {\n            return parent;\n          }\n        }\n      };\n      this.current = function () {\n        return node;\n      };\n      this.next = function (shallow) {\n        node = findSibling(node, 'firstChild', 'nextSibling', shallow);\n        return node;\n      };\n      this.prev = function (shallow) {\n        node = findSibling(node, 'lastChild', 'previousSibling', shallow);\n        return node;\n      };\n      this.prev2 = function (shallow) {\n        node = findPreviousNode(node, 'lastChild', 'previousSibling', shallow);\n        return node;\n      };\n    }\n\n    var blocks = [\n      'article',\n      'aside',\n      'details',\n      'div',\n      'dt',\n      'figcaption',\n      'footer',\n      'form',\n      'fieldset',\n      'header',\n      'hgroup',\n      'html',\n      'main',\n      'nav',\n      'section',\n      'summary',\n      'body',\n      'p',\n      'dl',\n      'multicol',\n      'dd',\n      'figure',\n      'address',\n      'center',\n      'blockquote',\n      'h1',\n      'h2',\n      'h3',\n      'h4',\n      'h5',\n      'h6',\n      'listing',\n      'xmp',\n      'pre',\n      'plaintext',\n      'menu',\n      'dir',\n      'ul',\n      'ol',\n      'li',\n      'hr',\n      'table',\n      'tbody',\n      'thead',\n      'tfoot',\n      'th',\n      'tr',\n      'td',\n      'caption'\n    ];\n    var voids = [\n      'area',\n      'base',\n      'basefont',\n      'br',\n      'col',\n      'frame',\n      'hr',\n      'img',\n      'input',\n      'isindex',\n      'link',\n      'meta',\n      'param',\n      'embed',\n      'source',\n      'wbr',\n      'track'\n    ];\n    var tableCells = [\n      'td',\n      'th'\n    ];\n    var tableSections = [\n      'thead',\n      'tbody',\n      'tfoot'\n    ];\n    var textBlocks = [\n      'h1',\n      'h2',\n      'h3',\n      'h4',\n      'h5',\n      'h6',\n      'p',\n      'div',\n      'address',\n      'pre',\n      'form',\n      'blockquote',\n      'center',\n      'dir',\n      'fieldset',\n      'header',\n      'footer',\n      'article',\n      'section',\n      'hgroup',\n      'aside',\n      'nav',\n      'figure'\n    ];\n    var headings = [\n      'h1',\n      'h2',\n      'h3',\n      'h4',\n      'h5',\n      'h6'\n    ];\n    var listItems = [\n      'li',\n      'dd',\n      'dt'\n    ];\n    var lists = [\n      'ul',\n      'ol',\n      'dl'\n    ];\n    var wsElements = [\n      'pre',\n      'script',\n      'textarea',\n      'style'\n    ];\n    var lazyLookup = function (items) {\n      var lookup;\n      return function (node) {\n        lookup = lookup ? lookup : mapToObject(items, constant(true));\n        return lookup.hasOwnProperty(name(node));\n      };\n    };\n    var isHeading = lazyLookup(headings);\n    var isBlock = lazyLookup(blocks);\n    var isInline = function (node) {\n      return isElement(node) && !isBlock(node);\n    };\n    var isBr = function (node) {\n      return isElement(node) && name(node) === 'br';\n    };\n    var isTextBlock = lazyLookup(textBlocks);\n    var isList = lazyLookup(lists);\n    var isListItem = lazyLookup(listItems);\n    var isVoid = lazyLookup(voids);\n    var isTableSection = lazyLookup(tableSections);\n    var isTableCell = lazyLookup(tableCells);\n    var isWsPreserveElement = lazyLookup(wsElements);\n\n    var isNodeType = function (type) {\n      return function (node) {\n        return !!node && node.nodeType === type;\n      };\n    };\n    var isRestrictedNode = function (node) {\n      return !!node && !Object.getPrototypeOf(node);\n    };\n    var isElement$1 = isNodeType(1);\n    var matchNodeNames = function (names) {\n      var items = names.toLowerCase().split(' ');\n      return function (node) {\n        var i, name;\n        if (node && node.nodeType) {\n          name = node.nodeName.toLowerCase();\n          for (i = 0; i < items.length; i++) {\n            if (name === items[i]) {\n              return true;\n            }\n          }\n        }\n        return false;\n      };\n    };\n    var matchStyleValues = function (name, values) {\n      var items = values.toLowerCase().split(' ');\n      return function (node) {\n        var i, cssValue;\n        if (isElement$1(node)) {\n          for (i = 0; i < items.length; i++) {\n            var computed = node.ownerDocument.defaultView.getComputedStyle(node, null);\n            cssValue = computed ? computed.getPropertyValue(name) : null;\n            if (cssValue === items[i]) {\n              return true;\n            }\n          }\n        }\n        return false;\n      };\n    };\n    var hasPropValue = function (propName, propValue) {\n      return function (node) {\n        return isElement$1(node) && node[propName] === propValue;\n      };\n    };\n    var hasAttribute = function (attrName, attrValue) {\n      return function (node) {\n        return isElement$1(node) && node.hasAttribute(attrName);\n      };\n    };\n    var hasAttributeValue = function (attrName, attrValue) {\n      return function (node) {\n        return isElement$1(node) && node.getAttribute(attrName) === attrValue;\n      };\n    };\n    var isBogus = function (node) {\n      return isElement$1(node) && node.hasAttribute('data-mce-bogus');\n    };\n    var isBogusAll = function (node) {\n      return isElement$1(node) && node.getAttribute('data-mce-bogus') === 'all';\n    };\n    var isTable = function (node) {\n      return isElement$1(node) && node.tagName === 'TABLE';\n    };\n    var hasContentEditableState = function (value) {\n      return function (node) {\n        if (isElement$1(node)) {\n          if (node.contentEditable === value) {\n            return true;\n          }\n          if (node.getAttribute('data-mce-contenteditable') === value) {\n            return true;\n          }\n        }\n        return false;\n      };\n    };\n    var isText$1 = isNodeType(3);\n    var isComment = isNodeType(8);\n    var isDocument = isNodeType(9);\n    var isDocumentFragment = isNodeType(11);\n    var isBr$1 = matchNodeNames('br');\n    var isContentEditableTrue = hasContentEditableState('true');\n    var isContentEditableFalse = hasContentEditableState('false');\n    var NodeType = {\n      isText: isText$1,\n      isElement: isElement$1,\n      isComment: isComment,\n      isDocument: isDocument,\n      isDocumentFragment: isDocumentFragment,\n      isBr: isBr$1,\n      isContentEditableTrue: isContentEditableTrue,\n      isContentEditableFalse: isContentEditableFalse,\n      isRestrictedNode: isRestrictedNode,\n      matchNodeNames: matchNodeNames,\n      hasPropValue: hasPropValue,\n      hasAttribute: hasAttribute,\n      hasAttributeValue: hasAttributeValue,\n      matchStyleValues: matchStyleValues,\n      isBogus: isBogus,\n      isBogusAll: isBogusAll,\n      isTable: isTable\n    };\n\n    var surroundedBySpans = function (node) {\n      var previousIsSpan = node.previousSibling && node.previousSibling.nodeName === 'SPAN';\n      var nextIsSpan = node.nextSibling && node.nextSibling.nodeName === 'SPAN';\n      return previousIsSpan && nextIsSpan;\n    };\n    var isBookmarkNode = function (node) {\n      return node && node.tagName === 'SPAN' && node.getAttribute('data-mce-type') === 'bookmark';\n    };\n    var trimNode = function (dom, node) {\n      var i, children = node.childNodes;\n      if (NodeType.isElement(node) && isBookmarkNode(node)) {\n        return;\n      }\n      for (i = children.length - 1; i >= 0; i--) {\n        trimNode(dom, children[i]);\n      }\n      if (NodeType.isDocument(node) === false) {\n        if (NodeType.isText(node) && node.nodeValue.length > 0) {\n          var trimmedLength = Tools.trim(node.nodeValue).length;\n          if (dom.isBlock(node.parentNode) || trimmedLength > 0) {\n            return;\n          }\n          if (trimmedLength === 0 && surroundedBySpans(node)) {\n            return;\n          }\n        } else if (NodeType.isElement(node)) {\n          children = node.childNodes;\n          if (children.length === 1 && isBookmarkNode(children[0])) {\n            node.parentNode.insertBefore(children[0], node);\n          }\n          if (children.length || isVoid(Element.fromDom(node))) {\n            return;\n          }\n        }\n        dom.remove(node);\n      }\n      return node;\n    };\n    var TrimNode = { trimNode: trimNode };\n\n    var makeMap$1 = Tools.makeMap;\n    var namedEntities, baseEntities, reverseEntities;\n    var attrsCharsRegExp = /[&<>\\\"\\u0060\\u007E-\\uD7FF\\uE000-\\uFFEF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g;\n    var textCharsRegExp = /[<>&\\u007E-\\uD7FF\\uE000-\\uFFEF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g;\n    var rawCharsRegExp = /[<>&\\\"\\']/g;\n    var entityRegExp = /&#([a-z0-9]+);?|&([a-z0-9]+);/gi;\n    var asciiMap = {\n      128: '\\u20AC',\n      130: '\\u201A',\n      131: '\\u0192',\n      132: '\\u201E',\n      133: '\\u2026',\n      134: '\\u2020',\n      135: '\\u2021',\n      136: '\\u02c6',\n      137: '\\u2030',\n      138: '\\u0160',\n      139: '\\u2039',\n      140: '\\u0152',\n      142: '\\u017d',\n      145: '\\u2018',\n      146: '\\u2019',\n      147: '\\u201C',\n      148: '\\u201D',\n      149: '\\u2022',\n      150: '\\u2013',\n      151: '\\u2014',\n      152: '\\u02DC',\n      153: '\\u2122',\n      154: '\\u0161',\n      155: '\\u203A',\n      156: '\\u0153',\n      158: '\\u017e',\n      159: '\\u0178'\n    };\n    baseEntities = {\n      '\"': '&quot;',\n      '\\'': '&#39;',\n      '<': '&lt;',\n      '>': '&gt;',\n      '&': '&amp;',\n      '`': '&#96;'\n    };\n    reverseEntities = {\n      '&lt;': '<',\n      '&gt;': '>',\n      '&amp;': '&',\n      '&quot;': '\"',\n      '&apos;': '\\''\n    };\n    var nativeDecode = function (text) {\n      var elm;\n      elm = Element.fromTag('div').dom();\n      elm.innerHTML = text;\n      return elm.textContent || elm.innerText || text;\n    };\n    var buildEntitiesLookup = function (items, radix) {\n      var i, chr, entity;\n      var lookup = {};\n      if (items) {\n        items = items.split(',');\n        radix = radix || 10;\n        for (i = 0; i < items.length; i += 2) {\n          chr = String.fromCharCode(parseInt(items[i], radix));\n          if (!baseEntities[chr]) {\n            entity = '&' + items[i + 1] + ';';\n            lookup[chr] = entity;\n            lookup[entity] = chr;\n          }\n        }\n        return lookup;\n      }\n    };\n    namedEntities = buildEntitiesLookup('50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,' + '5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,' + '5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,' + '5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,' + '68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,' + '6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,' + '6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,' + '75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,' + '7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,' + '7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,' + 'sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,' + 'st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,' + 't9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,' + 'tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,' + 'u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,' + '81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,' + '8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,' + '8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,' + '8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,' + '8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,' + 'nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,' + 'rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,' + 'Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,' + '80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,' + '811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro', 32);\n    var encodeRaw = function (text, attr) {\n      return text.replace(attr ? attrsCharsRegExp : textCharsRegExp, function (chr) {\n        return baseEntities[chr] || chr;\n      });\n    };\n    var encodeAllRaw = function (text) {\n      return ('' + text).replace(rawCharsRegExp, function (chr) {\n        return baseEntities[chr] || chr;\n      });\n    };\n    var encodeNumeric = function (text, attr) {\n      return text.replace(attr ? attrsCharsRegExp : textCharsRegExp, function (chr) {\n        if (chr.length > 1) {\n          return '&#' + ((chr.charCodeAt(0) - 55296) * 1024 + (chr.charCodeAt(1) - 56320) + 65536) + ';';\n        }\n        return baseEntities[chr] || '&#' + chr.charCodeAt(0) + ';';\n      });\n    };\n    var encodeNamed = function (text, attr, entities) {\n      entities = entities || namedEntities;\n      return text.replace(attr ? attrsCharsRegExp : textCharsRegExp, function (chr) {\n        return baseEntities[chr] || entities[chr] || chr;\n      });\n    };\n    var getEncodeFunc = function (name, entities) {\n      var entitiesMap = buildEntitiesLookup(entities) || namedEntities;\n      var encodeNamedAndNumeric = function (text, attr) {\n        return text.replace(attr ? attrsCharsRegExp : textCharsRegExp, function (chr) {\n          if (baseEntities[chr] !== undefined) {\n            return baseEntities[chr];\n          }\n          if (entitiesMap[chr] !== undefined) {\n            return entitiesMap[chr];\n          }\n          if (chr.length > 1) {\n            return '&#' + ((chr.charCodeAt(0) - 55296) * 1024 + (chr.charCodeAt(1) - 56320) + 65536) + ';';\n          }\n          return '&#' + chr.charCodeAt(0) + ';';\n        });\n      };\n      var encodeCustomNamed = function (text, attr) {\n        return encodeNamed(text, attr, entitiesMap);\n      };\n      var nameMap = makeMap$1(name.replace(/\\+/g, ','));\n      if (nameMap.named && nameMap.numeric) {\n        return encodeNamedAndNumeric;\n      }\n      if (nameMap.named) {\n        if (entities) {\n          return encodeCustomNamed;\n        }\n        return encodeNamed;\n      }\n      if (nameMap.numeric) {\n        return encodeNumeric;\n      }\n      return encodeRaw;\n    };\n    var decode = function (text) {\n      return text.replace(entityRegExp, function (all, numeric) {\n        if (numeric) {\n          if (numeric.charAt(0).toLowerCase() === 'x') {\n            numeric = parseInt(numeric.substr(1), 16);\n          } else {\n            numeric = parseInt(numeric, 10);\n          }\n          if (numeric > 65535) {\n            numeric -= 65536;\n            return String.fromCharCode(55296 + (numeric >> 10), 56320 + (numeric & 1023));\n          }\n          return asciiMap[numeric] || String.fromCharCode(numeric);\n        }\n        return reverseEntities[all] || namedEntities[all] || nativeDecode(all);\n      });\n    };\n    var Entities = {\n      encodeRaw: encodeRaw,\n      encodeAllRaw: encodeAllRaw,\n      encodeNumeric: encodeNumeric,\n      encodeNamed: encodeNamed,\n      getEncodeFunc: getEncodeFunc,\n      decode: decode\n    };\n\n    var mapCache = {}, dummyObj = {};\n    var makeMap$2 = Tools.makeMap, each$4 = Tools.each, extend$1 = Tools.extend, explode$1 = Tools.explode, inArray$1 = Tools.inArray;\n    var split = function (items, delim) {\n      items = Tools.trim(items);\n      return items ? items.split(delim || ' ') : [];\n    };\n    var compileSchema = function (type) {\n      var schema = {};\n      var globalAttributes, blockContent;\n      var phrasingContent, flowContent, html4BlockContent, html4PhrasingContent;\n      var add = function (name, attributes, children) {\n        var ni, attributesOrder, element;\n        var arrayToMap = function (array, obj) {\n          var map = {};\n          var i, l;\n          for (i = 0, l = array.length; i < l; i++) {\n            map[array[i]] = obj || {};\n          }\n          return map;\n        };\n        children = children || [];\n        attributes = attributes || '';\n        if (typeof children === 'string') {\n          children = split(children);\n        }\n        name = split(name);\n        ni = name.length;\n        while (ni--) {\n          attributesOrder = split([\n            globalAttributes,\n            attributes\n          ].join(' '));\n          element = {\n            attributes: arrayToMap(attributesOrder),\n            attributesOrder: attributesOrder,\n            children: arrayToMap(children, dummyObj)\n          };\n          schema[name[ni]] = element;\n        }\n      };\n      var addAttrs = function (name, attributes) {\n        var ni, schemaItem, i, l;\n        name = split(name);\n        ni = name.length;\n        attributes = split(attributes);\n        while (ni--) {\n          schemaItem = schema[name[ni]];\n          for (i = 0, l = attributes.length; i < l; i++) {\n            schemaItem.attributes[attributes[i]] = {};\n            schemaItem.attributesOrder.push(attributes[i]);\n          }\n        }\n      };\n      if (mapCache[type]) {\n        return mapCache[type];\n      }\n      globalAttributes = 'id accesskey class dir lang style tabindex title role';\n      blockContent = 'address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul';\n      phrasingContent = 'a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd ' + 'label map noscript object q s samp script select small span strong sub sup ' + 'textarea u var #text #comment';\n      if (type !== 'html4') {\n        globalAttributes += ' contenteditable contextmenu draggable dropzone ' + 'hidden spellcheck translate';\n        blockContent += ' article aside details dialog figure main header footer hgroup section nav';\n        phrasingContent += ' audio canvas command datalist mark meter output picture ' + 'progress time wbr video ruby bdi keygen';\n      }\n      if (type !== 'html5-strict') {\n        globalAttributes += ' xml:lang';\n        html4PhrasingContent = 'acronym applet basefont big font strike tt';\n        phrasingContent = [\n          phrasingContent,\n          html4PhrasingContent\n        ].join(' ');\n        each$4(split(html4PhrasingContent), function (name) {\n          add(name, '', phrasingContent);\n        });\n        html4BlockContent = 'center dir isindex noframes';\n        blockContent = [\n          blockContent,\n          html4BlockContent\n        ].join(' ');\n        flowContent = [\n          blockContent,\n          phrasingContent\n        ].join(' ');\n        each$4(split(html4BlockContent), function (name) {\n          add(name, '', flowContent);\n        });\n      }\n      flowContent = flowContent || [\n        blockContent,\n        phrasingContent\n      ].join(' ');\n      add('html', 'manifest', 'head body');\n      add('head', '', 'base command link meta noscript script style title');\n      add('title hr noscript br');\n      add('base', 'href target');\n      add('link', 'href rel media hreflang type sizes hreflang');\n      add('meta', 'name http-equiv content charset');\n      add('style', 'media type scoped');\n      add('script', 'src async defer type charset');\n      add('body', 'onafterprint onbeforeprint onbeforeunload onblur onerror onfocus ' + 'onhashchange onload onmessage onoffline ononline onpagehide onpageshow ' + 'onpopstate onresize onscroll onstorage onunload', flowContent);\n      add('address dt dd div caption', '', flowContent);\n      add('h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn', '', phrasingContent);\n      add('blockquote', 'cite', flowContent);\n      add('ol', 'reversed start type', 'li');\n      add('ul', '', 'li');\n      add('li', 'value', flowContent);\n      add('dl', '', 'dt dd');\n      add('a', 'href target rel media hreflang type', phrasingContent);\n      add('q', 'cite', phrasingContent);\n      add('ins del', 'cite datetime', flowContent);\n      add('img', 'src sizes srcset alt usemap ismap width height');\n      add('iframe', 'src name width height', flowContent);\n      add('embed', 'src type width height');\n      add('object', 'data type typemustmatch name usemap form width height', [\n        flowContent,\n        'param'\n      ].join(' '));\n      add('param', 'name value');\n      add('map', 'name', [\n        flowContent,\n        'area'\n      ].join(' '));\n      add('area', 'alt coords shape href target rel media hreflang type');\n      add('table', 'border', 'caption colgroup thead tfoot tbody tr' + (type === 'html4' ? ' col' : ''));\n      add('colgroup', 'span', 'col');\n      add('col', 'span');\n      add('tbody thead tfoot', '', 'tr');\n      add('tr', '', 'td th');\n      add('td', 'colspan rowspan headers', flowContent);\n      add('th', 'colspan rowspan headers scope abbr', flowContent);\n      add('form', 'accept-charset action autocomplete enctype method name novalidate target', flowContent);\n      add('fieldset', 'disabled form name', [\n        flowContent,\n        'legend'\n      ].join(' '));\n      add('label', 'form for', phrasingContent);\n      add('input', 'accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate ' + 'formtarget height list max maxlength min multiple name pattern readonly required size src step type value width');\n      add('button', 'disabled form formaction formenctype formmethod formnovalidate formtarget name type value', type === 'html4' ? flowContent : phrasingContent);\n      add('select', 'disabled form multiple name required size', 'option optgroup');\n      add('optgroup', 'disabled label', 'option');\n      add('option', 'disabled label selected value');\n      add('textarea', 'cols dirname disabled form maxlength name readonly required rows wrap');\n      add('menu', 'type label', [\n        flowContent,\n        'li'\n      ].join(' '));\n      add('noscript', '', flowContent);\n      if (type !== 'html4') {\n        add('wbr');\n        add('ruby', '', [\n          phrasingContent,\n          'rt rp'\n        ].join(' '));\n        add('figcaption', '', flowContent);\n        add('mark rt rp summary bdi', '', phrasingContent);\n        add('canvas', 'width height', flowContent);\n        add('video', 'src crossorigin poster preload autoplay mediagroup loop ' + 'muted controls width height buffered', [\n          flowContent,\n          'track source'\n        ].join(' '));\n        add('audio', 'src crossorigin preload autoplay mediagroup loop muted controls ' + 'buffered volume', [\n          flowContent,\n          'track source'\n        ].join(' '));\n        add('picture', '', 'img source');\n        add('source', 'src srcset type media sizes');\n        add('track', 'kind src srclang label default');\n        add('datalist', '', [\n          phrasingContent,\n          'option'\n        ].join(' '));\n        add('article section nav aside main header footer', '', flowContent);\n        add('hgroup', '', 'h1 h2 h3 h4 h5 h6');\n        add('figure', '', [\n          flowContent,\n          'figcaption'\n        ].join(' '));\n        add('time', 'datetime', phrasingContent);\n        add('dialog', 'open', flowContent);\n        add('command', 'type label icon disabled checked radiogroup command');\n        add('output', 'for form name', phrasingContent);\n        add('progress', 'value max', phrasingContent);\n        add('meter', 'value min max low high optimum', phrasingContent);\n        add('details', 'open', [\n          flowContent,\n          'summary'\n        ].join(' '));\n        add('keygen', 'autofocus challenge disabled form keytype name');\n      }\n      if (type !== 'html5-strict') {\n        addAttrs('script', 'language xml:space');\n        addAttrs('style', 'xml:space');\n        addAttrs('object', 'declare classid code codebase codetype archive standby align border hspace vspace');\n        addAttrs('embed', 'align name hspace vspace');\n        addAttrs('param', 'valuetype type');\n        addAttrs('a', 'charset name rev shape coords');\n        addAttrs('br', 'clear');\n        addAttrs('applet', 'codebase archive code object alt name width height align hspace vspace');\n        addAttrs('img', 'name longdesc align border hspace vspace');\n        addAttrs('iframe', 'longdesc frameborder marginwidth marginheight scrolling align');\n        addAttrs('font basefont', 'size color face');\n        addAttrs('input', 'usemap align');\n        addAttrs('select', 'onchange');\n        addAttrs('textarea');\n        addAttrs('h1 h2 h3 h4 h5 h6 div p legend caption', 'align');\n        addAttrs('ul', 'type compact');\n        addAttrs('li', 'type');\n        addAttrs('ol dl menu dir', 'compact');\n        addAttrs('pre', 'width xml:space');\n        addAttrs('hr', 'align noshade size width');\n        addAttrs('isindex', 'prompt');\n        addAttrs('table', 'summary width frame rules cellspacing cellpadding align bgcolor');\n        addAttrs('col', 'width align char charoff valign');\n        addAttrs('colgroup', 'width align char charoff valign');\n        addAttrs('thead', 'align char charoff valign');\n        addAttrs('tr', 'align char charoff valign bgcolor');\n        addAttrs('th', 'axis align char charoff valign nowrap bgcolor width height');\n        addAttrs('form', 'accept');\n        addAttrs('td', 'abbr axis scope align char charoff valign nowrap bgcolor width height');\n        addAttrs('tfoot', 'align char charoff valign');\n        addAttrs('tbody', 'align char charoff valign');\n        addAttrs('area', 'nohref');\n        addAttrs('body', 'background bgcolor text link vlink alink');\n      }\n      if (type !== 'html4') {\n        addAttrs('input button select textarea', 'autofocus');\n        addAttrs('input textarea', 'placeholder');\n        addAttrs('a', 'download');\n        addAttrs('link script img', 'crossorigin');\n        addAttrs('iframe', 'sandbox seamless allowfullscreen');\n      }\n      each$4(split('a form meter progress dfn'), function (name) {\n        if (schema[name]) {\n          delete schema[name].children[name];\n        }\n      });\n      delete schema.caption.children.table;\n      delete schema.script;\n      mapCache[type] = schema;\n      return schema;\n    };\n    var compileElementMap = function (value, mode) {\n      var styles;\n      if (value) {\n        styles = {};\n        if (typeof value === 'string') {\n          value = { '*': value };\n        }\n        each$4(value, function (value, key) {\n          styles[key] = styles[key.toUpperCase()] = mode === 'map' ? makeMap$2(value, /[, ]/) : explode$1(value, /[, ]/);\n        });\n      }\n      return styles;\n    };\n    function Schema(settings) {\n      var elements = {};\n      var children = {};\n      var patternElements = [];\n      var validStyles;\n      var invalidStyles;\n      var schemaItems;\n      var whiteSpaceElementsMap, selfClosingElementsMap, shortEndedElementsMap, boolAttrMap, validClasses;\n      var blockElementsMap, nonEmptyElementsMap, moveCaretBeforeOnEnterElementsMap, textBlockElementsMap, textInlineElementsMap;\n      var customElementsMap = {}, specialElements = {};\n      var createLookupTable = function (option, defaultValue, extendWith) {\n        var value = settings[option];\n        if (!value) {\n          value = mapCache[option];\n          if (!value) {\n            value = makeMap$2(defaultValue, ' ', makeMap$2(defaultValue.toUpperCase(), ' '));\n            value = extend$1(value, extendWith);\n            mapCache[option] = value;\n          }\n        } else {\n          value = makeMap$2(value, /[, ]/, makeMap$2(value.toUpperCase(), /[, ]/));\n        }\n        return value;\n      };\n      settings = settings || {};\n      schemaItems = compileSchema(settings.schema);\n      if (settings.verify_html === false) {\n        settings.valid_elements = '*[*]';\n      }\n      validStyles = compileElementMap(settings.valid_styles);\n      invalidStyles = compileElementMap(settings.invalid_styles, 'map');\n      validClasses = compileElementMap(settings.valid_classes, 'map');\n      whiteSpaceElementsMap = createLookupTable('whitespace_elements', 'pre script noscript style textarea video audio iframe object code');\n      selfClosingElementsMap = createLookupTable('self_closing_elements', 'colgroup dd dt li option p td tfoot th thead tr');\n      shortEndedElementsMap = createLookupTable('short_ended_elements', 'area base basefont br col frame hr img input isindex link ' + 'meta param embed source wbr track');\n      boolAttrMap = createLookupTable('boolean_attributes', 'checked compact declare defer disabled ismap multiple nohref noresize ' + 'noshade nowrap readonly selected autoplay loop controls');\n      nonEmptyElementsMap = createLookupTable('non_empty_elements', 'td th iframe video audio object ' + 'script pre code', shortEndedElementsMap);\n      moveCaretBeforeOnEnterElementsMap = createLookupTable('move_caret_before_on_enter_elements', 'table', nonEmptyElementsMap);\n      textBlockElementsMap = createLookupTable('text_block_elements', 'h1 h2 h3 h4 h5 h6 p div address pre form ' + 'blockquote center dir fieldset header footer article section hgroup aside main nav figure');\n      blockElementsMap = createLookupTable('block_elements', 'hr table tbody thead tfoot ' + 'th tr td li ol ul caption dl dt dd noscript menu isindex option ' + 'datalist select optgroup figcaption details summary', textBlockElementsMap);\n      textInlineElementsMap = createLookupTable('text_inline_elements', 'span strong b em i font strike u var cite ' + 'dfn code mark q sup sub samp');\n      each$4((settings.special || 'script noscript iframe noframes noembed title style textarea xmp').split(' '), function (name) {\n        specialElements[name] = new RegExp('</' + name + '[^>]*>', 'gi');\n      });\n      var patternToRegExp = function (str) {\n        return new RegExp('^' + str.replace(/([?+*])/g, '.$1') + '$');\n      };\n      var addValidElements = function (validElements) {\n        var ei, el, ai, al, matches, element, attr, attrData, elementName, attrName, attrType, attributes, attributesOrder, prefix, outputName, globalAttributes, globalAttributesOrder, key, value;\n        var elementRuleRegExp = /^([#+\\-])?([^\\[!\\/]+)(?:\\/([^\\[!]+))?(?:(!?)\\[([^\\]]+)\\])?$/, attrRuleRegExp = /^([!\\-])?(\\w+[\\\\:]:\\w+|[^=:<]+)?(?:([=:<])(.*))?$/, hasPatternsRegExp = /[*?+]/;\n        if (validElements) {\n          validElements = split(validElements, ',');\n          if (elements['@']) {\n            globalAttributes = elements['@'].attributes;\n            globalAttributesOrder = elements['@'].attributesOrder;\n          }\n          for (ei = 0, el = validElements.length; ei < el; ei++) {\n            matches = elementRuleRegExp.exec(validElements[ei]);\n            if (matches) {\n              prefix = matches[1];\n              elementName = matches[2];\n              outputName = matches[3];\n              attrData = matches[5];\n              attributes = {};\n              attributesOrder = [];\n              element = {\n                attributes: attributes,\n                attributesOrder: attributesOrder\n              };\n              if (prefix === '#') {\n                element.paddEmpty = true;\n              }\n              if (prefix === '-') {\n                element.removeEmpty = true;\n              }\n              if (matches[4] === '!') {\n                element.removeEmptyAttrs = true;\n              }\n              if (globalAttributes) {\n                for (key in globalAttributes) {\n                  attributes[key] = globalAttributes[key];\n                }\n                attributesOrder.push.apply(attributesOrder, globalAttributesOrder);\n              }\n              if (attrData) {\n                attrData = split(attrData, '|');\n                for (ai = 0, al = attrData.length; ai < al; ai++) {\n                  matches = attrRuleRegExp.exec(attrData[ai]);\n                  if (matches) {\n                    attr = {};\n                    attrType = matches[1];\n                    attrName = matches[2].replace(/[\\\\:]:/g, ':');\n                    prefix = matches[3];\n                    value = matches[4];\n                    if (attrType === '!') {\n                      element.attributesRequired = element.attributesRequired || [];\n                      element.attributesRequired.push(attrName);\n                      attr.required = true;\n                    }\n                    if (attrType === '-') {\n                      delete attributes[attrName];\n                      attributesOrder.splice(inArray$1(attributesOrder, attrName), 1);\n                      continue;\n                    }\n                    if (prefix) {\n                      if (prefix === '=') {\n                        element.attributesDefault = element.attributesDefault || [];\n                        element.attributesDefault.push({\n                          name: attrName,\n                          value: value\n                        });\n                        attr.defaultValue = value;\n                      }\n                      if (prefix === ':') {\n                        element.attributesForced = element.attributesForced || [];\n                        element.attributesForced.push({\n                          name: attrName,\n                          value: value\n                        });\n                        attr.forcedValue = value;\n                      }\n                      if (prefix === '<') {\n                        attr.validValues = makeMap$2(value, '?');\n                      }\n                    }\n                    if (hasPatternsRegExp.test(attrName)) {\n                      element.attributePatterns = element.attributePatterns || [];\n                      attr.pattern = patternToRegExp(attrName);\n                      element.attributePatterns.push(attr);\n                    } else {\n                      if (!attributes[attrName]) {\n                        attributesOrder.push(attrName);\n                      }\n                      attributes[attrName] = attr;\n                    }\n                  }\n                }\n              }\n              if (!globalAttributes && elementName === '@') {\n                globalAttributes = attributes;\n                globalAttributesOrder = attributesOrder;\n              }\n              if (outputName) {\n                element.outputName = elementName;\n                elements[outputName] = element;\n              }\n              if (hasPatternsRegExp.test(elementName)) {\n                element.pattern = patternToRegExp(elementName);\n                patternElements.push(element);\n              } else {\n                elements[elementName] = element;\n              }\n            }\n          }\n        }\n      };\n      var setValidElements = function (validElements) {\n        elements = {};\n        patternElements = [];\n        addValidElements(validElements);\n        each$4(schemaItems, function (element, name) {\n          children[name] = element.children;\n        });\n      };\n      var addCustomElements = function (customElements) {\n        var customElementRegExp = /^(~)?(.+)$/;\n        if (customElements) {\n          mapCache.text_block_elements = mapCache.block_elements = null;\n          each$4(split(customElements, ','), function (rule) {\n            var matches = customElementRegExp.exec(rule), inline = matches[1] === '~', cloneName = inline ? 'span' : 'div', name = matches[2];\n            children[name] = children[cloneName];\n            customElementsMap[name] = cloneName;\n            if (!inline) {\n              blockElementsMap[name.toUpperCase()] = {};\n              blockElementsMap[name] = {};\n            }\n            if (!elements[name]) {\n              var customRule = elements[cloneName];\n              customRule = extend$1({}, customRule);\n              delete customRule.removeEmptyAttrs;\n              delete customRule.removeEmpty;\n              elements[name] = customRule;\n            }\n            each$4(children, function (element, elmName) {\n              if (element[cloneName]) {\n                children[elmName] = element = extend$1({}, children[elmName]);\n                element[name] = element[cloneName];\n              }\n            });\n          });\n        }\n      };\n      var addValidChildren = function (validChildren) {\n        var childRuleRegExp = /^([+\\-]?)(\\w+)\\[([^\\]]+)\\]$/;\n        mapCache[settings.schema] = null;\n        if (validChildren) {\n          each$4(split(validChildren, ','), function (rule) {\n            var matches = childRuleRegExp.exec(rule);\n            var parent, prefix;\n            if (matches) {\n              prefix = matches[1];\n              if (prefix) {\n                parent = children[matches[2]];\n              } else {\n                parent = children[matches[2]] = { '#comment': {} };\n              }\n              parent = children[matches[2]];\n              each$4(split(matches[3], '|'), function (child) {\n                if (prefix === '-') {\n                  delete parent[child];\n                } else {\n                  parent[child] = {};\n                }\n              });\n            }\n          });\n        }\n      };\n      var getElementRule = function (name) {\n        var element = elements[name], i;\n        if (element) {\n          return element;\n        }\n        i = patternElements.length;\n        while (i--) {\n          element = patternElements[i];\n          if (element.pattern.test(name)) {\n            return element;\n          }\n        }\n      };\n      if (!settings.valid_elements) {\n        each$4(schemaItems, function (element, name) {\n          elements[name] = {\n            attributes: element.attributes,\n            attributesOrder: element.attributesOrder\n          };\n          children[name] = element.children;\n        });\n        if (settings.schema !== 'html5') {\n          each$4(split('strong/b em/i'), function (item) {\n            item = split(item, '/');\n            elements[item[1]].outputName = item[0];\n          });\n        }\n        each$4(split('ol ul sub sup blockquote span font a table tbody tr strong em b i'), function (name) {\n          if (elements[name]) {\n            elements[name].removeEmpty = true;\n          }\n        });\n        each$4(split('p h1 h2 h3 h4 h5 h6 th td pre div address caption li'), function (name) {\n          elements[name].paddEmpty = true;\n        });\n        each$4(split('span'), function (name) {\n          elements[name].removeEmptyAttrs = true;\n        });\n      } else {\n        setValidElements(settings.valid_elements);\n      }\n      addCustomElements(settings.custom_elements);\n      addValidChildren(settings.valid_children);\n      addValidElements(settings.extended_valid_elements);\n      addValidChildren('+ol[ul|ol],+ul[ul|ol]');\n      each$4({\n        dd: 'dl',\n        dt: 'dl',\n        li: 'ul ol',\n        td: 'tr',\n        th: 'tr',\n        tr: 'tbody thead tfoot',\n        tbody: 'table',\n        thead: 'table',\n        tfoot: 'table',\n        legend: 'fieldset',\n        area: 'map',\n        param: 'video audio object'\n      }, function (parents, item) {\n        if (elements[item]) {\n          elements[item].parentsRequired = split(parents);\n        }\n      });\n      if (settings.invalid_elements) {\n        each$4(explode$1(settings.invalid_elements), function (item) {\n          if (elements[item]) {\n            delete elements[item];\n          }\n        });\n      }\n      if (!getElementRule('span')) {\n        addValidElements('span[!data-mce-type|*]');\n      }\n      var getValidStyles = function () {\n        return validStyles;\n      };\n      var getInvalidStyles = function () {\n        return invalidStyles;\n      };\n      var getValidClasses = function () {\n        return validClasses;\n      };\n      var getBoolAttrs = function () {\n        return boolAttrMap;\n      };\n      var getBlockElements = function () {\n        return blockElementsMap;\n      };\n      var getTextBlockElements = function () {\n        return textBlockElementsMap;\n      };\n      var getTextInlineElements = function () {\n        return textInlineElementsMap;\n      };\n      var getShortEndedElements = function () {\n        return shortEndedElementsMap;\n      };\n      var getSelfClosingElements = function () {\n        return selfClosingElementsMap;\n      };\n      var getNonEmptyElements = function () {\n        return nonEmptyElementsMap;\n      };\n      var getMoveCaretBeforeOnEnterElements = function () {\n        return moveCaretBeforeOnEnterElementsMap;\n      };\n      var getWhiteSpaceElements = function () {\n        return whiteSpaceElementsMap;\n      };\n      var getSpecialElements = function () {\n        return specialElements;\n      };\n      var isValidChild = function (name, child) {\n        var parent = children[name.toLowerCase()];\n        return !!(parent && parent[child.toLowerCase()]);\n      };\n      var isValid = function (name, attr) {\n        var attrPatterns, i;\n        var rule = getElementRule(name);\n        if (rule) {\n          if (attr) {\n            if (rule.attributes[attr]) {\n              return true;\n            }\n            attrPatterns = rule.attributePatterns;\n            if (attrPatterns) {\n              i = attrPatterns.length;\n              while (i--) {\n                if (attrPatterns[i].pattern.test(name)) {\n                  return true;\n                }\n              }\n            }\n          } else {\n            return true;\n          }\n        }\n        return false;\n      };\n      var getCustomElements = function () {\n        return customElementsMap;\n      };\n      return {\n        children: children,\n        elements: elements,\n        getValidStyles: getValidStyles,\n        getValidClasses: getValidClasses,\n        getBlockElements: getBlockElements,\n        getInvalidStyles: getInvalidStyles,\n        getShortEndedElements: getShortEndedElements,\n        getTextBlockElements: getTextBlockElements,\n        getTextInlineElements: getTextInlineElements,\n        getBoolAttrs: getBoolAttrs,\n        getElementRule: getElementRule,\n        getSelfClosingElements: getSelfClosingElements,\n        getNonEmptyElements: getNonEmptyElements,\n        getMoveCaretBeforeOnEnterElements: getMoveCaretBeforeOnEnterElements,\n        getWhiteSpaceElements: getWhiteSpaceElements,\n        getSpecialElements: getSpecialElements,\n        isValidChild: isValidChild,\n        isValid: isValid,\n        getCustomElements: getCustomElements,\n        addValidElements: addValidElements,\n        setValidElements: setValidElements,\n        addCustomElements: addCustomElements,\n        addValidChildren: addValidChildren\n      };\n    }\n\n    var toHex = function (match, r, g, b) {\n      var hex = function (val) {\n        val = parseInt(val, 10).toString(16);\n        return val.length > 1 ? val : '0' + val;\n      };\n      return '#' + hex(r) + hex(g) + hex(b);\n    };\n    function Styles(settings, schema) {\n      var rgbRegExp = /rgb\\s*\\(\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*\\)/gi;\n      var urlOrStrRegExp = /(?:url(?:(?:\\(\\s*\\\"([^\\\"]+)\\\"\\s*\\))|(?:\\(\\s*\\'([^\\']+)\\'\\s*\\))|(?:\\(\\s*([^)\\s]+)\\s*\\))))|(?:\\'([^\\']+)\\')|(?:\\\"([^\\\"]+)\\\")/gi;\n      var styleRegExp = /\\s*([^:]+):\\s*([^;]+);?/g;\n      var trimRightRegExp = /\\s+$/;\n      var i;\n      var encodingLookup = {};\n      var encodingItems;\n      var validStyles;\n      var invalidStyles;\n      var invisibleChar = '\\uFEFF';\n      settings = settings || {};\n      if (schema) {\n        validStyles = schema.getValidStyles();\n        invalidStyles = schema.getInvalidStyles();\n      }\n      encodingItems = ('\\\\\" \\\\\\' \\\\; \\\\: ; : ' + invisibleChar).split(' ');\n      for (i = 0; i < encodingItems.length; i++) {\n        encodingLookup[encodingItems[i]] = invisibleChar + i;\n        encodingLookup[invisibleChar + i] = encodingItems[i];\n      }\n      return {\n        toHex: function (color) {\n          return color.replace(rgbRegExp, toHex);\n        },\n        parse: function (css) {\n          var styles = {};\n          var matches, name, value, isEncoded;\n          var urlConverter = settings.url_converter;\n          var urlConverterScope = settings.url_converter_scope || this;\n          var compress = function (prefix, suffix, noJoin) {\n            var top, right, bottom, left;\n            top = styles[prefix + '-top' + suffix];\n            if (!top) {\n              return;\n            }\n            right = styles[prefix + '-right' + suffix];\n            if (!right) {\n              return;\n            }\n            bottom = styles[prefix + '-bottom' + suffix];\n            if (!bottom) {\n              return;\n            }\n            left = styles[prefix + '-left' + suffix];\n            if (!left) {\n              return;\n            }\n            var box = [\n              top,\n              right,\n              bottom,\n              left\n            ];\n            i = box.length - 1;\n            while (i--) {\n              if (box[i] !== box[i + 1]) {\n                break;\n              }\n            }\n            if (i > -1 && noJoin) {\n              return;\n            }\n            styles[prefix + suffix] = i === -1 ? box[0] : box.join(' ');\n            delete styles[prefix + '-top' + suffix];\n            delete styles[prefix + '-right' + suffix];\n            delete styles[prefix + '-bottom' + suffix];\n            delete styles[prefix + '-left' + suffix];\n          };\n          var canCompress = function (key) {\n            var value = styles[key], i;\n            if (!value) {\n              return;\n            }\n            value = value.split(' ');\n            i = value.length;\n            while (i--) {\n              if (value[i] !== value[0]) {\n                return false;\n              }\n            }\n            styles[key] = value[0];\n            return true;\n          };\n          var compress2 = function (target, a, b, c) {\n            if (!canCompress(a)) {\n              return;\n            }\n            if (!canCompress(b)) {\n              return;\n            }\n            if (!canCompress(c)) {\n              return;\n            }\n            styles[target] = styles[a] + ' ' + styles[b] + ' ' + styles[c];\n            delete styles[a];\n            delete styles[b];\n            delete styles[c];\n          };\n          var encode = function (str) {\n            isEncoded = true;\n            return encodingLookup[str];\n          };\n          var decode = function (str, keepSlashes) {\n            if (isEncoded) {\n              str = str.replace(/\\uFEFF[0-9]/g, function (str) {\n                return encodingLookup[str];\n              });\n            }\n            if (!keepSlashes) {\n              str = str.replace(/\\\\([\\'\\\";:])/g, '$1');\n            }\n            return str;\n          };\n          var decodeSingleHexSequence = function (escSeq) {\n            return String.fromCharCode(parseInt(escSeq.slice(1), 16));\n          };\n          var decodeHexSequences = function (value) {\n            return value.replace(/\\\\[0-9a-f]+/gi, decodeSingleHexSequence);\n          };\n          var processUrl = function (match, url, url2, url3, str, str2) {\n            str = str || str2;\n            if (str) {\n              str = decode(str);\n              return '\\'' + str.replace(/\\'/g, '\\\\\\'') + '\\'';\n            }\n            url = decode(url || url2 || url3);\n            if (!settings.allow_script_urls) {\n              var scriptUrl = url.replace(/[\\s\\r\\n]+/g, '');\n              if (/(java|vb)script:/i.test(scriptUrl)) {\n                return '';\n              }\n              if (!settings.allow_svg_data_urls && /^data:image\\/svg/i.test(scriptUrl)) {\n                return '';\n              }\n            }\n            if (urlConverter) {\n              url = urlConverter.call(urlConverterScope, url, 'style');\n            }\n            return 'url(\\'' + url.replace(/\\'/g, '\\\\\\'') + '\\')';\n          };\n          if (css) {\n            css = css.replace(/[\\u0000-\\u001F]/g, '');\n            css = css.replace(/\\\\[\\\"\\';:\\uFEFF]/g, encode).replace(/\\\"[^\\\"]+\\\"|\\'[^\\']+\\'/g, function (str) {\n              return str.replace(/[;:]/g, encode);\n            });\n            while (matches = styleRegExp.exec(css)) {\n              styleRegExp.lastIndex = matches.index + matches[0].length;\n              name = matches[1].replace(trimRightRegExp, '').toLowerCase();\n              value = matches[2].replace(trimRightRegExp, '');\n              if (name && value) {\n                name = decodeHexSequences(name);\n                value = decodeHexSequences(value);\n                if (name.indexOf(invisibleChar) !== -1 || name.indexOf('\"') !== -1) {\n                  continue;\n                }\n                if (!settings.allow_script_urls && (name === 'behavior' || /expression\\s*\\(|\\/\\*|\\*\\//.test(value))) {\n                  continue;\n                }\n                if (name === 'font-weight' && value === '700') {\n                  value = 'bold';\n                } else if (name === 'color' || name === 'background-color') {\n                  value = value.toLowerCase();\n                }\n                value = value.replace(rgbRegExp, toHex);\n                value = value.replace(urlOrStrRegExp, processUrl);\n                styles[name] = isEncoded ? decode(value, true) : value;\n              }\n            }\n            compress('border', '', true);\n            compress('border', '-width');\n            compress('border', '-color');\n            compress('border', '-style');\n            compress('padding', '');\n            compress('margin', '');\n            compress2('border', 'border-width', 'border-style', 'border-color');\n            if (styles.border === 'medium none') {\n              delete styles.border;\n            }\n            if (styles['border-image'] === 'none') {\n              delete styles['border-image'];\n            }\n          }\n          return styles;\n        },\n        serialize: function (styles, elementName) {\n          var css = '', name, value;\n          var serializeStyles = function (name) {\n            var styleList, i, l, value;\n            styleList = validStyles[name];\n            if (styleList) {\n              for (i = 0, l = styleList.length; i < l; i++) {\n                name = styleList[i];\n                value = styles[name];\n                if (value) {\n                  css += (css.length > 0 ? ' ' : '') + name + ': ' + value + ';';\n                }\n              }\n            }\n          };\n          var isValid = function (name, elementName) {\n            var styleMap;\n            styleMap = invalidStyles['*'];\n            if (styleMap && styleMap[name]) {\n              return false;\n            }\n            styleMap = invalidStyles[elementName];\n            if (styleMap && styleMap[name]) {\n              return false;\n            }\n            return true;\n          };\n          if (elementName && validStyles) {\n            serializeStyles('*');\n            serializeStyles(elementName);\n          } else {\n            for (name in styles) {\n              value = styles[name];\n              if (value && (!invalidStyles || isValid(name, elementName))) {\n                css += (css.length > 0 ? ' ' : '') + name + ': ' + value + ';';\n              }\n            }\n          }\n          return css;\n        }\n      };\n    }\n\n    var each$5 = Tools.each;\n    var grep$1 = Tools.grep;\n    var isIE = Env.ie;\n    var simpleSelectorRe = /^([a-z0-9],?)+$/i;\n    var whiteSpaceRegExp$2 = /^[ \\t\\r\\n]*$/;\n    var setupAttrHooks = function (styles, settings, getContext) {\n      var attrHooks = {};\n      var keepValues = settings.keep_values;\n      var keepUrlHook = {\n        set: function ($elm, value, name) {\n          if (settings.url_converter) {\n            value = settings.url_converter.call(settings.url_converter_scope || getContext(), value, name, $elm[0]);\n          }\n          $elm.attr('data-mce-' + name, value).attr(name, value);\n        },\n        get: function ($elm, name) {\n          return $elm.attr('data-mce-' + name) || $elm.attr(name);\n        }\n      };\n      attrHooks = {\n        style: {\n          set: function ($elm, value) {\n            if (value !== null && typeof value === 'object') {\n              $elm.css(value);\n              return;\n            }\n            if (keepValues) {\n              $elm.attr('data-mce-style', value);\n            }\n            $elm.attr('style', value);\n          },\n          get: function ($elm) {\n            var value = $elm.attr('data-mce-style') || $elm.attr('style');\n            value = styles.serialize(styles.parse(value), $elm[0].nodeName);\n            return value;\n          }\n        }\n      };\n      if (keepValues) {\n        attrHooks.href = attrHooks.src = keepUrlHook;\n      }\n      return attrHooks;\n    };\n    var updateInternalStyleAttr = function (styles, $elm) {\n      var rawValue = $elm.attr('style');\n      var value = styles.serialize(styles.parse(rawValue), $elm[0].nodeName);\n      if (!value) {\n        value = null;\n      }\n      $elm.attr('data-mce-style', value);\n    };\n    var findNodeIndex = function (node, normalized) {\n      var idx = 0, lastNodeType, nodeType;\n      if (node) {\n        for (lastNodeType = node.nodeType, node = node.previousSibling; node; node = node.previousSibling) {\n          nodeType = node.nodeType;\n          if (normalized && nodeType === 3) {\n            if (nodeType === lastNodeType || !node.nodeValue.length) {\n              continue;\n            }\n          }\n          idx++;\n          lastNodeType = nodeType;\n        }\n      }\n      return idx;\n    };\n    function DOMUtils(doc, settings) {\n      var _this = this;\n      if (settings === void 0) {\n        settings = {};\n      }\n      var attrHooks;\n      var addedStyles = {};\n      var win = domGlobals.window;\n      var files = {};\n      var counter = 0;\n      var stdMode = true;\n      var boxModel = true;\n      var styleSheetLoader = StyleSheetLoader(doc, { contentCssCors: settings.contentCssCors });\n      var boundEvents = [];\n      var schema = settings.schema ? settings.schema : Schema({});\n      var styles = Styles({\n        url_converter: settings.url_converter,\n        url_converter_scope: settings.url_converter_scope\n      }, settings.schema);\n      var events = settings.ownEvents ? new EventUtils(settings.proxy) : EventUtils.Event;\n      var blockElementsMap = schema.getBlockElements();\n      var $ = DomQuery.overrideDefaults(function () {\n        return {\n          context: doc,\n          element: self.getRoot()\n        };\n      });\n      var isBlock = function (node) {\n        if (typeof node === 'string') {\n          return !!blockElementsMap[node];\n        } else if (node) {\n          var type = node.nodeType;\n          if (type) {\n            return !!(type === 1 && blockElementsMap[node.nodeName]);\n          }\n        }\n        return false;\n      };\n      var get = function (elm) {\n        if (elm && doc && typeof elm === 'string') {\n          var node = doc.getElementById(elm);\n          if (node && node.id !== elm) {\n            return doc.getElementsByName(elm)[1];\n          } else {\n            return node;\n          }\n        }\n        return elm;\n      };\n      var $$ = function (elm) {\n        if (typeof elm === 'string') {\n          elm = get(elm);\n        }\n        return $(elm);\n      };\n      var getAttrib = function (elm, name, defaultVal) {\n        var hook, value;\n        var $elm = $$(elm);\n        if ($elm.length) {\n          hook = attrHooks[name];\n          if (hook && hook.get) {\n            value = hook.get($elm, name);\n          } else {\n            value = $elm.attr(name);\n          }\n        }\n        if (typeof value === 'undefined') {\n          value = defaultVal || '';\n        }\n        return value;\n      };\n      var getAttribs = function (elm) {\n        var node = get(elm);\n        if (!node) {\n          return [];\n        }\n        return node.attributes;\n      };\n      var setAttrib = function (elm, name, value) {\n        var originalValue, hook;\n        if (value === '') {\n          value = null;\n        }\n        var $elm = $$(elm);\n        originalValue = $elm.attr(name);\n        if (!$elm.length) {\n          return;\n        }\n        hook = attrHooks[name];\n        if (hook && hook.set) {\n          hook.set($elm, value, name);\n        } else {\n          $elm.attr(name, value);\n        }\n        if (originalValue !== value && settings.onSetAttrib) {\n          settings.onSetAttrib({\n            attrElm: $elm,\n            attrName: name,\n            attrValue: value\n          });\n        }\n      };\n      var clone = function (node, deep) {\n        if (!isIE || node.nodeType !== 1 || deep) {\n          return node.cloneNode(deep);\n        }\n        if (!deep) {\n          var clone_1 = doc.createElement(node.nodeName);\n          each$5(getAttribs(node), function (attr) {\n            setAttrib(clone_1, attr.nodeName, getAttrib(node, attr.nodeName));\n          });\n          return clone_1;\n        }\n        return null;\n      };\n      var getRoot = function () {\n        return settings.root_element || doc.body;\n      };\n      var getViewPort = function (argWin) {\n        var actWin = !argWin ? win : argWin;\n        var doc = actWin.document;\n        var rootElm =  doc.documentElement ;\n        return {\n          x: actWin.pageXOffset || rootElm.scrollLeft,\n          y: actWin.pageYOffset || rootElm.scrollTop,\n          w: actWin.innerWidth || rootElm.clientWidth,\n          h: actWin.innerHeight || rootElm.clientHeight\n        };\n      };\n      var getPos = function (elm, rootElm) {\n        return Position.getPos(doc.body, get(elm), rootElm);\n      };\n      var setStyle = function (elm, name, value) {\n        var $elm = $$(elm).css(name, value);\n        if (settings.update_styles) {\n          updateInternalStyleAttr(styles, $elm);\n        }\n      };\n      var setStyles = function (elm, stylesArg) {\n        var $elm = $$(elm).css(stylesArg);\n        if (settings.update_styles) {\n          updateInternalStyleAttr(styles, $elm);\n        }\n      };\n      var getStyle = function (elm, name, computed) {\n        var $elm = $$(elm);\n        if (computed) {\n          return $elm.css(name);\n        }\n        name = name.replace(/-(\\D)/g, function (a, b) {\n          return b.toUpperCase();\n        });\n        if (name === 'float') {\n          name = Env.ie && Env.ie < 12 ? 'styleFloat' : 'cssFloat';\n        }\n        return $elm[0] && $elm[0].style ? $elm[0].style[name] : undefined;\n      };\n      var getSize = function (elm) {\n        var w, h;\n        elm = get(elm);\n        w = getStyle(elm, 'width');\n        h = getStyle(elm, 'height');\n        if (w.indexOf('px') === -1) {\n          w = 0;\n        }\n        if (h.indexOf('px') === -1) {\n          h = 0;\n        }\n        return {\n          w: parseInt(w, 10) || elm.offsetWidth || elm.clientWidth,\n          h: parseInt(h, 10) || elm.offsetHeight || elm.clientHeight\n        };\n      };\n      var getRect = function (elm) {\n        var pos, size;\n        elm = get(elm);\n        pos = getPos(elm);\n        size = getSize(elm);\n        return {\n          x: pos.x,\n          y: pos.y,\n          w: size.w,\n          h: size.h\n        };\n      };\n      var is = function (elm, selector) {\n        var i;\n        if (!elm) {\n          return false;\n        }\n        if (!Array.isArray(elm)) {\n          if (selector === '*') {\n            return elm.nodeType === 1;\n          }\n          if (simpleSelectorRe.test(selector)) {\n            var selectors = selector.toLowerCase().split(/,/);\n            var elmName = elm.nodeName.toLowerCase();\n            for (i = selectors.length - 1; i >= 0; i--) {\n              if (selectors[i] === elmName) {\n                return true;\n              }\n            }\n            return false;\n          }\n          if (elm.nodeType && elm.nodeType !== 1) {\n            return false;\n          }\n        }\n        var elms = !Array.isArray(elm) ? [elm] : elm;\n        return Sizzle(selector, elms[0].ownerDocument || elms[0], null, elms).length > 0;\n      };\n      var getParents = function (elm, selector, root, collect) {\n        var result = [];\n        var selectorVal;\n        var node = get(elm);\n        collect = collect === undefined;\n        root = root || (getRoot().nodeName !== 'BODY' ? getRoot().parentNode : null);\n        if (Tools.is(selector, 'string')) {\n          selectorVal = selector;\n          if (selector === '*') {\n            selector = function (node) {\n              return node.nodeType === 1;\n            };\n          } else {\n            selector = function (node) {\n              return is(node, selectorVal);\n            };\n          }\n        }\n        while (node) {\n          if (node === root || !node.nodeType || node.nodeType === 9) {\n            break;\n          }\n          if (!selector || typeof selector === 'function' && selector(node)) {\n            if (collect) {\n              result.push(node);\n            } else {\n              return [node];\n            }\n          }\n          node = node.parentNode;\n        }\n        return collect ? result : null;\n      };\n      var getParent = function (node, selector, root) {\n        var parents = getParents(node, selector, root, false);\n        return parents && parents.length > 0 ? parents[0] : null;\n      };\n      var _findSib = function (node, selector, name) {\n        var func = selector;\n        if (node) {\n          if (typeof selector === 'string') {\n            func = function (node) {\n              return is(node, selector);\n            };\n          }\n          for (node = node[name]; node; node = node[name]) {\n            if (typeof func === 'function' && func(node)) {\n              return node;\n            }\n          }\n        }\n        return null;\n      };\n      var getNext = function (node, selector) {\n        return _findSib(node, selector, 'nextSibling');\n      };\n      var getPrev = function (node, selector) {\n        return _findSib(node, selector, 'previousSibling');\n      };\n      var select = function (selector, scope) {\n        return Sizzle(selector, get(scope) || settings.root_element || doc, []);\n      };\n      var run = function (elm, func, scope) {\n        var result;\n        var node = typeof elm === 'string' ? get(elm) : elm;\n        if (!node) {\n          return false;\n        }\n        if (Tools.isArray(node) && (node.length || node.length === 0)) {\n          result = [];\n          each$5(node, function (elm, i) {\n            if (elm) {\n              if (typeof elm === 'string') {\n                elm = get(elm);\n              }\n              result.push(func.call(scope, elm, i));\n            }\n          });\n          return result;\n        }\n        var context = scope ? scope : _this;\n        return func.call(context, node);\n      };\n      var setAttribs = function (elm, attrs) {\n        $$(elm).each(function (i, node) {\n          each$5(attrs, function (value, name) {\n            setAttrib(node, name, value);\n          });\n        });\n      };\n      var setHTML = function (elm, html) {\n        var $elm = $$(elm);\n        if (isIE) {\n          $elm.each(function (i, target) {\n            if (target.canHaveHTML === false) {\n              return;\n            }\n            while (target.firstChild) {\n              target.removeChild(target.firstChild);\n            }\n            try {\n              target.innerHTML = '<br>' + html;\n              target.removeChild(target.firstChild);\n            } catch (ex) {\n              DomQuery('<div></div>').html('<br>' + html).contents().slice(1).appendTo(target);\n            }\n            return html;\n          });\n        } else {\n          $elm.html(html);\n        }\n      };\n      var add = function (parentElm, name, attrs, html, create) {\n        return run(parentElm, function (parentElm) {\n          var newElm = typeof name === 'string' ? doc.createElement(name) : name;\n          setAttribs(newElm, attrs);\n          if (html) {\n            if (typeof html !== 'string' && html.nodeType) {\n              newElm.appendChild(html);\n            } else if (typeof html === 'string') {\n              setHTML(newElm, html);\n            }\n          }\n          return !create ? parentElm.appendChild(newElm) : newElm;\n        });\n      };\n      var create = function (name, attrs, html) {\n        return add(doc.createElement(name), name, attrs, html, true);\n      };\n      var decode = Entities.decode;\n      var encode = Entities.encodeAllRaw;\n      var createHTML = function (name, attrs, html) {\n        var outHtml = '', key;\n        outHtml += '<' + name;\n        for (key in attrs) {\n          if (attrs.hasOwnProperty(key) && attrs[key] !== null && typeof attrs[key] !== 'undefined') {\n            outHtml += ' ' + key + '=\"' + encode(attrs[key]) + '\"';\n          }\n        }\n        if (typeof html !== 'undefined') {\n          return outHtml + '>' + html + '</' + name + '>';\n        }\n        return outHtml + ' />';\n      };\n      var createFragment = function (html) {\n        var node;\n        var container = doc.createElement('div');\n        var frag = doc.createDocumentFragment();\n        frag.appendChild(container);\n        if (html) {\n          container.innerHTML = html;\n        }\n        while (node = container.firstChild) {\n          frag.appendChild(node);\n        }\n        frag.removeChild(container);\n        return frag;\n      };\n      var remove = function (node, keepChildren) {\n        var $node = $$(node);\n        if (keepChildren) {\n          $node.each(function () {\n            var child;\n            while (child = this.firstChild) {\n              if (child.nodeType === 3 && child.data.length === 0) {\n                this.removeChild(child);\n              } else {\n                this.parentNode.insertBefore(child, this);\n              }\n            }\n          }).remove();\n        } else {\n          $node.remove();\n        }\n        return $node.length > 1 ? $node.toArray() : $node[0];\n      };\n      var removeAllAttribs = function (e) {\n        return run(e, function (e) {\n          var i;\n          var attrs = e.attributes;\n          for (i = attrs.length - 1; i >= 0; i--) {\n            e.removeAttributeNode(attrs.item(i));\n          }\n        });\n      };\n      var parseStyle = function (cssText) {\n        return styles.parse(cssText);\n      };\n      var serializeStyle = function (stylesArg, name) {\n        return styles.serialize(stylesArg, name);\n      };\n      var addStyle = function (cssText) {\n        var head, styleElm;\n        if (self !== DOMUtils.DOM && doc === domGlobals.document) {\n          if (addedStyles[cssText]) {\n            return;\n          }\n          addedStyles[cssText] = true;\n        }\n        styleElm = doc.getElementById('mceDefaultStyles');\n        if (!styleElm) {\n          styleElm = doc.createElement('style');\n          styleElm.id = 'mceDefaultStyles';\n          styleElm.type = 'text/css';\n          head = doc.getElementsByTagName('head')[0];\n          if (head.firstChild) {\n            head.insertBefore(styleElm, head.firstChild);\n          } else {\n            head.appendChild(styleElm);\n          }\n        }\n        if (styleElm.styleSheet) {\n          styleElm.styleSheet.cssText += cssText;\n        } else {\n          styleElm.appendChild(doc.createTextNode(cssText));\n        }\n      };\n      var loadCSS = function (url) {\n        var head;\n        if (self !== DOMUtils.DOM && doc === domGlobals.document) {\n          DOMUtils.DOM.loadCSS(url);\n          return;\n        }\n        if (!url) {\n          url = '';\n        }\n        head = doc.getElementsByTagName('head')[0];\n        each$5(url.split(','), function (url) {\n          var link;\n          url = Tools._addCacheSuffix(url);\n          if (files[url]) {\n            return;\n          }\n          files[url] = true;\n          link = create('link', {\n            rel: 'stylesheet',\n            href: url\n          });\n          head.appendChild(link);\n        });\n      };\n      var toggleClass = function (elm, cls, state) {\n        $$(elm).toggleClass(cls, state).each(function () {\n          if (this.className === '') {\n            DomQuery(this).attr('class', null);\n          }\n        });\n      };\n      var addClass = function (elm, cls) {\n        $$(elm).addClass(cls);\n      };\n      var removeClass = function (elm, cls) {\n        toggleClass(elm, cls, false);\n      };\n      var hasClass = function (elm, cls) {\n        return $$(elm).hasClass(cls);\n      };\n      var show = function (elm) {\n        $$(elm).show();\n      };\n      var hide = function (elm) {\n        $$(elm).hide();\n      };\n      var isHidden = function (elm) {\n        return $$(elm).css('display') === 'none';\n      };\n      var uniqueId = function (prefix) {\n        return (!prefix ? 'mce_' : prefix) + counter++;\n      };\n      var getOuterHTML = function (elm) {\n        var node = typeof elm === 'string' ? get(elm) : elm;\n        return NodeType.isElement(node) ? node.outerHTML : DomQuery('<div></div>').append(DomQuery(node).clone()).html();\n      };\n      var setOuterHTML = function (elm, html) {\n        $$(elm).each(function () {\n          try {\n            if ('outerHTML' in this) {\n              this.outerHTML = html;\n              return;\n            }\n          } catch (ex) {\n          }\n          remove(DomQuery(this).html(html), true);\n        });\n      };\n      var insertAfter = function (node, reference) {\n        var referenceNode = get(reference);\n        return run(node, function (node) {\n          var parent, nextSibling;\n          parent = referenceNode.parentNode;\n          nextSibling = referenceNode.nextSibling;\n          if (nextSibling) {\n            parent.insertBefore(node, nextSibling);\n          } else {\n            parent.appendChild(node);\n          }\n          return node;\n        });\n      };\n      var replace = function (newElm, oldElm, keepChildren) {\n        return run(oldElm, function (oldElm) {\n          if (Tools.is(oldElm, 'array')) {\n            newElm = newElm.cloneNode(true);\n          }\n          if (keepChildren) {\n            each$5(grep$1(oldElm.childNodes), function (node) {\n              newElm.appendChild(node);\n            });\n          }\n          return oldElm.parentNode.replaceChild(newElm, oldElm);\n        });\n      };\n      var rename = function (elm, name) {\n        var newElm;\n        if (elm.nodeName !== name.toUpperCase()) {\n          newElm = create(name);\n          each$5(getAttribs(elm), function (attrNode) {\n            setAttrib(newElm, attrNode.nodeName, getAttrib(elm, attrNode.nodeName));\n          });\n          replace(newElm, elm, true);\n        }\n        return newElm || elm;\n      };\n      var findCommonAncestor = function (a, b) {\n        var ps = a, pe;\n        while (ps) {\n          pe = b;\n          while (pe && ps !== pe) {\n            pe = pe.parentNode;\n          }\n          if (ps === pe) {\n            break;\n          }\n          ps = ps.parentNode;\n        }\n        if (!ps && a.ownerDocument) {\n          return a.ownerDocument.documentElement;\n        }\n        return ps;\n      };\n      var toHex = function (rgbVal) {\n        return styles.toHex(Tools.trim(rgbVal));\n      };\n      var isEmpty = function (node, elements) {\n        var i, attributes, type, whitespace, walker, name, brCount = 0;\n        node = node.firstChild;\n        if (node) {\n          walker = new TreeWalker(node, node.parentNode);\n          elements = elements || (schema ? schema.getNonEmptyElements() : null);\n          whitespace = schema ? schema.getWhiteSpaceElements() : {};\n          do {\n            type = node.nodeType;\n            if (NodeType.isElement(node)) {\n              var bogusVal = node.getAttribute('data-mce-bogus');\n              if (bogusVal) {\n                node = walker.next(bogusVal === 'all');\n                continue;\n              }\n              name = node.nodeName.toLowerCase();\n              if (elements && elements[name]) {\n                if (name === 'br') {\n                  brCount++;\n                  node = walker.next();\n                  continue;\n                }\n                return false;\n              }\n              attributes = getAttribs(node);\n              i = attributes.length;\n              while (i--) {\n                name = attributes[i].nodeName;\n                if (name === 'name' || name === 'data-mce-bookmark') {\n                  return false;\n                }\n              }\n            }\n            if (type === 8) {\n              return false;\n            }\n            if (type === 3 && !whiteSpaceRegExp$2.test(node.nodeValue)) {\n              return false;\n            }\n            if (type === 3 && node.parentNode && whitespace[node.parentNode.nodeName] && whiteSpaceRegExp$2.test(node.nodeValue)) {\n              return false;\n            }\n            node = walker.next();\n          } while (node);\n        }\n        return brCount <= 1;\n      };\n      var createRng = function () {\n        return doc.createRange();\n      };\n      var split = function (parentElm, splitElm, replacementElm) {\n        var r = createRng(), bef, aft, pa;\n        if (parentElm && splitElm) {\n          r.setStart(parentElm.parentNode, findNodeIndex(parentElm));\n          r.setEnd(splitElm.parentNode, findNodeIndex(splitElm));\n          bef = r.extractContents();\n          r = createRng();\n          r.setStart(splitElm.parentNode, findNodeIndex(splitElm) + 1);\n          r.setEnd(parentElm.parentNode, findNodeIndex(parentElm) + 1);\n          aft = r.extractContents();\n          pa = parentElm.parentNode;\n          pa.insertBefore(TrimNode.trimNode(self, bef), parentElm);\n          if (replacementElm) {\n            pa.insertBefore(replacementElm, parentElm);\n          } else {\n            pa.insertBefore(splitElm, parentElm);\n          }\n          pa.insertBefore(TrimNode.trimNode(self, aft), parentElm);\n          remove(parentElm);\n          return replacementElm || splitElm;\n        }\n      };\n      var bind = function (target, name, func, scope) {\n        if (Tools.isArray(target)) {\n          var i = target.length;\n          while (i--) {\n            target[i] = bind(target[i], name, func, scope);\n          }\n          return target;\n        }\n        if (settings.collect && (target === doc || target === win)) {\n          boundEvents.push([\n            target,\n            name,\n            func,\n            scope\n          ]);\n        }\n        return events.bind(target, name, func, scope || self);\n      };\n      var unbind = function (target, name, func) {\n        var i;\n        if (Tools.isArray(target)) {\n          i = target.length;\n          while (i--) {\n            target[i] = unbind(target[i], name, func);\n          }\n          return target;\n        }\n        if (boundEvents && (target === doc || target === win)) {\n          i = boundEvents.length;\n          while (i--) {\n            var item = boundEvents[i];\n            if (target === item[0] && (!name || name === item[1]) && (!func || func === item[2])) {\n              events.unbind(item[0], item[1], item[2]);\n            }\n          }\n        }\n        return events.unbind(target, name, func);\n      };\n      var fire = function (target, name, evt) {\n        return events.fire(target, name, evt);\n      };\n      var getContentEditable = function (node) {\n        if (node && NodeType.isElement(node)) {\n          var contentEditable = node.getAttribute('data-mce-contenteditable');\n          if (contentEditable && contentEditable !== 'inherit') {\n            return contentEditable;\n          }\n          return node.contentEditable !== 'inherit' ? node.contentEditable : null;\n        } else {\n          return null;\n        }\n      };\n      var getContentEditableParent = function (node) {\n        var root = getRoot();\n        var state = null;\n        for (; node && node !== root; node = node.parentNode) {\n          state = getContentEditable(node);\n          if (state !== null) {\n            break;\n          }\n        }\n        return state;\n      };\n      var destroy = function () {\n        if (boundEvents) {\n          var i = boundEvents.length;\n          while (i--) {\n            var item = boundEvents[i];\n            events.unbind(item[0], item[1], item[2]);\n          }\n        }\n        if (Sizzle.setDocument) {\n          Sizzle.setDocument();\n        }\n      };\n      var isChildOf = function (node, parent) {\n        while (node) {\n          if (parent === node) {\n            return true;\n          }\n          node = node.parentNode;\n        }\n        return false;\n      };\n      var dumpRng = function (r) {\n        return 'startContainer: ' + r.startContainer.nodeName + ', startOffset: ' + r.startOffset + ', endContainer: ' + r.endContainer.nodeName + ', endOffset: ' + r.endOffset;\n      };\n      var self = {\n        doc: doc,\n        settings: settings,\n        win: win,\n        files: files,\n        stdMode: stdMode,\n        boxModel: boxModel,\n        styleSheetLoader: styleSheetLoader,\n        boundEvents: boundEvents,\n        styles: styles,\n        schema: schema,\n        events: events,\n        isBlock: isBlock,\n        $: $,\n        $$: $$,\n        root: null,\n        clone: clone,\n        getRoot: getRoot,\n        getViewPort: getViewPort,\n        getRect: getRect,\n        getSize: getSize,\n        getParent: getParent,\n        getParents: getParents,\n        get: get,\n        getNext: getNext,\n        getPrev: getPrev,\n        select: select,\n        is: is,\n        add: add,\n        create: create,\n        createHTML: createHTML,\n        createFragment: createFragment,\n        remove: remove,\n        setStyle: setStyle,\n        getStyle: getStyle,\n        setStyles: setStyles,\n        removeAllAttribs: removeAllAttribs,\n        setAttrib: setAttrib,\n        setAttribs: setAttribs,\n        getAttrib: getAttrib,\n        getPos: getPos,\n        parseStyle: parseStyle,\n        serializeStyle: serializeStyle,\n        addStyle: addStyle,\n        loadCSS: loadCSS,\n        addClass: addClass,\n        removeClass: removeClass,\n        hasClass: hasClass,\n        toggleClass: toggleClass,\n        show: show,\n        hide: hide,\n        isHidden: isHidden,\n        uniqueId: uniqueId,\n        setHTML: setHTML,\n        getOuterHTML: getOuterHTML,\n        setOuterHTML: setOuterHTML,\n        decode: decode,\n        encode: encode,\n        insertAfter: insertAfter,\n        replace: replace,\n        rename: rename,\n        findCommonAncestor: findCommonAncestor,\n        toHex: toHex,\n        run: run,\n        getAttribs: getAttribs,\n        isEmpty: isEmpty,\n        createRng: createRng,\n        nodeIndex: findNodeIndex,\n        split: split,\n        bind: bind,\n        unbind: unbind,\n        fire: fire,\n        getContentEditable: getContentEditable,\n        getContentEditableParent: getContentEditableParent,\n        destroy: destroy,\n        isChildOf: isChildOf,\n        dumpRng: dumpRng\n      };\n      attrHooks = setupAttrHooks(styles, settings, function () {\n        return self;\n      });\n      return self;\n    }\n    (function (DOMUtils) {\n      DOMUtils.DOM = DOMUtils(domGlobals.document);\n      DOMUtils.nodeIndex = findNodeIndex;\n    }(DOMUtils || (DOMUtils = {})));\n    var DOMUtils$1 = DOMUtils;\n\n    var DOM = DOMUtils$1.DOM;\n    var each$6 = Tools.each, grep$2 = Tools.grep;\n    var isFunction$1 = function (f) {\n      return typeof f === 'function';\n    };\n    var ScriptLoader = function () {\n      var QUEUED = 0;\n      var LOADING = 1;\n      var LOADED = 2;\n      var FAILED = 3;\n      var states = {};\n      var queue = [];\n      var scriptLoadedCallbacks = {};\n      var queueLoadedCallbacks = [];\n      var loading = 0;\n      var loadScript = function (url, success, failure) {\n        var dom = DOM;\n        var elm, id;\n        var done = function () {\n          dom.remove(id);\n          if (elm) {\n            elm.onreadystatechange = elm.onload = elm = null;\n          }\n          success();\n        };\n        var error = function () {\n          if (isFunction$1(failure)) {\n            failure();\n          } else {\n            if (typeof console !== 'undefined' && console.log) {\n              console.log('Failed to load script: ' + url);\n            }\n          }\n        };\n        id = dom.uniqueId();\n        elm = domGlobals.document.createElement('script');\n        elm.id = id;\n        elm.type = 'text/javascript';\n        elm.src = Tools._addCacheSuffix(url);\n        elm.onload = done;\n        elm.onerror = error;\n        (domGlobals.document.getElementsByTagName('head')[0] || domGlobals.document.body).appendChild(elm);\n      };\n      this.isDone = function (url) {\n        return states[url] === LOADED;\n      };\n      this.markDone = function (url) {\n        states[url] = LOADED;\n      };\n      this.add = this.load = function (url, success, scope, failure) {\n        var state = states[url];\n        if (state === undefined) {\n          queue.push(url);\n          states[url] = QUEUED;\n        }\n        if (success) {\n          if (!scriptLoadedCallbacks[url]) {\n            scriptLoadedCallbacks[url] = [];\n          }\n          scriptLoadedCallbacks[url].push({\n            success: success,\n            failure: failure,\n            scope: scope || this\n          });\n        }\n      };\n      this.remove = function (url) {\n        delete states[url];\n        delete scriptLoadedCallbacks[url];\n      };\n      this.loadQueue = function (success, scope, failure) {\n        this.loadScripts(queue, success, scope, failure);\n      };\n      this.loadScripts = function (scripts, success, scope, failure) {\n        var loadScripts;\n        var failures = [];\n        var execCallbacks = function (name, url) {\n          each$6(scriptLoadedCallbacks[url], function (callback) {\n            if (isFunction$1(callback[name])) {\n              callback[name].call(callback.scope);\n            }\n          });\n          scriptLoadedCallbacks[url] = undefined;\n        };\n        queueLoadedCallbacks.push({\n          success: success,\n          failure: failure,\n          scope: scope || this\n        });\n        loadScripts = function () {\n          var loadingScripts = grep$2(scripts);\n          scripts.length = 0;\n          each$6(loadingScripts, function (url) {\n            if (states[url] === LOADED) {\n              execCallbacks('success', url);\n              return;\n            }\n            if (states[url] === FAILED) {\n              execCallbacks('failure', url);\n              return;\n            }\n            if (states[url] !== LOADING) {\n              states[url] = LOADING;\n              loading++;\n              loadScript(url, function () {\n                states[url] = LOADED;\n                loading--;\n                execCallbacks('success', url);\n                loadScripts();\n              }, function () {\n                states[url] = FAILED;\n                loading--;\n                failures.push(url);\n                execCallbacks('failure', url);\n                loadScripts();\n              });\n            }\n          });\n          if (!loading) {\n            var notifyCallbacks = queueLoadedCallbacks.slice(0);\n            queueLoadedCallbacks.length = 0;\n            each$6(notifyCallbacks, function (callback) {\n              if (failures.length === 0) {\n                if (isFunction$1(callback.success)) {\n                  callback.success.call(callback.scope);\n                }\n              } else {\n                if (isFunction$1(callback.failure)) {\n                  callback.failure.call(callback.scope, failures);\n                }\n              }\n            });\n          }\n        };\n        loadScripts();\n      };\n    };\n    ScriptLoader.ScriptLoader = new ScriptLoader();\n\n    var each$7 = Tools.each;\n    function AddOnManager() {\n      var _this = this;\n      var items = [];\n      var urls = {};\n      var lookup = {};\n      var _listeners = [];\n      var get = function (name) {\n        if (lookup[name]) {\n          return lookup[name].instance;\n        }\n        return undefined;\n      };\n      var dependencies = function (name) {\n        var result;\n        if (lookup[name]) {\n          result = lookup[name].dependencies;\n        }\n        return result || [];\n      };\n      var requireLangPack = function (name, languages) {\n        var language = AddOnManager.language;\n        if (language && AddOnManager.languageLoad !== false) {\n          if (languages) {\n            languages = ',' + languages + ',';\n            if (languages.indexOf(',' + language.substr(0, 2) + ',') !== -1) {\n              language = language.substr(0, 2);\n            } else if (languages.indexOf(',' + language + ',') === -1) {\n              return;\n            }\n          }\n          ScriptLoader.ScriptLoader.add(urls[name] + '/langs/' + language + '.js');\n        }\n      };\n      var add = function (id, addOn, dependencies) {\n        items.push(addOn);\n        lookup[id] = {\n          instance: addOn,\n          dependencies: dependencies\n        };\n        var result = partition(_listeners, function (listener) {\n          return listener.name === id;\n        });\n        _listeners = result.fail;\n        each$7(result.pass, function (listener) {\n          listener.callback();\n        });\n        return addOn;\n      };\n      var remove = function (name) {\n        delete urls[name];\n        delete lookup[name];\n      };\n      var createUrl = function (baseUrl, dep) {\n        if (typeof dep === 'object') {\n          return dep;\n        }\n        return typeof baseUrl === 'string' ? {\n          prefix: '',\n          resource: dep,\n          suffix: ''\n        } : {\n          prefix: baseUrl.prefix,\n          resource: dep,\n          suffix: baseUrl.suffix\n        };\n      };\n      var addComponents = function (pluginName, scripts) {\n        var pluginUrl = _this.urls[pluginName];\n        each$7(scripts, function (script) {\n          ScriptLoader.ScriptLoader.add(pluginUrl + '/' + script);\n        });\n      };\n      var loadDependencies = function (name, addOnUrl, success, scope) {\n        var deps = dependencies(name);\n        each$7(deps, function (dep) {\n          var newUrl = createUrl(addOnUrl, dep);\n          load(newUrl.resource, newUrl, undefined, undefined);\n        });\n        if (success) {\n          if (scope) {\n            success.call(scope);\n          } else {\n            success.call(ScriptLoader);\n          }\n        }\n      };\n      var load = function (name, addOnUrl, success, scope, failure) {\n        if (urls[name]) {\n          return;\n        }\n        var urlString = typeof addOnUrl === 'string' ? addOnUrl : addOnUrl.prefix + addOnUrl.resource + addOnUrl.suffix;\n        if (urlString.indexOf('/') !== 0 && urlString.indexOf('://') === -1) {\n          urlString = AddOnManager.baseURL + '/' + urlString;\n        }\n        urls[name] = urlString.substring(0, urlString.lastIndexOf('/'));\n        if (lookup[name]) {\n          loadDependencies(name, addOnUrl, success, scope);\n        } else {\n          ScriptLoader.ScriptLoader.add(urlString, function () {\n            return loadDependencies(name, addOnUrl, success, scope);\n          }, scope, failure);\n        }\n      };\n      var waitFor = function (name, callback) {\n        if (lookup.hasOwnProperty(name)) {\n          callback();\n        } else {\n          _listeners.push({\n            name: name,\n            callback: callback\n          });\n        }\n      };\n      return {\n        items: items,\n        urls: urls,\n        lookup: lookup,\n        _listeners: _listeners,\n        get: get,\n        dependencies: dependencies,\n        requireLangPack: requireLangPack,\n        add: add,\n        remove: remove,\n        createUrl: createUrl,\n        addComponents: addComponents,\n        load: load,\n        waitFor: waitFor\n      };\n    }\n    (function (AddOnManager) {\n      AddOnManager.PluginManager = AddOnManager();\n      AddOnManager.ThemeManager = AddOnManager();\n    }(AddOnManager || (AddOnManager = {})));\n\n    var before = function (marker, element) {\n      var parent$1 = parent(marker);\n      parent$1.each(function (v) {\n        v.dom().insertBefore(element.dom(), marker.dom());\n      });\n    };\n    var after = function (marker, element) {\n      var sibling = nextSibling(marker);\n      sibling.fold(function () {\n        var parent$1 = parent(marker);\n        parent$1.each(function (v) {\n          append(v, element);\n        });\n      }, function (v) {\n        before(v, element);\n      });\n    };\n    var prepend = function (parent, element) {\n      var firstChild$1 = firstChild(parent);\n      firstChild$1.fold(function () {\n        append(parent, element);\n      }, function (v) {\n        parent.dom().insertBefore(element.dom(), v.dom());\n      });\n    };\n    var append = function (parent, element) {\n      parent.dom().appendChild(element.dom());\n    };\n    var wrap$1 = function (element, wrapper) {\n      before(element, wrapper);\n      append(wrapper, element);\n    };\n\n    var before$1 = function (marker, elements) {\n      each(elements, function (x) {\n        before(marker, x);\n      });\n    };\n    var append$1 = function (parent, elements) {\n      each(elements, function (x) {\n        append(parent, x);\n      });\n    };\n\n    var empty = function (element) {\n      element.dom().textContent = '';\n      each(children(element), function (rogue) {\n        remove$1(rogue);\n      });\n    };\n    var remove$1 = function (element) {\n      var dom = element.dom();\n      if (dom.parentNode !== null) {\n        dom.parentNode.removeChild(dom);\n      }\n    };\n    var unwrap = function (wrapper) {\n      var children$1 = children(wrapper);\n      if (children$1.length > 0) {\n        before$1(wrapper, children$1);\n      }\n      remove$1(wrapper);\n    };\n\n    var first = function (fn, rate) {\n      var timer = null;\n      var cancel = function () {\n        if (timer !== null) {\n          domGlobals.clearTimeout(timer);\n          timer = null;\n        }\n      };\n      var throttle = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        if (timer === null) {\n          timer = domGlobals.setTimeout(function () {\n            fn.apply(null, args);\n            timer = null;\n          }, rate);\n        }\n      };\n      return {\n        cancel: cancel,\n        throttle: throttle\n      };\n    };\n    var last$2 = function (fn, rate) {\n      var timer = null;\n      var cancel = function () {\n        if (timer !== null) {\n          domGlobals.clearTimeout(timer);\n          timer = null;\n        }\n      };\n      var throttle = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        if (timer !== null) {\n          domGlobals.clearTimeout(timer);\n        }\n        timer = domGlobals.setTimeout(function () {\n          fn.apply(null, args);\n          timer = null;\n        }, rate);\n      };\n      return {\n        cancel: cancel,\n        throttle: throttle\n      };\n    };\n\n    var Cell = function (initial) {\n      var value = initial;\n      var get = function () {\n        return value;\n      };\n      var set = function (v) {\n        value = v;\n      };\n      var clone = function () {\n        return Cell(get());\n      };\n      return {\n        get: get,\n        set: set,\n        clone: clone\n      };\n    };\n\n    var read = function (element, attr) {\n      var value = get(element, attr);\n      return value === undefined || value === '' ? [] : value.split(' ');\n    };\n    var add = function (element, attr, id) {\n      var old = read(element, attr);\n      var nu = old.concat([id]);\n      set(element, attr, nu.join(' '));\n      return true;\n    };\n    var remove$2 = function (element, attr, id) {\n      var nu = filter(read(element, attr), function (v) {\n        return v !== id;\n      });\n      if (nu.length > 0) {\n        set(element, attr, nu.join(' '));\n      } else {\n        remove(element, attr);\n      }\n      return false;\n    };\n\n    var supports = function (element) {\n      return element.dom().classList !== undefined;\n    };\n    var get$2 = function (element) {\n      return read(element, 'class');\n    };\n    var add$1 = function (element, clazz) {\n      return add(element, 'class', clazz);\n    };\n    var remove$3 = function (element, clazz) {\n      return remove$2(element, 'class', clazz);\n    };\n\n    var add$2 = function (element, clazz) {\n      if (supports(element)) {\n        element.dom().classList.add(clazz);\n      } else {\n        add$1(element, clazz);\n      }\n    };\n    var cleanClass = function (element) {\n      var classList = supports(element) ? element.dom().classList : get$2(element);\n      if (classList.length === 0) {\n        remove(element, 'class');\n      }\n    };\n    var remove$4 = function (element, clazz) {\n      if (supports(element)) {\n        var classList = element.dom().classList;\n        classList.remove(clazz);\n      } else {\n        remove$3(element, clazz);\n      }\n      cleanClass(element);\n    };\n    var has$2 = function (element, clazz) {\n      return supports(element) && element.dom().classList.contains(clazz);\n    };\n\n    var descendants = function (scope, predicate) {\n      var result = [];\n      each(children(scope), function (x) {\n        if (predicate(x)) {\n          result = result.concat([x]);\n        }\n        result = result.concat(descendants(x, predicate));\n      });\n      return result;\n    };\n\n    var descendants$1 = function (scope, selector) {\n      return all(selector, scope);\n    };\n\n    function ClosestOrAncestor (is, ancestor, scope, a, isRoot) {\n      return is(scope, a) ? Option.some(scope) : isFunction(isRoot) && isRoot(scope) ? Option.none() : ancestor(scope, a, isRoot);\n    }\n\n    var ancestor = function (scope, predicate, isRoot) {\n      var element = scope.dom();\n      var stop = isFunction(isRoot) ? isRoot : constant(false);\n      while (element.parentNode) {\n        element = element.parentNode;\n        var el = Element.fromDom(element);\n        if (predicate(el)) {\n          return Option.some(el);\n        } else if (stop(el)) {\n          break;\n        }\n      }\n      return Option.none();\n    };\n    var closest = function (scope, predicate, isRoot) {\n      var is = function (s, test) {\n        return test(s);\n      };\n      return ClosestOrAncestor(is, ancestor, scope, predicate, isRoot);\n    };\n\n    var ancestor$1 = function (scope, selector, isRoot) {\n      return ancestor(scope, function (e) {\n        return is$1(e, selector);\n      }, isRoot);\n    };\n    var descendant = function (scope, selector) {\n      return one(selector, scope);\n    };\n    var closest$1 = function (scope, selector, isRoot) {\n      return ClosestOrAncestor(is$1, ancestor$1, scope, selector, isRoot);\n    };\n\n    var annotation = constant('mce-annotation');\n    var dataAnnotation = constant('data-mce-annotation');\n    var dataAnnotationId = constant('data-mce-annotation-uid');\n\n    var identify = function (editor, annotationName) {\n      var rng = editor.selection.getRng();\n      var start = Element.fromDom(rng.startContainer);\n      var root = Element.fromDom(editor.getBody());\n      var selector = annotationName.fold(function () {\n        return '.' + annotation();\n      }, function (an) {\n        return '[' + dataAnnotation() + '=\"' + an + '\"]';\n      });\n      var newStart = child(start, rng.startOffset).getOr(start);\n      var closest = closest$1(newStart, selector, function (n) {\n        return eq(n, root);\n      });\n      var getAttr = function (c, property) {\n        if (has$1(c, property)) {\n          return Option.some(get(c, property));\n        } else {\n          return Option.none();\n        }\n      };\n      return closest.bind(function (c) {\n        return getAttr(c, '' + dataAnnotationId()).bind(function (uid) {\n          return getAttr(c, '' + dataAnnotation()).map(function (name) {\n            var elements = findMarkers(editor, uid);\n            return {\n              uid: uid,\n              name: name,\n              elements: elements\n            };\n          });\n        });\n      });\n    };\n    var isAnnotation = function (elem) {\n      return isElement(elem) && has$2(elem, annotation());\n    };\n    var findMarkers = function (editor, uid) {\n      var body = Element.fromDom(editor.getBody());\n      return descendants$1(body, '[' + dataAnnotationId() + '=\"' + uid + '\"]');\n    };\n    var findAll = function (editor, name) {\n      var body = Element.fromDom(editor.getBody());\n      var markers = descendants$1(body, '[' + dataAnnotation() + '=\"' + name + '\"]');\n      var directory = {};\n      each(markers, function (m) {\n        var uid = get(m, dataAnnotationId());\n        var nodesAlready = directory.hasOwnProperty(uid) ? directory[uid] : [];\n        directory[uid] = nodesAlready.concat([m]);\n      });\n      return directory;\n    };\n\n    var setup = function (editor, registry) {\n      var changeCallbacks = Cell({});\n      var initData = function () {\n        return {\n          listeners: [],\n          previous: Cell(Option.none())\n        };\n      };\n      var withCallbacks = function (name, f) {\n        updateCallbacks(name, function (data) {\n          f(data);\n          return data;\n        });\n      };\n      var updateCallbacks = function (name, f) {\n        var callbackMap = changeCallbacks.get();\n        var data = callbackMap.hasOwnProperty(name) ? callbackMap[name] : initData();\n        var outputData = f(data);\n        callbackMap[name] = outputData;\n        changeCallbacks.set(callbackMap);\n      };\n      var fireCallbacks = function (name, uid, elements) {\n        withCallbacks(name, function (data) {\n          each(data.listeners, function (f) {\n            return f(true, name, {\n              uid: uid,\n              nodes: map(elements, function (elem) {\n                return elem.dom();\n              })\n            });\n          });\n        });\n      };\n      var fireNoAnnotation = function (name) {\n        withCallbacks(name, function (data) {\n          each(data.listeners, function (f) {\n            return f(false, name);\n          });\n        });\n      };\n      var onNodeChange = last$2(function () {\n        var callbackMap = changeCallbacks.get();\n        var annotations = sort(keys(callbackMap));\n        each(annotations, function (name) {\n          updateCallbacks(name, function (data) {\n            var prev = data.previous.get();\n            identify(editor, Option.some(name)).fold(function () {\n              if (prev.isSome()) {\n                fireNoAnnotation(name);\n                data.previous.set(Option.none());\n              }\n            }, function (_a) {\n              var uid = _a.uid, name = _a.name, elements = _a.elements;\n              if (!prev.is(uid)) {\n                fireCallbacks(name, uid, elements);\n                data.previous.set(Option.some(uid));\n              }\n            });\n            return {\n              previous: data.previous,\n              listeners: data.listeners\n            };\n          });\n        });\n      }, 30);\n      editor.on('remove', function () {\n        onNodeChange.cancel();\n      });\n      editor.on('nodeChange', function () {\n        onNodeChange.throttle();\n      });\n      var addListener = function (name, f) {\n        updateCallbacks(name, function (data) {\n          return {\n            previous: data.previous,\n            listeners: data.listeners.concat([f])\n          };\n        });\n      };\n      return { addListener: addListener };\n    };\n\n    var setup$1 = function (editor, registry) {\n      var identifyParserNode = function (span) {\n        var optAnnotation = Option.from(span.attributes.map[dataAnnotation()]);\n        return optAnnotation.bind(registry.lookup);\n      };\n      editor.on('init', function () {\n        editor.serializer.addNodeFilter('span', function (spans) {\n          each(spans, function (span) {\n            identifyParserNode(span).each(function (settings) {\n              if (settings.persistent === false) {\n                span.unwrap();\n              }\n            });\n          });\n        });\n      });\n    };\n\n    var create$1 = function () {\n      var annotations = {};\n      var register = function (name, settings) {\n        annotations[name] = {\n          name: name,\n          settings: settings\n        };\n      };\n      var lookup = function (name) {\n        return annotations.hasOwnProperty(name) ? Option.from(annotations[name]).map(function (a) {\n          return a.settings;\n        }) : Option.none();\n      };\n      return {\n        register: register,\n        lookup: lookup\n      };\n    };\n\n    var __assign = function () {\n      __assign = Object.assign || function __assign(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s)\n            if (Object.prototype.hasOwnProperty.call(s, p))\n              t[p] = s[p];\n        }\n        return t;\n      };\n      return __assign.apply(this, arguments);\n    };\n    function __rest(s, e) {\n      var t = {};\n      for (var p in s)\n        if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n          t[p] = s[p];\n      if (s != null && typeof Object.getOwnPropertySymbols === 'function')\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n          if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n            t[p[i]] = s[p[i]];\n        }\n      return t;\n    }\n    function __spreadArrays() {\n      for (var s = 0, i = 0, il = arguments.length; i < il; i++)\n        s += arguments[i].length;\n      for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n          r[k] = a[j];\n      return r;\n    }\n\n    var unique = 0;\n    var generate = function (prefix) {\n      var date = new Date();\n      var time = date.getTime();\n      var random = Math.floor(Math.random() * 1000000000);\n      unique++;\n      return prefix + '_' + random + unique + String(time);\n    };\n\n    var add$3 = function (element, classes) {\n      each(classes, function (x) {\n        add$2(element, x);\n      });\n    };\n\n    var clone = function (original, isDeep) {\n      return Element.fromDom(original.dom().cloneNode(isDeep));\n    };\n    var shallow = function (original) {\n      return clone(original, false);\n    };\n    var deep = function (original) {\n      return clone(original, true);\n    };\n\n    var fromHtml$1 = function (html, scope) {\n      var doc = scope || domGlobals.document;\n      var div = doc.createElement('div');\n      div.innerHTML = html;\n      return children(Element.fromDom(div));\n    };\n\n    var get$3 = function (element) {\n      return element.dom().innerHTML;\n    };\n    var set$1 = function (element, content) {\n      var owner$1 = owner(element);\n      var docDom = owner$1.dom();\n      var fragment = Element.fromDom(docDom.createDocumentFragment());\n      var contentElements = fromHtml$1(content, docDom);\n      append$1(fragment, contentElements);\n      empty(element);\n      append(element, fragment);\n    };\n\n    var ZWSP = '\\uFEFF';\n    var isZwsp = function (chr) {\n      return chr === ZWSP;\n    };\n    var trim$3 = function (text) {\n      return text.replace(new RegExp(ZWSP, 'g'), '');\n    };\n    var Zwsp = {\n      isZwsp: isZwsp,\n      ZWSP: ZWSP,\n      trim: trim$3\n    };\n\n    var isElement$2 = NodeType.isElement;\n    var isText$2 = NodeType.isText;\n    var isCaretContainerBlock = function (node) {\n      if (isText$2(node)) {\n        node = node.parentNode;\n      }\n      return isElement$2(node) && node.hasAttribute('data-mce-caret');\n    };\n    var isCaretContainerInline = function (node) {\n      return isText$2(node) && Zwsp.isZwsp(node.data);\n    };\n    var isCaretContainer = function (node) {\n      return isCaretContainerBlock(node) || isCaretContainerInline(node);\n    };\n    var hasContent = function (node) {\n      return node.firstChild !== node.lastChild || !NodeType.isBr(node.firstChild);\n    };\n    var insertInline = function (node, before) {\n      var doc, sibling, textNode, parentNode;\n      doc = node.ownerDocument;\n      textNode = doc.createTextNode(Zwsp.ZWSP);\n      parentNode = node.parentNode;\n      if (!before) {\n        sibling = node.nextSibling;\n        if (isText$2(sibling)) {\n          if (isCaretContainer(sibling)) {\n            return sibling;\n          }\n          if (startsWithCaretContainer(sibling)) {\n            sibling.splitText(1);\n            return sibling;\n          }\n        }\n        if (node.nextSibling) {\n          parentNode.insertBefore(textNode, node.nextSibling);\n        } else {\n          parentNode.appendChild(textNode);\n        }\n      } else {\n        sibling = node.previousSibling;\n        if (isText$2(sibling)) {\n          if (isCaretContainer(sibling)) {\n            return sibling;\n          }\n          if (endsWithCaretContainer(sibling)) {\n            return sibling.splitText(sibling.data.length - 1);\n          }\n        }\n        parentNode.insertBefore(textNode, node);\n      }\n      return textNode;\n    };\n    var isBeforeInline = function (pos) {\n      var container = pos.container();\n      if (!pos || !NodeType.isText(container)) {\n        return false;\n      }\n      return container.data.charAt(pos.offset()) === Zwsp.ZWSP || pos.isAtStart() && isCaretContainerInline(container.previousSibling);\n    };\n    var isAfterInline = function (pos) {\n      var container = pos.container();\n      if (!pos || !NodeType.isText(container)) {\n        return false;\n      }\n      return container.data.charAt(pos.offset() - 1) === Zwsp.ZWSP || pos.isAtEnd() && isCaretContainerInline(container.nextSibling);\n    };\n    var createBogusBr = function () {\n      var br = domGlobals.document.createElement('br');\n      br.setAttribute('data-mce-bogus', '1');\n      return br;\n    };\n    var insertBlock = function (blockName, node, before) {\n      var doc, blockNode, parentNode;\n      doc = node.ownerDocument;\n      blockNode = doc.createElement(blockName);\n      blockNode.setAttribute('data-mce-caret', before ? 'before' : 'after');\n      blockNode.setAttribute('data-mce-bogus', 'all');\n      blockNode.appendChild(createBogusBr());\n      parentNode = node.parentNode;\n      if (!before) {\n        if (node.nextSibling) {\n          parentNode.insertBefore(blockNode, node.nextSibling);\n        } else {\n          parentNode.appendChild(blockNode);\n        }\n      } else {\n        parentNode.insertBefore(blockNode, node);\n      }\n      return blockNode;\n    };\n    var startsWithCaretContainer = function (node) {\n      return isText$2(node) && node.data[0] === Zwsp.ZWSP;\n    };\n    var endsWithCaretContainer = function (node) {\n      return isText$2(node) && node.data[node.data.length - 1] === Zwsp.ZWSP;\n    };\n    var trimBogusBr = function (elm) {\n      var brs = elm.getElementsByTagName('br');\n      var lastBr = brs[brs.length - 1];\n      if (NodeType.isBogus(lastBr)) {\n        lastBr.parentNode.removeChild(lastBr);\n      }\n    };\n    var showCaretContainerBlock = function (caretContainer) {\n      if (caretContainer && caretContainer.hasAttribute('data-mce-caret')) {\n        trimBogusBr(caretContainer);\n        caretContainer.removeAttribute('data-mce-caret');\n        caretContainer.removeAttribute('data-mce-bogus');\n        caretContainer.removeAttribute('style');\n        caretContainer.removeAttribute('_moz_abspos');\n        return caretContainer;\n      }\n      return null;\n    };\n    var isRangeInCaretContainerBlock = function (range) {\n      return isCaretContainerBlock(range.startContainer);\n    };\n\n    var isContentEditableTrue$1 = NodeType.isContentEditableTrue;\n    var isContentEditableFalse$1 = NodeType.isContentEditableFalse;\n    var isBr$2 = NodeType.isBr;\n    var isText$3 = NodeType.isText;\n    var isInvalidTextElement = NodeType.matchNodeNames('script style textarea');\n    var isAtomicInline = NodeType.matchNodeNames('img input textarea hr iframe video audio object');\n    var isTable$1 = NodeType.matchNodeNames('table');\n    var isCaretContainer$1 = isCaretContainer;\n    var isCaretCandidate = function (node) {\n      if (isCaretContainer$1(node)) {\n        return false;\n      }\n      if (isText$3(node)) {\n        if (isInvalidTextElement(node.parentNode)) {\n          return false;\n        }\n        return true;\n      }\n      return isAtomicInline(node) || isBr$2(node) || isTable$1(node) || isNonUiContentEditableFalse(node);\n    };\n    var isUnselectable = function (node) {\n      return NodeType.isElement(node) && node.getAttribute('unselectable') === 'true';\n    };\n    var isNonUiContentEditableFalse = function (node) {\n      return isUnselectable(node) === false && isContentEditableFalse$1(node);\n    };\n    var isInEditable = function (node, root) {\n      for (node = node.parentNode; node && node !== root; node = node.parentNode) {\n        if (isNonUiContentEditableFalse(node)) {\n          return false;\n        }\n        if (isContentEditableTrue$1(node)) {\n          return true;\n        }\n      }\n      return true;\n    };\n    var isAtomicContentEditableFalse = function (node) {\n      if (!isNonUiContentEditableFalse(node)) {\n        return false;\n      }\n      return foldl(from$1(node.getElementsByTagName('*')), function (result, elm) {\n        return result || isContentEditableTrue$1(elm);\n      }, false) !== true;\n    };\n    var isAtomic = function (node) {\n      return isAtomicInline(node) || isAtomicContentEditableFalse(node);\n    };\n    var isEditableCaretCandidate = function (node, root) {\n      return isCaretCandidate(node) && isInEditable(node, root);\n    };\n\n    var round = Math.round;\n    var clone$1 = function (rect) {\n      if (!rect) {\n        return {\n          left: 0,\n          top: 0,\n          bottom: 0,\n          right: 0,\n          width: 0,\n          height: 0\n        };\n      }\n      return {\n        left: round(rect.left),\n        top: round(rect.top),\n        bottom: round(rect.bottom),\n        right: round(rect.right),\n        width: round(rect.width),\n        height: round(rect.height)\n      };\n    };\n    var collapse = function (rect, toStart) {\n      rect = clone$1(rect);\n      if (toStart) {\n        rect.right = rect.left;\n      } else {\n        rect.left = rect.left + rect.width;\n        rect.right = rect.left;\n      }\n      rect.width = 0;\n      return rect;\n    };\n    var isEqual = function (rect1, rect2) {\n      return rect1.left === rect2.left && rect1.top === rect2.top && rect1.bottom === rect2.bottom && rect1.right === rect2.right;\n    };\n    var isValidOverflow = function (overflowY, rect1, rect2) {\n      return overflowY >= 0 && overflowY <= Math.min(rect1.height, rect2.height) / 2;\n    };\n    var isAbove = function (rect1, rect2) {\n      var halfHeight = Math.min(rect2.height / 2, rect1.height / 2);\n      if (rect1.bottom - halfHeight < rect2.top) {\n        return true;\n      }\n      if (rect1.top > rect2.bottom) {\n        return false;\n      }\n      return isValidOverflow(rect2.top - rect1.bottom, rect1, rect2);\n    };\n    var isBelow = function (rect1, rect2) {\n      if (rect1.top > rect2.bottom) {\n        return true;\n      }\n      if (rect1.bottom < rect2.top) {\n        return false;\n      }\n      return isValidOverflow(rect2.bottom - rect1.top, rect1, rect2);\n    };\n    var containsXY = function (rect, clientX, clientY) {\n      return clientX >= rect.left && clientX <= rect.right && clientY >= rect.top && clientY <= rect.bottom;\n    };\n    var overflowX = function (outer, inner) {\n      if (inner.left > outer.left && inner.right < outer.right) {\n        return 0;\n      } else {\n        return inner.left < outer.left ? inner.left - outer.left : inner.right - outer.right;\n      }\n    };\n    var overflowY = function (outer, inner) {\n      if (inner.top > outer.top && inner.bottom < outer.bottom) {\n        return 0;\n      } else {\n        return inner.top < outer.top ? inner.top - outer.top : inner.bottom - outer.bottom;\n      }\n    };\n    var getOverflow = function (outer, inner) {\n      return {\n        x: overflowX(outer, inner),\n        y: overflowY(outer, inner)\n      };\n    };\n\n    var getSelectedNode = function (range) {\n      var startContainer = range.startContainer, startOffset = range.startOffset;\n      if (startContainer.hasChildNodes() && range.endOffset === startOffset + 1) {\n        return startContainer.childNodes[startOffset];\n      }\n      return null;\n    };\n    var getNode = function (container, offset) {\n      if (container.nodeType === 1 && container.hasChildNodes()) {\n        if (offset >= container.childNodes.length) {\n          offset = container.childNodes.length - 1;\n        }\n        container = container.childNodes[offset];\n      }\n      return container;\n    };\n\n    var extendingChars = new RegExp('[\\u0300-\\u036f\\u0483-\\u0487\\u0488-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1-\\u05c2\\u05c4-\\u05c5\\u05c7\\u0610-\\u061a' + '\\u064b-\\u065f\\u0670\\u06d6-\\u06dc\\u06df-\\u06e4\\u06e7-\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0' + '\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0859-\\u085b\\u08e3-\\u0902\\u093a\\u093c' + '\\u0941-\\u0948\\u094d\\u0951-\\u0957\\u0962-\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2-\\u09e3' + '\\u0a01-\\u0a02\\u0a3c\\u0a41-\\u0a42\\u0a47-\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70-\\u0a71\\u0a75\\u0a81-\\u0a82\\u0abc' + '\\u0ac1-\\u0ac5\\u0ac7-\\u0ac8\\u0acd\\u0ae2-\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57' + '\\u0b62-\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c00\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55-\\u0c56' + '\\u0c62-\\u0c63\\u0c81\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc-\\u0ccd\\u0cd5-\\u0cd6\\u0ce2-\\u0ce3\\u0d01\\u0d3e\\u0d41-\\u0d44' + '\\u0d4d\\u0d57\\u0d62-\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9' + '\\u0ebb-\\u0ebc\\u0ec8-\\u0ecd\\u0f18-\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97' + '\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039-\\u103a\\u103d-\\u103e\\u1058-\\u1059\\u105e-\\u1060\\u1071-\\u1074' + '\\u1082\\u1085-\\u1086\\u108d\\u109d\\u135d-\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752-\\u1753\\u1772-\\u1773\\u17b4-\\u17b5' + '\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927-\\u1928\\u1932\\u1939-\\u193b\\u1a17-\\u1a18' + '\\u1a1b\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1ab0-\\u1abd\\u1ABE\\u1b00-\\u1b03\\u1b34' + '\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80-\\u1b81\\u1ba2-\\u1ba5\\u1ba8-\\u1ba9\\u1bab-\\u1bad\\u1be6\\u1be8-\\u1be9' + '\\u1bed\\u1bef-\\u1bf1\\u1c2c-\\u1c33\\u1c36-\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1cf4\\u1cf8-\\u1cf9' + '\\u1dc0-\\u1df5\\u1dfc-\\u1dff\\u200c-\\u200d\\u20d0-\\u20dc\\u20DD-\\u20E0\\u20e1\\u20E2-\\u20E4\\u20e5-\\u20f0\\u2cef-\\u2cf1' + '\\u2d7f\\u2de0-\\u2dff\\u302a-\\u302d\\u302e-\\u302f\\u3099-\\u309a\\ua66f\\uA670-\\uA672\\ua674-\\ua67d\\ua69e-\\ua69f\\ua6f0-\\ua6f1' + '\\ua802\\ua806\\ua80b\\ua825-\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc' + '\\ua9e5\\uaa29-\\uaa2e\\uaa31-\\uaa32\\uaa35-\\uaa36\\uaa43\\uaa4c\\uaa7c\\uaab0\\uaab2-\\uaab4\\uaab7-\\uaab8\\uaabe-\\uaabf\\uaac1' + '\\uaaec-\\uaaed\\uaaf6\\uabe5\\uabe8\\uabed\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe2f\\uff9e-\\uff9f]');\n    var isExtendingChar = function (ch) {\n      return typeof ch === 'string' && ch.charCodeAt(0) >= 768 && extendingChars.test(ch);\n    };\n\n    var lift2 = function (oa, ob, f) {\n      return oa.isSome() && ob.isSome() ? Option.some(f(oa.getOrDie(), ob.getOrDie())) : Option.none();\n    };\n    var lift3 = function (oa, ob, oc, f) {\n      return oa.isSome() && ob.isSome() && oc.isSome() ? Option.some(f(oa.getOrDie(), ob.getOrDie(), oc.getOrDie())) : Option.none();\n    };\n\n    var slice$2 = [].slice;\n    var or = function () {\n      var x = [];\n      for (var _i = 0; _i < arguments.length; _i++) {\n        x[_i] = arguments[_i];\n      }\n      var args = slice$2.call(arguments);\n      return function (x) {\n        for (var i = 0; i < args.length; i++) {\n          if (args[i](x)) {\n            return true;\n          }\n        }\n        return false;\n      };\n    };\n    var and = function () {\n      var x = [];\n      for (var _i = 0; _i < arguments.length; _i++) {\n        x[_i] = arguments[_i];\n      }\n      var args = slice$2.call(arguments);\n      return function (x) {\n        for (var i = 0; i < args.length; i++) {\n          if (!args[i](x)) {\n            return false;\n          }\n        }\n        return true;\n      };\n    };\n    var Predicate = {\n      and: and,\n      or: or\n    };\n\n    var isElement$3 = NodeType.isElement;\n    var isCaretCandidate$1 = isCaretCandidate;\n    var isBlock$1 = NodeType.matchStyleValues('display', 'block table');\n    var isFloated = NodeType.matchStyleValues('float', 'left right');\n    var isValidElementCaretCandidate = Predicate.and(isElement$3, isCaretCandidate$1, not(isFloated));\n    var isNotPre = not(NodeType.matchStyleValues('white-space', 'pre pre-line pre-wrap'));\n    var isText$4 = NodeType.isText;\n    var isBr$3 = NodeType.isBr;\n    var nodeIndex = DOMUtils$1.nodeIndex;\n    var resolveIndex = getNode;\n    var createRange = function (doc) {\n      return 'createRange' in doc ? doc.createRange() : DOMUtils$1.DOM.createRng();\n    };\n    var isWhiteSpace = function (chr) {\n      return chr && /[\\r\\n\\t ]/.test(chr);\n    };\n    var isRange = function (rng) {\n      return !!rng.setStart && !!rng.setEnd;\n    };\n    var isHiddenWhiteSpaceRange = function (range) {\n      var container = range.startContainer;\n      var offset = range.startOffset;\n      var text;\n      if (isWhiteSpace(range.toString()) && isNotPre(container.parentNode) && NodeType.isText(container)) {\n        text = container.data;\n        if (isWhiteSpace(text[offset - 1]) || isWhiteSpace(text[offset + 1])) {\n          return true;\n        }\n      }\n      return false;\n    };\n    var getBrClientRect = function (brNode) {\n      var doc = brNode.ownerDocument;\n      var rng = createRange(doc);\n      var nbsp = doc.createTextNode('\\xA0');\n      var parentNode = brNode.parentNode;\n      var clientRect;\n      parentNode.insertBefore(nbsp, brNode);\n      rng.setStart(nbsp, 0);\n      rng.setEnd(nbsp, 1);\n      clientRect = clone$1(rng.getBoundingClientRect());\n      parentNode.removeChild(nbsp);\n      return clientRect;\n    };\n    var getBoundingClientRectWebKitText = function (rng) {\n      var sc = rng.startContainer;\n      var ec = rng.endContainer;\n      var so = rng.startOffset;\n      var eo = rng.endOffset;\n      if (sc === ec && NodeType.isText(ec) && so === 0 && eo === 1) {\n        var newRng = rng.cloneRange();\n        newRng.setEndAfter(ec);\n        return getBoundingClientRect(newRng);\n      } else {\n        return null;\n      }\n    };\n    var isZeroRect = function (r) {\n      return r.left === 0 && r.right === 0 && r.top === 0 && r.bottom === 0;\n    };\n    var getBoundingClientRect = function (item) {\n      var clientRect, clientRects;\n      clientRects = item.getClientRects();\n      if (clientRects.length > 0) {\n        clientRect = clone$1(clientRects[0]);\n      } else {\n        clientRect = clone$1(item.getBoundingClientRect());\n      }\n      if (!isRange(item) && isBr$3(item) && isZeroRect(clientRect)) {\n        return getBrClientRect(item);\n      }\n      if (isZeroRect(clientRect) && isRange(item)) {\n        return getBoundingClientRectWebKitText(item);\n      }\n      return clientRect;\n    };\n    var collapseAndInflateWidth = function (clientRect, toStart) {\n      var newClientRect = collapse(clientRect, toStart);\n      newClientRect.width = 1;\n      newClientRect.right = newClientRect.left + 1;\n      return newClientRect;\n    };\n    var getCaretPositionClientRects = function (caretPosition) {\n      var clientRects = [];\n      var beforeNode, node;\n      var addUniqueAndValidRect = function (clientRect) {\n        if (clientRect.height === 0) {\n          return;\n        }\n        if (clientRects.length > 0) {\n          if (isEqual(clientRect, clientRects[clientRects.length - 1])) {\n            return;\n          }\n        }\n        clientRects.push(clientRect);\n      };\n      var addCharacterOffset = function (container, offset) {\n        var range = createRange(container.ownerDocument);\n        if (offset < container.data.length) {\n          if (isExtendingChar(container.data[offset])) {\n            return clientRects;\n          }\n          if (isExtendingChar(container.data[offset - 1])) {\n            range.setStart(container, offset);\n            range.setEnd(container, offset + 1);\n            if (!isHiddenWhiteSpaceRange(range)) {\n              addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect(range), false));\n              return clientRects;\n            }\n          }\n        }\n        if (offset > 0) {\n          range.setStart(container, offset - 1);\n          range.setEnd(container, offset);\n          if (!isHiddenWhiteSpaceRange(range)) {\n            addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect(range), false));\n          }\n        }\n        if (offset < container.data.length) {\n          range.setStart(container, offset);\n          range.setEnd(container, offset + 1);\n          if (!isHiddenWhiteSpaceRange(range)) {\n            addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect(range), true));\n          }\n        }\n      };\n      if (isText$4(caretPosition.container())) {\n        addCharacterOffset(caretPosition.container(), caretPosition.offset());\n        return clientRects;\n      }\n      if (isElement$3(caretPosition.container())) {\n        if (caretPosition.isAtEnd()) {\n          node = resolveIndex(caretPosition.container(), caretPosition.offset());\n          if (isText$4(node)) {\n            addCharacterOffset(node, node.data.length);\n          }\n          if (isValidElementCaretCandidate(node) && !isBr$3(node)) {\n            addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect(node), false));\n          }\n        } else {\n          node = resolveIndex(caretPosition.container(), caretPosition.offset());\n          if (isText$4(node)) {\n            addCharacterOffset(node, 0);\n          }\n          if (isValidElementCaretCandidate(node) && caretPosition.isAtEnd()) {\n            addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect(node), false));\n            return clientRects;\n          }\n          beforeNode = resolveIndex(caretPosition.container(), caretPosition.offset() - 1);\n          if (isValidElementCaretCandidate(beforeNode) && !isBr$3(beforeNode)) {\n            if (isBlock$1(beforeNode) || isBlock$1(node) || !isValidElementCaretCandidate(node)) {\n              addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect(beforeNode), false));\n            }\n          }\n          if (isValidElementCaretCandidate(node)) {\n            addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect(node), true));\n          }\n        }\n      }\n      return clientRects;\n    };\n    function CaretPosition(container, offset, clientRects) {\n      var isAtStart = function () {\n        if (isText$4(container)) {\n          return offset === 0;\n        }\n        return offset === 0;\n      };\n      var isAtEnd = function () {\n        if (isText$4(container)) {\n          return offset >= container.data.length;\n        }\n        return offset >= container.childNodes.length;\n      };\n      var toRange = function () {\n        var range;\n        range = createRange(container.ownerDocument);\n        range.setStart(container, offset);\n        range.setEnd(container, offset);\n        return range;\n      };\n      var getClientRects = function () {\n        if (!clientRects) {\n          clientRects = getCaretPositionClientRects(CaretPosition(container, offset));\n        }\n        return clientRects;\n      };\n      var isVisible = function () {\n        return getClientRects().length > 0;\n      };\n      var isEqual = function (caretPosition) {\n        return caretPosition && container === caretPosition.container() && offset === caretPosition.offset();\n      };\n      var getNode = function (before) {\n        return resolveIndex(container, before ? offset - 1 : offset);\n      };\n      return {\n        container: constant(container),\n        offset: constant(offset),\n        toRange: toRange,\n        getClientRects: getClientRects,\n        isVisible: isVisible,\n        isAtStart: isAtStart,\n        isAtEnd: isAtEnd,\n        isEqual: isEqual,\n        getNode: getNode\n      };\n    }\n    (function (CaretPosition) {\n      CaretPosition.fromRangeStart = function (range) {\n        return CaretPosition(range.startContainer, range.startOffset);\n      };\n      CaretPosition.fromRangeEnd = function (range) {\n        return CaretPosition(range.endContainer, range.endOffset);\n      };\n      CaretPosition.after = function (node) {\n        return CaretPosition(node.parentNode, nodeIndex(node) + 1);\n      };\n      CaretPosition.before = function (node) {\n        return CaretPosition(node.parentNode, nodeIndex(node));\n      };\n      CaretPosition.isAbove = function (pos1, pos2) {\n        return lift2(head(pos2.getClientRects()), last(pos1.getClientRects()), isAbove).getOr(false);\n      };\n      CaretPosition.isBelow = function (pos1, pos2) {\n        return lift2(last(pos2.getClientRects()), head(pos1.getClientRects()), isBelow).getOr(false);\n      };\n      CaretPosition.isAtStart = function (pos) {\n        return pos ? pos.isAtStart() : false;\n      };\n      CaretPosition.isAtEnd = function (pos) {\n        return pos ? pos.isAtEnd() : false;\n      };\n      CaretPosition.isTextPosition = function (pos) {\n        return pos ? NodeType.isText(pos.container()) : false;\n      };\n      CaretPosition.isElementPosition = function (pos) {\n        return CaretPosition.isTextPosition(pos) === false;\n      };\n    }(CaretPosition || (CaretPosition = {})));\n    var CaretPosition$1 = CaretPosition;\n\n    var isText$5 = NodeType.isText;\n    var isBogus$1 = NodeType.isBogus;\n    var nodeIndex$1 = DOMUtils$1.nodeIndex;\n    var normalizedParent = function (node) {\n      var parentNode = node.parentNode;\n      if (isBogus$1(parentNode)) {\n        return normalizedParent(parentNode);\n      }\n      return parentNode;\n    };\n    var getChildNodes = function (node) {\n      if (!node) {\n        return [];\n      }\n      return ArrUtils.reduce(node.childNodes, function (result, node) {\n        if (isBogus$1(node) && node.nodeName !== 'BR') {\n          result = result.concat(getChildNodes(node));\n        } else {\n          result.push(node);\n        }\n        return result;\n      }, []);\n    };\n    var normalizedTextOffset = function (node, offset) {\n      while (node = node.previousSibling) {\n        if (!isText$5(node)) {\n          break;\n        }\n        offset += node.data.length;\n      }\n      return offset;\n    };\n    var equal = function (a) {\n      return function (b) {\n        return a === b;\n      };\n    };\n    var normalizedNodeIndex = function (node) {\n      var nodes, index, numTextFragments;\n      nodes = getChildNodes(normalizedParent(node));\n      index = ArrUtils.findIndex(nodes, equal(node), node);\n      nodes = nodes.slice(0, index + 1);\n      numTextFragments = ArrUtils.reduce(nodes, function (result, node, i) {\n        if (isText$5(node) && isText$5(nodes[i - 1])) {\n          result++;\n        }\n        return result;\n      }, 0);\n      nodes = ArrUtils.filter(nodes, NodeType.matchNodeNames(node.nodeName));\n      index = ArrUtils.findIndex(nodes, equal(node), node);\n      return index - numTextFragments;\n    };\n    var createPathItem = function (node) {\n      var name;\n      if (isText$5(node)) {\n        name = 'text()';\n      } else {\n        name = node.nodeName.toLowerCase();\n      }\n      return name + '[' + normalizedNodeIndex(node) + ']';\n    };\n    var parentsUntil = function (root, node, predicate) {\n      var parents = [];\n      for (node = node.parentNode; node !== root; node = node.parentNode) {\n        if (predicate && predicate(node)) {\n          break;\n        }\n        parents.push(node);\n      }\n      return parents;\n    };\n    var create$2 = function (root, caretPosition) {\n      var container, offset, path = [], outputOffset, childNodes, parents;\n      container = caretPosition.container();\n      offset = caretPosition.offset();\n      if (isText$5(container)) {\n        outputOffset = normalizedTextOffset(container, offset);\n      } else {\n        childNodes = container.childNodes;\n        if (offset >= childNodes.length) {\n          outputOffset = 'after';\n          offset = childNodes.length - 1;\n        } else {\n          outputOffset = 'before';\n        }\n        container = childNodes[offset];\n      }\n      path.push(createPathItem(container));\n      parents = parentsUntil(root, container);\n      parents = ArrUtils.filter(parents, not(NodeType.isBogus));\n      path = path.concat(ArrUtils.map(parents, function (node) {\n        return createPathItem(node);\n      }));\n      return path.reverse().join('/') + ',' + outputOffset;\n    };\n    var resolvePathItem = function (node, name, index) {\n      var nodes = getChildNodes(node);\n      nodes = ArrUtils.filter(nodes, function (node, index) {\n        return !isText$5(node) || !isText$5(nodes[index - 1]);\n      });\n      nodes = ArrUtils.filter(nodes, NodeType.matchNodeNames(name));\n      return nodes[index];\n    };\n    var findTextPosition = function (container, offset) {\n      var node = container, targetOffset = 0, dataLen;\n      while (isText$5(node)) {\n        dataLen = node.data.length;\n        if (offset >= targetOffset && offset <= targetOffset + dataLen) {\n          container = node;\n          offset = offset - targetOffset;\n          break;\n        }\n        if (!isText$5(node.nextSibling)) {\n          container = node;\n          offset = dataLen;\n          break;\n        }\n        targetOffset += dataLen;\n        node = node.nextSibling;\n      }\n      if (isText$5(container) && offset > container.data.length) {\n        offset = container.data.length;\n      }\n      return CaretPosition$1(container, offset);\n    };\n    var resolve$2 = function (root, path) {\n      var parts, container, offset;\n      if (!path) {\n        return null;\n      }\n      parts = path.split(',');\n      path = parts[0].split('/');\n      offset = parts.length > 1 ? parts[1] : 'before';\n      container = ArrUtils.reduce(path, function (result, value) {\n        value = /([\\w\\-\\(\\)]+)\\[([0-9]+)\\]/.exec(value);\n        if (!value) {\n          return null;\n        }\n        if (value[1] === 'text()') {\n          value[1] = '#text';\n        }\n        return resolvePathItem(result, value[1], parseInt(value[2], 10));\n      }, root);\n      if (!container) {\n        return null;\n      }\n      if (!isText$5(container)) {\n        if (offset === 'after') {\n          offset = nodeIndex$1(container) + 1;\n        } else {\n          offset = nodeIndex$1(container);\n        }\n        return CaretPosition$1(container.parentNode, offset);\n      }\n      return findTextPosition(container, parseInt(offset, 10));\n    };\n\n    var trimEmptyTextNode = function (dom, node) {\n      if (NodeType.isText(node) && node.data.length === 0) {\n        dom.remove(node);\n      }\n    };\n    var insertNode = function (dom, rng, node) {\n      rng.insertNode(node);\n      trimEmptyTextNode(dom, node.previousSibling);\n      trimEmptyTextNode(dom, node.nextSibling);\n    };\n    var insertFragment = function (dom, rng, frag) {\n      var firstChild = Option.from(frag.firstChild);\n      var lastChild = Option.from(frag.lastChild);\n      rng.insertNode(frag);\n      firstChild.each(function (child) {\n        return trimEmptyTextNode(dom, child.previousSibling);\n      });\n      lastChild.each(function (child) {\n        return trimEmptyTextNode(dom, child.nextSibling);\n      });\n    };\n    var rangeInsertNode = function (dom, rng, node) {\n      if (NodeType.isDocumentFragment(node)) {\n        insertFragment(dom, rng, node);\n      } else {\n        insertNode(dom, rng, node);\n      }\n    };\n\n    var isContentEditableFalse$2 = NodeType.isContentEditableFalse;\n    var getNormalizedTextOffset = function (trim, container, offset) {\n      var node, trimmedOffset;\n      trimmedOffset = trim(container.data.slice(0, offset)).length;\n      for (node = container.previousSibling; node && NodeType.isText(node); node = node.previousSibling) {\n        trimmedOffset += trim(node.data).length;\n      }\n      return trimmedOffset;\n    };\n    var getPoint = function (dom, trim, normalized, rng, start) {\n      var container = rng[start ? 'startContainer' : 'endContainer'];\n      var offset = rng[start ? 'startOffset' : 'endOffset'];\n      var point = [];\n      var childNodes, after = 0;\n      var root = dom.getRoot();\n      if (NodeType.isText(container)) {\n        point.push(normalized ? getNormalizedTextOffset(trim, container, offset) : offset);\n      } else {\n        childNodes = container.childNodes;\n        if (offset >= childNodes.length && childNodes.length) {\n          after = 1;\n          offset = Math.max(0, childNodes.length - 1);\n        }\n        point.push(dom.nodeIndex(childNodes[offset], normalized) + after);\n      }\n      for (; container && container !== root; container = container.parentNode) {\n        point.push(dom.nodeIndex(container, normalized));\n      }\n      return point;\n    };\n    var getLocation = function (trim, selection, normalized, rng) {\n      var dom = selection.dom, bookmark = {};\n      bookmark.start = getPoint(dom, trim, normalized, rng, true);\n      if (!selection.isCollapsed()) {\n        bookmark.end = getPoint(dom, trim, normalized, rng, false);\n      }\n      return bookmark;\n    };\n    var findIndex$2 = function (dom, name, element) {\n      var count = 0;\n      Tools.each(dom.select(name), function (node) {\n        if (node.getAttribute('data-mce-bogus') === 'all') {\n          return;\n        }\n        if (node === element) {\n          return false;\n        }\n        count++;\n      });\n      return count;\n    };\n    var moveEndPoint = function (rng, start) {\n      var container, offset, childNodes;\n      var prefix = start ? 'start' : 'end';\n      container = rng[prefix + 'Container'];\n      offset = rng[prefix + 'Offset'];\n      if (NodeType.isElement(container) && container.nodeName === 'TR') {\n        childNodes = container.childNodes;\n        container = childNodes[Math.min(start ? offset : offset - 1, childNodes.length - 1)];\n        if (container) {\n          offset = start ? 0 : container.childNodes.length;\n          rng['set' + (start ? 'Start' : 'End')](container, offset);\n        }\n      }\n    };\n    var normalizeTableCellSelection = function (rng) {\n      moveEndPoint(rng, true);\n      moveEndPoint(rng, false);\n      return rng;\n    };\n    var findSibling = function (node, offset) {\n      var sibling;\n      if (NodeType.isElement(node)) {\n        node = getNode(node, offset);\n        if (isContentEditableFalse$2(node)) {\n          return node;\n        }\n      }\n      if (isCaretContainer(node)) {\n        if (NodeType.isText(node) && isCaretContainerBlock(node)) {\n          node = node.parentNode;\n        }\n        sibling = node.previousSibling;\n        if (isContentEditableFalse$2(sibling)) {\n          return sibling;\n        }\n        sibling = node.nextSibling;\n        if (isContentEditableFalse$2(sibling)) {\n          return sibling;\n        }\n      }\n    };\n    var findAdjacentContentEditableFalseElm = function (rng) {\n      return findSibling(rng.startContainer, rng.startOffset) || findSibling(rng.endContainer, rng.endOffset);\n    };\n    var getOffsetBookmark = function (trim, normalized, selection) {\n      var element = selection.getNode();\n      var name = element ? element.nodeName : null;\n      var rng = selection.getRng();\n      if (isContentEditableFalse$2(element) || name === 'IMG') {\n        return {\n          name: name,\n          index: findIndex$2(selection.dom, name, element)\n        };\n      }\n      var sibling = findAdjacentContentEditableFalseElm(rng);\n      if (sibling) {\n        name = sibling.tagName;\n        return {\n          name: name,\n          index: findIndex$2(selection.dom, name, sibling)\n        };\n      }\n      return getLocation(trim, selection, normalized, rng);\n    };\n    var getCaretBookmark = function (selection) {\n      var rng = selection.getRng();\n      return {\n        start: create$2(selection.dom.getRoot(), CaretPosition$1.fromRangeStart(rng)),\n        end: create$2(selection.dom.getRoot(), CaretPosition$1.fromRangeEnd(rng))\n      };\n    };\n    var getRangeBookmark = function (selection) {\n      return { rng: selection.getRng() };\n    };\n    var createBookmarkSpan = function (dom, id, filled) {\n      var args = {\n        'data-mce-type': 'bookmark',\n        'id': id,\n        'style': 'overflow:hidden;line-height:0px'\n      };\n      return filled ? dom.create('span', args, '&#xFEFF;') : dom.create('span', args);\n    };\n    var getPersistentBookmark = function (selection, filled) {\n      var dom = selection.dom;\n      var rng = selection.getRng();\n      var id = dom.uniqueId();\n      var collapsed = selection.isCollapsed();\n      var element = selection.getNode();\n      var name = element.nodeName;\n      if (name === 'IMG') {\n        return {\n          name: name,\n          index: findIndex$2(dom, name, element)\n        };\n      }\n      var rng2 = normalizeTableCellSelection(rng.cloneRange());\n      if (!collapsed) {\n        rng2.collapse(false);\n        var endBookmarkNode = createBookmarkSpan(dom, id + '_end', filled);\n        rangeInsertNode(dom, rng2, endBookmarkNode);\n      }\n      rng = normalizeTableCellSelection(rng);\n      rng.collapse(true);\n      var startBookmarkNode = createBookmarkSpan(dom, id + '_start', filled);\n      rangeInsertNode(dom, rng, startBookmarkNode);\n      selection.moveToBookmark({\n        id: id,\n        keep: 1\n      });\n      return { id: id };\n    };\n    var getBookmark = function (selection, type, normalized) {\n      if (type === 2) {\n        return getOffsetBookmark(Zwsp.trim, normalized, selection);\n      } else if (type === 3) {\n        return getCaretBookmark(selection);\n      } else if (type) {\n        return getRangeBookmark(selection);\n      } else {\n        return getPersistentBookmark(selection, false);\n      }\n    };\n    var GetBookmark = {\n      getBookmark: getBookmark,\n      getUndoBookmark: curry(getOffsetBookmark, identity, true),\n      getPersistentBookmark: getPersistentBookmark\n    };\n\n    var CARET_ID = '_mce_caret';\n    var isCaretNode = function (node) {\n      return NodeType.isElement(node) && node.id === CARET_ID;\n    };\n    var getParentCaretContainer = function (body, node) {\n      while (node && node !== body) {\n        if (node.id === CARET_ID) {\n          return node;\n        }\n        node = node.parentNode;\n      }\n      return null;\n    };\n\n    var isElement$4 = NodeType.isElement;\n    var isText$6 = NodeType.isText;\n    var removeNode = function (node) {\n      var parentNode = node.parentNode;\n      if (parentNode) {\n        parentNode.removeChild(node);\n      }\n    };\n    var getNodeValue = function (node) {\n      try {\n        return node.nodeValue;\n      } catch (ex) {\n        return '';\n      }\n    };\n    var setNodeValue = function (node, text) {\n      if (text.length === 0) {\n        removeNode(node);\n      } else {\n        node.nodeValue = text;\n      }\n    };\n    var trimCount = function (text) {\n      var trimmedText = Zwsp.trim(text);\n      return {\n        count: text.length - trimmedText.length,\n        text: trimmedText\n      };\n    };\n    var removeUnchanged = function (caretContainer, pos) {\n      remove$5(caretContainer);\n      return pos;\n    };\n    var removeTextAndReposition = function (caretContainer, pos) {\n      var before = trimCount(caretContainer.data.substr(0, pos.offset()));\n      var after = trimCount(caretContainer.data.substr(pos.offset()));\n      var text = before.text + after.text;\n      if (text.length > 0) {\n        setNodeValue(caretContainer, text);\n        return CaretPosition$1(caretContainer, pos.offset() - before.count);\n      } else {\n        return pos;\n      }\n    };\n    var removeElementAndReposition = function (caretContainer, pos) {\n      var parentNode = pos.container();\n      var newPosition = indexOf(from$1(parentNode.childNodes), caretContainer).map(function (index) {\n        return index < pos.offset() ? CaretPosition$1(parentNode, pos.offset() - 1) : pos;\n      }).getOr(pos);\n      remove$5(caretContainer);\n      return newPosition;\n    };\n    var removeTextCaretContainer = function (caretContainer, pos) {\n      return isText$6(caretContainer) && pos.container() === caretContainer ? removeTextAndReposition(caretContainer, pos) : removeUnchanged(caretContainer, pos);\n    };\n    var removeElementCaretContainer = function (caretContainer, pos) {\n      return pos.container() === caretContainer.parentNode ? removeElementAndReposition(caretContainer, pos) : removeUnchanged(caretContainer, pos);\n    };\n    var removeAndReposition = function (container, pos) {\n      return CaretPosition$1.isTextPosition(pos) ? removeTextCaretContainer(container, pos) : removeElementCaretContainer(container, pos);\n    };\n    var remove$5 = function (caretContainerNode) {\n      if (isElement$4(caretContainerNode) && isCaretContainer(caretContainerNode)) {\n        if (hasContent(caretContainerNode)) {\n          caretContainerNode.removeAttribute('data-mce-caret');\n        } else {\n          removeNode(caretContainerNode);\n        }\n      }\n      if (isText$6(caretContainerNode)) {\n        var text = Zwsp.trim(getNodeValue(caretContainerNode));\n        setNodeValue(caretContainerNode, text);\n      }\n    };\n    var CaretContainerRemove = {\n      removeAndReposition: removeAndReposition,\n      remove: remove$5\n    };\n\n    var browser$2 = PlatformDetection$1.detect().browser;\n    var isContentEditableFalse$3 = NodeType.isContentEditableFalse;\n    var isTableCell$1 = function (node) {\n      return NodeType.isElement(node) && /^(TD|TH)$/i.test(node.tagName);\n    };\n    var getAbsoluteClientRect = function (root, element, before) {\n      var clientRect = collapse(element.getBoundingClientRect(), before);\n      var docElm, scrollX, scrollY, margin, rootRect;\n      if (root.tagName === 'BODY') {\n        docElm = root.ownerDocument.documentElement;\n        scrollX = root.scrollLeft || docElm.scrollLeft;\n        scrollY = root.scrollTop || docElm.scrollTop;\n      } else {\n        rootRect = root.getBoundingClientRect();\n        scrollX = root.scrollLeft - rootRect.left;\n        scrollY = root.scrollTop - rootRect.top;\n      }\n      clientRect.left += scrollX;\n      clientRect.right += scrollX;\n      clientRect.top += scrollY;\n      clientRect.bottom += scrollY;\n      clientRect.width = 1;\n      margin = element.offsetWidth - element.clientWidth;\n      if (margin > 0) {\n        if (before) {\n          margin *= -1;\n        }\n        clientRect.left += margin;\n        clientRect.right += margin;\n      }\n      return clientRect;\n    };\n    var trimInlineCaretContainers = function (root) {\n      var contentEditableFalseNodes, node, sibling, i, data;\n      contentEditableFalseNodes = DomQuery('*[contentEditable=false]', root);\n      for (i = 0; i < contentEditableFalseNodes.length; i++) {\n        node = contentEditableFalseNodes[i];\n        sibling = node.previousSibling;\n        if (endsWithCaretContainer(sibling)) {\n          data = sibling.data;\n          if (data.length === 1) {\n            sibling.parentNode.removeChild(sibling);\n          } else {\n            sibling.deleteData(data.length - 1, 1);\n          }\n        }\n        sibling = node.nextSibling;\n        if (startsWithCaretContainer(sibling)) {\n          data = sibling.data;\n          if (data.length === 1) {\n            sibling.parentNode.removeChild(sibling);\n          } else {\n            sibling.deleteData(0, 1);\n          }\n        }\n      }\n    };\n    var FakeCaret = function (root, isBlock, hasFocus) {\n      var lastVisualCaret = Cell(Option.none());\n      var cursorInterval, caretContainerNode;\n      var show = function (before, element) {\n        var clientRect, rng;\n        hide();\n        if (isTableCell$1(element)) {\n          return null;\n        }\n        if (isBlock(element)) {\n          caretContainerNode = insertBlock('p', element, before);\n          clientRect = getAbsoluteClientRect(root, element, before);\n          DomQuery(caretContainerNode).css('top', clientRect.top);\n          var caret = DomQuery('<div class=\"mce-visual-caret\" data-mce-bogus=\"all\"></div>').css(clientRect).appendTo(root)[0];\n          lastVisualCaret.set(Option.some({\n            caret: caret,\n            element: element,\n            before: before\n          }));\n          lastVisualCaret.get().each(function (caretState) {\n            if (before) {\n              DomQuery(caretState.caret).addClass('mce-visual-caret-before');\n            }\n          });\n          startBlink();\n          rng = element.ownerDocument.createRange();\n          rng.setStart(caretContainerNode, 0);\n          rng.setEnd(caretContainerNode, 0);\n        } else {\n          caretContainerNode = insertInline(element, before);\n          rng = element.ownerDocument.createRange();\n          if (isContentEditableFalse$3(caretContainerNode.nextSibling)) {\n            rng.setStart(caretContainerNode, 0);\n            rng.setEnd(caretContainerNode, 0);\n          } else {\n            rng.setStart(caretContainerNode, 1);\n            rng.setEnd(caretContainerNode, 1);\n          }\n          return rng;\n        }\n        return rng;\n      };\n      var hide = function () {\n        trimInlineCaretContainers(root);\n        if (caretContainerNode) {\n          CaretContainerRemove.remove(caretContainerNode);\n          caretContainerNode = null;\n        }\n        lastVisualCaret.get().each(function (caretState) {\n          DomQuery(caretState.caret).remove();\n          lastVisualCaret.set(Option.none());\n        });\n        clearInterval(cursorInterval);\n      };\n      var startBlink = function () {\n        cursorInterval = Delay.setInterval(function () {\n          if (hasFocus()) {\n            DomQuery('div.mce-visual-caret', root).toggleClass('mce-visual-caret-hidden');\n          } else {\n            DomQuery('div.mce-visual-caret', root).addClass('mce-visual-caret-hidden');\n          }\n        }, 500);\n      };\n      var reposition = function () {\n        lastVisualCaret.get().each(function (caretState) {\n          var clientRect = getAbsoluteClientRect(root, caretState.element, caretState.before);\n          DomQuery(caretState.caret).css(clientRect);\n        });\n      };\n      var destroy = function () {\n        return Delay.clearInterval(cursorInterval);\n      };\n      var getCss = function () {\n        return '.mce-visual-caret {' + 'position: absolute;' + 'background-color: black;' + 'background-color: currentcolor;' + '}' + '.mce-visual-caret-hidden {' + 'display: none;' + '}' + '*[data-mce-caret] {' + 'position: absolute;' + 'left: -1000px;' + 'right: auto;' + 'top: 0;' + 'margin: 0;' + 'padding: 0;' + '}';\n      };\n      return {\n        show: show,\n        hide: hide,\n        getCss: getCss,\n        reposition: reposition,\n        destroy: destroy\n      };\n    };\n    var isFakeCaretTableBrowser = function () {\n      return browser$2.isIE() || browser$2.isEdge() || browser$2.isFirefox();\n    };\n    var isFakeCaretTarget = function (node) {\n      return isContentEditableFalse$3(node) || NodeType.isTable(node) && isFakeCaretTableBrowser();\n    };\n\n    var isContentEditableFalse$4 = NodeType.isContentEditableFalse;\n    var isBlockLike = NodeType.matchStyleValues('display', 'block table table-cell table-caption list-item');\n    var isCaretContainer$2 = isCaretContainer;\n    var isCaretContainerBlock$1 = isCaretContainerBlock;\n    var isElement$5 = NodeType.isElement;\n    var isCaretCandidate$2 = isCaretCandidate;\n    var isForwards = function (direction) {\n      return direction > 0;\n    };\n    var isBackwards = function (direction) {\n      return direction < 0;\n    };\n    var skipCaretContainers = function (walk, shallow) {\n      var node;\n      while (node = walk(shallow)) {\n        if (!isCaretContainerBlock$1(node)) {\n          return node;\n        }\n      }\n      return null;\n    };\n    var findNode = function (node, direction, predicateFn, rootNode, shallow) {\n      var walker = new TreeWalker(node, rootNode);\n      if (isBackwards(direction)) {\n        if (isContentEditableFalse$4(node) || isCaretContainerBlock$1(node)) {\n          node = skipCaretContainers(walker.prev, true);\n          if (predicateFn(node)) {\n            return node;\n          }\n        }\n        while (node = skipCaretContainers(walker.prev, shallow)) {\n          if (predicateFn(node)) {\n            return node;\n          }\n        }\n      }\n      if (isForwards(direction)) {\n        if (isContentEditableFalse$4(node) || isCaretContainerBlock$1(node)) {\n          node = skipCaretContainers(walker.next, true);\n          if (predicateFn(node)) {\n            return node;\n          }\n        }\n        while (node = skipCaretContainers(walker.next, shallow)) {\n          if (predicateFn(node)) {\n            return node;\n          }\n        }\n      }\n      return null;\n    };\n    var getParentBlock = function (node, rootNode) {\n      while (node && node !== rootNode) {\n        if (isBlockLike(node)) {\n          return node;\n        }\n        node = node.parentNode;\n      }\n      return null;\n    };\n    var isInSameBlock = function (caretPosition1, caretPosition2, rootNode) {\n      return getParentBlock(caretPosition1.container(), rootNode) === getParentBlock(caretPosition2.container(), rootNode);\n    };\n    var getChildNodeAtRelativeOffset = function (relativeOffset, caretPosition) {\n      var container, offset;\n      if (!caretPosition) {\n        return null;\n      }\n      container = caretPosition.container();\n      offset = caretPosition.offset();\n      if (!isElement$5(container)) {\n        return null;\n      }\n      return container.childNodes[offset + relativeOffset];\n    };\n    var beforeAfter = function (before, node) {\n      var range = node.ownerDocument.createRange();\n      if (before) {\n        range.setStartBefore(node);\n        range.setEndBefore(node);\n      } else {\n        range.setStartAfter(node);\n        range.setEndAfter(node);\n      }\n      return range;\n    };\n    var isNodesInSameBlock = function (root, node1, node2) {\n      return getParentBlock(node1, root) === getParentBlock(node2, root);\n    };\n    var lean = function (left, root, node) {\n      var sibling, siblingName;\n      if (left) {\n        siblingName = 'previousSibling';\n      } else {\n        siblingName = 'nextSibling';\n      }\n      while (node && node !== root) {\n        sibling = node[siblingName];\n        if (isCaretContainer$2(sibling)) {\n          sibling = sibling[siblingName];\n        }\n        if (isContentEditableFalse$4(sibling)) {\n          if (isNodesInSameBlock(root, sibling, node)) {\n            return sibling;\n          }\n          break;\n        }\n        if (isCaretCandidate$2(sibling)) {\n          break;\n        }\n        node = node.parentNode;\n      }\n      return null;\n    };\n    var before$2 = curry(beforeAfter, true);\n    var after$1 = curry(beforeAfter, false);\n    var normalizeRange = function (direction, root, range) {\n      var node, container, offset, location;\n      var leanLeft = curry(lean, true, root);\n      var leanRight = curry(lean, false, root);\n      container = range.startContainer;\n      offset = range.startOffset;\n      if (isCaretContainerBlock(container)) {\n        if (!isElement$5(container)) {\n          container = container.parentNode;\n        }\n        location = container.getAttribute('data-mce-caret');\n        if (location === 'before') {\n          node = container.nextSibling;\n          if (isFakeCaretTarget(node)) {\n            return before$2(node);\n          }\n        }\n        if (location === 'after') {\n          node = container.previousSibling;\n          if (isFakeCaretTarget(node)) {\n            return after$1(node);\n          }\n        }\n      }\n      if (!range.collapsed) {\n        return range;\n      }\n      if (NodeType.isText(container)) {\n        if (isCaretContainer$2(container)) {\n          if (direction === 1) {\n            node = leanRight(container);\n            if (node) {\n              return before$2(node);\n            }\n            node = leanLeft(container);\n            if (node) {\n              return after$1(node);\n            }\n          }\n          if (direction === -1) {\n            node = leanLeft(container);\n            if (node) {\n              return after$1(node);\n            }\n            node = leanRight(container);\n            if (node) {\n              return before$2(node);\n            }\n          }\n          return range;\n        }\n        if (endsWithCaretContainer(container) && offset >= container.data.length - 1) {\n          if (direction === 1) {\n            node = leanRight(container);\n            if (node) {\n              return before$2(node);\n            }\n          }\n          return range;\n        }\n        if (startsWithCaretContainer(container) && offset <= 1) {\n          if (direction === -1) {\n            node = leanLeft(container);\n            if (node) {\n              return after$1(node);\n            }\n          }\n          return range;\n        }\n        if (offset === container.data.length) {\n          node = leanRight(container);\n          if (node) {\n            return before$2(node);\n          }\n          return range;\n        }\n        if (offset === 0) {\n          node = leanLeft(container);\n          if (node) {\n            return after$1(node);\n          }\n          return range;\n        }\n      }\n      return range;\n    };\n    var getRelativeCefElm = function (forward, caretPosition) {\n      return Option.from(getChildNodeAtRelativeOffset(forward ? 0 : -1, caretPosition)).filter(isContentEditableFalse$4);\n    };\n    var getNormalizedRangeEndPoint = function (direction, root, range) {\n      var normalizedRange = normalizeRange(direction, root, range);\n      if (direction === -1) {\n        return CaretPosition.fromRangeStart(normalizedRange);\n      }\n      return CaretPosition.fromRangeEnd(normalizedRange);\n    };\n    var getElementFromPosition = function (pos) {\n      return Option.from(pos.getNode()).map(Element.fromDom);\n    };\n    var getElementFromPrevPosition = function (pos) {\n      return Option.from(pos.getNode(true)).map(Element.fromDom);\n    };\n    var getVisualCaretPosition = function (walkFn, caretPosition) {\n      while (caretPosition = walkFn(caretPosition)) {\n        if (caretPosition.isVisible()) {\n          return caretPosition;\n        }\n      }\n      return caretPosition;\n    };\n    var isMoveInsideSameBlock = function (from, to) {\n      var inSameBlock = isInSameBlock(from, to);\n      if (!inSameBlock && NodeType.isBr(from.getNode())) {\n        return true;\n      }\n      return inSameBlock;\n    };\n\n    var HDirection;\n    (function (HDirection) {\n      HDirection[HDirection['Backwards'] = -1] = 'Backwards';\n      HDirection[HDirection['Forwards'] = 1] = 'Forwards';\n    }(HDirection || (HDirection = {})));\n    var isContentEditableFalse$5 = NodeType.isContentEditableFalse;\n    var isText$7 = NodeType.isText;\n    var isElement$6 = NodeType.isElement;\n    var isBr$4 = NodeType.isBr;\n    var isCaretCandidate$3 = isCaretCandidate;\n    var isAtomic$1 = isAtomic;\n    var isEditableCaretCandidate$1 = isEditableCaretCandidate;\n    var getParents = function (node, root) {\n      var parents = [];\n      while (node && node !== root) {\n        parents.push(node);\n        node = node.parentNode;\n      }\n      return parents;\n    };\n    var nodeAtIndex = function (container, offset) {\n      if (container.hasChildNodes() && offset < container.childNodes.length) {\n        return container.childNodes[offset];\n      }\n      return null;\n    };\n    var getCaretCandidatePosition = function (direction, node) {\n      if (isForwards(direction)) {\n        if (isCaretCandidate$3(node.previousSibling) && !isText$7(node.previousSibling)) {\n          return CaretPosition$1.before(node);\n        }\n        if (isText$7(node)) {\n          return CaretPosition$1(node, 0);\n        }\n      }\n      if (isBackwards(direction)) {\n        if (isCaretCandidate$3(node.nextSibling) && !isText$7(node.nextSibling)) {\n          return CaretPosition$1.after(node);\n        }\n        if (isText$7(node)) {\n          return CaretPosition$1(node, node.data.length);\n        }\n      }\n      if (isBackwards(direction)) {\n        if (isBr$4(node)) {\n          return CaretPosition$1.before(node);\n        }\n        return CaretPosition$1.after(node);\n      }\n      return CaretPosition$1.before(node);\n    };\n    var moveForwardFromBr = function (root, nextNode) {\n      var nextSibling = nextNode.nextSibling;\n      if (nextSibling && isCaretCandidate$3(nextSibling)) {\n        if (isText$7(nextSibling)) {\n          return CaretPosition$1(nextSibling, 0);\n        } else {\n          return CaretPosition$1.before(nextSibling);\n        }\n      } else {\n        return findCaretPosition(HDirection.Forwards, CaretPosition$1.after(nextNode), root);\n      }\n    };\n    var findCaretPosition = function (direction, startPos, root) {\n      var node, nextNode, innerNode;\n      var rootContentEditableFalseElm, caretPosition;\n      if (!isElement$6(root) || !startPos) {\n        return null;\n      }\n      if (startPos.isEqual(CaretPosition$1.after(root)) && root.lastChild) {\n        caretPosition = CaretPosition$1.after(root.lastChild);\n        if (isBackwards(direction) && isCaretCandidate$3(root.lastChild) && isElement$6(root.lastChild)) {\n          return isBr$4(root.lastChild) ? CaretPosition$1.before(root.lastChild) : caretPosition;\n        }\n      } else {\n        caretPosition = startPos;\n      }\n      var container = caretPosition.container();\n      var offset = caretPosition.offset();\n      if (isText$7(container)) {\n        if (isBackwards(direction) && offset > 0) {\n          return CaretPosition$1(container, --offset);\n        }\n        if (isForwards(direction) && offset < container.length) {\n          return CaretPosition$1(container, ++offset);\n        }\n        node = container;\n      } else {\n        if (isBackwards(direction) && offset > 0) {\n          nextNode = nodeAtIndex(container, offset - 1);\n          if (isCaretCandidate$3(nextNode)) {\n            if (!isAtomic$1(nextNode)) {\n              innerNode = findNode(nextNode, direction, isEditableCaretCandidate$1, nextNode);\n              if (innerNode) {\n                if (isText$7(innerNode)) {\n                  return CaretPosition$1(innerNode, innerNode.data.length);\n                }\n                return CaretPosition$1.after(innerNode);\n              }\n            }\n            if (isText$7(nextNode)) {\n              return CaretPosition$1(nextNode, nextNode.data.length);\n            }\n            return CaretPosition$1.before(nextNode);\n          }\n        }\n        if (isForwards(direction) && offset < container.childNodes.length) {\n          nextNode = nodeAtIndex(container, offset);\n          if (isCaretCandidate$3(nextNode)) {\n            if (isBr$4(nextNode)) {\n              return moveForwardFromBr(root, nextNode);\n            }\n            if (!isAtomic$1(nextNode)) {\n              innerNode = findNode(nextNode, direction, isEditableCaretCandidate$1, nextNode);\n              if (innerNode) {\n                if (isText$7(innerNode)) {\n                  return CaretPosition$1(innerNode, 0);\n                }\n                return CaretPosition$1.before(innerNode);\n              }\n            }\n            if (isText$7(nextNode)) {\n              return CaretPosition$1(nextNode, 0);\n            }\n            return CaretPosition$1.after(nextNode);\n          }\n        }\n        node = nextNode ? nextNode : caretPosition.getNode();\n      }\n      if (isForwards(direction) && caretPosition.isAtEnd() || isBackwards(direction) && caretPosition.isAtStart()) {\n        node = findNode(node, direction, constant(true), root, true);\n        if (isEditableCaretCandidate$1(node, root)) {\n          return getCaretCandidatePosition(direction, node);\n        }\n      }\n      nextNode = findNode(node, direction, isEditableCaretCandidate$1, root);\n      rootContentEditableFalseElm = ArrUtils.last(filter(getParents(container, root), isContentEditableFalse$5));\n      if (rootContentEditableFalseElm && (!nextNode || !rootContentEditableFalseElm.contains(nextNode))) {\n        if (isForwards(direction)) {\n          caretPosition = CaretPosition$1.after(rootContentEditableFalseElm);\n        } else {\n          caretPosition = CaretPosition$1.before(rootContentEditableFalseElm);\n        }\n        return caretPosition;\n      }\n      if (nextNode) {\n        return getCaretCandidatePosition(direction, nextNode);\n      }\n      return null;\n    };\n    var CaretWalker = function (root) {\n      return {\n        next: function (caretPosition) {\n          return findCaretPosition(HDirection.Forwards, caretPosition, root);\n        },\n        prev: function (caretPosition) {\n          return findCaretPosition(HDirection.Backwards, caretPosition, root);\n        }\n      };\n    };\n\n    var walkToPositionIn = function (forward, root, start) {\n      var position = forward ? CaretPosition$1.before(start) : CaretPosition$1.after(start);\n      return fromPosition(forward, root, position);\n    };\n    var afterElement = function (node) {\n      return NodeType.isBr(node) ? CaretPosition$1.before(node) : CaretPosition$1.after(node);\n    };\n    var isBeforeOrStart = function (position) {\n      if (CaretPosition$1.isTextPosition(position)) {\n        return position.offset() === 0;\n      } else {\n        return isCaretCandidate(position.getNode());\n      }\n    };\n    var isAfterOrEnd = function (position) {\n      if (CaretPosition$1.isTextPosition(position)) {\n        var container = position.container();\n        return position.offset() === container.data.length;\n      } else {\n        return isCaretCandidate(position.getNode(true));\n      }\n    };\n    var isBeforeAfterSameElement = function (from, to) {\n      return !CaretPosition$1.isTextPosition(from) && !CaretPosition$1.isTextPosition(to) && from.getNode() === to.getNode(true);\n    };\n    var isAtBr = function (position) {\n      return !CaretPosition$1.isTextPosition(position) && NodeType.isBr(position.getNode());\n    };\n    var shouldSkipPosition = function (forward, from, to) {\n      if (forward) {\n        return !isBeforeAfterSameElement(from, to) && !isAtBr(from) && isAfterOrEnd(from) && isBeforeOrStart(to);\n      } else {\n        return !isBeforeAfterSameElement(to, from) && isBeforeOrStart(from) && isAfterOrEnd(to);\n      }\n    };\n    var fromPosition = function (forward, root, pos) {\n      var walker = CaretWalker(root);\n      return Option.from(forward ? walker.next(pos) : walker.prev(pos));\n    };\n    var navigate = function (forward, root, from) {\n      return fromPosition(forward, root, from).bind(function (to) {\n        if (isInSameBlock(from, to, root) && shouldSkipPosition(forward, from, to)) {\n          return fromPosition(forward, root, to);\n        } else {\n          return Option.some(to);\n        }\n      });\n    };\n    var navigateIgnore = function (forward, root, from, ignoreFilter) {\n      return navigate(forward, root, from).bind(function (pos) {\n        return ignoreFilter(pos) ? navigateIgnore(forward, root, pos, ignoreFilter) : Option.some(pos);\n      });\n    };\n    var positionIn = function (forward, element) {\n      var startNode = forward ? element.firstChild : element.lastChild;\n      if (NodeType.isText(startNode)) {\n        return Option.some(CaretPosition$1(startNode, forward ? 0 : startNode.data.length));\n      } else if (startNode) {\n        if (isCaretCandidate(startNode)) {\n          return Option.some(forward ? CaretPosition$1.before(startNode) : afterElement(startNode));\n        } else {\n          return walkToPositionIn(forward, element, startNode);\n        }\n      } else {\n        return Option.none();\n      }\n    };\n    var nextPosition = curry(fromPosition, true);\n    var prevPosition = curry(fromPosition, false);\n    var CaretFinder = {\n      fromPosition: fromPosition,\n      nextPosition: nextPosition,\n      prevPosition: prevPosition,\n      navigate: navigate,\n      navigateIgnore: navigateIgnore,\n      positionIn: positionIn,\n      firstPositionIn: curry(positionIn, true),\n      lastPositionIn: curry(positionIn, false)\n    };\n\n    var isStringPathBookmark = function (bookmark) {\n      return typeof bookmark.start === 'string';\n    };\n    var isRangeBookmark = function (bookmark) {\n      return bookmark.hasOwnProperty('rng');\n    };\n    var isIdBookmark = function (bookmark) {\n      return bookmark.hasOwnProperty('id');\n    };\n    var isIndexBookmark = function (bookmark) {\n      return bookmark.hasOwnProperty('name');\n    };\n    var isPathBookmark = function (bookmark) {\n      return Tools.isArray(bookmark.start);\n    };\n\n    var addBogus = function (dom, node) {\n      if (NodeType.isElement(node) && dom.isBlock(node) && !node.innerHTML && !Env.ie) {\n        node.innerHTML = '<br data-mce-bogus=\"1\" />';\n      }\n      return node;\n    };\n    var resolveCaretPositionBookmark = function (dom, bookmark) {\n      var rng, pos;\n      rng = dom.createRng();\n      pos = resolve$2(dom.getRoot(), bookmark.start);\n      rng.setStart(pos.container(), pos.offset());\n      pos = resolve$2(dom.getRoot(), bookmark.end);\n      rng.setEnd(pos.container(), pos.offset());\n      return rng;\n    };\n    var insertZwsp = function (node, rng) {\n      var textNode = node.ownerDocument.createTextNode(Zwsp.ZWSP);\n      node.appendChild(textNode);\n      rng.setStart(textNode, 0);\n      rng.setEnd(textNode, 0);\n    };\n    var isEmpty = function (node) {\n      return node.hasChildNodes() === false;\n    };\n    var tryFindRangePosition = function (node, rng) {\n      return CaretFinder.lastPositionIn(node).fold(function () {\n        return false;\n      }, function (pos) {\n        rng.setStart(pos.container(), pos.offset());\n        rng.setEnd(pos.container(), pos.offset());\n        return true;\n      });\n    };\n    var padEmptyCaretContainer = function (root, node, rng) {\n      if (isEmpty(node) && getParentCaretContainer(root, node)) {\n        insertZwsp(node, rng);\n        return true;\n      } else {\n        return false;\n      }\n    };\n    var setEndPoint = function (dom, start, bookmark, rng) {\n      var point = bookmark[start ? 'start' : 'end'];\n      var i, node, offset, children;\n      var root = dom.getRoot();\n      if (point) {\n        offset = point[0];\n        for (node = root, i = point.length - 1; i >= 1; i--) {\n          children = node.childNodes;\n          if (padEmptyCaretContainer(root, node, rng)) {\n            return true;\n          }\n          if (point[i] > children.length - 1) {\n            if (padEmptyCaretContainer(root, node, rng)) {\n              return true;\n            }\n            return tryFindRangePosition(node, rng);\n          }\n          node = children[point[i]];\n        }\n        if (node.nodeType === 3) {\n          offset = Math.min(point[0], node.nodeValue.length);\n        }\n        if (node.nodeType === 1) {\n          offset = Math.min(point[0], node.childNodes.length);\n        }\n        if (start) {\n          rng.setStart(node, offset);\n        } else {\n          rng.setEnd(node, offset);\n        }\n      }\n      return true;\n    };\n    var isValidTextNode = function (node) {\n      return NodeType.isText(node) && node.data.length > 0;\n    };\n    var restoreEndPoint = function (dom, suffix, bookmark) {\n      var marker = dom.get(bookmark.id + '_' + suffix), node, idx, next, prev;\n      var keep = bookmark.keep;\n      var container, offset;\n      if (marker) {\n        node = marker.parentNode;\n        if (suffix === 'start') {\n          if (!keep) {\n            idx = dom.nodeIndex(marker);\n          } else {\n            if (marker.hasChildNodes()) {\n              node = marker.firstChild;\n              idx = 1;\n            } else if (isValidTextNode(marker.nextSibling)) {\n              node = marker.nextSibling;\n              idx = 0;\n            } else if (isValidTextNode(marker.previousSibling)) {\n              node = marker.previousSibling;\n              idx = marker.previousSibling.data.length;\n            } else {\n              node = marker.parentNode;\n              idx = dom.nodeIndex(marker) + 1;\n            }\n          }\n          container = node;\n          offset = idx;\n        } else {\n          if (!keep) {\n            idx = dom.nodeIndex(marker);\n          } else {\n            if (marker.hasChildNodes()) {\n              node = marker.firstChild;\n              idx = 1;\n            } else if (isValidTextNode(marker.previousSibling)) {\n              node = marker.previousSibling;\n              idx = marker.previousSibling.data.length;\n            } else {\n              node = marker.parentNode;\n              idx = dom.nodeIndex(marker);\n            }\n          }\n          container = node;\n          offset = idx;\n        }\n        if (!keep) {\n          prev = marker.previousSibling;\n          next = marker.nextSibling;\n          Tools.each(Tools.grep(marker.childNodes), function (node) {\n            if (NodeType.isText(node)) {\n              node.nodeValue = node.nodeValue.replace(/\\uFEFF/g, '');\n            }\n          });\n          while (marker = dom.get(bookmark.id + '_' + suffix)) {\n            dom.remove(marker, true);\n          }\n          if (prev && next && prev.nodeType === next.nodeType && NodeType.isText(prev) && !Env.opera) {\n            idx = prev.nodeValue.length;\n            prev.appendData(next.nodeValue);\n            dom.remove(next);\n            if (suffix === 'start') {\n              container = prev;\n              offset = idx;\n            } else {\n              container = prev;\n              offset = idx;\n            }\n          }\n        }\n        return Option.some(CaretPosition$1(container, offset));\n      } else {\n        return Option.none();\n      }\n    };\n    var alt = function (o1, o2) {\n      return o1.isSome() ? o1 : o2;\n    };\n    var resolvePaths = function (dom, bookmark) {\n      var rng = dom.createRng();\n      if (setEndPoint(dom, true, bookmark, rng) && setEndPoint(dom, false, bookmark, rng)) {\n        return Option.some(rng);\n      } else {\n        return Option.none();\n      }\n    };\n    var resolveId = function (dom, bookmark) {\n      var startPos = restoreEndPoint(dom, 'start', bookmark);\n      var endPos = restoreEndPoint(dom, 'end', bookmark);\n      return lift2(startPos, alt(endPos, startPos), function (spos, epos) {\n        var rng = dom.createRng();\n        rng.setStart(addBogus(dom, spos.container()), spos.offset());\n        rng.setEnd(addBogus(dom, epos.container()), epos.offset());\n        return rng;\n      });\n    };\n    var resolveIndex$1 = function (dom, bookmark) {\n      return Option.from(dom.select(bookmark.name)[bookmark.index]).map(function (elm) {\n        var rng = dom.createRng();\n        rng.selectNode(elm);\n        return rng;\n      });\n    };\n    var resolve$3 = function (selection, bookmark) {\n      var dom = selection.dom;\n      if (bookmark) {\n        if (isPathBookmark(bookmark)) {\n          return resolvePaths(dom, bookmark);\n        } else if (isStringPathBookmark(bookmark)) {\n          return Option.some(resolveCaretPositionBookmark(dom, bookmark));\n        } else if (isIdBookmark(bookmark)) {\n          return resolveId(dom, bookmark);\n        } else if (isIndexBookmark(bookmark)) {\n          return resolveIndex$1(dom, bookmark);\n        } else if (isRangeBookmark(bookmark)) {\n          return Option.some(bookmark.rng);\n        }\n      }\n      return Option.none();\n    };\n    var ResolveBookmark = { resolve: resolve$3 };\n\n    var getBookmark$1 = function (selection, type, normalized) {\n      return GetBookmark.getBookmark(selection, type, normalized);\n    };\n    var moveToBookmark = function (selection, bookmark) {\n      ResolveBookmark.resolve(selection, bookmark).each(function (rng) {\n        selection.setRng(rng);\n      });\n    };\n    var isBookmarkNode$1 = function (node) {\n      return NodeType.isElement(node) && node.tagName === 'SPAN' && node.getAttribute('data-mce-type') === 'bookmark';\n    };\n    var Bookmarks = {\n      getBookmark: getBookmark$1,\n      moveToBookmark: moveToBookmark,\n      isBookmarkNode: isBookmarkNode$1\n    };\n\n    var isInlineBlock = function (node) {\n      return node && /^(IMG)$/.test(node.nodeName);\n    };\n    var moveStart = function (dom, selection, rng) {\n      var offset = rng.startOffset;\n      var container = rng.startContainer, walker, node, nodes;\n      if (rng.startContainer === rng.endContainer) {\n        if (isInlineBlock(rng.startContainer.childNodes[rng.startOffset])) {\n          return;\n        }\n      }\n      if (container.nodeType === 1) {\n        nodes = container.childNodes;\n        if (offset < nodes.length) {\n          container = nodes[offset];\n          walker = new TreeWalker(container, dom.getParent(container, dom.isBlock));\n        } else {\n          container = nodes[nodes.length - 1];\n          walker = new TreeWalker(container, dom.getParent(container, dom.isBlock));\n          walker.next(true);\n        }\n        for (node = walker.current(); node; node = walker.next()) {\n          if (node.nodeType === 3 && !isWhiteSpaceNode(node)) {\n            rng.setStart(node, 0);\n            selection.setRng(rng);\n            return;\n          }\n        }\n      }\n    };\n    var getNonWhiteSpaceSibling = function (node, next, inc) {\n      if (node) {\n        next = next ? 'nextSibling' : 'previousSibling';\n        for (node = inc ? node : node[next]; node; node = node[next]) {\n          if (node.nodeType === 1 || !isWhiteSpaceNode(node)) {\n            return node;\n          }\n        }\n      }\n    };\n    var isTextBlock$1 = function (editor, name) {\n      if (name.nodeType) {\n        name = name.nodeName;\n      }\n      return !!editor.schema.getTextBlockElements()[name.toLowerCase()];\n    };\n    var isValid = function (ed, parent, child) {\n      return ed.schema.isValidChild(parent, child);\n    };\n    var isWhiteSpaceNode = function (node) {\n      return node && node.nodeType === 3 && /^([\\t \\r\\n]+|)$/.test(node.nodeValue);\n    };\n    var replaceVars = function (value, vars) {\n      if (typeof value !== 'string') {\n        value = value(vars);\n      } else if (vars) {\n        value = value.replace(/%(\\w+)/g, function (str, name) {\n          return vars[name] || str;\n        });\n      }\n      return value;\n    };\n    var isEq = function (str1, str2) {\n      str1 = str1 || '';\n      str2 = str2 || '';\n      str1 = '' + (str1.nodeName || str1);\n      str2 = '' + (str2.nodeName || str2);\n      return str1.toLowerCase() === str2.toLowerCase();\n    };\n    var normalizeStyleValue = function (dom, value, name) {\n      if (name === 'color' || name === 'backgroundColor') {\n        value = dom.toHex(value);\n      }\n      if (name === 'fontWeight' && value === 700) {\n        value = 'bold';\n      }\n      if (name === 'fontFamily') {\n        value = value.replace(/[\\'\\\"]/g, '').replace(/,\\s+/g, ',');\n      }\n      return '' + value;\n    };\n    var getStyle = function (dom, node, name) {\n      return normalizeStyleValue(dom, dom.getStyle(node, name), name);\n    };\n    var getTextDecoration = function (dom, node) {\n      var decoration;\n      dom.getParent(node, function (n) {\n        decoration = dom.getStyle(n, 'text-decoration');\n        return decoration && decoration !== 'none';\n      });\n      return decoration;\n    };\n    var getParents$1 = function (dom, node, selector) {\n      return dom.getParents(node, selector, dom.getRoot());\n    };\n    var FormatUtils = {\n      isInlineBlock: isInlineBlock,\n      moveStart: moveStart,\n      getNonWhiteSpaceSibling: getNonWhiteSpaceSibling,\n      isTextBlock: isTextBlock$1,\n      isValid: isValid,\n      isWhiteSpaceNode: isWhiteSpaceNode,\n      replaceVars: replaceVars,\n      isEq: isEq,\n      normalizeStyleValue: normalizeStyleValue,\n      getStyle: getStyle,\n      getTextDecoration: getTextDecoration,\n      getParents: getParents$1\n    };\n\n    var isBookmarkNode$2 = Bookmarks.isBookmarkNode;\n    var getParents$2 = FormatUtils.getParents, isWhiteSpaceNode$1 = FormatUtils.isWhiteSpaceNode, isTextBlock$2 = FormatUtils.isTextBlock;\n    var findLeaf = function (node, offset) {\n      if (typeof offset === 'undefined') {\n        offset = node.nodeType === 3 ? node.length : node.childNodes.length;\n      }\n      while (node && node.hasChildNodes()) {\n        node = node.childNodes[offset];\n        if (node) {\n          offset = node.nodeType === 3 ? node.length : node.childNodes.length;\n        }\n      }\n      return {\n        node: node,\n        offset: offset\n      };\n    };\n    var excludeTrailingWhitespace = function (endContainer, endOffset) {\n      var leaf = findLeaf(endContainer, endOffset);\n      if (leaf.node) {\n        while (leaf.node && leaf.offset === 0 && leaf.node.previousSibling) {\n          leaf = findLeaf(leaf.node.previousSibling);\n        }\n        if (leaf.node && leaf.offset > 0 && leaf.node.nodeType === 3 && leaf.node.nodeValue.charAt(leaf.offset - 1) === ' ') {\n          if (leaf.offset > 1) {\n            endContainer = leaf.node;\n            endContainer.splitText(leaf.offset - 1);\n          }\n        }\n      }\n      return endContainer;\n    };\n    var isBogusBr = function (node) {\n      return node.nodeName === 'BR' && node.getAttribute('data-mce-bogus') && !node.nextSibling;\n    };\n    var findParentContentEditable = function (dom, node) {\n      var parent = node;\n      while (parent) {\n        if (parent.nodeType === 1 && dom.getContentEditable(parent)) {\n          return dom.getContentEditable(parent) === 'false' ? parent : node;\n        }\n        parent = parent.parentNode;\n      }\n      return node;\n    };\n    var findSpace = function (start, remove, node, offset) {\n      var pos, pos2;\n      var str = node.nodeValue;\n      if (typeof offset === 'undefined') {\n        offset = start ? str.length : 0;\n      }\n      if (start) {\n        pos = str.lastIndexOf(' ', offset);\n        pos2 = str.lastIndexOf('\\xA0', offset);\n        pos = pos > pos2 ? pos : pos2;\n        if (pos !== -1 && !remove && (pos < offset || !start) && pos <= str.length) {\n          pos++;\n        }\n      } else {\n        pos = str.indexOf(' ', offset);\n        pos2 = str.indexOf('\\xA0', offset);\n        pos = pos !== -1 && (pos2 === -1 || pos < pos2) ? pos : pos2;\n      }\n      return pos;\n    };\n    var findWordEndPoint = function (dom, body, container, offset, start, remove) {\n      var walker, node, pos, lastTextNode;\n      if (container.nodeType === 3) {\n        pos = findSpace(start, remove, container, offset);\n        if (pos !== -1) {\n          return {\n            container: container,\n            offset: pos\n          };\n        }\n        lastTextNode = container;\n      }\n      walker = new TreeWalker(container, dom.getParent(container, dom.isBlock) || body);\n      while (node = walker[start ? 'prev' : 'next']()) {\n        if (node.nodeType === 3 && !isBookmarkNode$2(node.parentNode)) {\n          lastTextNode = node;\n          pos = findSpace(start, remove, node);\n          if (pos !== -1) {\n            return {\n              container: node,\n              offset: pos\n            };\n          }\n        } else if (dom.isBlock(node) || FormatUtils.isEq(node, 'BR')) {\n          break;\n        }\n      }\n      if (lastTextNode) {\n        if (start) {\n          offset = 0;\n        } else {\n          offset = lastTextNode.length;\n        }\n        return {\n          container: lastTextNode,\n          offset: offset\n        };\n      }\n    };\n    var findSelectorEndPoint = function (dom, format, rng, container, siblingName) {\n      var parents, i, y, curFormat;\n      if (container.nodeType === 3 && container.nodeValue.length === 0 && container[siblingName]) {\n        container = container[siblingName];\n      }\n      parents = getParents$2(dom, container);\n      for (i = 0; i < parents.length; i++) {\n        for (y = 0; y < format.length; y++) {\n          curFormat = format[y];\n          if ('collapsed' in curFormat && curFormat.collapsed !== rng.collapsed) {\n            continue;\n          }\n          if (dom.is(parents[i], curFormat.selector)) {\n            return parents[i];\n          }\n        }\n      }\n      return container;\n    };\n    var findBlockEndPoint = function (editor, format, container, siblingName) {\n      var node;\n      var dom = editor.dom;\n      var root = dom.getRoot();\n      if (!format[0].wrapper) {\n        node = dom.getParent(container, format[0].block, root);\n      }\n      if (!node) {\n        var scopeRoot = dom.getParent(container, 'LI,TD,TH');\n        node = dom.getParent(container.nodeType === 3 ? container.parentNode : container, function (node) {\n          return node !== root && isTextBlock$2(editor, node);\n        }, scopeRoot);\n      }\n      if (node && format[0].wrapper) {\n        node = getParents$2(dom, node, 'ul,ol').reverse()[0] || node;\n      }\n      if (!node) {\n        node = container;\n        while (node[siblingName] && !dom.isBlock(node[siblingName])) {\n          node = node[siblingName];\n          if (FormatUtils.isEq(node, 'br')) {\n            break;\n          }\n        }\n      }\n      return node || container;\n    };\n    var findParentContainer = function (dom, format, startContainer, startOffset, endContainer, endOffset, start) {\n      var container, parent, sibling, siblingName, root;\n      container = parent = start ? startContainer : endContainer;\n      siblingName = start ? 'previousSibling' : 'nextSibling';\n      root = dom.getRoot();\n      if (container.nodeType === 3 && !isWhiteSpaceNode$1(container)) {\n        if (start ? startOffset > 0 : endOffset < container.nodeValue.length) {\n          return container;\n        }\n      }\n      while (true) {\n        if (!format[0].block_expand && dom.isBlock(parent)) {\n          return parent;\n        }\n        for (sibling = parent[siblingName]; sibling; sibling = sibling[siblingName]) {\n          if (!isBookmarkNode$2(sibling) && !isWhiteSpaceNode$1(sibling) && !isBogusBr(sibling)) {\n            return parent;\n          }\n        }\n        if (parent === root || parent.parentNode === root) {\n          container = parent;\n          break;\n        }\n        parent = parent.parentNode;\n      }\n      return container;\n    };\n    var expandRng = function (editor, rng, format, remove) {\n      var endPoint, startContainer = rng.startContainer, startOffset = rng.startOffset, endContainer = rng.endContainer, endOffset = rng.endOffset;\n      var dom = editor.dom;\n      if (startContainer.nodeType === 1 && startContainer.hasChildNodes()) {\n        startContainer = getNode(startContainer, startOffset);\n        if (startContainer.nodeType === 3) {\n          startOffset = 0;\n        }\n      }\n      if (endContainer.nodeType === 1 && endContainer.hasChildNodes()) {\n        endContainer = getNode(endContainer, rng.collapsed ? endOffset : endOffset - 1);\n        if (endContainer.nodeType === 3) {\n          endOffset = endContainer.nodeValue.length;\n        }\n      }\n      startContainer = findParentContentEditable(dom, startContainer);\n      endContainer = findParentContentEditable(dom, endContainer);\n      if (isBookmarkNode$2(startContainer.parentNode) || isBookmarkNode$2(startContainer)) {\n        startContainer = isBookmarkNode$2(startContainer) ? startContainer : startContainer.parentNode;\n        if (rng.collapsed) {\n          startContainer = startContainer.previousSibling || startContainer;\n        } else {\n          startContainer = startContainer.nextSibling || startContainer;\n        }\n        if (startContainer.nodeType === 3) {\n          startOffset = rng.collapsed ? startContainer.length : 0;\n        }\n      }\n      if (isBookmarkNode$2(endContainer.parentNode) || isBookmarkNode$2(endContainer)) {\n        endContainer = isBookmarkNode$2(endContainer) ? endContainer : endContainer.parentNode;\n        if (rng.collapsed) {\n          endContainer = endContainer.nextSibling || endContainer;\n        } else {\n          endContainer = endContainer.previousSibling || endContainer;\n        }\n        if (endContainer.nodeType === 3) {\n          endOffset = rng.collapsed ? 0 : endContainer.length;\n        }\n      }\n      if (rng.collapsed) {\n        endPoint = findWordEndPoint(dom, editor.getBody(), startContainer, startOffset, true, remove);\n        if (endPoint) {\n          startContainer = endPoint.container;\n          startOffset = endPoint.offset;\n        }\n        endPoint = findWordEndPoint(dom, editor.getBody(), endContainer, endOffset, false, remove);\n        if (endPoint) {\n          endContainer = endPoint.container;\n          endOffset = endPoint.offset;\n        }\n      }\n      if (format[0].inline) {\n        endContainer = remove ? endContainer : excludeTrailingWhitespace(endContainer, endOffset);\n      }\n      if (format[0].inline || format[0].block_expand) {\n        if (!format[0].inline || (startContainer.nodeType !== 3 || startOffset === 0)) {\n          startContainer = findParentContainer(dom, format, startContainer, startOffset, endContainer, endOffset, true);\n        }\n        if (!format[0].inline || (endContainer.nodeType !== 3 || endOffset === endContainer.nodeValue.length)) {\n          endContainer = findParentContainer(dom, format, startContainer, startOffset, endContainer, endOffset, false);\n        }\n      }\n      if (format[0].selector && format[0].expand !== false && !format[0].inline) {\n        startContainer = findSelectorEndPoint(dom, format, rng, startContainer, 'previousSibling');\n        endContainer = findSelectorEndPoint(dom, format, rng, endContainer, 'nextSibling');\n      }\n      if (format[0].block || format[0].selector) {\n        startContainer = findBlockEndPoint(editor, format, startContainer, 'previousSibling');\n        endContainer = findBlockEndPoint(editor, format, endContainer, 'nextSibling');\n        if (format[0].block) {\n          if (!dom.isBlock(startContainer)) {\n            startContainer = findParentContainer(dom, format, startContainer, startOffset, endContainer, endOffset, true);\n          }\n          if (!dom.isBlock(endContainer)) {\n            endContainer = findParentContainer(dom, format, startContainer, startOffset, endContainer, endOffset, false);\n          }\n        }\n      }\n      if (startContainer.nodeType === 1) {\n        startOffset = dom.nodeIndex(startContainer);\n        startContainer = startContainer.parentNode;\n      }\n      if (endContainer.nodeType === 1) {\n        endOffset = dom.nodeIndex(endContainer) + 1;\n        endContainer = endContainer.parentNode;\n      }\n      return {\n        startContainer: startContainer,\n        startOffset: startOffset,\n        endContainer: endContainer,\n        endOffset: endOffset\n      };\n    };\n    var ExpandRange = { expandRng: expandRng };\n\n    var each$8 = Tools.each;\n    var getEndChild = function (container, index) {\n      var childNodes = container.childNodes;\n      index--;\n      if (index > childNodes.length - 1) {\n        index = childNodes.length - 1;\n      } else if (index < 0) {\n        index = 0;\n      }\n      return childNodes[index] || container;\n    };\n    var walk$1 = function (dom, rng, callback) {\n      var startContainer = rng.startContainer;\n      var startOffset = rng.startOffset;\n      var endContainer = rng.endContainer;\n      var endOffset = rng.endOffset;\n      var ancestor;\n      var startPoint;\n      var endPoint;\n      var node;\n      var parent;\n      var siblings;\n      var nodes;\n      nodes = dom.select('td[data-mce-selected],th[data-mce-selected]');\n      if (nodes.length > 0) {\n        each$8(nodes, function (node) {\n          callback([node]);\n        });\n        return;\n      }\n      var exclude = function (nodes) {\n        var node;\n        node = nodes[0];\n        if (node.nodeType === 3 && node === startContainer && startOffset >= node.nodeValue.length) {\n          nodes.splice(0, 1);\n        }\n        node = nodes[nodes.length - 1];\n        if (endOffset === 0 && nodes.length > 0 && node === endContainer && node.nodeType === 3) {\n          nodes.splice(nodes.length - 1, 1);\n        }\n        return nodes;\n      };\n      var collectSiblings = function (node, name, endNode) {\n        var siblings = [];\n        for (; node && node !== endNode; node = node[name]) {\n          siblings.push(node);\n        }\n        return siblings;\n      };\n      var findEndPoint = function (node, root) {\n        do {\n          if (node.parentNode === root) {\n            return node;\n          }\n          node = node.parentNode;\n        } while (node);\n      };\n      var walkBoundary = function (startNode, endNode, next) {\n        var siblingName = next ? 'nextSibling' : 'previousSibling';\n        for (node = startNode, parent = node.parentNode; node && node !== endNode; node = parent) {\n          parent = node.parentNode;\n          siblings = collectSiblings(node === startNode ? node : node[siblingName], siblingName);\n          if (siblings.length) {\n            if (!next) {\n              siblings.reverse();\n            }\n            callback(exclude(siblings));\n          }\n        }\n      };\n      if (startContainer.nodeType === 1 && startContainer.hasChildNodes()) {\n        startContainer = startContainer.childNodes[startOffset];\n      }\n      if (endContainer.nodeType === 1 && endContainer.hasChildNodes()) {\n        endContainer = getEndChild(endContainer, endOffset);\n      }\n      if (startContainer === endContainer) {\n        return callback(exclude([startContainer]));\n      }\n      ancestor = dom.findCommonAncestor(startContainer, endContainer);\n      for (node = startContainer; node; node = node.parentNode) {\n        if (node === endContainer) {\n          return walkBoundary(startContainer, ancestor, true);\n        }\n        if (node === ancestor) {\n          break;\n        }\n      }\n      for (node = endContainer; node; node = node.parentNode) {\n        if (node === startContainer) {\n          return walkBoundary(endContainer, ancestor);\n        }\n        if (node === ancestor) {\n          break;\n        }\n      }\n      startPoint = findEndPoint(startContainer, ancestor) || startContainer;\n      endPoint = findEndPoint(endContainer, ancestor) || endContainer;\n      walkBoundary(startContainer, startPoint, true);\n      siblings = collectSiblings(startPoint === startContainer ? startPoint : startPoint.nextSibling, 'nextSibling', endPoint === endContainer ? endPoint.nextSibling : endPoint);\n      if (siblings.length) {\n        callback(exclude(siblings));\n      }\n      walkBoundary(endContainer, endPoint);\n    };\n    var RangeWalk = { walk: walk$1 };\n\n    var zeroWidth = function () {\n      return '\\uFEFF';\n    };\n\n    function NodeValue (is, name) {\n      var get = function (element) {\n        if (!is(element)) {\n          throw new Error('Can only get ' + name + ' value of a ' + name + ' node');\n        }\n        return getOption(element).getOr('');\n      };\n      var getOption = function (element) {\n        return is(element) ? Option.from(element.dom().nodeValue) : Option.none();\n      };\n      var set = function (element, value) {\n        if (!is(element)) {\n          throw new Error('Can only set raw ' + name + ' value of a ' + name + ' node');\n        }\n        element.dom().nodeValue = value;\n      };\n      return {\n        get: get,\n        getOption: getOption,\n        set: set\n      };\n    }\n\n    var api = NodeValue(isText, 'text');\n    var get$4 = function (element) {\n      return api.get(element);\n    };\n\n    var isZeroWidth = function (elem) {\n      return isText(elem) && get$4(elem) === zeroWidth();\n    };\n    var context = function (editor, elem, wrapName, nodeName) {\n      return parent(elem).fold(function () {\n        return 'skipping';\n      }, function (parent) {\n        if (nodeName === 'br' || isZeroWidth(elem)) {\n          return 'valid';\n        } else if (isAnnotation(elem)) {\n          return 'existing';\n        } else if (isCaretNode(elem)) {\n          return 'caret';\n        } else if (!FormatUtils.isValid(editor, wrapName, nodeName) || !FormatUtils.isValid(editor, name(parent), wrapName)) {\n          return 'invalid-child';\n        } else {\n          return 'valid';\n        }\n      });\n    };\n\n    var shouldApplyToTrailingSpaces = function (rng) {\n      return rng.startContainer.nodeType === 3 && rng.startContainer.nodeValue.length >= rng.startOffset && rng.startContainer.nodeValue[rng.startOffset] === '\\xA0';\n    };\n    var applyWordGrab = function (editor, rng) {\n      var r = ExpandRange.expandRng(editor, rng, [{ inline: true }], shouldApplyToTrailingSpaces(rng));\n      rng.setStart(r.startContainer, r.startOffset);\n      rng.setEnd(r.endContainer, r.endOffset);\n      editor.selection.setRng(rng);\n    };\n    var makeAnnotation = function (eDoc, _a, annotationName, decorate) {\n      var _b = _a.uid, uid = _b === void 0 ? generate('mce-annotation') : _b, data = __rest(_a, ['uid']);\n      var master = Element.fromTag('span', eDoc);\n      add$2(master, annotation());\n      set(master, '' + dataAnnotationId(), uid);\n      set(master, '' + dataAnnotation(), annotationName);\n      var _c = decorate(uid, data), _d = _c.attributes, attributes = _d === void 0 ? {} : _d, _e = _c.classes, classes = _e === void 0 ? [] : _e;\n      setAll(master, attributes);\n      add$3(master, classes);\n      return master;\n    };\n    var annotate = function (editor, rng, annotationName, decorate, data) {\n      var newWrappers = [];\n      var master = makeAnnotation(editor.getDoc(), data, annotationName, decorate);\n      var wrapper = Cell(Option.none());\n      var finishWrapper = function () {\n        wrapper.set(Option.none());\n      };\n      var getOrOpenWrapper = function () {\n        return wrapper.get().getOrThunk(function () {\n          var nu = shallow(master);\n          newWrappers.push(nu);\n          wrapper.set(Option.some(nu));\n          return nu;\n        });\n      };\n      var processElements = function (elems) {\n        each(elems, processElement);\n      };\n      var processElement = function (elem) {\n        var ctx = context(editor, elem, 'span', name(elem));\n        switch (ctx) {\n        case 'invalid-child': {\n            finishWrapper();\n            var children$1 = children(elem);\n            processElements(children$1);\n            finishWrapper();\n            break;\n          }\n        case 'valid': {\n            var w = getOrOpenWrapper();\n            wrap$1(elem, w);\n            break;\n          }\n        case 'skipping':\n        case 'existing':\n        case 'caret':\n        }\n      };\n      var processNodes = function (nodes) {\n        var elems = map(nodes, Element.fromDom);\n        processElements(elems);\n      };\n      RangeWalk.walk(editor.dom, rng, function (nodes) {\n        finishWrapper();\n        processNodes(nodes);\n      });\n      return newWrappers;\n    };\n    var annotateWithBookmark = function (editor, name, settings, data) {\n      editor.undoManager.transact(function () {\n        var initialRng = editor.selection.getRng();\n        if (initialRng.collapsed) {\n          applyWordGrab(editor, initialRng);\n        }\n        if (editor.selection.getRng().collapsed) {\n          var wrapper = makeAnnotation(editor.getDoc(), data, name, settings.decorate);\n          set$1(wrapper, '\\xA0');\n          editor.selection.getRng().insertNode(wrapper.dom());\n          editor.selection.select(wrapper.dom());\n        } else {\n          var bookmark = GetBookmark.getPersistentBookmark(editor.selection, false);\n          var rng = editor.selection.getRng();\n          annotate(editor, rng, name, settings.decorate, data);\n          editor.selection.moveToBookmark(bookmark);\n        }\n      });\n    };\n\n    function Annotator (editor) {\n      var registry = create$1();\n      setup$1(editor, registry);\n      var changes = setup(editor);\n      return {\n        register: function (name, settings) {\n          registry.register(name, settings);\n        },\n        annotate: function (name, data) {\n          registry.lookup(name).each(function (settings) {\n            annotateWithBookmark(editor, name, settings, data);\n          });\n        },\n        annotationChanged: function (name, callback) {\n          changes.addListener(name, callback);\n        },\n        remove: function (name) {\n          identify(editor, Option.some(name)).each(function (_a) {\n            var elements = _a.elements;\n            each(elements, unwrap);\n          });\n        },\n        getAll: function (name) {\n          var directory = findAll(editor, name);\n          return map$2(directory, function (elems) {\n            return map(elems, function (elem) {\n              return elem.dom();\n            });\n          });\n        }\n      };\n    }\n\n    var hasOnlyOneChild = function (node) {\n      return node.firstChild && node.firstChild === node.lastChild;\n    };\n    var isPaddingNode = function (node) {\n      return node.name === 'br' || node.value === '\\xA0';\n    };\n    var isPaddedEmptyBlock = function (schema, node) {\n      var blockElements = schema.getBlockElements();\n      return blockElements[node.name] && hasOnlyOneChild(node) && isPaddingNode(node.firstChild);\n    };\n    var isEmptyFragmentElement = function (schema, node) {\n      var nonEmptyElements = schema.getNonEmptyElements();\n      return node && (node.isEmpty(nonEmptyElements) || isPaddedEmptyBlock(schema, node));\n    };\n    var isListFragment = function (schema, fragment) {\n      var firstChild = fragment.firstChild;\n      var lastChild = fragment.lastChild;\n      if (firstChild && firstChild.name === 'meta') {\n        firstChild = firstChild.next;\n      }\n      if (lastChild && lastChild.attr('id') === 'mce_marker') {\n        lastChild = lastChild.prev;\n      }\n      if (isEmptyFragmentElement(schema, lastChild)) {\n        lastChild = lastChild.prev;\n      }\n      if (!firstChild || firstChild !== lastChild) {\n        return false;\n      }\n      return firstChild.name === 'ul' || firstChild.name === 'ol';\n    };\n    var cleanupDomFragment = function (domFragment) {\n      var firstChild = domFragment.firstChild;\n      var lastChild = domFragment.lastChild;\n      if (firstChild && firstChild.nodeName === 'META') {\n        firstChild.parentNode.removeChild(firstChild);\n      }\n      if (lastChild && lastChild.id === 'mce_marker') {\n        lastChild.parentNode.removeChild(lastChild);\n      }\n      return domFragment;\n    };\n    var toDomFragment = function (dom, serializer, fragment) {\n      var html = serializer.serialize(fragment);\n      var domFragment = dom.createFragment(html);\n      return cleanupDomFragment(domFragment);\n    };\n    var listItems$1 = function (elm) {\n      return Tools.grep(elm.childNodes, function (child) {\n        return child.nodeName === 'LI';\n      });\n    };\n    var isPadding = function (node) {\n      return node.data === '\\xA0' || NodeType.isBr(node);\n    };\n    var isListItemPadded = function (node) {\n      return node && node.firstChild && node.firstChild === node.lastChild && isPadding(node.firstChild);\n    };\n    var isEmptyOrPadded = function (elm) {\n      return !elm.firstChild || isListItemPadded(elm);\n    };\n    var trimListItems = function (elms) {\n      return elms.length > 0 && isEmptyOrPadded(elms[elms.length - 1]) ? elms.slice(0, -1) : elms;\n    };\n    var getParentLi = function (dom, node) {\n      var parentBlock = dom.getParent(node, dom.isBlock);\n      return parentBlock && parentBlock.nodeName === 'LI' ? parentBlock : null;\n    };\n    var isParentBlockLi = function (dom, node) {\n      return !!getParentLi(dom, node);\n    };\n    var getSplit = function (parentNode, rng) {\n      var beforeRng = rng.cloneRange();\n      var afterRng = rng.cloneRange();\n      beforeRng.setStartBefore(parentNode);\n      afterRng.setEndAfter(parentNode);\n      return [\n        beforeRng.cloneContents(),\n        afterRng.cloneContents()\n      ];\n    };\n    var findFirstIn = function (node, rootNode) {\n      var caretPos = CaretPosition$1.before(node);\n      var caretWalker = CaretWalker(rootNode);\n      var newCaretPos = caretWalker.next(caretPos);\n      return newCaretPos ? newCaretPos.toRange() : null;\n    };\n    var findLastOf = function (node, rootNode) {\n      var caretPos = CaretPosition$1.after(node);\n      var caretWalker = CaretWalker(rootNode);\n      var newCaretPos = caretWalker.prev(caretPos);\n      return newCaretPos ? newCaretPos.toRange() : null;\n    };\n    var insertMiddle = function (target, elms, rootNode, rng) {\n      var parts = getSplit(target, rng);\n      var parentElm = target.parentNode;\n      parentElm.insertBefore(parts[0], target);\n      Tools.each(elms, function (li) {\n        parentElm.insertBefore(li, target);\n      });\n      parentElm.insertBefore(parts[1], target);\n      parentElm.removeChild(target);\n      return findLastOf(elms[elms.length - 1], rootNode);\n    };\n    var insertBefore = function (target, elms, rootNode) {\n      var parentElm = target.parentNode;\n      Tools.each(elms, function (elm) {\n        parentElm.insertBefore(elm, target);\n      });\n      return findFirstIn(target, rootNode);\n    };\n    var insertAfter = function (target, elms, rootNode, dom) {\n      dom.insertAfter(elms.reverse(), target);\n      return findLastOf(elms[0], rootNode);\n    };\n    var insertAtCaret = function (serializer, dom, rng, fragment) {\n      var domFragment = toDomFragment(dom, serializer, fragment);\n      var liTarget = getParentLi(dom, rng.startContainer);\n      var liElms = trimListItems(listItems$1(domFragment.firstChild));\n      var BEGINNING = 1, END = 2;\n      var rootNode = dom.getRoot();\n      var isAt = function (location) {\n        var caretPos = CaretPosition$1.fromRangeStart(rng);\n        var caretWalker = CaretWalker(dom.getRoot());\n        var newPos = location === BEGINNING ? caretWalker.prev(caretPos) : caretWalker.next(caretPos);\n        return newPos ? getParentLi(dom, newPos.getNode()) !== liTarget : true;\n      };\n      if (isAt(BEGINNING)) {\n        return insertBefore(liTarget, liElms, rootNode);\n      } else if (isAt(END)) {\n        return insertAfter(liTarget, liElms, rootNode, dom);\n      }\n      return insertMiddle(liTarget, liElms, rootNode, rng);\n    };\n    var InsertList = {\n      isListFragment: isListFragment,\n      insertAtCaret: insertAtCaret,\n      isParentBlockLi: isParentBlockLi,\n      trimListItems: trimListItems,\n      listItems: listItems$1\n    };\n\n    var each$9 = Tools.each;\n    var ElementUtils = function (dom) {\n      this.compare = function (node1, node2) {\n        if (node1.nodeName !== node2.nodeName) {\n          return false;\n        }\n        var getAttribs = function (node) {\n          var attribs = {};\n          each$9(dom.getAttribs(node), function (attr) {\n            var name = attr.nodeName.toLowerCase();\n            if (name.indexOf('_') !== 0 && name !== 'style' && name.indexOf('data-') !== 0) {\n              attribs[name] = dom.getAttrib(node, name);\n            }\n          });\n          return attribs;\n        };\n        var compareObjects = function (obj1, obj2) {\n          var value, name;\n          for (name in obj1) {\n            if (obj1.hasOwnProperty(name)) {\n              value = obj2[name];\n              if (typeof value === 'undefined') {\n                return false;\n              }\n              if (obj1[name] !== value) {\n                return false;\n              }\n              delete obj2[name];\n            }\n          }\n          for (name in obj2) {\n            if (obj2.hasOwnProperty(name)) {\n              return false;\n            }\n          }\n          return true;\n        };\n        if (!compareObjects(getAttribs(node1), getAttribs(node2))) {\n          return false;\n        }\n        if (!compareObjects(dom.parseStyle(dom.getAttrib(node1, 'style')), dom.parseStyle(dom.getAttrib(node2, 'style')))) {\n          return false;\n        }\n        return !Bookmarks.isBookmarkNode(node1) && !Bookmarks.isBookmarkNode(node2);\n      };\n    };\n\n    var getLastChildren = function (elm) {\n      var children = [];\n      var rawNode = elm.dom();\n      while (rawNode) {\n        children.push(Element.fromDom(rawNode));\n        rawNode = rawNode.lastChild;\n      }\n      return children;\n    };\n    var removeTrailingBr = function (elm) {\n      var allBrs = descendants$1(elm, 'br');\n      var brs = filter(getLastChildren(elm).slice(-1), isBr);\n      if (allBrs.length === brs.length) {\n        each(brs, remove$1);\n      }\n    };\n    var fillWithPaddingBr = function (elm) {\n      empty(elm);\n      append(elm, Element.fromHtml('<br data-mce-bogus=\"1\">'));\n    };\n    var isPaddingContents = function (elm) {\n      return isText(elm) ? get$4(elm) === '\\xA0' : isBr(elm);\n    };\n    var isPaddedElement = function (elm) {\n      return filter(children(elm), isPaddingContents).length === 1;\n    };\n    var trimBlockTrailingBr = function (elm) {\n      lastChild(elm).each(function (lastChild) {\n        prevSibling(lastChild).each(function (lastChildPrevSibling) {\n          if (isBlock(elm) && isBr(lastChild) && isBlock(lastChildPrevSibling)) {\n            remove$1(lastChild);\n          }\n        });\n      });\n    };\n    var PaddingBr = {\n      removeTrailingBr: removeTrailingBr,\n      fillWithPaddingBr: fillWithPaddingBr,\n      isPaddedElement: isPaddedElement,\n      trimBlockTrailingBr: trimBlockTrailingBr\n    };\n\n    var makeMap$3 = Tools.makeMap;\n    function Writer (settings) {\n      var html = [];\n      var indent, indentBefore, indentAfter, encode, htmlOutput;\n      settings = settings || {};\n      indent = settings.indent;\n      indentBefore = makeMap$3(settings.indent_before || '');\n      indentAfter = makeMap$3(settings.indent_after || '');\n      encode = Entities.getEncodeFunc(settings.entity_encoding || 'raw', settings.entities);\n      htmlOutput = settings.element_format === 'html';\n      return {\n        start: function (name, attrs, empty) {\n          var i, l, attr, value;\n          if (indent && indentBefore[name] && html.length > 0) {\n            value = html[html.length - 1];\n            if (value.length > 0 && value !== '\\n') {\n              html.push('\\n');\n            }\n          }\n          html.push('<', name);\n          if (attrs) {\n            for (i = 0, l = attrs.length; i < l; i++) {\n              attr = attrs[i];\n              html.push(' ', attr.name, '=\"', encode(attr.value, true), '\"');\n            }\n          }\n          if (!empty || htmlOutput) {\n            html[html.length] = '>';\n          } else {\n            html[html.length] = ' />';\n          }\n          if (empty && indent && indentAfter[name] && html.length > 0) {\n            value = html[html.length - 1];\n            if (value.length > 0 && value !== '\\n') {\n              html.push('\\n');\n            }\n          }\n        },\n        end: function (name) {\n          var value;\n          html.push('</', name, '>');\n          if (indent && indentAfter[name] && html.length > 0) {\n            value = html[html.length - 1];\n            if (value.length > 0 && value !== '\\n') {\n              html.push('\\n');\n            }\n          }\n        },\n        text: function (text, raw) {\n          if (text.length > 0) {\n            html[html.length] = raw ? text : encode(text);\n          }\n        },\n        cdata: function (text) {\n          html.push('<![CDATA[', text, ']]>');\n        },\n        comment: function (text) {\n          html.push('<!--', text, '-->');\n        },\n        pi: function (name, text) {\n          if (text) {\n            html.push('<?', name, ' ', encode(text), '?>');\n          } else {\n            html.push('<?', name, '?>');\n          }\n          if (indent) {\n            html.push('\\n');\n          }\n        },\n        doctype: function (text) {\n          html.push('<!DOCTYPE', text, '>', indent ? '\\n' : '');\n        },\n        reset: function () {\n          html.length = 0;\n        },\n        getContent: function () {\n          return html.join('').replace(/\\n$/, '');\n        }\n      };\n    }\n\n    function HtmlSerializer (settings, schema) {\n      if (schema === void 0) {\n        schema = Schema();\n      }\n      var writer = Writer(settings);\n      settings = settings || {};\n      settings.validate = 'validate' in settings ? settings.validate : true;\n      var serialize = function (node) {\n        var handlers, validate;\n        validate = settings.validate;\n        handlers = {\n          3: function (node) {\n            writer.text(node.value, node.raw);\n          },\n          8: function (node) {\n            writer.comment(node.value);\n          },\n          7: function (node) {\n            writer.pi(node.name, node.value);\n          },\n          10: function (node) {\n            writer.doctype(node.value);\n          },\n          4: function (node) {\n            writer.cdata(node.value);\n          },\n          11: function (node) {\n            if (node = node.firstChild) {\n              do {\n                walk(node);\n              } while (node = node.next);\n            }\n          }\n        };\n        writer.reset();\n        var walk = function (node) {\n          var handler = handlers[node.type];\n          var name, isEmpty, attrs, attrName, attrValue, sortedAttrs, i, l, elementRule;\n          if (!handler) {\n            name = node.name;\n            isEmpty = node.shortEnded;\n            attrs = node.attributes;\n            if (validate && attrs && attrs.length > 1) {\n              sortedAttrs = [];\n              sortedAttrs.map = {};\n              elementRule = schema.getElementRule(node.name);\n              if (elementRule) {\n                for (i = 0, l = elementRule.attributesOrder.length; i < l; i++) {\n                  attrName = elementRule.attributesOrder[i];\n                  if (attrName in attrs.map) {\n                    attrValue = attrs.map[attrName];\n                    sortedAttrs.map[attrName] = attrValue;\n                    sortedAttrs.push({\n                      name: attrName,\n                      value: attrValue\n                    });\n                  }\n                }\n                for (i = 0, l = attrs.length; i < l; i++) {\n                  attrName = attrs[i].name;\n                  if (!(attrName in sortedAttrs.map)) {\n                    attrValue = attrs.map[attrName];\n                    sortedAttrs.map[attrName] = attrValue;\n                    sortedAttrs.push({\n                      name: attrName,\n                      value: attrValue\n                    });\n                  }\n                }\n                attrs = sortedAttrs;\n              }\n            }\n            writer.start(node.name, attrs, isEmpty);\n            if (!isEmpty) {\n              if (node = node.firstChild) {\n                do {\n                  walk(node);\n                } while (node = node.next);\n              }\n              writer.end(name);\n            }\n          } else {\n            handler(node);\n          }\n        };\n        if (node.type === 1 && !settings.inner) {\n          walk(node);\n        } else {\n          handlers[11](node);\n        }\n        return writer.getContent();\n      };\n      return { serialize: serialize };\n    }\n\n    var createRange$1 = function (sc, so, ec, eo) {\n      var rng = domGlobals.document.createRange();\n      rng.setStart(sc, so);\n      rng.setEnd(ec, eo);\n      return rng;\n    };\n    var normalizeBlockSelectionRange = function (rng) {\n      var startPos = CaretPosition$1.fromRangeStart(rng);\n      var endPos = CaretPosition$1.fromRangeEnd(rng);\n      var rootNode = rng.commonAncestorContainer;\n      return CaretFinder.fromPosition(false, rootNode, endPos).map(function (newEndPos) {\n        if (!isInSameBlock(startPos, endPos, rootNode) && isInSameBlock(startPos, newEndPos, rootNode)) {\n          return createRange$1(startPos.container(), startPos.offset(), newEndPos.container(), newEndPos.offset());\n        } else {\n          return rng;\n        }\n      }).getOr(rng);\n    };\n    var normalize = function (rng) {\n      return rng.collapsed ? rng : normalizeBlockSelectionRange(rng);\n    };\n    var RangeNormalizer = { normalize: normalize };\n\n    var isAfterNbsp = function (container, offset) {\n      return NodeType.isText(container) && container.nodeValue[offset - 1] === '\\xA0';\n    };\n    var trimOrPadLeftRight = function (rng, html) {\n      var container, offset;\n      container = rng.startContainer;\n      offset = rng.startOffset;\n      var hasSiblingText = function (siblingName) {\n        return container[siblingName] && container[siblingName].nodeType === 3;\n      };\n      if (container.nodeType === 3) {\n        if (offset > 0) {\n          html = html.replace(/^&nbsp;/, ' ');\n        } else if (!hasSiblingText('previousSibling')) {\n          html = html.replace(/^ /, '&nbsp;');\n        }\n        if (offset < container.length) {\n          html = html.replace(/&nbsp;(<br>|)$/, ' ');\n        } else if (!hasSiblingText('nextSibling')) {\n          html = html.replace(/(&nbsp;| )(<br>|)$/, '&nbsp;');\n        }\n      }\n      return html;\n    };\n    var trimNbspAfterDeleteAndPadValue = function (rng, value) {\n      var container, offset;\n      container = rng.startContainer;\n      offset = rng.startOffset;\n      if (container.nodeType === 3 && rng.collapsed) {\n        if (container.data[offset] === '\\xA0') {\n          container.deleteData(offset, 1);\n          if (!/[\\u00a0| ]$/.test(value)) {\n            value += ' ';\n          }\n        } else if (container.data[offset - 1] === '\\xA0') {\n          container.deleteData(offset - 1, 1);\n          if (!/[\\u00a0| ]$/.test(value)) {\n            value = ' ' + value;\n          }\n        }\n      }\n      return value;\n    };\n\n    var isTableCell$2 = NodeType.matchNodeNames('td th');\n    var selectionSetContent = function (editor, content) {\n      var rng = editor.selection.getRng();\n      var container = rng.startContainer;\n      var offset = rng.startOffset;\n      if (rng.collapsed && isAfterNbsp(container, offset) && NodeType.isText(container)) {\n        container.insertData(offset - 1, ' ');\n        container.deleteData(offset, 1);\n        rng.setStart(container, offset);\n        rng.setEnd(container, offset);\n        editor.selection.setRng(rng);\n      }\n      editor.selection.setContent(content);\n    };\n    var validInsertion = function (editor, value, parentNode) {\n      if (parentNode.getAttribute('data-mce-bogus') === 'all') {\n        parentNode.parentNode.insertBefore(editor.dom.createFragment(value), parentNode);\n      } else {\n        var node = parentNode.firstChild;\n        var node2 = parentNode.lastChild;\n        if (!node || node === node2 && node.nodeName === 'BR') {\n          editor.dom.setHTML(parentNode, value);\n        } else {\n          selectionSetContent(editor, value);\n        }\n      }\n    };\n    var trimBrsFromTableCell = function (dom, elm) {\n      Option.from(dom.getParent(elm, 'td,th')).map(Element.fromDom).each(PaddingBr.trimBlockTrailingBr);\n    };\n    var reduceInlineTextElements = function (editor, merge) {\n      var textInlineElements = editor.schema.getTextInlineElements();\n      var dom = editor.dom;\n      if (merge) {\n        var root_1 = editor.getBody(), elementUtils_1 = new ElementUtils(dom);\n        Tools.each(dom.select('*[data-mce-fragment]'), function (node) {\n          for (var testNode = node.parentNode; testNode && testNode !== root_1; testNode = testNode.parentNode) {\n            if (textInlineElements[node.nodeName.toLowerCase()] && elementUtils_1.compare(testNode, node)) {\n              dom.remove(node, true);\n            }\n          }\n        });\n      }\n    };\n    var markFragmentElements = function (fragment) {\n      var node = fragment;\n      while (node = node.walk()) {\n        if (node.type === 1) {\n          node.attr('data-mce-fragment', '1');\n        }\n      }\n    };\n    var umarkFragmentElements = function (elm) {\n      Tools.each(elm.getElementsByTagName('*'), function (elm) {\n        elm.removeAttribute('data-mce-fragment');\n      });\n    };\n    var isPartOfFragment = function (node) {\n      return !!node.getAttribute('data-mce-fragment');\n    };\n    var canHaveChildren = function (editor, node) {\n      return node && !editor.schema.getShortEndedElements()[node.nodeName];\n    };\n    var moveSelectionToMarker = function (editor, marker) {\n      var parentEditableFalseElm, parentBlock, nextRng;\n      var dom = editor.dom, selection = editor.selection;\n      var node, node2;\n      var getContentEditableFalseParent = function (node) {\n        var root = editor.getBody();\n        for (; node && node !== root; node = node.parentNode) {\n          if (editor.dom.getContentEditable(node) === 'false') {\n            return node;\n          }\n        }\n        return null;\n      };\n      if (!marker) {\n        return;\n      }\n      editor.selection.scrollIntoView(marker);\n      parentEditableFalseElm = getContentEditableFalseParent(marker);\n      if (parentEditableFalseElm) {\n        dom.remove(marker);\n        selection.select(parentEditableFalseElm);\n        return;\n      }\n      var rng = dom.createRng();\n      node = marker.previousSibling;\n      if (node && node.nodeType === 3) {\n        rng.setStart(node, node.nodeValue.length);\n        if (!Env.ie) {\n          node2 = marker.nextSibling;\n          if (node2 && node2.nodeType === 3) {\n            node.appendData(node2.data);\n            node2.parentNode.removeChild(node2);\n          }\n        }\n      } else {\n        rng.setStartBefore(marker);\n        rng.setEndBefore(marker);\n      }\n      var findNextCaretRng = function (rng) {\n        var caretPos = CaretPosition$1.fromRangeStart(rng);\n        var caretWalker = CaretWalker(editor.getBody());\n        caretPos = caretWalker.next(caretPos);\n        if (caretPos) {\n          return caretPos.toRange();\n        }\n      };\n      parentBlock = dom.getParent(marker, dom.isBlock);\n      dom.remove(marker);\n      if (parentBlock && dom.isEmpty(parentBlock)) {\n        editor.$(parentBlock).empty();\n        rng.setStart(parentBlock, 0);\n        rng.setEnd(parentBlock, 0);\n        if (!isTableCell$2(parentBlock) && !isPartOfFragment(parentBlock) && (nextRng = findNextCaretRng(rng))) {\n          rng = nextRng;\n          dom.remove(parentBlock);\n        } else {\n          dom.add(parentBlock, dom.create('br', { 'data-mce-bogus': '1' }));\n        }\n      }\n      selection.setRng(rng);\n    };\n    var insertHtmlAtCaret = function (editor, value, details) {\n      var parser, serializer, parentNode, rootNode, fragment, args;\n      var marker, rng, node, bookmarkHtml, merge;\n      var selection = editor.selection, dom = editor.dom;\n      if (/^ | $/.test(value)) {\n        value = trimOrPadLeftRight(selection.getRng(), value);\n      }\n      parser = editor.parser;\n      merge = details.merge;\n      serializer = HtmlSerializer({ validate: editor.settings.validate }, editor.schema);\n      bookmarkHtml = '<span id=\"mce_marker\" data-mce-type=\"bookmark\">&#xFEFF;&#x200B;</span>';\n      args = {\n        content: value,\n        format: 'html',\n        selection: true,\n        paste: details.paste\n      };\n      args = editor.fire('BeforeSetContent', args);\n      if (args.isDefaultPrevented()) {\n        editor.fire('SetContent', {\n          content: args.content,\n          format: 'html',\n          selection: true,\n          paste: details.paste\n        });\n        return;\n      }\n      value = args.content;\n      if (value.indexOf('{$caret}') === -1) {\n        value += '{$caret}';\n      }\n      value = value.replace(/\\{\\$caret\\}/, bookmarkHtml);\n      rng = selection.getRng();\n      var caretElement = rng.startContainer || (rng.parentElement ? rng.parentElement() : null);\n      var body = editor.getBody();\n      if (caretElement === body && selection.isCollapsed()) {\n        if (dom.isBlock(body.firstChild) && canHaveChildren(editor, body.firstChild) && dom.isEmpty(body.firstChild)) {\n          rng = dom.createRng();\n          rng.setStart(body.firstChild, 0);\n          rng.setEnd(body.firstChild, 0);\n          selection.setRng(rng);\n        }\n      }\n      if (!selection.isCollapsed()) {\n        editor.selection.setRng(RangeNormalizer.normalize(editor.selection.getRng()));\n        editor.getDoc().execCommand('Delete', false, null);\n        value = trimNbspAfterDeleteAndPadValue(editor.selection.getRng(), value);\n      }\n      parentNode = selection.getNode();\n      var parserArgs = {\n        context: parentNode.nodeName.toLowerCase(),\n        data: details.data,\n        insert: true\n      };\n      fragment = parser.parse(value, parserArgs);\n      if (details.paste === true && InsertList.isListFragment(editor.schema, fragment) && InsertList.isParentBlockLi(dom, parentNode)) {\n        rng = InsertList.insertAtCaret(serializer, dom, editor.selection.getRng(), fragment);\n        editor.selection.setRng(rng);\n        editor.fire('SetContent', args);\n        return;\n      }\n      markFragmentElements(fragment);\n      node = fragment.lastChild;\n      if (node.attr('id') === 'mce_marker') {\n        marker = node;\n        for (node = node.prev; node; node = node.walk(true)) {\n          if (node.type === 3 || !dom.isBlock(node.name)) {\n            if (editor.schema.isValidChild(node.parent.name, 'span')) {\n              node.parent.insert(marker, node, node.name === 'br');\n            }\n            break;\n          }\n        }\n      }\n      editor._selectionOverrides.showBlockCaretContainer(parentNode);\n      if (!parserArgs.invalid) {\n        value = serializer.serialize(fragment);\n        validInsertion(editor, value, parentNode);\n      } else {\n        selectionSetContent(editor, bookmarkHtml);\n        parentNode = selection.getNode();\n        rootNode = editor.getBody();\n        if (parentNode.nodeType === 9) {\n          parentNode = node = rootNode;\n        } else {\n          node = parentNode;\n        }\n        while (node !== rootNode) {\n          parentNode = node;\n          node = node.parentNode;\n        }\n        value = parentNode === rootNode ? rootNode.innerHTML : dom.getOuterHTML(parentNode);\n        value = serializer.serialize(parser.parse(value.replace(/<span (id=\"mce_marker\"|id=mce_marker).+?<\\/span>/i, function () {\n          return serializer.serialize(fragment);\n        })));\n        if (parentNode === rootNode) {\n          dom.setHTML(rootNode, value);\n        } else {\n          dom.setOuterHTML(parentNode, value);\n        }\n      }\n      reduceInlineTextElements(editor, merge);\n      moveSelectionToMarker(editor, dom.get('mce_marker'));\n      umarkFragmentElements(editor.getBody());\n      trimBrsFromTableCell(editor.dom, editor.selection.getStart());\n      editor.fire('SetContent', args);\n      editor.addVisual();\n    };\n    var processValue = function (value) {\n      var details;\n      if (typeof value !== 'string') {\n        details = Tools.extend({\n          paste: value.paste,\n          data: { paste: value.paste }\n        }, value);\n        return {\n          content: value.content,\n          details: details\n        };\n      }\n      return {\n        content: value,\n        details: {}\n      };\n    };\n    var insertAtCaret$1 = function (editor, value) {\n      var result = processValue(value);\n      insertHtmlAtCaret(editor, result.content, result.details);\n    };\n    var InsertContent = { insertAtCaret: insertAtCaret$1 };\n\n    var strongRtl = /[\\u0591-\\u07FF\\uFB1D-\\uFDFF\\uFE70-\\uFEFC]/;\n    var hasStrongRtl = function (text) {\n      return strongRtl.test(text);\n    };\n\n    var getBodySetting = function (editor, name, defaultValue) {\n      var value = editor.getParam(name, defaultValue);\n      if (value.indexOf('=') !== -1) {\n        var bodyObj = editor.getParam(name, '', 'hash');\n        return bodyObj.hasOwnProperty(editor.id) ? bodyObj[editor.id] : defaultValue;\n      } else {\n        return value;\n      }\n    };\n    var getIframeAttrs = function (editor) {\n      return editor.getParam('iframe_attrs', {});\n    };\n    var getDocType = function (editor) {\n      return editor.getParam('doctype', '<!DOCTYPE html>');\n    };\n    var getDocumentBaseUrl = function (editor) {\n      return editor.getParam('document_base_url', '');\n    };\n    var getBodyId = function (editor) {\n      return getBodySetting(editor, 'body_id', 'tinymce');\n    };\n    var getBodyClass = function (editor) {\n      return getBodySetting(editor, 'body_class', '');\n    };\n    var getContentSecurityPolicy = function (editor) {\n      return editor.getParam('content_security_policy', '');\n    };\n    var shouldPutBrInPre = function (editor) {\n      return editor.getParam('br_in_pre', true);\n    };\n    var getForcedRootBlock = function (editor) {\n      if (editor.getParam('force_p_newlines', false)) {\n        return 'p';\n      }\n      var block = editor.getParam('forced_root_block', 'p');\n      return block === false ? '' : block;\n    };\n    var getForcedRootBlockAttrs = function (editor) {\n      return editor.getParam('forced_root_block_attrs', {});\n    };\n    var getBrNewLineSelector = function (editor) {\n      return editor.getParam('br_newline_selector', '.mce-toc h2,figcaption,caption');\n    };\n    var getNoNewLineSelector = function (editor) {\n      return editor.getParam('no_newline_selector', '');\n    };\n    var shouldKeepStyles = function (editor) {\n      return editor.getParam('keep_styles', true);\n    };\n    var shouldEndContainerOnEmptyBlock = function (editor) {\n      return editor.getParam('end_container_on_empty_block', false);\n    };\n    var getFontStyleValues = function (editor) {\n      return Tools.explode(editor.getParam('font_size_style_values', ''));\n    };\n    var getFontSizeClasses = function (editor) {\n      return Tools.explode(editor.getParam('font_size_classes', ''));\n    };\n    var getImagesDataImgFilter = function (editor) {\n      return editor.getParam('images_dataimg_filter', constant(true), 'function');\n    };\n    var isAutomaticUploadsEnabled = function (editor) {\n      return editor.getParam('automatic_uploads', true, 'boolean');\n    };\n    var shouldReuseFileName = function (editor) {\n      return editor.getParam('images_reuse_filename', false, 'boolean');\n    };\n    var shouldReplaceBlobUris = function (editor) {\n      return editor.getParam('images_replace_blob_uris', true, 'boolean');\n    };\n    var getImageUploadUrl = function (editor) {\n      return editor.getParam('images_upload_url', '', 'string');\n    };\n    var getImageUploadBasePath = function (editor) {\n      return editor.getParam('images_upload_base_path', '', 'string');\n    };\n    var getImagesUploadCredentials = function (editor) {\n      return editor.getParam('images_upload_credentials', false, 'boolean');\n    };\n    var getImagesUploadHandler = function (editor) {\n      return editor.getParam('images_upload_handler', null, 'function');\n    };\n    var shouldUseContentCssCors = function (editor) {\n      return editor.getParam('content_css_cors', false, 'boolean');\n    };\n    var getInlineBoundarySelector = function (editor) {\n      return editor.getParam('inline_boundaries_selector', 'a[href],code,.mce-annotation', 'string');\n    };\n    var Settings = {\n      getIframeAttrs: getIframeAttrs,\n      getDocType: getDocType,\n      getDocumentBaseUrl: getDocumentBaseUrl,\n      getBodyId: getBodyId,\n      getBodyClass: getBodyClass,\n      getContentSecurityPolicy: getContentSecurityPolicy,\n      shouldPutBrInPre: shouldPutBrInPre,\n      getForcedRootBlock: getForcedRootBlock,\n      getForcedRootBlockAttrs: getForcedRootBlockAttrs,\n      getBrNewLineSelector: getBrNewLineSelector,\n      getNoNewLineSelector: getNoNewLineSelector,\n      shouldKeepStyles: shouldKeepStyles,\n      shouldEndContainerOnEmptyBlock: shouldEndContainerOnEmptyBlock,\n      getFontStyleValues: getFontStyleValues,\n      getFontSizeClasses: getFontSizeClasses,\n      getImagesDataImgFilter: getImagesDataImgFilter,\n      isAutomaticUploadsEnabled: isAutomaticUploadsEnabled,\n      shouldReuseFileName: shouldReuseFileName,\n      shouldReplaceBlobUris: shouldReplaceBlobUris,\n      getImageUploadUrl: getImageUploadUrl,\n      getImageUploadBasePath: getImageUploadBasePath,\n      getImagesUploadCredentials: getImagesUploadCredentials,\n      getImagesUploadHandler: getImagesUploadHandler,\n      shouldUseContentCssCors: shouldUseContentCssCors,\n      getInlineBoundarySelector: getInlineBoundarySelector\n    };\n\n    var isInlineTarget = function (editor, elm) {\n      return is$1(Element.fromDom(elm), Settings.getInlineBoundarySelector(editor));\n    };\n    var isRtl = function (element) {\n      return DOMUtils$1.DOM.getStyle(element, 'direction', true) === 'rtl' || hasStrongRtl(element.textContent);\n    };\n    var findInlineParents = function (isInlineTarget, rootNode, pos) {\n      return filter(DOMUtils$1.DOM.getParents(pos.container(), '*', rootNode), isInlineTarget);\n    };\n    var findRootInline = function (isInlineTarget, rootNode, pos) {\n      var parents = findInlineParents(isInlineTarget, rootNode, pos);\n      return Option.from(parents[parents.length - 1]);\n    };\n    var hasSameParentBlock = function (rootNode, node1, node2) {\n      var block1 = getParentBlock(node1, rootNode);\n      var block2 = getParentBlock(node2, rootNode);\n      return block1 && block1 === block2;\n    };\n    var isAtZwsp = function (pos) {\n      return isBeforeInline(pos) || isAfterInline(pos);\n    };\n    var normalizePosition = function (forward, pos) {\n      if (!pos) {\n        return pos;\n      }\n      var container = pos.container(), offset = pos.offset();\n      if (forward) {\n        if (isCaretContainerInline(container)) {\n          if (NodeType.isText(container.nextSibling)) {\n            return CaretPosition$1(container.nextSibling, 0);\n          } else {\n            return CaretPosition$1.after(container);\n          }\n        } else {\n          return isBeforeInline(pos) ? CaretPosition$1(container, offset + 1) : pos;\n        }\n      } else {\n        if (isCaretContainerInline(container)) {\n          if (NodeType.isText(container.previousSibling)) {\n            return CaretPosition$1(container.previousSibling, container.previousSibling.data.length);\n          } else {\n            return CaretPosition$1.before(container);\n          }\n        } else {\n          return isAfterInline(pos) ? CaretPosition$1(container, offset - 1) : pos;\n        }\n      }\n    };\n    var normalizeForwards = curry(normalizePosition, true);\n    var normalizeBackwards = curry(normalizePosition, false);\n    var InlineUtils = {\n      isInlineTarget: isInlineTarget,\n      findRootInline: findRootInline,\n      isRtl: isRtl,\n      isAtZwsp: isAtZwsp,\n      normalizePosition: normalizePosition,\n      normalizeForwards: normalizeForwards,\n      normalizeBackwards: normalizeBackwards,\n      hasSameParentBlock: hasSameParentBlock\n    };\n\n    var isBeforeRoot = function (rootNode) {\n      return function (elm) {\n        return eq(rootNode, Element.fromDom(elm.dom().parentNode));\n      };\n    };\n    var getParentBlock$1 = function (rootNode, elm) {\n      return contains$3(rootNode, elm) ? closest(elm, function (element) {\n        return isTextBlock(element) || isListItem(element);\n      }, isBeforeRoot(rootNode)) : Option.none();\n    };\n    var placeCaretInEmptyBody = function (editor) {\n      var body = editor.getBody();\n      var node = body.firstChild && editor.dom.isBlock(body.firstChild) ? body.firstChild : body;\n      editor.selection.setCursorLocation(node, 0);\n    };\n    var paddEmptyBody = function (editor) {\n      if (editor.dom.isEmpty(editor.getBody())) {\n        editor.setContent('');\n        placeCaretInEmptyBody(editor);\n      }\n    };\n    var willDeleteLastPositionInElement = function (forward, fromPos, elm) {\n      return lift2(CaretFinder.firstPositionIn(elm), CaretFinder.lastPositionIn(elm), function (firstPos, lastPos) {\n        var normalizedFirstPos = InlineUtils.normalizePosition(true, firstPos);\n        var normalizedLastPos = InlineUtils.normalizePosition(false, lastPos);\n        var normalizedFromPos = InlineUtils.normalizePosition(false, fromPos);\n        if (forward) {\n          return CaretFinder.nextPosition(elm, normalizedFromPos).map(function (nextPos) {\n            return nextPos.isEqual(normalizedLastPos) && fromPos.isEqual(normalizedFirstPos);\n          }).getOr(false);\n        } else {\n          return CaretFinder.prevPosition(elm, normalizedFromPos).map(function (prevPos) {\n            return prevPos.isEqual(normalizedFirstPos) && fromPos.isEqual(normalizedLastPos);\n          }).getOr(false);\n        }\n      }).getOr(true);\n    };\n    var DeleteUtils = {\n      getParentBlock: getParentBlock$1,\n      paddEmptyBody: paddEmptyBody,\n      willDeleteLastPositionInElement: willDeleteLastPositionInElement\n    };\n\n    var ancestor$2 = function (scope, selector, isRoot) {\n      return ancestor$1(scope, selector, isRoot).isSome();\n    };\n\n    var hasWhitespacePreserveParent = function (rootNode, node) {\n      var rootElement = Element.fromDom(rootNode);\n      var startNode = Element.fromDom(node);\n      return ancestor$2(startNode, 'pre,code', curry(eq, rootElement));\n    };\n    var isWhitespace = function (rootNode, node) {\n      return NodeType.isText(node) && /^[ \\t\\r\\n]*$/.test(node.data) && hasWhitespacePreserveParent(rootNode, node) === false;\n    };\n    var isNamedAnchor = function (node) {\n      return NodeType.isElement(node) && node.nodeName === 'A' && node.hasAttribute('name');\n    };\n    var isContent = function (rootNode, node) {\n      return isCaretCandidate(node) && isWhitespace(rootNode, node) === false || isNamedAnchor(node) || isBookmark(node);\n    };\n    var isBookmark = NodeType.hasAttribute('data-mce-bookmark');\n    var isBogus$2 = NodeType.hasAttribute('data-mce-bogus');\n    var isBogusAll$1 = NodeType.hasAttributeValue('data-mce-bogus', 'all');\n    var isEmptyNode = function (targetNode) {\n      var walker, node, brCount = 0;\n      if (isContent(targetNode, targetNode)) {\n        return false;\n      } else {\n        node = targetNode.firstChild;\n        if (!node) {\n          return true;\n        }\n        walker = new TreeWalker(node, targetNode);\n        do {\n          if (isBogusAll$1(node)) {\n            node = walker.next(true);\n            continue;\n          }\n          if (isBogus$2(node)) {\n            node = walker.next();\n            continue;\n          }\n          if (NodeType.isBr(node)) {\n            brCount++;\n            node = walker.next();\n            continue;\n          }\n          if (isContent(targetNode, node)) {\n            return false;\n          }\n          node = walker.next();\n        } while (node);\n        return brCount <= 1;\n      }\n    };\n    var isEmpty$1 = function (elm) {\n      return isEmptyNode(elm.dom());\n    };\n    var Empty = { isEmpty: isEmpty$1 };\n\n    var BlockPosition = Immutable('block', 'position');\n    var BlockBoundary = Immutable('from', 'to');\n    var getBlockPosition = function (rootNode, pos) {\n      var rootElm = Element.fromDom(rootNode);\n      var containerElm = Element.fromDom(pos.container());\n      return DeleteUtils.getParentBlock(rootElm, containerElm).map(function (block) {\n        return BlockPosition(block, pos);\n      });\n    };\n    var isDifferentBlocks = function (blockBoundary) {\n      return eq(blockBoundary.from().block(), blockBoundary.to().block()) === false;\n    };\n    var hasSameParent = function (blockBoundary) {\n      return parent(blockBoundary.from().block()).bind(function (parent1) {\n        return parent(blockBoundary.to().block()).filter(function (parent2) {\n          return eq(parent1, parent2);\n        });\n      }).isSome();\n    };\n    var isEditable = function (blockBoundary) {\n      return NodeType.isContentEditableFalse(blockBoundary.from().block().dom()) === false && NodeType.isContentEditableFalse(blockBoundary.to().block().dom()) === false;\n    };\n    var skipLastBr = function (rootNode, forward, blockPosition) {\n      if (NodeType.isBr(blockPosition.position().getNode()) && Empty.isEmpty(blockPosition.block()) === false) {\n        return CaretFinder.positionIn(false, blockPosition.block().dom()).bind(function (lastPositionInBlock) {\n          if (lastPositionInBlock.isEqual(blockPosition.position())) {\n            return CaretFinder.fromPosition(forward, rootNode, lastPositionInBlock).bind(function (to) {\n              return getBlockPosition(rootNode, to);\n            });\n          } else {\n            return Option.some(blockPosition);\n          }\n        }).getOr(blockPosition);\n      } else {\n        return blockPosition;\n      }\n    };\n    var readFromRange = function (rootNode, forward, rng) {\n      var fromBlockPos = getBlockPosition(rootNode, CaretPosition$1.fromRangeStart(rng));\n      var toBlockPos = fromBlockPos.bind(function (blockPos) {\n        return CaretFinder.fromPosition(forward, rootNode, blockPos.position()).bind(function (to) {\n          return getBlockPosition(rootNode, to).map(function (blockPos) {\n            return skipLastBr(rootNode, forward, blockPos);\n          });\n        });\n      });\n      return lift2(fromBlockPos, toBlockPos, BlockBoundary).filter(function (blockBoundary) {\n        return isDifferentBlocks(blockBoundary) && hasSameParent(blockBoundary) && isEditable(blockBoundary);\n      });\n    };\n    var read$1 = function (rootNode, forward, rng) {\n      return rng.collapsed ? readFromRange(rootNode, forward, rng) : Option.none();\n    };\n    var BlockMergeBoundary = { read: read$1 };\n\n    var dropLast = function (xs) {\n      return xs.slice(0, -1);\n    };\n    var parentsUntil$1 = function (start, root, predicate) {\n      if (contains$3(root, start)) {\n        return dropLast(parents(start, function (elm) {\n          return predicate(elm) || eq(elm, root);\n        }));\n      } else {\n        return [];\n      }\n    };\n    var parents$1 = function (start, root) {\n      return parentsUntil$1(start, root, constant(false));\n    };\n    var parentsAndSelf = function (start, root) {\n      return [start].concat(parents$1(start, root));\n    };\n    var Parents = {\n      parentsUntil: parentsUntil$1,\n      parents: parents$1,\n      parentsAndSelf: parentsAndSelf\n    };\n\n    var getChildrenUntilBlockBoundary = function (block) {\n      var children$1 = children(block);\n      return findIndex(children$1, isBlock).fold(function () {\n        return children$1;\n      }, function (index) {\n        return children$1.slice(0, index);\n      });\n    };\n    var extractChildren = function (block) {\n      var children = getChildrenUntilBlockBoundary(block);\n      each(children, remove$1);\n      return children;\n    };\n    var removeEmptyRoot = function (rootNode, block) {\n      var parents = Parents.parentsAndSelf(block, rootNode);\n      return find(parents.reverse(), Empty.isEmpty).each(remove$1);\n    };\n    var isEmptyBefore = function (el) {\n      return filter(prevSiblings(el), function (el) {\n        return !Empty.isEmpty(el);\n      }).length === 0;\n    };\n    var nestedBlockMerge = function (rootNode, fromBlock, toBlock, insertionPoint) {\n      if (Empty.isEmpty(toBlock)) {\n        PaddingBr.fillWithPaddingBr(toBlock);\n        return CaretFinder.firstPositionIn(toBlock.dom());\n      }\n      if (isEmptyBefore(insertionPoint) && Empty.isEmpty(fromBlock)) {\n        before(insertionPoint, Element.fromTag('br'));\n      }\n      var position = CaretFinder.prevPosition(toBlock.dom(), CaretPosition$1.before(insertionPoint.dom()));\n      each(extractChildren(fromBlock), function (child) {\n        before(insertionPoint, child);\n      });\n      removeEmptyRoot(rootNode, fromBlock);\n      return position;\n    };\n    var sidelongBlockMerge = function (rootNode, fromBlock, toBlock) {\n      if (Empty.isEmpty(toBlock)) {\n        remove$1(toBlock);\n        if (Empty.isEmpty(fromBlock)) {\n          PaddingBr.fillWithPaddingBr(fromBlock);\n        }\n        return CaretFinder.firstPositionIn(fromBlock.dom());\n      }\n      var position = CaretFinder.lastPositionIn(toBlock.dom());\n      each(extractChildren(fromBlock), function (child) {\n        append(toBlock, child);\n      });\n      removeEmptyRoot(rootNode, fromBlock);\n      return position;\n    };\n    var findInsertionPoint = function (toBlock, block) {\n      var parentsAndSelf = Parents.parentsAndSelf(block, toBlock);\n      return Option.from(parentsAndSelf[parentsAndSelf.length - 1]);\n    };\n    var getInsertionPoint = function (fromBlock, toBlock) {\n      return contains$3(toBlock, fromBlock) ? findInsertionPoint(toBlock, fromBlock) : Option.none();\n    };\n    var trimBr = function (first, block) {\n      CaretFinder.positionIn(first, block.dom()).map(function (position) {\n        return position.getNode();\n      }).map(Element.fromDom).filter(isBr).each(remove$1);\n    };\n    var mergeBlockInto = function (rootNode, fromBlock, toBlock) {\n      trimBr(true, fromBlock);\n      trimBr(false, toBlock);\n      return getInsertionPoint(fromBlock, toBlock).fold(curry(sidelongBlockMerge, rootNode, fromBlock, toBlock), curry(nestedBlockMerge, rootNode, fromBlock, toBlock));\n    };\n    var mergeBlocks = function (rootNode, forward, block1, block2) {\n      return forward ? mergeBlockInto(rootNode, block2, block1) : mergeBlockInto(rootNode, block1, block2);\n    };\n    var MergeBlocks = { mergeBlocks: mergeBlocks };\n\n    var backspaceDelete = function (editor, forward) {\n      var position;\n      var rootNode = Element.fromDom(editor.getBody());\n      position = BlockMergeBoundary.read(rootNode.dom(), forward, editor.selection.getRng()).bind(function (blockBoundary) {\n        return MergeBlocks.mergeBlocks(rootNode, forward, blockBoundary.from().block(), blockBoundary.to().block());\n      });\n      position.each(function (pos) {\n        editor.selection.setRng(pos.toRange());\n      });\n      return position.isSome();\n    };\n    var BlockBoundaryDelete = { backspaceDelete: backspaceDelete };\n\n    var deleteRangeMergeBlocks = function (rootNode, selection) {\n      var rng = selection.getRng();\n      return lift2(DeleteUtils.getParentBlock(rootNode, Element.fromDom(rng.startContainer)), DeleteUtils.getParentBlock(rootNode, Element.fromDom(rng.endContainer)), function (block1, block2) {\n        if (eq(block1, block2) === false) {\n          rng.deleteContents();\n          MergeBlocks.mergeBlocks(rootNode, true, block1, block2).each(function (pos) {\n            selection.setRng(pos.toRange());\n          });\n          return true;\n        } else {\n          return false;\n        }\n      }).getOr(false);\n    };\n    var isRawNodeInTable = function (root, rawNode) {\n      var node = Element.fromDom(rawNode);\n      var isRoot = curry(eq, root);\n      return ancestor(node, isTableCell, isRoot).isSome();\n    };\n    var isSelectionInTable = function (root, rng) {\n      return isRawNodeInTable(root, rng.startContainer) || isRawNodeInTable(root, rng.endContainer);\n    };\n    var isEverythingSelected = function (root, rng) {\n      var noPrevious = CaretFinder.prevPosition(root.dom(), CaretPosition$1.fromRangeStart(rng)).isNone();\n      var noNext = CaretFinder.nextPosition(root.dom(), CaretPosition$1.fromRangeEnd(rng)).isNone();\n      return !isSelectionInTable(root, rng) && noPrevious && noNext;\n    };\n    var emptyEditor = function (editor) {\n      editor.setContent('');\n      editor.selection.setCursorLocation();\n      return true;\n    };\n    var deleteRange = function (editor) {\n      var rootNode = Element.fromDom(editor.getBody());\n      var rng = editor.selection.getRng();\n      return isEverythingSelected(rootNode, rng) ? emptyEditor(editor) : deleteRangeMergeBlocks(rootNode, editor.selection);\n    };\n    var backspaceDelete$1 = function (editor, forward) {\n      return editor.selection.isCollapsed() ? false : deleteRange(editor);\n    };\n    var BlockRangeDelete = { backspaceDelete: backspaceDelete$1 };\n\n    var generate$1 = function (cases) {\n      if (!isArray(cases)) {\n        throw new Error('cases must be an array');\n      }\n      if (cases.length === 0) {\n        throw new Error('there must be at least one case');\n      }\n      var constructors = [];\n      var adt = {};\n      each(cases, function (acase, count) {\n        var keys$1 = keys(acase);\n        if (keys$1.length !== 1) {\n          throw new Error('one and only one name per case');\n        }\n        var key = keys$1[0];\n        var value = acase[key];\n        if (adt[key] !== undefined) {\n          throw new Error('duplicate key detected:' + key);\n        } else if (key === 'cata') {\n          throw new Error('cannot have a case named cata (sorry)');\n        } else if (!isArray(value)) {\n          throw new Error('case arguments must be an array');\n        }\n        constructors.push(key);\n        adt[key] = function () {\n          var argLength = arguments.length;\n          if (argLength !== value.length) {\n            throw new Error('Wrong number of arguments to case ' + key + '. Expected ' + value.length + ' (' + value + '), got ' + argLength);\n          }\n          var args = new Array(argLength);\n          for (var i = 0; i < args.length; i++) {\n            args[i] = arguments[i];\n          }\n          var match = function (branches) {\n            var branchKeys = keys(branches);\n            if (constructors.length !== branchKeys.length) {\n              throw new Error('Wrong number of arguments to match. Expected: ' + constructors.join(',') + '\\nActual: ' + branchKeys.join(','));\n            }\n            var allReqd = forall(constructors, function (reqKey) {\n              return contains(branchKeys, reqKey);\n            });\n            if (!allReqd) {\n              throw new Error('Not all branches were specified when using match. Specified: ' + branchKeys.join(', ') + '\\nRequired: ' + constructors.join(', '));\n            }\n            return branches[key].apply(null, args);\n          };\n          return {\n            fold: function () {\n              if (arguments.length !== cases.length) {\n                throw new Error('Wrong number of arguments to fold. Expected ' + cases.length + ', got ' + arguments.length);\n              }\n              var target = arguments[count];\n              return target.apply(null, args);\n            },\n            match: match,\n            log: function (label) {\n              domGlobals.console.log(label, {\n                constructors: constructors,\n                constructor: key,\n                params: args\n              });\n            }\n          };\n        };\n      });\n      return adt;\n    };\n    var Adt = { generate: generate$1 };\n\n    var isBr$5 = function (pos) {\n      return getElementFromPosition(pos).exists(isBr);\n    };\n    var findBr = function (forward, root, pos) {\n      var parentBlocks = filter(Parents.parentsAndSelf(Element.fromDom(pos.container()), root), isBlock);\n      var scope = head(parentBlocks).getOr(root);\n      return CaretFinder.fromPosition(forward, scope.dom(), pos).filter(isBr$5);\n    };\n    var isBeforeBr = function (root, pos) {\n      return getElementFromPosition(pos).exists(isBr) || findBr(true, root, pos).isSome();\n    };\n    var isAfterBr = function (root, pos) {\n      return getElementFromPrevPosition(pos).exists(isBr) || findBr(false, root, pos).isSome();\n    };\n    var findPreviousBr = curry(findBr, false);\n    var findNextBr = curry(findBr, true);\n\n    var is$2 = function (expected) {\n      return function (actual) {\n        return expected === actual;\n      };\n    };\n    var isNbsp = is$2('\\xA0');\n    var isWhiteSpace$1 = function (chr) {\n      return /^[\\r\\n\\t ]$/.test(chr);\n    };\n    var isContent$1 = function (chr) {\n      return !isWhiteSpace$1(chr) && !isNbsp(chr);\n    };\n\n    var isChar = function (forward, predicate, pos) {\n      return Option.from(pos.container()).filter(NodeType.isText).exists(function (text) {\n        var delta = forward ? 0 : -1;\n        return predicate(text.data.charAt(pos.offset() + delta));\n      });\n    };\n    var isBeforeSpace = curry(isChar, true, isWhiteSpace$1);\n    var isAfterSpace = curry(isChar, false, isWhiteSpace$1);\n    var isEmptyText = function (pos) {\n      var container = pos.container();\n      return NodeType.isText(container) && container.data.length === 0;\n    };\n    var isNextToContentEditableFalse = function (relativeOffset, caretPosition) {\n      var node = getChildNodeAtRelativeOffset(relativeOffset, caretPosition);\n      return NodeType.isContentEditableFalse(node) && !NodeType.isBogusAll(node);\n    };\n    var isBeforeContentEditableFalse = curry(isNextToContentEditableFalse, 0);\n    var isAfterContentEditableFalse = curry(isNextToContentEditableFalse, -1);\n    var isNextToTable = function (relativeOffset, caretPosition) {\n      return NodeType.isTable(getChildNodeAtRelativeOffset(relativeOffset, caretPosition));\n    };\n    var isBeforeTable = curry(isNextToTable, 0);\n    var isAfterTable = curry(isNextToTable, -1);\n\n    var isCompoundElement = function (node) {\n      return isTableCell(Element.fromDom(node)) || isListItem(Element.fromDom(node));\n    };\n    var DeleteAction = Adt.generate([\n      { remove: ['element'] },\n      { moveToElement: ['element'] },\n      { moveToPosition: ['position'] }\n    ]);\n    var isAtContentEditableBlockCaret = function (forward, from) {\n      var elm = from.getNode(forward === false);\n      var caretLocation = forward ? 'after' : 'before';\n      return NodeType.isElement(elm) && elm.getAttribute('data-mce-caret') === caretLocation;\n    };\n    var isDeleteFromCefDifferentBlocks = function (root, forward, from, to) {\n      var inSameBlock = function (elm) {\n        return isInline(Element.fromDom(elm)) && !isInSameBlock(from, to, root);\n      };\n      return getRelativeCefElm(!forward, from).fold(function () {\n        return getRelativeCefElm(forward, to).fold(constant(false), inSameBlock);\n      }, inSameBlock);\n    };\n    var deleteEmptyBlockOrMoveToCef = function (root, forward, from, to) {\n      var toCefElm = to.getNode(forward === false);\n      return DeleteUtils.getParentBlock(Element.fromDom(root), Element.fromDom(from.getNode())).map(function (blockElm) {\n        return Empty.isEmpty(blockElm) ? DeleteAction.remove(blockElm.dom()) : DeleteAction.moveToElement(toCefElm);\n      }).orThunk(function () {\n        return Option.some(DeleteAction.moveToElement(toCefElm));\n      });\n    };\n    var findCefPosition = function (root, forward, from) {\n      return CaretFinder.fromPosition(forward, root, from).bind(function (to) {\n        if (isCompoundElement(to.getNode())) {\n          return Option.none();\n        } else if (isDeleteFromCefDifferentBlocks(root, forward, from, to)) {\n          return Option.none();\n        } else if (forward && NodeType.isContentEditableFalse(to.getNode())) {\n          return deleteEmptyBlockOrMoveToCef(root, forward, from, to);\n        } else if (forward === false && NodeType.isContentEditableFalse(to.getNode(true))) {\n          return deleteEmptyBlockOrMoveToCef(root, forward, from, to);\n        } else if (forward && isAfterContentEditableFalse(from)) {\n          return Option.some(DeleteAction.moveToPosition(to));\n        } else if (forward === false && isBeforeContentEditableFalse(from)) {\n          return Option.some(DeleteAction.moveToPosition(to));\n        } else {\n          return Option.none();\n        }\n      });\n    };\n    var getContentEditableBlockAction = function (forward, elm) {\n      if (forward && NodeType.isContentEditableFalse(elm.nextSibling)) {\n        return Option.some(DeleteAction.moveToElement(elm.nextSibling));\n      } else if (forward === false && NodeType.isContentEditableFalse(elm.previousSibling)) {\n        return Option.some(DeleteAction.moveToElement(elm.previousSibling));\n      } else {\n        return Option.none();\n      }\n    };\n    var skipMoveToActionFromInlineCefToContent = function (root, from, deleteAction) {\n      return deleteAction.fold(function (elm) {\n        return Option.some(DeleteAction.remove(elm));\n      }, function (elm) {\n        return Option.some(DeleteAction.moveToElement(elm));\n      }, function (to) {\n        if (isInSameBlock(from, to, root)) {\n          return Option.none();\n        } else {\n          return Option.some(DeleteAction.moveToPosition(to));\n        }\n      });\n    };\n    var getContentEditableAction = function (root, forward, from) {\n      if (isAtContentEditableBlockCaret(forward, from)) {\n        return getContentEditableBlockAction(forward, from.getNode(forward === false)).fold(function () {\n          return findCefPosition(root, forward, from);\n        }, Option.some);\n      } else {\n        return findCefPosition(root, forward, from).bind(function (deleteAction) {\n          return skipMoveToActionFromInlineCefToContent(root, from, deleteAction);\n        });\n      }\n    };\n    var read$2 = function (root, forward, rng) {\n      var normalizedRange = normalizeRange(forward ? 1 : -1, root, rng);\n      var from = CaretPosition$1.fromRangeStart(normalizedRange);\n      var rootElement = Element.fromDom(root);\n      if (forward === false && isAfterContentEditableFalse(from)) {\n        return Option.some(DeleteAction.remove(from.getNode(true)));\n      } else if (forward && isBeforeContentEditableFalse(from)) {\n        return Option.some(DeleteAction.remove(from.getNode()));\n      } else if (forward === false && isBeforeContentEditableFalse(from) && isAfterBr(rootElement, from)) {\n        return findPreviousBr(rootElement, from).map(function (br) {\n          return DeleteAction.remove(br.getNode());\n        });\n      } else if (forward && isAfterContentEditableFalse(from) && isBeforeBr(rootElement, from)) {\n        return findNextBr(rootElement, from).map(function (br) {\n          return DeleteAction.remove(br.getNode());\n        });\n      } else {\n        return getContentEditableAction(root, forward, from);\n      }\n    };\n\n    var isCollapsibleWhitespace = function (c) {\n      return ' \\f\\n\\r\\t\\x0B'.indexOf(c) !== -1;\n    };\n    var normalizeContent = function (content, isStartOfContent, isEndOfContent) {\n      var result = foldl(content.split(''), function (acc, c) {\n        if (isCollapsibleWhitespace(c) || c === '\\xA0') {\n          if (acc.previousCharIsSpace || acc.str === '' && isStartOfContent || acc.str.length === content.length - 1 && isEndOfContent) {\n            return {\n              previousCharIsSpace: false,\n              str: acc.str + '\\xA0'\n            };\n          } else {\n            return {\n              previousCharIsSpace: true,\n              str: acc.str + ' '\n            };\n          }\n        } else {\n          return {\n            previousCharIsSpace: false,\n            str: acc.str + c\n          };\n        }\n      }, {\n        previousCharIsSpace: false,\n        str: ''\n      });\n      return result.str;\n    };\n    var normalize$1 = function (node, offset, count) {\n      if (count === 0) {\n        return;\n      }\n      var whitespace = node.data.slice(offset, offset + count);\n      var isEndOfContent = offset + count >= node.data.length;\n      var isStartOfContent = offset === 0;\n      node.replaceData(offset, count, normalizeContent(whitespace, isStartOfContent, isEndOfContent));\n    };\n    var normalizeWhitespaceAfter = function (node, offset) {\n      var content = node.data.slice(offset);\n      var whitespaceCount = content.length - lTrim(content).length;\n      return normalize$1(node, offset, whitespaceCount);\n    };\n    var normalizeWhitespaceBefore = function (node, offset) {\n      var content = node.data.slice(0, offset);\n      var whitespaceCount = content.length - rTrim(content).length;\n      return normalize$1(node, offset - whitespaceCount, whitespaceCount);\n    };\n    var mergeTextNodes = function (prevNode, nextNode, normalizeWhitespace) {\n      var whitespaceOffset = rTrim(prevNode.data).length;\n      prevNode.appendData(nextNode.data);\n      remove$1(Element.fromDom(nextNode));\n      if (normalizeWhitespace) {\n        normalizeWhitespaceAfter(prevNode, whitespaceOffset);\n      }\n      return prevNode;\n    };\n\n    var needsReposition = function (pos, elm) {\n      var container = pos.container();\n      var offset = pos.offset();\n      return CaretPosition$1.isTextPosition(pos) === false && container === elm.parentNode && offset > CaretPosition$1.before(elm).offset();\n    };\n    var reposition = function (elm, pos) {\n      return needsReposition(pos, elm) ? CaretPosition$1(pos.container(), pos.offset() - 1) : pos;\n    };\n    var beforeOrStartOf = function (node) {\n      return NodeType.isText(node) ? CaretPosition$1(node, 0) : CaretPosition$1.before(node);\n    };\n    var afterOrEndOf = function (node) {\n      return NodeType.isText(node) ? CaretPosition$1(node, node.data.length) : CaretPosition$1.after(node);\n    };\n    var getPreviousSiblingCaretPosition = function (elm) {\n      if (isCaretCandidate(elm.previousSibling)) {\n        return Option.some(afterOrEndOf(elm.previousSibling));\n      } else {\n        return elm.previousSibling ? CaretFinder.lastPositionIn(elm.previousSibling) : Option.none();\n      }\n    };\n    var getNextSiblingCaretPosition = function (elm) {\n      if (isCaretCandidate(elm.nextSibling)) {\n        return Option.some(beforeOrStartOf(elm.nextSibling));\n      } else {\n        return elm.nextSibling ? CaretFinder.firstPositionIn(elm.nextSibling) : Option.none();\n      }\n    };\n    var findCaretPositionBackwardsFromElm = function (rootElement, elm) {\n      var startPosition = CaretPosition$1.before(elm.previousSibling ? elm.previousSibling : elm.parentNode);\n      return CaretFinder.prevPosition(rootElement, startPosition).fold(function () {\n        return CaretFinder.nextPosition(rootElement, CaretPosition$1.after(elm));\n      }, Option.some);\n    };\n    var findCaretPositionForwardsFromElm = function (rootElement, elm) {\n      return CaretFinder.nextPosition(rootElement, CaretPosition$1.after(elm)).fold(function () {\n        return CaretFinder.prevPosition(rootElement, CaretPosition$1.before(elm));\n      }, Option.some);\n    };\n    var findCaretPositionBackwards = function (rootElement, elm) {\n      return getPreviousSiblingCaretPosition(elm).orThunk(function () {\n        return getNextSiblingCaretPosition(elm);\n      }).orThunk(function () {\n        return findCaretPositionBackwardsFromElm(rootElement, elm);\n      });\n    };\n    var findCaretPositionForward = function (rootElement, elm) {\n      return getNextSiblingCaretPosition(elm).orThunk(function () {\n        return getPreviousSiblingCaretPosition(elm);\n      }).orThunk(function () {\n        return findCaretPositionForwardsFromElm(rootElement, elm);\n      });\n    };\n    var findCaretPosition$1 = function (forward, rootElement, elm) {\n      return forward ? findCaretPositionForward(rootElement, elm) : findCaretPositionBackwards(rootElement, elm);\n    };\n    var findCaretPosOutsideElmAfterDelete = function (forward, rootElement, elm) {\n      return findCaretPosition$1(forward, rootElement, elm).map(curry(reposition, elm));\n    };\n    var setSelection = function (editor, forward, pos) {\n      pos.fold(function () {\n        editor.focus();\n      }, function (pos) {\n        editor.selection.setRng(pos.toRange(), forward);\n      });\n    };\n    var eqRawNode = function (rawNode) {\n      return function (elm) {\n        return elm.dom() === rawNode;\n      };\n    };\n    var isBlock$2 = function (editor, elm) {\n      return elm && editor.schema.getBlockElements().hasOwnProperty(name(elm));\n    };\n    var paddEmptyBlock = function (elm) {\n      if (Empty.isEmpty(elm)) {\n        var br = Element.fromHtml('<br data-mce-bogus=\"1\">');\n        empty(elm);\n        append(elm, br);\n        return Option.some(CaretPosition$1.before(br.dom()));\n      } else {\n        return Option.none();\n      }\n    };\n    var deleteNormalized = function (elm, afterDeletePosOpt, normalizeWhitespace) {\n      var prevTextOpt = prevSibling(elm).filter(isText);\n      var nextTextOpt = nextSibling(elm).filter(isText);\n      remove$1(elm);\n      return lift3(prevTextOpt, nextTextOpt, afterDeletePosOpt, function (prev, next, pos) {\n        var prevNode = prev.dom(), nextNode = next.dom();\n        var offset = prevNode.data.length;\n        mergeTextNodes(prevNode, nextNode, normalizeWhitespace);\n        return pos.container() === nextNode ? CaretPosition$1(prevNode, offset) : pos;\n      }).orThunk(function () {\n        if (normalizeWhitespace) {\n          prevTextOpt.each(function (elm) {\n            return normalizeWhitespaceBefore(elm.dom(), elm.dom().length);\n          });\n          nextTextOpt.each(function (elm) {\n            return normalizeWhitespaceAfter(elm.dom(), 0);\n          });\n        }\n        return afterDeletePosOpt;\n      });\n    };\n    var isInlineElement = function (editor, element) {\n      return has(editor.schema.getTextInlineElements(), name(element));\n    };\n    var deleteElement = function (editor, forward, elm, moveCaret) {\n      if (moveCaret === void 0) {\n        moveCaret = true;\n      }\n      var afterDeletePos = findCaretPosOutsideElmAfterDelete(forward, editor.getBody(), elm.dom());\n      var parentBlock = ancestor(elm, curry(isBlock$2, editor), eqRawNode(editor.getBody()));\n      var normalizedAfterDeletePos = deleteNormalized(elm, afterDeletePos, isInlineElement(editor, elm));\n      if (editor.dom.isEmpty(editor.getBody())) {\n        editor.setContent('');\n        editor.selection.setCursorLocation();\n      } else {\n        parentBlock.bind(paddEmptyBlock).fold(function () {\n          if (moveCaret) {\n            setSelection(editor, forward, normalizedAfterDeletePos);\n          }\n        }, function (paddPos) {\n          if (moveCaret) {\n            setSelection(editor, forward, Option.some(paddPos));\n          }\n        });\n      }\n    };\n    var DeleteElement = { deleteElement: deleteElement };\n\n    var deleteElement$1 = function (editor, forward) {\n      return function (element) {\n        editor._selectionOverrides.hideFakeCaret();\n        DeleteElement.deleteElement(editor, forward, Element.fromDom(element));\n        return true;\n      };\n    };\n    var moveToElement = function (editor, forward) {\n      return function (element) {\n        var pos = forward ? CaretPosition$1.before(element) : CaretPosition$1.after(element);\n        editor.selection.setRng(pos.toRange());\n        return true;\n      };\n    };\n    var moveToPosition = function (editor) {\n      return function (pos) {\n        editor.selection.setRng(pos.toRange());\n        return true;\n      };\n    };\n    var backspaceDeleteCaret = function (editor, forward) {\n      var result = read$2(editor.getBody(), forward, editor.selection.getRng()).map(function (deleteAction) {\n        return deleteAction.fold(deleteElement$1(editor, forward), moveToElement(editor, forward), moveToPosition(editor));\n      });\n      return result.getOr(false);\n    };\n    var deleteOffscreenSelection = function (rootElement) {\n      each(descendants$1(rootElement, '.mce-offscreen-selection'), remove$1);\n    };\n    var backspaceDeleteRange = function (editor, forward) {\n      var selectedElement = editor.selection.getNode();\n      if (NodeType.isContentEditableFalse(selectedElement)) {\n        deleteOffscreenSelection(Element.fromDom(editor.getBody()));\n        DeleteElement.deleteElement(editor, forward, Element.fromDom(editor.selection.getNode()));\n        DeleteUtils.paddEmptyBody(editor);\n        return true;\n      } else {\n        return false;\n      }\n    };\n    var getContentEditableRoot = function (root, node) {\n      while (node && node !== root) {\n        if (NodeType.isContentEditableTrue(node) || NodeType.isContentEditableFalse(node)) {\n          return node;\n        }\n        node = node.parentNode;\n      }\n      return null;\n    };\n    var paddEmptyElement = function (editor) {\n      var br;\n      var ceRoot = getContentEditableRoot(editor.getBody(), editor.selection.getNode());\n      if (NodeType.isContentEditableTrue(ceRoot) && editor.dom.isBlock(ceRoot) && editor.dom.isEmpty(ceRoot)) {\n        br = editor.dom.create('br', { 'data-mce-bogus': '1' });\n        editor.dom.setHTML(ceRoot, '');\n        ceRoot.appendChild(br);\n        editor.selection.setRng(CaretPosition$1.before(br).toRange());\n      }\n      return true;\n    };\n    var backspaceDelete$2 = function (editor, forward) {\n      if (editor.selection.isCollapsed()) {\n        return backspaceDeleteCaret(editor, forward);\n      } else {\n        return backspaceDeleteRange(editor, forward);\n      }\n    };\n    var CefDelete = {\n      backspaceDelete: backspaceDelete$2,\n      paddEmptyElement: paddEmptyElement\n    };\n\n    var isText$8 = NodeType.isText;\n    var startsWithCaretContainer$1 = function (node) {\n      return isText$8(node) && node.data[0] === Zwsp.ZWSP;\n    };\n    var endsWithCaretContainer$1 = function (node) {\n      return isText$8(node) && node.data[node.data.length - 1] === Zwsp.ZWSP;\n    };\n    var createZwsp = function (node) {\n      return node.ownerDocument.createTextNode(Zwsp.ZWSP);\n    };\n    var insertBefore$1 = function (node) {\n      if (isText$8(node.previousSibling)) {\n        if (endsWithCaretContainer$1(node.previousSibling)) {\n          return node.previousSibling;\n        } else {\n          node.previousSibling.appendData(Zwsp.ZWSP);\n          return node.previousSibling;\n        }\n      } else if (isText$8(node)) {\n        if (startsWithCaretContainer$1(node)) {\n          return node;\n        } else {\n          node.insertData(0, Zwsp.ZWSP);\n          return node;\n        }\n      } else {\n        var newNode = createZwsp(node);\n        node.parentNode.insertBefore(newNode, node);\n        return newNode;\n      }\n    };\n    var insertAfter$1 = function (node) {\n      if (isText$8(node.nextSibling)) {\n        if (startsWithCaretContainer$1(node.nextSibling)) {\n          return node.nextSibling;\n        } else {\n          node.nextSibling.insertData(0, Zwsp.ZWSP);\n          return node.nextSibling;\n        }\n      } else if (isText$8(node)) {\n        if (endsWithCaretContainer$1(node)) {\n          return node;\n        } else {\n          node.appendData(Zwsp.ZWSP);\n          return node;\n        }\n      } else {\n        var newNode = createZwsp(node);\n        if (node.nextSibling) {\n          node.parentNode.insertBefore(newNode, node.nextSibling);\n        } else {\n          node.parentNode.appendChild(newNode);\n        }\n        return newNode;\n      }\n    };\n    var insertInline$1 = function (before, node) {\n      return before ? insertBefore$1(node) : insertAfter$1(node);\n    };\n    var insertInlineBefore = curry(insertInline$1, true);\n    var insertInlineAfter = curry(insertInline$1, false);\n\n    var insertInlinePos = function (pos, before) {\n      if (NodeType.isText(pos.container())) {\n        return insertInline$1(before, pos.container());\n      } else {\n        return insertInline$1(before, pos.getNode());\n      }\n    };\n    var isPosCaretContainer = function (pos, caret) {\n      var caretNode = caret.get();\n      return caretNode && pos.container() === caretNode && isCaretContainerInline(caretNode);\n    };\n    var renderCaret = function (caret, location) {\n      return location.fold(function (element) {\n        CaretContainerRemove.remove(caret.get());\n        var text = insertInlineBefore(element);\n        caret.set(text);\n        return Option.some(CaretPosition$1(text, text.length - 1));\n      }, function (element) {\n        return CaretFinder.firstPositionIn(element).map(function (pos) {\n          if (!isPosCaretContainer(pos, caret)) {\n            CaretContainerRemove.remove(caret.get());\n            var text = insertInlinePos(pos, true);\n            caret.set(text);\n            return CaretPosition$1(text, 1);\n          } else {\n            return CaretPosition$1(caret.get(), 1);\n          }\n        });\n      }, function (element) {\n        return CaretFinder.lastPositionIn(element).map(function (pos) {\n          if (!isPosCaretContainer(pos, caret)) {\n            CaretContainerRemove.remove(caret.get());\n            var text = insertInlinePos(pos, false);\n            caret.set(text);\n            return CaretPosition$1(text, text.length - 1);\n          } else {\n            return CaretPosition$1(caret.get(), caret.get().length - 1);\n          }\n        });\n      }, function (element) {\n        CaretContainerRemove.remove(caret.get());\n        var text = insertInlineAfter(element);\n        caret.set(text);\n        return Option.some(CaretPosition$1(text, 1));\n      });\n    };\n    var BoundaryCaret = { renderCaret: renderCaret };\n\n    var evaluateUntil = function (fns, args) {\n      for (var i = 0; i < fns.length; i++) {\n        var result = fns[i].apply(null, args);\n        if (result.isSome()) {\n          return result;\n        }\n      }\n      return Option.none();\n    };\n    var LazyEvaluator = { evaluateUntil: evaluateUntil };\n\n    var Location = Adt.generate([\n      { before: ['element'] },\n      { start: ['element'] },\n      { end: ['element'] },\n      { after: ['element'] }\n    ]);\n    var rescope = function (rootNode, node) {\n      var parentBlock = getParentBlock(node, rootNode);\n      return parentBlock ? parentBlock : rootNode;\n    };\n    var before$3 = function (isInlineTarget, rootNode, pos) {\n      var nPos = InlineUtils.normalizeForwards(pos);\n      var scope = rescope(rootNode, nPos.container());\n      return InlineUtils.findRootInline(isInlineTarget, scope, nPos).fold(function () {\n        return CaretFinder.nextPosition(scope, nPos).bind(curry(InlineUtils.findRootInline, isInlineTarget, scope)).map(function (inline) {\n          return Location.before(inline);\n        });\n      }, Option.none);\n    };\n    var isNotInsideFormatCaretContainer = function (rootNode, elm) {\n      return getParentCaretContainer(rootNode, elm) === null;\n    };\n    var findInsideRootInline = function (isInlineTarget, rootNode, pos) {\n      return InlineUtils.findRootInline(isInlineTarget, rootNode, pos).filter(curry(isNotInsideFormatCaretContainer, rootNode));\n    };\n    var start = function (isInlineTarget, rootNode, pos) {\n      var nPos = InlineUtils.normalizeBackwards(pos);\n      return findInsideRootInline(isInlineTarget, rootNode, nPos).bind(function (inline) {\n        var prevPos = CaretFinder.prevPosition(inline, nPos);\n        return prevPos.isNone() ? Option.some(Location.start(inline)) : Option.none();\n      });\n    };\n    var end = function (isInlineTarget, rootNode, pos) {\n      var nPos = InlineUtils.normalizeForwards(pos);\n      return findInsideRootInline(isInlineTarget, rootNode, nPos).bind(function (inline) {\n        var nextPos = CaretFinder.nextPosition(inline, nPos);\n        return nextPos.isNone() ? Option.some(Location.end(inline)) : Option.none();\n      });\n    };\n    var after$2 = function (isInlineTarget, rootNode, pos) {\n      var nPos = InlineUtils.normalizeBackwards(pos);\n      var scope = rescope(rootNode, nPos.container());\n      return InlineUtils.findRootInline(isInlineTarget, scope, nPos).fold(function () {\n        return CaretFinder.prevPosition(scope, nPos).bind(curry(InlineUtils.findRootInline, isInlineTarget, scope)).map(function (inline) {\n          return Location.after(inline);\n        });\n      }, Option.none);\n    };\n    var isValidLocation = function (location) {\n      return InlineUtils.isRtl(getElement(location)) === false;\n    };\n    var readLocation = function (isInlineTarget, rootNode, pos) {\n      var location = LazyEvaluator.evaluateUntil([\n        before$3,\n        start,\n        end,\n        after$2\n      ], [\n        isInlineTarget,\n        rootNode,\n        pos\n      ]);\n      return location.filter(isValidLocation);\n    };\n    var getElement = function (location) {\n      return location.fold(identity, identity, identity, identity);\n    };\n    var getName = function (location) {\n      return location.fold(constant('before'), constant('start'), constant('end'), constant('after'));\n    };\n    var outside = function (location) {\n      return location.fold(Location.before, Location.before, Location.after, Location.after);\n    };\n    var inside = function (location) {\n      return location.fold(Location.start, Location.start, Location.end, Location.end);\n    };\n    var isEq$1 = function (location1, location2) {\n      return getName(location1) === getName(location2) && getElement(location1) === getElement(location2);\n    };\n    var betweenInlines = function (forward, isInlineTarget, rootNode, from, to, location) {\n      return lift2(InlineUtils.findRootInline(isInlineTarget, rootNode, from), InlineUtils.findRootInline(isInlineTarget, rootNode, to), function (fromInline, toInline) {\n        if (fromInline !== toInline && InlineUtils.hasSameParentBlock(rootNode, fromInline, toInline)) {\n          return Location.after(forward ? fromInline : toInline);\n        } else {\n          return location;\n        }\n      }).getOr(location);\n    };\n    var skipNoMovement = function (fromLocation, toLocation) {\n      return fromLocation.fold(constant(true), function (fromLocation) {\n        return !isEq$1(fromLocation, toLocation);\n      });\n    };\n    var findLocationTraverse = function (forward, isInlineTarget, rootNode, fromLocation, pos) {\n      var from = InlineUtils.normalizePosition(forward, pos);\n      var to = CaretFinder.fromPosition(forward, rootNode, from).map(curry(InlineUtils.normalizePosition, forward));\n      var location = to.fold(function () {\n        return fromLocation.map(outside);\n      }, function (to) {\n        return readLocation(isInlineTarget, rootNode, to).map(curry(betweenInlines, forward, isInlineTarget, rootNode, from, to)).filter(curry(skipNoMovement, fromLocation));\n      });\n      return location.filter(isValidLocation);\n    };\n    var findLocationSimple = function (forward, location) {\n      if (forward) {\n        return location.fold(compose(Option.some, Location.start), Option.none, compose(Option.some, Location.after), Option.none);\n      } else {\n        return location.fold(Option.none, compose(Option.some, Location.before), Option.none, compose(Option.some, Location.end));\n      }\n    };\n    var findLocation = function (forward, isInlineTarget, rootNode, pos) {\n      var from = InlineUtils.normalizePosition(forward, pos);\n      var fromLocation = readLocation(isInlineTarget, rootNode, from);\n      return readLocation(isInlineTarget, rootNode, from).bind(curry(findLocationSimple, forward)).orThunk(function () {\n        return findLocationTraverse(forward, isInlineTarget, rootNode, fromLocation, pos);\n      });\n    };\n    var BoundaryLocation = {\n      readLocation: readLocation,\n      findLocation: findLocation,\n      prevLocation: curry(findLocation, false),\n      nextLocation: curry(findLocation, true),\n      getElement: getElement,\n      outside: outside,\n      inside: inside\n    };\n\n    var hasSelectionModifyApi = function (editor) {\n      return isFunction(editor.selection.getSel().modify);\n    };\n    var moveRel = function (forward, selection, pos) {\n      var delta = forward ? 1 : -1;\n      selection.setRng(CaretPosition$1(pos.container(), pos.offset() + delta).toRange());\n      selection.getSel().modify('move', forward ? 'forward' : 'backward', 'word');\n      return true;\n    };\n    var moveByWord = function (forward, editor) {\n      var rng = editor.selection.getRng();\n      var pos = forward ? CaretPosition$1.fromRangeEnd(rng) : CaretPosition$1.fromRangeStart(rng);\n      if (!hasSelectionModifyApi(editor)) {\n        return false;\n      } else if (forward && isBeforeInline(pos)) {\n        return moveRel(true, editor.selection, pos);\n      } else if (!forward && isAfterInline(pos)) {\n        return moveRel(false, editor.selection, pos);\n      } else {\n        return false;\n      }\n    };\n    var WordSelection = {\n      hasSelectionModifyApi: hasSelectionModifyApi,\n      moveByWord: moveByWord\n    };\n\n    var setCaretPosition = function (editor, pos) {\n      var rng = editor.dom.createRng();\n      rng.setStart(pos.container(), pos.offset());\n      rng.setEnd(pos.container(), pos.offset());\n      editor.selection.setRng(rng);\n    };\n    var isFeatureEnabled = function (editor) {\n      return editor.settings.inline_boundaries !== false;\n    };\n    var setSelected = function (state, elm) {\n      if (state) {\n        elm.setAttribute('data-mce-selected', 'inline-boundary');\n      } else {\n        elm.removeAttribute('data-mce-selected');\n      }\n    };\n    var renderCaretLocation = function (editor, caret, location) {\n      return BoundaryCaret.renderCaret(caret, location).map(function (pos) {\n        setCaretPosition(editor, pos);\n        return location;\n      });\n    };\n    var findLocation$1 = function (editor, caret, forward) {\n      var rootNode = editor.getBody();\n      var from = CaretPosition$1.fromRangeStart(editor.selection.getRng());\n      var isInlineTarget = curry(InlineUtils.isInlineTarget, editor);\n      var location = BoundaryLocation.findLocation(forward, isInlineTarget, rootNode, from);\n      return location.bind(function (location) {\n        return renderCaretLocation(editor, caret, location);\n      });\n    };\n    var toggleInlines = function (isInlineTarget, dom, elms) {\n      var selectedInlines = filter(dom.select('*[data-mce-selected=\"inline-boundary\"]'), isInlineTarget);\n      var targetInlines = filter(elms, isInlineTarget);\n      each(difference(selectedInlines, targetInlines), curry(setSelected, false));\n      each(difference(targetInlines, selectedInlines), curry(setSelected, true));\n    };\n    var safeRemoveCaretContainer = function (editor, caret) {\n      if (editor.selection.isCollapsed() && editor.composing !== true && caret.get()) {\n        var pos = CaretPosition$1.fromRangeStart(editor.selection.getRng());\n        if (CaretPosition$1.isTextPosition(pos) && InlineUtils.isAtZwsp(pos) === false) {\n          setCaretPosition(editor, CaretContainerRemove.removeAndReposition(caret.get(), pos));\n          caret.set(null);\n        }\n      }\n    };\n    var renderInsideInlineCaret = function (isInlineTarget, editor, caret, elms) {\n      if (editor.selection.isCollapsed()) {\n        var inlines = filter(elms, isInlineTarget);\n        each(inlines, function (inline) {\n          var pos = CaretPosition$1.fromRangeStart(editor.selection.getRng());\n          BoundaryLocation.readLocation(isInlineTarget, editor.getBody(), pos).bind(function (location) {\n            return renderCaretLocation(editor, caret, location);\n          });\n        });\n      }\n    };\n    var move = function (editor, caret, forward) {\n      return function () {\n        return isFeatureEnabled(editor) ? findLocation$1(editor, caret, forward).isSome() : false;\n      };\n    };\n    var moveWord = function (forward, editor, caret) {\n      return function () {\n        return isFeatureEnabled(editor) ? WordSelection.moveByWord(forward, editor) : false;\n      };\n    };\n    var setupSelectedState = function (editor) {\n      var caret = Cell(null);\n      var isInlineTarget = curry(InlineUtils.isInlineTarget, editor);\n      editor.on('NodeChange', function (e) {\n        if (isFeatureEnabled(editor)) {\n          toggleInlines(isInlineTarget, editor.dom, e.parents);\n          safeRemoveCaretContainer(editor, caret);\n          renderInsideInlineCaret(isInlineTarget, editor, caret, e.parents);\n        }\n      });\n      return caret;\n    };\n    var moveNextWord = curry(moveWord, true);\n    var movePrevWord = curry(moveWord, false);\n    var BoundarySelection = {\n      move: move,\n      moveNextWord: moveNextWord,\n      movePrevWord: movePrevWord,\n      setupSelectedState: setupSelectedState,\n      setCaretPosition: setCaretPosition\n    };\n\n    var isFeatureEnabled$1 = function (editor) {\n      return editor.settings.inline_boundaries !== false;\n    };\n    var rangeFromPositions = function (from, to) {\n      var range = domGlobals.document.createRange();\n      range.setStart(from.container(), from.offset());\n      range.setEnd(to.container(), to.offset());\n      return range;\n    };\n    var hasOnlyTwoOrLessPositionsLeft = function (elm) {\n      return lift2(CaretFinder.firstPositionIn(elm), CaretFinder.lastPositionIn(elm), function (firstPos, lastPos) {\n        var normalizedFirstPos = InlineUtils.normalizePosition(true, firstPos);\n        var normalizedLastPos = InlineUtils.normalizePosition(false, lastPos);\n        return CaretFinder.nextPosition(elm, normalizedFirstPos).map(function (pos) {\n          return pos.isEqual(normalizedLastPos);\n        }).getOr(true);\n      }).getOr(true);\n    };\n    var setCaretLocation = function (editor, caret) {\n      return function (location) {\n        return BoundaryCaret.renderCaret(caret, location).map(function (pos) {\n          BoundarySelection.setCaretPosition(editor, pos);\n          return true;\n        }).getOr(false);\n      };\n    };\n    var deleteFromTo = function (editor, caret, from, to) {\n      var rootNode = editor.getBody();\n      var isInlineTarget = curry(InlineUtils.isInlineTarget, editor);\n      editor.undoManager.ignore(function () {\n        editor.selection.setRng(rangeFromPositions(from, to));\n        editor.execCommand('Delete');\n        BoundaryLocation.readLocation(isInlineTarget, rootNode, CaretPosition$1.fromRangeStart(editor.selection.getRng())).map(BoundaryLocation.inside).map(setCaretLocation(editor, caret));\n      });\n      editor.nodeChanged();\n    };\n    var rescope$1 = function (rootNode, node) {\n      var parentBlock = getParentBlock(node, rootNode);\n      return parentBlock ? parentBlock : rootNode;\n    };\n    var backspaceDeleteCollapsed = function (editor, caret, forward, from) {\n      var rootNode = rescope$1(editor.getBody(), from.container());\n      var isInlineTarget = curry(InlineUtils.isInlineTarget, editor);\n      var fromLocation = BoundaryLocation.readLocation(isInlineTarget, rootNode, from);\n      return fromLocation.bind(function (location) {\n        if (forward) {\n          return location.fold(constant(Option.some(BoundaryLocation.inside(location))), Option.none, constant(Option.some(BoundaryLocation.outside(location))), Option.none);\n        } else {\n          return location.fold(Option.none, constant(Option.some(BoundaryLocation.outside(location))), Option.none, constant(Option.some(BoundaryLocation.inside(location))));\n        }\n      }).map(setCaretLocation(editor, caret)).getOrThunk(function () {\n        var toPosition = CaretFinder.navigate(forward, rootNode, from);\n        var toLocation = toPosition.bind(function (pos) {\n          return BoundaryLocation.readLocation(isInlineTarget, rootNode, pos);\n        });\n        if (fromLocation.isSome() && toLocation.isSome()) {\n          return InlineUtils.findRootInline(isInlineTarget, rootNode, from).map(function (elm) {\n            if (hasOnlyTwoOrLessPositionsLeft(elm)) {\n              DeleteElement.deleteElement(editor, forward, Element.fromDom(elm));\n              return true;\n            } else {\n              return false;\n            }\n          }).getOr(false);\n        } else {\n          return toLocation.bind(function (_) {\n            return toPosition.map(function (to) {\n              if (forward) {\n                deleteFromTo(editor, caret, from, to);\n              } else {\n                deleteFromTo(editor, caret, to, from);\n              }\n              return true;\n            });\n          }).getOr(false);\n        }\n      });\n    };\n    var backspaceDelete$3 = function (editor, caret, forward) {\n      if (editor.selection.isCollapsed() && isFeatureEnabled$1(editor)) {\n        var from = CaretPosition$1.fromRangeStart(editor.selection.getRng());\n        return backspaceDeleteCollapsed(editor, caret, forward, from);\n      }\n      return false;\n    };\n    var InlineBoundaryDelete = { backspaceDelete: backspaceDelete$3 };\n\n    var tableCellRng = Immutable('start', 'end');\n    var tableSelection = Immutable('rng', 'table', 'cells');\n    var deleteAction = Adt.generate([\n      { removeTable: ['element'] },\n      { emptyCells: ['cells'] }\n    ]);\n    var isRootFromElement = function (root) {\n      return curry(eq, root);\n    };\n    var getClosestCell = function (container, isRoot) {\n      return closest$1(Element.fromDom(container), 'td,th', isRoot);\n    };\n    var getClosestTable = function (cell, isRoot) {\n      return ancestor$1(cell, 'table', isRoot);\n    };\n    var isExpandedCellRng = function (cellRng) {\n      return eq(cellRng.start(), cellRng.end()) === false;\n    };\n    var getTableFromCellRng = function (cellRng, isRoot) {\n      return getClosestTable(cellRng.start(), isRoot).bind(function (startParentTable) {\n        return getClosestTable(cellRng.end(), isRoot).bind(function (endParentTable) {\n          return eq(startParentTable, endParentTable) ? Option.some(startParentTable) : Option.none();\n        });\n      });\n    };\n    var getTableCells = function (table) {\n      return descendants$1(table, 'td,th');\n    };\n    var getCellRangeFromStartTable = function (cellRng, isRoot) {\n      return getClosestTable(cellRng.start(), isRoot).bind(function (table) {\n        return last(getTableCells(table)).map(function (endCell) {\n          return tableCellRng(cellRng.start(), endCell);\n        });\n      });\n    };\n    var partialSelection = function (isRoot, rng) {\n      var startCell = getClosestCell(rng.startContainer, isRoot);\n      var endCell = getClosestCell(rng.endContainer, isRoot);\n      return rng.collapsed ? Option.none() : lift2(startCell, endCell, tableCellRng).fold(function () {\n        return startCell.fold(function () {\n          return endCell.bind(function (endCell) {\n            return getClosestTable(endCell, isRoot).bind(function (table) {\n              return head(getTableCells(table)).map(function (startCell) {\n                return tableCellRng(startCell, endCell);\n              });\n            });\n          });\n        }, function (startCell) {\n          return getClosestTable(startCell, isRoot).bind(function (table) {\n            return last(getTableCells(table)).map(function (endCell) {\n              return tableCellRng(startCell, endCell);\n            });\n          });\n        });\n      }, function (cellRng) {\n        return isWithinSameTable(isRoot, cellRng) ? Option.none() : getCellRangeFromStartTable(cellRng, isRoot);\n      });\n    };\n    var isWithinSameTable = function (isRoot, cellRng) {\n      return getTableFromCellRng(cellRng, isRoot).isSome();\n    };\n    var getCellRng = function (rng, isRoot) {\n      var startCell = getClosestCell(rng.startContainer, isRoot);\n      var endCell = getClosestCell(rng.endContainer, isRoot);\n      return lift2(startCell, endCell, tableCellRng).filter(isExpandedCellRng).filter(function (cellRng) {\n        return isWithinSameTable(isRoot, cellRng);\n      }).orThunk(function () {\n        return partialSelection(isRoot, rng);\n      });\n    };\n    var getTableSelectionFromCellRng = function (cellRng, isRoot) {\n      return getTableFromCellRng(cellRng, isRoot).map(function (table) {\n        return tableSelection(cellRng, table, getTableCells(table));\n      });\n    };\n    var getTableSelectionFromRng = function (root, rng) {\n      var isRoot = isRootFromElement(root);\n      return getCellRng(rng, isRoot).bind(function (cellRng) {\n        return getTableSelectionFromCellRng(cellRng, isRoot);\n      });\n    };\n    var getCellIndex = function (cells, cell) {\n      return findIndex(cells, function (x) {\n        return eq(x, cell);\n      });\n    };\n    var getSelectedCells = function (tableSelection) {\n      return lift2(getCellIndex(tableSelection.cells(), tableSelection.rng().start()), getCellIndex(tableSelection.cells(), tableSelection.rng().end()), function (startIndex, endIndex) {\n        return tableSelection.cells().slice(startIndex, endIndex + 1);\n      });\n    };\n    var getAction = function (tableSelection) {\n      return getSelectedCells(tableSelection).map(function (selected) {\n        var cells = tableSelection.cells();\n        return selected.length === cells.length ? deleteAction.removeTable(tableSelection.table()) : deleteAction.emptyCells(selected);\n      });\n    };\n    var getActionFromCells = function (cells) {\n      return deleteAction.emptyCells(cells);\n    };\n    var getActionFromRange = function (root, rng) {\n      return getTableSelectionFromRng(root, rng).bind(getAction);\n    };\n    var TableDeleteAction = {\n      getActionFromRange: getActionFromRange,\n      getActionFromCells: getActionFromCells\n    };\n\n    var getRanges = function (selection) {\n      var ranges = [];\n      if (selection) {\n        for (var i = 0; i < selection.rangeCount; i++) {\n          ranges.push(selection.getRangeAt(i));\n        }\n      }\n      return ranges;\n    };\n    var getSelectedNodes = function (ranges) {\n      return bind(ranges, function (range) {\n        var node = getSelectedNode(range);\n        return node ? [Element.fromDom(node)] : [];\n      });\n    };\n    var hasMultipleRanges = function (selection) {\n      return getRanges(selection).length > 1;\n    };\n    var MultiRange = {\n      getRanges: getRanges,\n      getSelectedNodes: getSelectedNodes,\n      hasMultipleRanges: hasMultipleRanges\n    };\n\n    var getCellsFromRanges = function (ranges) {\n      return filter(MultiRange.getSelectedNodes(ranges), isTableCell);\n    };\n    var getCellsFromElement = function (elm) {\n      var selectedCells = descendants$1(elm, 'td[data-mce-selected],th[data-mce-selected]');\n      return selectedCells;\n    };\n    var getCellsFromElementOrRanges = function (ranges, element) {\n      var selectedCells = getCellsFromElement(element);\n      var rangeCells = getCellsFromRanges(ranges);\n      return selectedCells.length > 0 ? selectedCells : rangeCells;\n    };\n    var getCellsFromEditor = function (editor) {\n      return getCellsFromElementOrRanges(MultiRange.getRanges(editor.selection.getSel()), Element.fromDom(editor.getBody()));\n    };\n    var TableCellSelection = {\n      getCellsFromRanges: getCellsFromRanges,\n      getCellsFromElement: getCellsFromElement,\n      getCellsFromElementOrRanges: getCellsFromElementOrRanges,\n      getCellsFromEditor: getCellsFromEditor\n    };\n\n    var emptyCells = function (editor, cells) {\n      each(cells, PaddingBr.fillWithPaddingBr);\n      editor.selection.setCursorLocation(cells[0].dom(), 0);\n      return true;\n    };\n    var deleteTableElement = function (editor, table) {\n      DeleteElement.deleteElement(editor, false, table);\n      return true;\n    };\n    var deleteCellRange = function (editor, rootElm, rng) {\n      return TableDeleteAction.getActionFromRange(rootElm, rng).map(function (action) {\n        return action.fold(curry(deleteTableElement, editor), curry(emptyCells, editor));\n      });\n    };\n    var deleteCaptionRange = function (editor, caption) {\n      return emptyElement(editor, caption);\n    };\n    var deleteTableRange = function (editor, rootElm, rng, startElm) {\n      return getParentCaption(rootElm, startElm).fold(function () {\n        return deleteCellRange(editor, rootElm, rng);\n      }, function (caption) {\n        return deleteCaptionRange(editor, caption);\n      }).getOr(false);\n    };\n    var deleteRange$1 = function (editor, startElm) {\n      var rootNode = Element.fromDom(editor.getBody());\n      var rng = editor.selection.getRng();\n      var selectedCells = TableCellSelection.getCellsFromEditor(editor);\n      return selectedCells.length !== 0 ? emptyCells(editor, selectedCells) : deleteTableRange(editor, rootNode, rng, startElm);\n    };\n    var getParentCell = function (rootElm, elm) {\n      return find(Parents.parentsAndSelf(elm, rootElm), isTableCell);\n    };\n    var getParentCaption = function (rootElm, elm) {\n      return find(Parents.parentsAndSelf(elm, rootElm), function (elm) {\n        return name(elm) === 'caption';\n      });\n    };\n    var deleteBetweenCells = function (editor, rootElm, forward, fromCell, from) {\n      return CaretFinder.navigate(forward, editor.getBody(), from).bind(function (to) {\n        return getParentCell(rootElm, Element.fromDom(to.getNode())).map(function (toCell) {\n          return eq(toCell, fromCell) === false;\n        });\n      });\n    };\n    var emptyElement = function (editor, elm) {\n      PaddingBr.fillWithPaddingBr(elm);\n      editor.selection.setCursorLocation(elm.dom(), 0);\n      return Option.some(true);\n    };\n    var isDeleteOfLastCharPos = function (fromCaption, forward, from, to) {\n      return CaretFinder.firstPositionIn(fromCaption.dom()).bind(function (first) {\n        return CaretFinder.lastPositionIn(fromCaption.dom()).map(function (last) {\n          return forward ? from.isEqual(first) && to.isEqual(last) : from.isEqual(last) && to.isEqual(first);\n        });\n      }).getOr(true);\n    };\n    var emptyCaretCaption = function (editor, elm) {\n      return emptyElement(editor, elm);\n    };\n    var validateCaretCaption = function (rootElm, fromCaption, to) {\n      return getParentCaption(rootElm, Element.fromDom(to.getNode())).map(function (toCaption) {\n        return eq(toCaption, fromCaption) === false;\n      });\n    };\n    var deleteCaretInsideCaption = function (editor, rootElm, forward, fromCaption, from) {\n      return CaretFinder.navigate(forward, editor.getBody(), from).bind(function (to) {\n        return isDeleteOfLastCharPos(fromCaption, forward, from, to) ? emptyCaretCaption(editor, fromCaption) : validateCaretCaption(rootElm, fromCaption, to);\n      }).or(Option.some(true));\n    };\n    var deleteCaretCells = function (editor, forward, rootElm, startElm) {\n      var from = CaretPosition$1.fromRangeStart(editor.selection.getRng());\n      return getParentCell(rootElm, startElm).bind(function (fromCell) {\n        return Empty.isEmpty(fromCell) ? emptyElement(editor, fromCell) : deleteBetweenCells(editor, rootElm, forward, fromCell, from);\n      });\n    };\n    var deleteCaretCaption = function (editor, forward, rootElm, fromCaption) {\n      var from = CaretPosition$1.fromRangeStart(editor.selection.getRng());\n      return Empty.isEmpty(fromCaption) ? emptyElement(editor, fromCaption) : deleteCaretInsideCaption(editor, rootElm, forward, fromCaption, from);\n    };\n    var deleteCaret = function (editor, forward, startElm) {\n      var rootElm = Element.fromDom(editor.getBody());\n      return getParentCaption(rootElm, startElm).fold(function () {\n        return deleteCaretCells(editor, forward, rootElm, startElm);\n      }, function (fromCaption) {\n        return deleteCaretCaption(editor, forward, rootElm, fromCaption);\n      }).getOr(false);\n    };\n    var backspaceDelete$4 = function (editor, forward) {\n      var startElm = Element.fromDom(editor.selection.getStart(true));\n      var cells = TableCellSelection.getCellsFromEditor(editor);\n      return editor.selection.isCollapsed() && cells.length === 0 ? deleteCaret(editor, forward, startElm) : deleteRange$1(editor, startElm);\n    };\n    var TableDelete = { backspaceDelete: backspaceDelete$4 };\n\n    var isEq$2 = FormatUtils.isEq;\n    var matchesUnInheritedFormatSelector = function (ed, node, name) {\n      var formatList = ed.formatter.get(name);\n      if (formatList) {\n        for (var i = 0; i < formatList.length; i++) {\n          if (formatList[i].inherit === false && ed.dom.is(node, formatList[i].selector)) {\n            return true;\n          }\n        }\n      }\n      return false;\n    };\n    var matchParents = function (editor, node, name, vars) {\n      var root = editor.dom.getRoot();\n      if (node === root) {\n        return false;\n      }\n      node = editor.dom.getParent(node, function (node) {\n        if (matchesUnInheritedFormatSelector(editor, node, name)) {\n          return true;\n        }\n        return node.parentNode === root || !!matchNode(editor, node, name, vars, true);\n      });\n      return matchNode(editor, node, name, vars);\n    };\n    var matchName = function (dom, node, format) {\n      if (isEq$2(node, format.inline)) {\n        return true;\n      }\n      if (isEq$2(node, format.block)) {\n        return true;\n      }\n      if (format.selector) {\n        return node.nodeType === 1 && dom.is(node, format.selector);\n      }\n    };\n    var matchItems = function (dom, node, format, itemName, similar, vars) {\n      var key, value;\n      var items = format[itemName];\n      var i;\n      if (format.onmatch) {\n        return format.onmatch(node, format, itemName);\n      }\n      if (items) {\n        if (typeof items.length === 'undefined') {\n          for (key in items) {\n            if (items.hasOwnProperty(key)) {\n              if (itemName === 'attributes') {\n                value = dom.getAttrib(node, key);\n              } else {\n                value = FormatUtils.getStyle(dom, node, key);\n              }\n              if (similar && !value && !format.exact) {\n                return;\n              }\n              if ((!similar || format.exact) && !isEq$2(value, FormatUtils.normalizeStyleValue(dom, FormatUtils.replaceVars(items[key], vars), key))) {\n                return;\n              }\n            }\n          }\n        } else {\n          for (i = 0; i < items.length; i++) {\n            if (itemName === 'attributes' ? dom.getAttrib(node, items[i]) : FormatUtils.getStyle(dom, node, items[i])) {\n              return format;\n            }\n          }\n        }\n      }\n      return format;\n    };\n    var matchNode = function (ed, node, name, vars, similar) {\n      var formatList = ed.formatter.get(name);\n      var format, i, x, classes;\n      var dom = ed.dom;\n      if (formatList && node) {\n        for (i = 0; i < formatList.length; i++) {\n          format = formatList[i];\n          if (matchName(ed.dom, node, format) && matchItems(dom, node, format, 'attributes', similar, vars) && matchItems(dom, node, format, 'styles', similar, vars)) {\n            if (classes = format.classes) {\n              for (x = 0; x < classes.length; x++) {\n                if (!ed.dom.hasClass(node, classes[x])) {\n                  return;\n                }\n              }\n            }\n            return format;\n          }\n        }\n      }\n    };\n    var match = function (editor, name, vars, node) {\n      var startNode;\n      if (node) {\n        return matchParents(editor, node, name, vars);\n      }\n      node = editor.selection.getNode();\n      if (matchParents(editor, node, name, vars)) {\n        return true;\n      }\n      startNode = editor.selection.getStart();\n      if (startNode !== node) {\n        if (matchParents(editor, startNode, name, vars)) {\n          return true;\n        }\n      }\n      return false;\n    };\n    var matchAll = function (editor, names, vars) {\n      var startElement;\n      var matchedFormatNames = [];\n      var checkedMap = {};\n      startElement = editor.selection.getStart();\n      editor.dom.getParent(startElement, function (node) {\n        var i, name;\n        for (i = 0; i < names.length; i++) {\n          name = names[i];\n          if (!checkedMap[name] && matchNode(editor, node, name, vars)) {\n            checkedMap[name] = true;\n            matchedFormatNames.push(name);\n          }\n        }\n      }, editor.dom.getRoot());\n      return matchedFormatNames;\n    };\n    var canApply = function (editor, name) {\n      var formatList = editor.formatter.get(name);\n      var startNode, parents, i, x, selector;\n      var dom = editor.dom;\n      if (formatList) {\n        startNode = editor.selection.getStart();\n        parents = FormatUtils.getParents(dom, startNode);\n        for (x = formatList.length - 1; x >= 0; x--) {\n          selector = formatList[x].selector;\n          if (!selector || formatList[x].defaultBlock) {\n            return true;\n          }\n          for (i = parents.length - 1; i >= 0; i--) {\n            if (dom.is(parents[i], selector)) {\n              return true;\n            }\n          }\n        }\n      }\n      return false;\n    };\n    var MatchFormat = {\n      matchNode: matchNode,\n      matchName: matchName,\n      match: match,\n      matchAll: matchAll,\n      canApply: canApply,\n      matchesUnInheritedFormatSelector: matchesUnInheritedFormatSelector\n    };\n\n    var splitText = function (node, offset) {\n      return node.splitText(offset);\n    };\n    var split$1 = function (rng) {\n      var startContainer = rng.startContainer, startOffset = rng.startOffset, endContainer = rng.endContainer, endOffset = rng.endOffset;\n      if (startContainer === endContainer && NodeType.isText(startContainer)) {\n        if (startOffset > 0 && startOffset < startContainer.nodeValue.length) {\n          endContainer = splitText(startContainer, startOffset);\n          startContainer = endContainer.previousSibling;\n          if (endOffset > startOffset) {\n            endOffset = endOffset - startOffset;\n            startContainer = endContainer = splitText(endContainer, endOffset).previousSibling;\n            endOffset = endContainer.nodeValue.length;\n            startOffset = 0;\n          } else {\n            endOffset = 0;\n          }\n        }\n      } else {\n        if (NodeType.isText(startContainer) && startOffset > 0 && startOffset < startContainer.nodeValue.length) {\n          startContainer = splitText(startContainer, startOffset);\n          startOffset = 0;\n        }\n        if (NodeType.isText(endContainer) && endOffset > 0 && endOffset < endContainer.nodeValue.length) {\n          endContainer = splitText(endContainer, endOffset).previousSibling;\n          endOffset = endContainer.nodeValue.length;\n        }\n      }\n      return {\n        startContainer: startContainer,\n        startOffset: startOffset,\n        endContainer: endContainer,\n        endOffset: endOffset\n      };\n    };\n    var SplitRange = { split: split$1 };\n\n    var ZWSP$1 = Zwsp.ZWSP, CARET_ID$1 = '_mce_caret';\n    var importNode = function (ownerDocument, node) {\n      return ownerDocument.importNode(node, true);\n    };\n    var getEmptyCaretContainers = function (node) {\n      var nodes = [];\n      while (node) {\n        if (node.nodeType === 3 && node.nodeValue !== ZWSP$1 || node.childNodes.length > 1) {\n          return [];\n        }\n        if (node.nodeType === 1) {\n          nodes.push(node);\n        }\n        node = node.firstChild;\n      }\n      return nodes;\n    };\n    var isCaretContainerEmpty = function (node) {\n      return getEmptyCaretContainers(node).length > 0;\n    };\n    var findFirstTextNode = function (node) {\n      var walker;\n      if (node) {\n        walker = new TreeWalker(node, node);\n        for (node = walker.current(); node; node = walker.next()) {\n          if (node.nodeType === 3) {\n            return node;\n          }\n        }\n      }\n      return null;\n    };\n    var createCaretContainer = function (fill) {\n      var caretContainer = Element.fromTag('span');\n      setAll(caretContainer, {\n        'id': CARET_ID$1,\n        'data-mce-bogus': '1',\n        'data-mce-type': 'format-caret'\n      });\n      if (fill) {\n        append(caretContainer, Element.fromText(ZWSP$1));\n      }\n      return caretContainer;\n    };\n    var trimZwspFromCaretContainer = function (caretContainerNode) {\n      var textNode = findFirstTextNode(caretContainerNode);\n      if (textNode && textNode.nodeValue.charAt(0) === ZWSP$1) {\n        textNode.deleteData(0, 1);\n      }\n      return textNode;\n    };\n    var removeCaretContainerNode = function (editor, node, moveCaret) {\n      if (moveCaret === void 0) {\n        moveCaret = true;\n      }\n      var dom = editor.dom, selection = editor.selection;\n      if (isCaretContainerEmpty(node)) {\n        DeleteElement.deleteElement(editor, false, Element.fromDom(node), moveCaret);\n      } else {\n        var rng = selection.getRng();\n        var block = dom.getParent(node, dom.isBlock);\n        var textNode = trimZwspFromCaretContainer(node);\n        if (rng.startContainer === textNode && rng.startOffset > 0) {\n          rng.setStart(textNode, rng.startOffset - 1);\n        }\n        if (rng.endContainer === textNode && rng.endOffset > 0) {\n          rng.setEnd(textNode, rng.endOffset - 1);\n        }\n        dom.remove(node, true);\n        if (block && dom.isEmpty(block)) {\n          PaddingBr.fillWithPaddingBr(Element.fromDom(block));\n        }\n        selection.setRng(rng);\n      }\n    };\n    var removeCaretContainer = function (editor, node, moveCaret) {\n      if (moveCaret === void 0) {\n        moveCaret = true;\n      }\n      var dom = editor.dom, selection = editor.selection;\n      if (!node) {\n        node = getParentCaretContainer(editor.getBody(), selection.getStart());\n        if (!node) {\n          while (node = dom.get(CARET_ID$1)) {\n            removeCaretContainerNode(editor, node, false);\n          }\n        }\n      } else {\n        removeCaretContainerNode(editor, node, moveCaret);\n      }\n    };\n    var insertCaretContainerNode = function (editor, caretContainer, formatNode) {\n      var dom = editor.dom, block = dom.getParent(formatNode, curry(FormatUtils.isTextBlock, editor));\n      if (block && dom.isEmpty(block)) {\n        formatNode.parentNode.replaceChild(caretContainer, formatNode);\n      } else {\n        PaddingBr.removeTrailingBr(Element.fromDom(formatNode));\n        if (dom.isEmpty(formatNode)) {\n          formatNode.parentNode.replaceChild(caretContainer, formatNode);\n        } else {\n          dom.insertAfter(caretContainer, formatNode);\n        }\n      }\n    };\n    var appendNode = function (parentNode, node) {\n      parentNode.appendChild(node);\n      return node;\n    };\n    var insertFormatNodesIntoCaretContainer = function (formatNodes, caretContainer) {\n      var innerMostFormatNode = foldr(formatNodes, function (parentNode, formatNode) {\n        return appendNode(parentNode, formatNode.cloneNode(false));\n      }, caretContainer);\n      return appendNode(innerMostFormatNode, innerMostFormatNode.ownerDocument.createTextNode(ZWSP$1));\n    };\n    var applyCaretFormat = function (editor, name, vars) {\n      var rng, caretContainer, textNode, offset, bookmark, container, text;\n      var selection = editor.selection;\n      rng = selection.getRng(true);\n      offset = rng.startOffset;\n      container = rng.startContainer;\n      text = container.nodeValue;\n      caretContainer = getParentCaretContainer(editor.getBody(), selection.getStart());\n      if (caretContainer) {\n        textNode = findFirstTextNode(caretContainer);\n      }\n      var wordcharRegex = /[^\\s\\u00a0\\u00ad\\u200b\\ufeff]/;\n      if (text && offset > 0 && offset < text.length && wordcharRegex.test(text.charAt(offset)) && wordcharRegex.test(text.charAt(offset - 1))) {\n        bookmark = selection.getBookmark();\n        rng.collapse(true);\n        rng = ExpandRange.expandRng(editor, rng, editor.formatter.get(name));\n        rng = SplitRange.split(rng);\n        editor.formatter.apply(name, vars, rng);\n        selection.moveToBookmark(bookmark);\n      } else {\n        if (!caretContainer || textNode.nodeValue !== ZWSP$1) {\n          caretContainer = importNode(editor.getDoc(), createCaretContainer(true).dom());\n          textNode = caretContainer.firstChild;\n          rng.insertNode(caretContainer);\n          offset = 1;\n          editor.formatter.apply(name, vars, caretContainer);\n        } else {\n          editor.formatter.apply(name, vars, caretContainer);\n        }\n        selection.setCursorLocation(textNode, offset);\n      }\n    };\n    var removeCaretFormat = function (editor, name, vars, similar) {\n      var dom = editor.dom, selection = editor.selection;\n      var container, offset, bookmark;\n      var hasContentAfter, node, formatNode;\n      var parents = [], rng = selection.getRng();\n      var caretContainer;\n      container = rng.startContainer;\n      offset = rng.startOffset;\n      node = container;\n      if (container.nodeType === 3) {\n        if (offset !== container.nodeValue.length) {\n          hasContentAfter = true;\n        }\n        node = node.parentNode;\n      }\n      while (node) {\n        if (MatchFormat.matchNode(editor, node, name, vars, similar)) {\n          formatNode = node;\n          break;\n        }\n        if (node.nextSibling) {\n          hasContentAfter = true;\n        }\n        parents.push(node);\n        node = node.parentNode;\n      }\n      if (!formatNode) {\n        return;\n      }\n      if (hasContentAfter) {\n        bookmark = selection.getBookmark();\n        rng.collapse(true);\n        var expandedRng = ExpandRange.expandRng(editor, rng, editor.formatter.get(name), true);\n        expandedRng = SplitRange.split(expandedRng);\n        editor.formatter.remove(name, vars, expandedRng);\n        selection.moveToBookmark(bookmark);\n      } else {\n        caretContainer = getParentCaretContainer(editor.getBody(), formatNode);\n        var newCaretContainer = createCaretContainer(false).dom();\n        var caretNode = insertFormatNodesIntoCaretContainer(parents, newCaretContainer);\n        if (caretContainer) {\n          insertCaretContainerNode(editor, newCaretContainer, caretContainer);\n        } else {\n          insertCaretContainerNode(editor, newCaretContainer, formatNode);\n        }\n        removeCaretContainerNode(editor, caretContainer, false);\n        selection.setCursorLocation(caretNode, 1);\n        if (dom.isEmpty(formatNode)) {\n          dom.remove(formatNode);\n        }\n      }\n    };\n    var disableCaretContainer = function (editor, keyCode) {\n      var selection = editor.selection, body = editor.getBody();\n      removeCaretContainer(editor, null, false);\n      if ((keyCode === 8 || keyCode === 46) && selection.isCollapsed() && selection.getStart().innerHTML === ZWSP$1) {\n        removeCaretContainer(editor, getParentCaretContainer(body, selection.getStart()));\n      }\n      if (keyCode === 37 || keyCode === 39) {\n        removeCaretContainer(editor, getParentCaretContainer(body, selection.getStart()));\n      }\n    };\n    var setup$2 = function (editor) {\n      editor.on('mouseup keydown', function (e) {\n        disableCaretContainer(editor, e.keyCode);\n      });\n    };\n    var replaceWithCaretFormat = function (targetNode, formatNodes) {\n      var caretContainer = createCaretContainer(false);\n      var innerMost = insertFormatNodesIntoCaretContainer(formatNodes, caretContainer.dom());\n      before(Element.fromDom(targetNode), caretContainer);\n      remove$1(Element.fromDom(targetNode));\n      return CaretPosition$1(innerMost, 0);\n    };\n    var isFormatElement = function (editor, element) {\n      var inlineElements = editor.schema.getTextInlineElements();\n      return inlineElements.hasOwnProperty(name(element)) && !isCaretNode(element.dom()) && !NodeType.isBogus(element.dom());\n    };\n    var isEmptyCaretFormatElement = function (element) {\n      return isCaretNode(element.dom()) && isCaretContainerEmpty(element.dom());\n    };\n\n    var getParentInlines = function (rootElm, startElm) {\n      var parents = Parents.parentsAndSelf(startElm, rootElm);\n      return findIndex(parents, isBlock).fold(constant(parents), function (index) {\n        return parents.slice(0, index);\n      });\n    };\n    var hasOnlyOneChild$1 = function (elm) {\n      return children(elm).length === 1;\n    };\n    var deleteLastPosition = function (forward, editor, target, parentInlines) {\n      var isFormatElement$1 = curry(isFormatElement, editor);\n      var formatNodes = map(filter(parentInlines, isFormatElement$1), function (elm) {\n        return elm.dom();\n      });\n      if (formatNodes.length === 0) {\n        DeleteElement.deleteElement(editor, forward, target);\n      } else {\n        var pos = replaceWithCaretFormat(target.dom(), formatNodes);\n        editor.selection.setRng(pos.toRange());\n      }\n    };\n    var deleteCaret$1 = function (editor, forward) {\n      var rootElm = Element.fromDom(editor.getBody());\n      var startElm = Element.fromDom(editor.selection.getStart());\n      var parentInlines = filter(getParentInlines(rootElm, startElm), hasOnlyOneChild$1);\n      return last(parentInlines).map(function (target) {\n        var fromPos = CaretPosition$1.fromRangeStart(editor.selection.getRng());\n        if (DeleteUtils.willDeleteLastPositionInElement(forward, fromPos, target.dom()) && !isEmptyCaretFormatElement(target)) {\n          deleteLastPosition(forward, editor, target, parentInlines);\n          return true;\n        } else {\n          return false;\n        }\n      }).getOr(false);\n    };\n    var backspaceDelete$5 = function (editor, forward) {\n      return editor.selection.isCollapsed() ? deleteCaret$1(editor, forward) : false;\n    };\n    var InlineFormatDelete = { backspaceDelete: backspaceDelete$5 };\n\n    var getPos$1 = function (elm) {\n      var x = 0, y = 0;\n      var offsetParent = elm;\n      while (offsetParent && offsetParent.nodeType) {\n        x += offsetParent.offsetLeft || 0;\n        y += offsetParent.offsetTop || 0;\n        offsetParent = offsetParent.offsetParent;\n      }\n      return {\n        x: x,\n        y: y\n      };\n    };\n    var fireScrollIntoViewEvent = function (editor, elm, alignToTop) {\n      var scrollEvent = {\n        elm: elm,\n        alignToTop: alignToTop\n      };\n      editor.fire('scrollIntoView', scrollEvent);\n      return scrollEvent.isDefaultPrevented();\n    };\n    var scrollElementIntoView = function (editor, elm, alignToTop) {\n      var y, viewPort;\n      var dom = editor.dom;\n      var root = dom.getRoot();\n      var viewPortY, viewPortH, offsetY = 0;\n      if (fireScrollIntoViewEvent(editor, elm, alignToTop)) {\n        return;\n      }\n      if (!NodeType.isElement(elm)) {\n        return;\n      }\n      if (alignToTop === false) {\n        offsetY = elm.offsetHeight;\n      }\n      if (root.nodeName !== 'BODY') {\n        var scrollContainer = editor.selection.getScrollContainer();\n        if (scrollContainer) {\n          y = getPos$1(elm).y - getPos$1(scrollContainer).y + offsetY;\n          viewPortH = scrollContainer.clientHeight;\n          viewPortY = scrollContainer.scrollTop;\n          if (y < viewPortY || y + 25 > viewPortY + viewPortH) {\n            scrollContainer.scrollTop = y < viewPortY ? y : y - viewPortH + 25;\n          }\n          return;\n        }\n      }\n      viewPort = dom.getViewPort(editor.getWin());\n      y = dom.getPos(elm).y + offsetY;\n      viewPortY = viewPort.y;\n      viewPortH = viewPort.h;\n      if (y < viewPort.y || y + 25 > viewPortY + viewPortH) {\n        editor.getWin().scrollTo(0, y < viewPortY ? y : y - viewPortH + 25);\n      }\n    };\n    var getViewPortRect = function (editor) {\n      if (editor.inline) {\n        return editor.getBody().getBoundingClientRect();\n      } else {\n        var win = editor.getWin();\n        return {\n          left: 0,\n          right: win.innerWidth,\n          top: 0,\n          bottom: win.innerHeight,\n          width: win.innerWidth,\n          height: win.innerHeight\n        };\n      }\n    };\n    var scrollBy = function (editor, dx, dy) {\n      if (editor.inline) {\n        editor.getBody().scrollLeft += dx;\n        editor.getBody().scrollTop += dy;\n      } else {\n        editor.getWin().scrollBy(dx, dy);\n      }\n    };\n    var scrollRangeIntoView = function (editor, rng) {\n      head(CaretPosition.fromRangeStart(rng).getClientRects()).each(function (rngRect) {\n        var bodyRect = getViewPortRect(editor);\n        var overflow = getOverflow(bodyRect, rngRect);\n        var margin = 4;\n        var dx = overflow.x > 0 ? overflow.x + margin : overflow.x - margin;\n        var dy = overflow.y > 0 ? overflow.y + margin : overflow.y - margin;\n        scrollBy(editor, overflow.x !== 0 ? dx : 0, overflow.y !== 0 ? dy : 0);\n      });\n    };\n    var ScrollIntoView = {\n      scrollElementIntoView: scrollElementIntoView,\n      scrollRangeIntoView: scrollRangeIntoView\n    };\n\n    var isContentEditableTrue$2 = NodeType.isContentEditableTrue;\n    var isContentEditableFalse$6 = NodeType.isContentEditableFalse;\n    var showCaret = function (direction, editor, node, before, scrollIntoView) {\n      return editor._selectionOverrides.showCaret(direction, node, before, scrollIntoView);\n    };\n    var getNodeRange = function (node) {\n      var rng = node.ownerDocument.createRange();\n      rng.selectNode(node);\n      return rng;\n    };\n    var selectNode = function (editor, node) {\n      var e = editor.fire('BeforeObjectSelected', { target: node });\n      if (e.isDefaultPrevented()) {\n        return null;\n      }\n      return getNodeRange(node);\n    };\n    var renderCaretAtRange = function (editor, range, scrollIntoView) {\n      var normalizedRange = normalizeRange(1, editor.getBody(), range);\n      var caretPosition = CaretPosition$1.fromRangeStart(normalizedRange);\n      var caretPositionNode = caretPosition.getNode();\n      if (isContentEditableFalse$6(caretPositionNode)) {\n        return showCaret(1, editor, caretPositionNode, !caretPosition.isAtEnd(), false);\n      }\n      var caretPositionBeforeNode = caretPosition.getNode(true);\n      if (isContentEditableFalse$6(caretPositionBeforeNode)) {\n        return showCaret(1, editor, caretPositionBeforeNode, false, false);\n      }\n      var ceRoot = editor.dom.getParent(caretPosition.getNode(), function (node) {\n        return isContentEditableFalse$6(node) || isContentEditableTrue$2(node);\n      });\n      if (isContentEditableFalse$6(ceRoot)) {\n        return showCaret(1, editor, ceRoot, false, scrollIntoView);\n      }\n      return null;\n    };\n    var renderRangeCaret = function (editor, range, scrollIntoView) {\n      if (!range || !range.collapsed) {\n        return range;\n      }\n      var caretRange = renderCaretAtRange(editor, range, scrollIntoView);\n      if (caretRange) {\n        return caretRange;\n      }\n      return range;\n    };\n    var moveToRange = function (editor, rng) {\n      editor.selection.setRng(rng);\n      ScrollIntoView.scrollRangeIntoView(editor, editor.selection.getRng());\n    };\n\n    var trimEmptyTextNode$1 = function (dom, node) {\n      if (NodeType.isText(node) && node.data.length === 0) {\n        dom.remove(node);\n      }\n    };\n    var deleteContentAndShowCaret = function (editor, range, node, direction, forward, peekCaretPosition) {\n      var caretRange = showCaret(direction, editor, peekCaretPosition.getNode(!forward), forward, true);\n      if (range.collapsed) {\n        var deleteRange = range.cloneRange();\n        if (forward) {\n          deleteRange.setEnd(caretRange.startContainer, caretRange.startOffset);\n        } else {\n          deleteRange.setStart(caretRange.endContainer, caretRange.endOffset);\n        }\n        deleteRange.deleteContents();\n      } else {\n        range.deleteContents();\n      }\n      editor.selection.setRng(caretRange);\n      trimEmptyTextNode$1(editor.dom, node);\n      return true;\n    };\n    var deleteCefBoundaryText = function (editor, forward) {\n      var range = editor.selection.getRng();\n      if (!NodeType.isText(range.commonAncestorContainer)) {\n        return false;\n      }\n      var direction = forward ? HDirection.Forwards : HDirection.Backwards;\n      var caretWalker = CaretWalker(editor.getBody());\n      var getNextVisualCaretPosition = curry(getVisualCaretPosition, caretWalker.next);\n      var getPrevVisualCaretPosition = curry(getVisualCaretPosition, caretWalker.prev);\n      var getNextPosFn = forward ? getNextVisualCaretPosition : getPrevVisualCaretPosition;\n      var isBeforeContentEditableFalseFn = forward ? isBeforeContentEditableFalse : isAfterContentEditableFalse;\n      var caretPosition = getNormalizedRangeEndPoint(direction, editor.getBody(), range);\n      var nextCaretPosition = InlineUtils.normalizePosition(forward, getNextPosFn(caretPosition));\n      if (!nextCaretPosition) {\n        return false;\n      } else if (isBeforeContentEditableFalseFn(nextCaretPosition)) {\n        return deleteContentAndShowCaret(editor, range, caretPosition.getNode(), direction, forward, nextCaretPosition);\n      }\n      var peekCaretPosition = getNextPosFn(nextCaretPosition);\n      if (peekCaretPosition && isBeforeContentEditableFalseFn(peekCaretPosition)) {\n        if (isMoveInsideSameBlock(nextCaretPosition, peekCaretPosition)) {\n          return deleteContentAndShowCaret(editor, range, caretPosition.getNode(), direction, forward, peekCaretPosition);\n        }\n      }\n      return false;\n    };\n    var backspaceDelete$6 = function (editor, forward) {\n      return deleteCefBoundaryText(editor, forward);\n    };\n    var CefBoundaryDelete = { backspaceDelete: backspaceDelete$6 };\n\n    var nativeCommand = function (editor, command) {\n      editor.getDoc().execCommand(command, false, null);\n    };\n    var deleteCommand = function (editor) {\n      if (CefDelete.backspaceDelete(editor, false)) {\n        return;\n      } else if (CefBoundaryDelete.backspaceDelete(editor, false)) {\n        return;\n      } else if (InlineBoundaryDelete.backspaceDelete(editor, false)) {\n        return;\n      } else if (BlockBoundaryDelete.backspaceDelete(editor, false)) {\n        return;\n      } else if (TableDelete.backspaceDelete(editor)) {\n        return;\n      } else if (BlockRangeDelete.backspaceDelete(editor, false)) {\n        return;\n      } else if (InlineFormatDelete.backspaceDelete(editor, false)) {\n        return;\n      } else {\n        nativeCommand(editor, 'Delete');\n        DeleteUtils.paddEmptyBody(editor);\n      }\n    };\n    var forwardDeleteCommand = function (editor) {\n      if (CefDelete.backspaceDelete(editor, true)) {\n        return;\n      } else if (CefBoundaryDelete.backspaceDelete(editor, true)) {\n        return;\n      } else if (InlineBoundaryDelete.backspaceDelete(editor, true)) {\n        return;\n      } else if (BlockBoundaryDelete.backspaceDelete(editor, true)) {\n        return;\n      } else if (TableDelete.backspaceDelete(editor)) {\n        return;\n      } else if (BlockRangeDelete.backspaceDelete(editor, true)) {\n        return;\n      } else if (InlineFormatDelete.backspaceDelete(editor, true)) {\n        return;\n      } else {\n        nativeCommand(editor, 'ForwardDelete');\n      }\n    };\n    var DeleteCommands = {\n      deleteCommand: deleteCommand,\n      forwardDeleteCommand: forwardDeleteCommand\n    };\n\n    var getSpecifiedFontProp = function (propName, rootElm, elm) {\n      var getProperty = function (elm) {\n        return getRaw(elm, propName);\n      };\n      var isRoot = function (elm) {\n        return eq(Element.fromDom(rootElm), elm);\n      };\n      return closest(Element.fromDom(elm), function (elm) {\n        return getProperty(elm).isSome();\n      }, isRoot).bind(getProperty);\n    };\n    var round$1 = function (number, precision) {\n      var factor = Math.pow(10, precision);\n      return Math.round(number * factor) / factor;\n    };\n    var toPt = function (fontSize, precision) {\n      if (/[0-9.]+px$/.test(fontSize)) {\n        return round$1(parseInt(fontSize, 10) * 72 / 96, precision || 0) + 'pt';\n      }\n      return fontSize;\n    };\n    var normalizeFontFamily = function (fontFamily) {\n      return fontFamily.replace(/[\\'\\\"\\\\]/g, '').replace(/,\\s+/g, ',');\n    };\n    var getComputedFontProp = function (propName, elm) {\n      return Option.from(DOMUtils$1.DOM.getStyle(elm, propName, true));\n    };\n    var getFontProp = function (propName) {\n      return function (rootElm, elm) {\n        return Option.from(elm).map(Element.fromDom).filter(isElement).bind(function (element) {\n          return getSpecifiedFontProp(propName, rootElm, element.dom()).or(getComputedFontProp(propName, element.dom()));\n        }).getOr('');\n      };\n    };\n    var FontInfo = {\n      getFontSize: getFontProp('font-size'),\n      getFontFamily: compose(normalizeFontFamily, getFontProp('font-family')),\n      toPt: toPt\n    };\n\n    var findFirstCaretElement = function (editor) {\n      return CaretFinder.firstPositionIn(editor.getBody()).map(function (caret) {\n        var container = caret.container();\n        return NodeType.isText(container) ? container.parentNode : container;\n      });\n    };\n    var isRangeAtStartOfNode = function (rng, root) {\n      return rng.startContainer === root && rng.startOffset === 0;\n    };\n    var getCaretElement = function (editor) {\n      return Option.from(editor.selection.getRng()).bind(function (rng) {\n        var root = editor.getBody();\n        return isRangeAtStartOfNode(rng, root) ? Option.none() : Option.from(editor.selection.getStart(true));\n      });\n    };\n    var fromFontSizeNumber = function (editor, value) {\n      if (/^[0-9\\.]+$/.test(value)) {\n        var fontSizeNumber = parseInt(value, 10);\n        if (fontSizeNumber >= 1 && fontSizeNumber <= 7) {\n          var fontSizes = Settings.getFontStyleValues(editor);\n          var fontClasses = Settings.getFontSizeClasses(editor);\n          if (fontClasses) {\n            return fontClasses[fontSizeNumber - 1] || value;\n          } else {\n            return fontSizes[fontSizeNumber - 1] || value;\n          }\n        } else {\n          return value;\n        }\n      } else {\n        return value;\n      }\n    };\n    var fontNameAction = function (editor, value) {\n      editor.formatter.toggle('fontname', { value: fromFontSizeNumber(editor, value) });\n      editor.nodeChanged();\n    };\n    var fontNameQuery = function (editor) {\n      return getCaretElement(editor).fold(function () {\n        return findFirstCaretElement(editor).map(function (caretElement) {\n          return FontInfo.getFontFamily(editor.getBody(), caretElement);\n        }).getOr('');\n      }, function (caretElement) {\n        return FontInfo.getFontFamily(editor.getBody(), caretElement);\n      });\n    };\n    var fontSizeAction = function (editor, value) {\n      editor.formatter.toggle('fontsize', { value: fromFontSizeNumber(editor, value) });\n      editor.nodeChanged();\n    };\n    var fontSizeQuery = function (editor) {\n      return getCaretElement(editor).fold(function () {\n        return findFirstCaretElement(editor).map(function (caretElement) {\n          return FontInfo.getFontSize(editor.getBody(), caretElement);\n        }).getOr('');\n      }, function (caretElement) {\n        return FontInfo.getFontSize(editor.getBody(), caretElement);\n      });\n    };\n\n    var isEq$3 = function (rng1, rng2) {\n      return rng1 && rng2 && (rng1.startContainer === rng2.startContainer && rng1.startOffset === rng2.startOffset) && (rng1.endContainer === rng2.endContainer && rng1.endOffset === rng2.endOffset);\n    };\n    var RangeCompare = { isEq: isEq$3 };\n\n    var findParent = function (node, rootNode, predicate) {\n      while (node && node !== rootNode) {\n        if (predicate(node)) {\n          return node;\n        }\n        node = node.parentNode;\n      }\n      return null;\n    };\n    var hasParent = function (node, rootNode, predicate) {\n      return findParent(node, rootNode, predicate) !== null;\n    };\n    var hasParentWithName = function (node, rootNode, name) {\n      return hasParent(node, rootNode, function (node) {\n        return node.nodeName === name;\n      });\n    };\n    var isTable$2 = function (node) {\n      return node && node.nodeName === 'TABLE';\n    };\n    var isTableCell$3 = function (node) {\n      return node && /^(TD|TH|CAPTION)$/.test(node.nodeName);\n    };\n    var isCeFalseCaretContainer = function (node, rootNode) {\n      return isCaretContainer(node) && hasParent(node, rootNode, isCaretNode) === false;\n    };\n    var hasBrBeforeAfter = function (dom, node, left) {\n      var walker = new TreeWalker(node, dom.getParent(node.parentNode, dom.isBlock) || dom.getRoot());\n      while (node = walker[left ? 'prev' : 'next']()) {\n        if (NodeType.isBr(node)) {\n          return true;\n        }\n      }\n    };\n    var isPrevNode = function (node, name) {\n      return node.previousSibling && node.previousSibling.nodeName === name;\n    };\n    var hasContentEditableFalseParent = function (body, node) {\n      while (node && node !== body) {\n        if (NodeType.isContentEditableFalse(node)) {\n          return true;\n        }\n        node = node.parentNode;\n      }\n      return false;\n    };\n    var findTextNodeRelative = function (dom, isAfterNode, collapsed, left, startNode) {\n      var walker, lastInlineElement, parentBlockContainer;\n      var body = dom.getRoot();\n      var node;\n      var nonEmptyElementsMap = dom.schema.getNonEmptyElements();\n      parentBlockContainer = dom.getParent(startNode.parentNode, dom.isBlock) || body;\n      if (left && NodeType.isBr(startNode) && isAfterNode && dom.isEmpty(parentBlockContainer)) {\n        return Option.some(CaretPosition(startNode.parentNode, dom.nodeIndex(startNode)));\n      }\n      walker = new TreeWalker(startNode, parentBlockContainer);\n      while (node = walker[left ? 'prev' : 'next']()) {\n        if (dom.getContentEditableParent(node) === 'false' || isCeFalseCaretContainer(node, body)) {\n          return Option.none();\n        }\n        if (NodeType.isText(node) && node.nodeValue.length > 0) {\n          if (hasParentWithName(node, body, 'A') === false) {\n            return Option.some(CaretPosition(node, left ? node.nodeValue.length : 0));\n          }\n          return Option.none();\n        }\n        if (dom.isBlock(node) || nonEmptyElementsMap[node.nodeName.toLowerCase()]) {\n          return Option.none();\n        }\n        lastInlineElement = node;\n      }\n      if (collapsed && lastInlineElement) {\n        return Option.some(CaretPosition(lastInlineElement, 0));\n      }\n      return Option.none();\n    };\n    var normalizeEndPoint = function (dom, collapsed, start, rng) {\n      var container, offset, walker;\n      var body = dom.getRoot();\n      var node, nonEmptyElementsMap;\n      var directionLeft, isAfterNode, normalized = false;\n      container = rng[(start ? 'start' : 'end') + 'Container'];\n      offset = rng[(start ? 'start' : 'end') + 'Offset'];\n      isAfterNode = NodeType.isElement(container) && offset === container.childNodes.length;\n      nonEmptyElementsMap = dom.schema.getNonEmptyElements();\n      directionLeft = start;\n      if (isCaretContainer(container)) {\n        return Option.none();\n      }\n      if (NodeType.isElement(container) && offset > container.childNodes.length - 1) {\n        directionLeft = false;\n      }\n      if (NodeType.isDocument(container)) {\n        container = body;\n        offset = 0;\n      }\n      if (container === body) {\n        if (directionLeft) {\n          node = container.childNodes[offset > 0 ? offset - 1 : 0];\n          if (node) {\n            if (isCaretContainer(node)) {\n              return Option.none();\n            }\n            if (nonEmptyElementsMap[node.nodeName] || isTable$2(node)) {\n              return Option.none();\n            }\n          }\n        }\n        if (container.hasChildNodes()) {\n          offset = Math.min(!directionLeft && offset > 0 ? offset - 1 : offset, container.childNodes.length - 1);\n          container = container.childNodes[offset];\n          offset = NodeType.isText(container) && isAfterNode ? container.data.length : 0;\n          if (!collapsed && container === body.lastChild && isTable$2(container)) {\n            return Option.none();\n          }\n          if (hasContentEditableFalseParent(body, container) || isCaretContainer(container)) {\n            return Option.none();\n          }\n          if (container.hasChildNodes() && isTable$2(container) === false) {\n            node = container;\n            walker = new TreeWalker(container, body);\n            do {\n              if (NodeType.isContentEditableFalse(node) || isCaretContainer(node)) {\n                normalized = false;\n                break;\n              }\n              if (NodeType.isText(node) && node.nodeValue.length > 0) {\n                offset = directionLeft ? 0 : node.nodeValue.length;\n                container = node;\n                normalized = true;\n                break;\n              }\n              if (nonEmptyElementsMap[node.nodeName.toLowerCase()] && !isTableCell$3(node)) {\n                offset = dom.nodeIndex(node);\n                container = node.parentNode;\n                if (!directionLeft) {\n                  offset++;\n                }\n                normalized = true;\n                break;\n              }\n            } while (node = directionLeft ? walker.next() : walker.prev());\n          }\n        }\n      }\n      if (collapsed) {\n        if (NodeType.isText(container) && offset === 0) {\n          findTextNodeRelative(dom, isAfterNode, collapsed, true, container).each(function (pos) {\n            container = pos.container();\n            offset = pos.offset();\n            normalized = true;\n          });\n        }\n        if (NodeType.isElement(container)) {\n          node = container.childNodes[offset];\n          if (!node) {\n            node = container.childNodes[offset - 1];\n          }\n          if (node && NodeType.isBr(node) && !isPrevNode(node, 'A') && !hasBrBeforeAfter(dom, node, false) && !hasBrBeforeAfter(dom, node, true)) {\n            findTextNodeRelative(dom, isAfterNode, collapsed, true, node).each(function (pos) {\n              container = pos.container();\n              offset = pos.offset();\n              normalized = true;\n            });\n          }\n        }\n      }\n      if (directionLeft && !collapsed && NodeType.isText(container) && offset === container.nodeValue.length) {\n        findTextNodeRelative(dom, isAfterNode, collapsed, false, container).each(function (pos) {\n          container = pos.container();\n          offset = pos.offset();\n          normalized = true;\n        });\n      }\n      return normalized ? Option.some(CaretPosition(container, offset)) : Option.none();\n    };\n    var normalize$2 = function (dom, rng) {\n      var collapsed = rng.collapsed, normRng = rng.cloneRange();\n      var startPos = CaretPosition.fromRangeStart(rng);\n      normalizeEndPoint(dom, collapsed, true, normRng).each(function (pos) {\n        if (!collapsed || !CaretPosition.isAbove(startPos, pos)) {\n          normRng.setStart(pos.container(), pos.offset());\n        }\n      });\n      if (!collapsed) {\n        normalizeEndPoint(dom, collapsed, false, normRng).each(function (pos) {\n          normRng.setEnd(pos.container(), pos.offset());\n        });\n      }\n      if (collapsed) {\n        normRng.collapse(true);\n      }\n      return RangeCompare.isEq(rng, normRng) ? Option.none() : Option.some(normRng);\n    };\n    var NormalizeRange = { normalize: normalize$2 };\n\n    var hasRightSideContent = function (schema, container, parentBlock) {\n      var walker = new TreeWalker(container, parentBlock);\n      var node;\n      var nonEmptyElementsMap = schema.getNonEmptyElements();\n      while (node = walker.next()) {\n        if (nonEmptyElementsMap[node.nodeName.toLowerCase()] || node.length > 0) {\n          return true;\n        }\n      }\n    };\n    var scrollToBr = function (dom, selection, brElm) {\n      var marker = dom.create('span', {}, '&nbsp;');\n      brElm.parentNode.insertBefore(marker, brElm);\n      selection.scrollIntoView(marker);\n      dom.remove(marker);\n    };\n    var moveSelectionToBr = function (dom, selection, brElm, extraBr) {\n      var rng = dom.createRng();\n      if (!extraBr) {\n        rng.setStartAfter(brElm);\n        rng.setEndAfter(brElm);\n      } else {\n        rng.setStartBefore(brElm);\n        rng.setEndBefore(brElm);\n      }\n      selection.setRng(rng);\n    };\n    var insertBrAtCaret = function (editor, evt) {\n      var selection = editor.selection;\n      var dom = editor.dom;\n      var rng = selection.getRng();\n      var brElm;\n      var extraBr;\n      NormalizeRange.normalize(dom, rng).each(function (normRng) {\n        rng.setStart(normRng.startContainer, normRng.startOffset);\n        rng.setEnd(normRng.endContainer, normRng.endOffset);\n      });\n      var offset = rng.startOffset;\n      var container = rng.startContainer;\n      if (container.nodeType === 1 && container.hasChildNodes()) {\n        var isAfterLastNodeInContainer = offset > container.childNodes.length - 1;\n        container = container.childNodes[Math.min(offset, container.childNodes.length - 1)] || container;\n        if (isAfterLastNodeInContainer && container.nodeType === 3) {\n          offset = container.nodeValue.length;\n        } else {\n          offset = 0;\n        }\n      }\n      var parentBlock = dom.getParent(container, dom.isBlock);\n      var containerBlock = parentBlock ? dom.getParent(parentBlock.parentNode, dom.isBlock) : null;\n      var containerBlockName = containerBlock ? containerBlock.nodeName.toUpperCase() : '';\n      var isControlKey = evt && evt.ctrlKey;\n      if (containerBlockName === 'LI' && !isControlKey) {\n        parentBlock = containerBlock;\n      }\n      if (container && container.nodeType === 3 && offset >= container.nodeValue.length) {\n        if (!hasRightSideContent(editor.schema, container, parentBlock)) {\n          brElm = dom.create('br');\n          rng.insertNode(brElm);\n          rng.setStartAfter(brElm);\n          rng.setEndAfter(brElm);\n          extraBr = true;\n        }\n      }\n      brElm = dom.create('br');\n      rangeInsertNode(dom, rng, brElm);\n      scrollToBr(dom, selection, brElm);\n      moveSelectionToBr(dom, selection, brElm, extraBr);\n      editor.undoManager.add();\n    };\n    var insertBrBefore = function (editor, inline) {\n      var br = Element.fromTag('br');\n      before(Element.fromDom(inline), br);\n      editor.undoManager.add();\n    };\n    var insertBrAfter = function (editor, inline) {\n      if (!hasBrAfter(editor.getBody(), inline)) {\n        after(Element.fromDom(inline), Element.fromTag('br'));\n      }\n      var br = Element.fromTag('br');\n      after(Element.fromDom(inline), br);\n      scrollToBr(editor.dom, editor.selection, br.dom());\n      moveSelectionToBr(editor.dom, editor.selection, br.dom(), false);\n      editor.undoManager.add();\n    };\n    var isBeforeBr$1 = function (pos) {\n      return NodeType.isBr(pos.getNode());\n    };\n    var hasBrAfter = function (rootNode, startNode) {\n      if (isBeforeBr$1(CaretPosition$1.after(startNode))) {\n        return true;\n      } else {\n        return CaretFinder.nextPosition(rootNode, CaretPosition$1.after(startNode)).map(function (pos) {\n          return NodeType.isBr(pos.getNode());\n        }).getOr(false);\n      }\n    };\n    var isAnchorLink = function (elm) {\n      return elm && elm.nodeName === 'A' && 'href' in elm;\n    };\n    var isInsideAnchor = function (location) {\n      return location.fold(constant(false), isAnchorLink, isAnchorLink, constant(false));\n    };\n    var readInlineAnchorLocation = function (editor) {\n      var isInlineTarget = curry(InlineUtils.isInlineTarget, editor);\n      var position = CaretPosition$1.fromRangeStart(editor.selection.getRng());\n      return BoundaryLocation.readLocation(isInlineTarget, editor.getBody(), position).filter(isInsideAnchor);\n    };\n    var insertBrOutsideAnchor = function (editor, location) {\n      location.fold(noop, curry(insertBrBefore, editor), curry(insertBrAfter, editor), noop);\n    };\n    var insert = function (editor, evt) {\n      var anchorLocation = readInlineAnchorLocation(editor);\n      if (anchorLocation.isSome()) {\n        anchorLocation.each(curry(insertBrOutsideAnchor, editor));\n      } else {\n        insertBrAtCaret(editor, evt);\n      }\n    };\n    var InsertBr = { insert: insert };\n\n    var create$3 = Immutable('start', 'soffset', 'finish', 'foffset');\n    var SimRange = { create: create$3 };\n\n    var adt = Adt.generate([\n      { before: ['element'] },\n      {\n        on: [\n          'element',\n          'offset'\n        ]\n      },\n      { after: ['element'] }\n    ]);\n    var cata = function (subject, onBefore, onOn, onAfter) {\n      return subject.fold(onBefore, onOn, onAfter);\n    };\n    var getStart = function (situ) {\n      return situ.fold(identity, identity, identity);\n    };\n    var before$4 = adt.before;\n    var on = adt.on;\n    var after$3 = adt.after;\n    var Situ = {\n      before: before$4,\n      on: on,\n      after: after$3,\n      cata: cata,\n      getStart: getStart\n    };\n\n    var adt$1 = Adt.generate([\n      { domRange: ['rng'] },\n      {\n        relative: [\n          'startSitu',\n          'finishSitu'\n        ]\n      },\n      {\n        exact: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      }\n    ]);\n    var exactFromRange = function (simRange) {\n      return adt$1.exact(simRange.start(), simRange.soffset(), simRange.finish(), simRange.foffset());\n    };\n    var getStart$1 = function (selection) {\n      return selection.match({\n        domRange: function (rng) {\n          return Element.fromDom(rng.startContainer);\n        },\n        relative: function (startSitu, finishSitu) {\n          return Situ.getStart(startSitu);\n        },\n        exact: function (start, soffset, finish, foffset) {\n          return start;\n        }\n      });\n    };\n    var domRange = adt$1.domRange;\n    var relative = adt$1.relative;\n    var exact = adt$1.exact;\n    var getWin = function (selection) {\n      var start = getStart$1(selection);\n      return defaultView(start);\n    };\n    var range = SimRange.create;\n    var Selection = {\n      domRange: domRange,\n      relative: relative,\n      exact: exact,\n      exactFromRange: exactFromRange,\n      getWin: getWin,\n      range: range\n    };\n\n    var browser$3 = PlatformDetection$1.detect().browser;\n    var clamp = function (offset, element) {\n      var max = isText(element) ? get$4(element).length : children(element).length + 1;\n      if (offset > max) {\n        return max;\n      } else if (offset < 0) {\n        return 0;\n      }\n      return offset;\n    };\n    var normalizeRng = function (rng) {\n      return Selection.range(rng.start(), clamp(rng.soffset(), rng.start()), rng.finish(), clamp(rng.foffset(), rng.finish()));\n    };\n    var isOrContains = function (root, elm) {\n      return !NodeType.isRestrictedNode(elm.dom()) && (contains$3(root, elm) || eq(root, elm));\n    };\n    var isRngInRoot = function (root) {\n      return function (rng) {\n        return isOrContains(root, rng.start()) && isOrContains(root, rng.finish());\n      };\n    };\n    var shouldStore = function (editor) {\n      return editor.inline === true || browser$3.isIE();\n    };\n    var nativeRangeToSelectionRange = function (r) {\n      return Selection.range(Element.fromDom(r.startContainer), r.startOffset, Element.fromDom(r.endContainer), r.endOffset);\n    };\n    var readRange = function (win) {\n      var selection = win.getSelection();\n      var rng = !selection || selection.rangeCount === 0 ? Option.none() : Option.from(selection.getRangeAt(0));\n      return rng.map(nativeRangeToSelectionRange);\n    };\n    var getBookmark$2 = function (root) {\n      var win = defaultView(root);\n      return readRange(win.dom()).filter(isRngInRoot(root));\n    };\n    var validate = function (root, bookmark) {\n      return Option.from(bookmark).filter(isRngInRoot(root)).map(normalizeRng);\n    };\n    var bookmarkToNativeRng = function (bookmark) {\n      var rng = domGlobals.document.createRange();\n      try {\n        rng.setStart(bookmark.start().dom(), bookmark.soffset());\n        rng.setEnd(bookmark.finish().dom(), bookmark.foffset());\n        return Option.some(rng);\n      } catch (_) {\n        return Option.none();\n      }\n    };\n    var store = function (editor) {\n      var newBookmark = shouldStore(editor) ? getBookmark$2(Element.fromDom(editor.getBody())) : Option.none();\n      editor.bookmark = newBookmark.isSome() ? newBookmark : editor.bookmark;\n    };\n    var storeNative = function (editor, rng) {\n      var root = Element.fromDom(editor.getBody());\n      var range = shouldStore(editor) ? Option.from(rng) : Option.none();\n      var newBookmark = range.map(nativeRangeToSelectionRange).filter(isRngInRoot(root));\n      editor.bookmark = newBookmark.isSome() ? newBookmark : editor.bookmark;\n    };\n    var getRng = function (editor) {\n      var bookmark = editor.bookmark ? editor.bookmark : Option.none();\n      return bookmark.bind(curry(validate, Element.fromDom(editor.getBody()))).bind(bookmarkToNativeRng);\n    };\n    var restore = function (editor) {\n      getRng(editor).each(function (rng) {\n        editor.selection.setRng(rng);\n      });\n    };\n    var SelectionBookmark = {\n      store: store,\n      storeNative: storeNative,\n      readRange: readRange,\n      restore: restore,\n      getRng: getRng,\n      getBookmark: getBookmark$2,\n      validate: validate\n    };\n\n    var indentElement = function (dom, command, useMargin, value, unit, element) {\n      if (dom.getContentEditable(element) === 'false') {\n        return;\n      }\n      var indentStyleName = useMargin ? 'margin' : 'padding';\n      indentStyleName = element.nodeName === 'TABLE' ? 'margin' : indentStyleName;\n      indentStyleName += dom.getStyle(element, 'direction', true) === 'rtl' ? 'Right' : 'Left';\n      if (command === 'outdent') {\n        var styleValue = Math.max(0, parseInt(element.style[indentStyleName] || 0, 10) - value);\n        dom.setStyle(element, indentStyleName, styleValue ? styleValue + unit : '');\n      } else {\n        var styleValue = parseInt(element.style[indentStyleName] || 0, 10) + value + unit;\n        dom.setStyle(element, indentStyleName, styleValue);\n      }\n    };\n    var isListComponent = function (el) {\n      return isList(el) || isListItem(el);\n    };\n    var parentIsListComponent = function (el) {\n      return parent(el).map(isListComponent).getOr(false);\n    };\n    var getBlocksToIndent = function (editor) {\n      return filter(map(editor.selection.getSelectedBlocks(), Element.fromDom), function (el) {\n        return !isListComponent(el) && !parentIsListComponent(el);\n      });\n    };\n    var handle = function (editor, command) {\n      var settings = editor.settings, dom = editor.dom, selection = editor.selection, formatter = editor.formatter;\n      var indentUnit = /[a-z%]+$/i.exec(settings.indentation)[0];\n      var indentValue = parseInt(settings.indentation, 10);\n      var useMargin = editor.getParam('indent_use_margin', false);\n      if (!editor.queryCommandState('InsertUnorderedList') && !editor.queryCommandState('InsertOrderedList')) {\n        if (!settings.forced_root_block && !dom.getParent(selection.getNode(), dom.isBlock)) {\n          formatter.apply('div');\n        }\n      }\n      each(getBlocksToIndent(editor), function (block) {\n        indentElement(dom, command, useMargin, indentValue, indentUnit, block.dom());\n      });\n    };\n\n    var each$a = Tools.each, extend$2 = Tools.extend;\n    var map$3 = Tools.map, inArray$2 = Tools.inArray;\n    function EditorCommands (editor) {\n      var dom, selection, formatter;\n      var commands = {\n        state: {},\n        exec: {},\n        value: {}\n      };\n      var settings = editor.settings, bookmark;\n      editor.on('PreInit', function () {\n        dom = editor.dom;\n        selection = editor.selection;\n        settings = editor.settings;\n        formatter = editor.formatter;\n      });\n      var execCommand = function (command, ui, value, args) {\n        var func, customCommand, state = false;\n        if (editor.removed) {\n          return;\n        }\n        if (!/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(command) && (!args || !args.skip_focus)) {\n          editor.focus();\n        } else {\n          SelectionBookmark.restore(editor);\n        }\n        args = editor.fire('BeforeExecCommand', {\n          command: command,\n          ui: ui,\n          value: value\n        });\n        if (args.isDefaultPrevented()) {\n          return false;\n        }\n        customCommand = command.toLowerCase();\n        if (func = commands.exec[customCommand]) {\n          func(customCommand, ui, value);\n          editor.fire('ExecCommand', {\n            command: command,\n            ui: ui,\n            value: value\n          });\n          return true;\n        }\n        each$a(editor.plugins, function (p) {\n          if (p.execCommand && p.execCommand(command, ui, value)) {\n            editor.fire('ExecCommand', {\n              command: command,\n              ui: ui,\n              value: value\n            });\n            state = true;\n            return false;\n          }\n        });\n        if (state) {\n          return state;\n        }\n        if (editor.theme && editor.theme.execCommand && editor.theme.execCommand(command, ui, value)) {\n          editor.fire('ExecCommand', {\n            command: command,\n            ui: ui,\n            value: value\n          });\n          return true;\n        }\n        try {\n          state = editor.getDoc().execCommand(command, ui, value);\n        } catch (ex) {\n        }\n        if (state) {\n          editor.fire('ExecCommand', {\n            command: command,\n            ui: ui,\n            value: value\n          });\n          return true;\n        }\n        return false;\n      };\n      var queryCommandState = function (command) {\n        var func;\n        if (editor.quirks.isHidden() || editor.removed) {\n          return;\n        }\n        command = command.toLowerCase();\n        if (func = commands.state[command]) {\n          return func(command);\n        }\n        try {\n          return editor.getDoc().queryCommandState(command);\n        } catch (ex) {\n        }\n        return false;\n      };\n      var queryCommandValue = function (command) {\n        var func;\n        if (editor.quirks.isHidden() || editor.removed) {\n          return;\n        }\n        command = command.toLowerCase();\n        if (func = commands.value[command]) {\n          return func(command);\n        }\n        try {\n          return editor.getDoc().queryCommandValue(command);\n        } catch (ex) {\n        }\n      };\n      var addCommands = function (commandList, type) {\n        type = type || 'exec';\n        each$a(commandList, function (callback, command) {\n          each$a(command.toLowerCase().split(','), function (command) {\n            commands[type][command] = callback;\n          });\n        });\n      };\n      var addCommand = function (command, callback, scope) {\n        command = command.toLowerCase();\n        commands.exec[command] = function (command, ui, value, args) {\n          return callback.call(scope || editor, ui, value, args);\n        };\n      };\n      var queryCommandSupported = function (command) {\n        command = command.toLowerCase();\n        if (commands.exec[command]) {\n          return true;\n        }\n        try {\n          return editor.getDoc().queryCommandSupported(command);\n        } catch (ex) {\n        }\n        return false;\n      };\n      var addQueryStateHandler = function (command, callback, scope) {\n        command = command.toLowerCase();\n        commands.state[command] = function () {\n          return callback.call(scope || editor);\n        };\n      };\n      var addQueryValueHandler = function (command, callback, scope) {\n        command = command.toLowerCase();\n        commands.value[command] = function () {\n          return callback.call(scope || editor);\n        };\n      };\n      var hasCustomCommand = function (command) {\n        command = command.toLowerCase();\n        return !!commands.exec[command];\n      };\n      extend$2(this, {\n        execCommand: execCommand,\n        queryCommandState: queryCommandState,\n        queryCommandValue: queryCommandValue,\n        queryCommandSupported: queryCommandSupported,\n        addCommands: addCommands,\n        addCommand: addCommand,\n        addQueryStateHandler: addQueryStateHandler,\n        addQueryValueHandler: addQueryValueHandler,\n        hasCustomCommand: hasCustomCommand\n      });\n      var execNativeCommand = function (command, ui, value) {\n        if (ui === undefined) {\n          ui = false;\n        }\n        if (value === undefined) {\n          value = null;\n        }\n        return editor.getDoc().execCommand(command, ui, value);\n      };\n      var isFormatMatch = function (name) {\n        return formatter.match(name);\n      };\n      var toggleFormat = function (name, value) {\n        formatter.toggle(name, value ? { value: value } : undefined);\n        editor.nodeChanged();\n      };\n      var storeSelection = function (type) {\n        bookmark = selection.getBookmark(type);\n      };\n      var restoreSelection = function () {\n        selection.moveToBookmark(bookmark);\n      };\n      addCommands({\n        'mceResetDesignMode,mceBeginUndoLevel': function () {\n        },\n        'mceEndUndoLevel,mceAddUndoLevel': function () {\n          editor.undoManager.add();\n        },\n        'Cut,Copy,Paste': function (command) {\n          var doc = editor.getDoc();\n          var failed;\n          try {\n            execNativeCommand(command);\n          } catch (ex) {\n            failed = true;\n          }\n          if (command === 'paste' && !doc.queryCommandEnabled(command)) {\n            failed = true;\n          }\n          if (failed || !doc.queryCommandSupported(command)) {\n            var msg = editor.translate('Your browser doesn\\'t support direct access to the clipboard. ' + 'Please use the Ctrl+X/C/V keyboard shortcuts instead.');\n            if (Env.mac) {\n              msg = msg.replace(/Ctrl\\+/g, '\\u2318+');\n            }\n            editor.notificationManager.open({\n              text: msg,\n              type: 'error'\n            });\n          }\n        },\n        'unlink': function () {\n          if (selection.isCollapsed()) {\n            var elm = editor.dom.getParent(editor.selection.getStart(), 'a');\n            if (elm) {\n              editor.dom.remove(elm, true);\n            }\n            return;\n          }\n          formatter.remove('link');\n        },\n        'JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone': function (command) {\n          var align = command.substring(7);\n          if (align === 'full') {\n            align = 'justify';\n          }\n          each$a('left,center,right,justify'.split(','), function (name) {\n            if (align !== name) {\n              formatter.remove('align' + name);\n            }\n          });\n          if (align !== 'none') {\n            toggleFormat('align' + align);\n          }\n        },\n        'InsertUnorderedList,InsertOrderedList': function (command) {\n          var listElm, listParent;\n          execNativeCommand(command);\n          listElm = dom.getParent(selection.getNode(), 'ol,ul');\n          if (listElm) {\n            listParent = listElm.parentNode;\n            if (/^(H[1-6]|P|ADDRESS|PRE)$/.test(listParent.nodeName)) {\n              storeSelection();\n              dom.split(listParent, listElm);\n              restoreSelection();\n            }\n          }\n        },\n        'Bold,Italic,Underline,Strikethrough,Superscript,Subscript': function (command) {\n          toggleFormat(command);\n        },\n        'ForeColor,HiliteColor': function (command, ui, value) {\n          toggleFormat(command, value);\n        },\n        'FontName': function (command, ui, value) {\n          fontNameAction(editor, value);\n        },\n        'FontSize': function (command, ui, value) {\n          fontSizeAction(editor, value);\n        },\n        'RemoveFormat': function (command) {\n          formatter.remove(command);\n        },\n        'mceBlockQuote': function () {\n          toggleFormat('blockquote');\n        },\n        'FormatBlock': function (command, ui, value) {\n          return toggleFormat(value || 'p');\n        },\n        'mceCleanup': function () {\n          var bookmark = selection.getBookmark();\n          editor.setContent(editor.getContent());\n          selection.moveToBookmark(bookmark);\n        },\n        'mceRemoveNode': function (command, ui, value) {\n          var node = value || selection.getNode();\n          if (node !== editor.getBody()) {\n            storeSelection();\n            editor.dom.remove(node, true);\n            restoreSelection();\n          }\n        },\n        'mceSelectNodeDepth': function (command, ui, value) {\n          var counter = 0;\n          dom.getParent(selection.getNode(), function (node) {\n            if (node.nodeType === 1 && counter++ === value) {\n              selection.select(node);\n              return false;\n            }\n          }, editor.getBody());\n        },\n        'mceSelectNode': function (command, ui, value) {\n          selection.select(value);\n        },\n        'mceInsertContent': function (command, ui, value) {\n          InsertContent.insertAtCaret(editor, value);\n        },\n        'mceInsertRawHTML': function (command, ui, value) {\n          selection.setContent('tiny_mce_marker');\n          var content = editor.getContent();\n          editor.setContent(content.replace(/tiny_mce_marker/g, function () {\n            return value;\n          }));\n        },\n        'mceToggleFormat': function (command, ui, value) {\n          toggleFormat(value);\n        },\n        'mceSetContent': function (command, ui, value) {\n          editor.setContent(value);\n        },\n        'Indent,Outdent': function (command) {\n          handle(editor, command);\n        },\n        'mceRepaint': function () {\n        },\n        'InsertHorizontalRule': function () {\n          editor.execCommand('mceInsertContent', false, '<hr />');\n        },\n        'mceToggleVisualAid': function () {\n          editor.hasVisual = !editor.hasVisual;\n          editor.addVisual();\n        },\n        'mceReplaceContent': function (command, ui, value) {\n          editor.execCommand('mceInsertContent', false, value.replace(/\\{\\$selection\\}/g, selection.getContent({ format: 'text' })));\n        },\n        'mceInsertLink': function (command, ui, value) {\n          var anchor;\n          if (typeof value === 'string') {\n            value = { href: value };\n          }\n          anchor = dom.getParent(selection.getNode(), 'a');\n          value.href = value.href.replace(' ', '%20');\n          if (!anchor || !value.href) {\n            formatter.remove('link');\n          }\n          if (value.href) {\n            formatter.apply('link', value, anchor);\n          }\n        },\n        'selectAll': function () {\n          var editingHost = dom.getParent(selection.getStart(), NodeType.isContentEditableTrue);\n          if (editingHost) {\n            var rng = dom.createRng();\n            rng.selectNodeContents(editingHost);\n            selection.setRng(rng);\n          }\n        },\n        'delete': function () {\n          DeleteCommands.deleteCommand(editor);\n        },\n        'forwardDelete': function () {\n          DeleteCommands.forwardDeleteCommand(editor);\n        },\n        'mceNewDocument': function () {\n          editor.setContent('');\n        },\n        'InsertLineBreak': function (command, ui, value) {\n          InsertBr.insert(editor, value);\n          return true;\n        }\n      });\n      var alignStates = function (name) {\n        return function () {\n          var nodes = selection.isCollapsed() ? [dom.getParent(selection.getNode(), dom.isBlock)] : selection.getSelectedBlocks();\n          var matches = map$3(nodes, function (node) {\n            return !!formatter.matchNode(node, name);\n          });\n          return inArray$2(matches, true) !== -1;\n        };\n      };\n      addCommands({\n        'JustifyLeft': alignStates('alignleft'),\n        'JustifyCenter': alignStates('aligncenter'),\n        'JustifyRight': alignStates('alignright'),\n        'JustifyFull': alignStates('alignjustify'),\n        'Bold,Italic,Underline,Strikethrough,Superscript,Subscript': function (command) {\n          return isFormatMatch(command);\n        },\n        'mceBlockQuote': function () {\n          return isFormatMatch('blockquote');\n        },\n        'Outdent': function () {\n          var node;\n          if (settings.inline_styles) {\n            if ((node = dom.getParent(selection.getStart(), dom.isBlock)) && parseInt(node.style.paddingLeft, 10) > 0) {\n              return true;\n            }\n            if ((node = dom.getParent(selection.getEnd(), dom.isBlock)) && parseInt(node.style.paddingLeft, 10) > 0) {\n              return true;\n            }\n          }\n          return queryCommandState('InsertUnorderedList') || queryCommandState('InsertOrderedList') || !settings.inline_styles && !!dom.getParent(selection.getNode(), 'BLOCKQUOTE');\n        },\n        'InsertUnorderedList,InsertOrderedList': function (command) {\n          var list = dom.getParent(selection.getNode(), 'ul,ol');\n          return list && (command === 'insertunorderedlist' && list.tagName === 'UL' || command === 'insertorderedlist' && list.tagName === 'OL');\n        }\n      }, 'state');\n      addCommands({\n        Undo: function () {\n          editor.undoManager.undo();\n        },\n        Redo: function () {\n          editor.undoManager.redo();\n        }\n      });\n      addQueryValueHandler('FontName', function () {\n        return fontNameQuery(editor);\n      }, this);\n      addQueryValueHandler('FontSize', function () {\n        return fontSizeQuery(editor);\n      }, this);\n    }\n\n    var nativeEvents = Tools.makeMap('focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange ' + 'mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover ' + 'draggesture dragdrop drop drag submit ' + 'compositionstart compositionend compositionupdate touchstart touchmove touchend', ' ');\n    var Dispatcher = function (settings) {\n      var self = this;\n      var scope, bindings = {}, toggleEvent;\n      var returnFalse = function () {\n        return false;\n      };\n      var returnTrue = function () {\n        return true;\n      };\n      settings = settings || {};\n      scope = settings.scope || self;\n      toggleEvent = settings.toggleEvent || returnFalse;\n      var fire = function (name, args) {\n        var handlers, i, l, callback;\n        name = name.toLowerCase();\n        args = args || {};\n        args.type = name;\n        if (!args.target) {\n          args.target = scope;\n        }\n        if (!args.preventDefault) {\n          args.preventDefault = function () {\n            args.isDefaultPrevented = returnTrue;\n          };\n          args.stopPropagation = function () {\n            args.isPropagationStopped = returnTrue;\n          };\n          args.stopImmediatePropagation = function () {\n            args.isImmediatePropagationStopped = returnTrue;\n          };\n          args.isDefaultPrevented = returnFalse;\n          args.isPropagationStopped = returnFalse;\n          args.isImmediatePropagationStopped = returnFalse;\n        }\n        if (settings.beforeFire) {\n          settings.beforeFire(args);\n        }\n        handlers = bindings[name];\n        if (handlers) {\n          for (i = 0, l = handlers.length; i < l; i++) {\n            callback = handlers[i];\n            if (callback.once) {\n              off(name, callback.func);\n            }\n            if (args.isImmediatePropagationStopped()) {\n              args.stopPropagation();\n              return args;\n            }\n            if (callback.func.call(scope, args) === false) {\n              args.preventDefault();\n              return args;\n            }\n          }\n        }\n        return args;\n      };\n      var on = function (name, callback, prepend, extra) {\n        var handlers, names, i;\n        if (callback === false) {\n          callback = returnFalse;\n        }\n        if (callback) {\n          callback = { func: callback };\n          if (extra) {\n            Tools.extend(callback, extra);\n          }\n          names = name.toLowerCase().split(' ');\n          i = names.length;\n          while (i--) {\n            name = names[i];\n            handlers = bindings[name];\n            if (!handlers) {\n              handlers = bindings[name] = [];\n              toggleEvent(name, true);\n            }\n            if (prepend) {\n              handlers.unshift(callback);\n            } else {\n              handlers.push(callback);\n            }\n          }\n        }\n        return self;\n      };\n      var off = function (name, callback) {\n        var i, handlers, bindingName, names, hi;\n        if (name) {\n          names = name.toLowerCase().split(' ');\n          i = names.length;\n          while (i--) {\n            name = names[i];\n            handlers = bindings[name];\n            if (!name) {\n              for (bindingName in bindings) {\n                toggleEvent(bindingName, false);\n                delete bindings[bindingName];\n              }\n              return self;\n            }\n            if (handlers) {\n              if (!callback) {\n                handlers.length = 0;\n              } else {\n                hi = handlers.length;\n                while (hi--) {\n                  if (handlers[hi].func === callback) {\n                    handlers = handlers.slice(0, hi).concat(handlers.slice(hi + 1));\n                    bindings[name] = handlers;\n                  }\n                }\n              }\n              if (!handlers.length) {\n                toggleEvent(name, false);\n                delete bindings[name];\n              }\n            }\n          }\n        } else {\n          for (name in bindings) {\n            toggleEvent(name, false);\n          }\n          bindings = {};\n        }\n        return self;\n      };\n      var once = function (name, callback, prepend) {\n        return on(name, callback, prepend, { once: true });\n      };\n      var has = function (name) {\n        name = name.toLowerCase();\n        return !(!bindings[name] || bindings[name].length === 0);\n      };\n      self.fire = fire;\n      self.on = on;\n      self.off = off;\n      self.once = once;\n      self.has = has;\n    };\n    Dispatcher.isNative = function (name) {\n      return !!nativeEvents[name.toLowerCase()];\n    };\n\n    var getEventDispatcher = function (obj) {\n      if (!obj._eventDispatcher) {\n        obj._eventDispatcher = new Dispatcher({\n          scope: obj,\n          toggleEvent: function (name, state) {\n            if (Dispatcher.isNative(name) && obj.toggleNativeEvent) {\n              obj.toggleNativeEvent(name, state);\n            }\n          }\n        });\n      }\n      return obj._eventDispatcher;\n    };\n    var Observable = {\n      fire: function (name, args, bubble) {\n        var self = this;\n        if (self.removed && name !== 'remove' && name !== 'detach') {\n          return args;\n        }\n        args = getEventDispatcher(self).fire(name, args, bubble);\n        if (bubble !== false && self.parent) {\n          var parent = self.parent();\n          while (parent && !args.isPropagationStopped()) {\n            parent.fire(name, args, false);\n            parent = parent.parent();\n          }\n        }\n        return args;\n      },\n      on: function (name, callback, prepend) {\n        return getEventDispatcher(this).on(name, callback, prepend);\n      },\n      off: function (name, callback) {\n        return getEventDispatcher(this).off(name, callback);\n      },\n      once: function (name, callback) {\n        return getEventDispatcher(this).once(name, callback);\n      },\n      hasEventListeners: function (name) {\n        return getEventDispatcher(this).has(name);\n      }\n    };\n\n    var firePreProcess = function (editor, args) {\n      return editor.fire('PreProcess', args);\n    };\n    var firePostProcess = function (editor, args) {\n      return editor.fire('PostProcess', args);\n    };\n    var fireRemove = function (editor) {\n      return editor.fire('remove');\n    };\n    var fireDetach = function (editor) {\n      return editor.fire('detach');\n    };\n    var fireSwitchMode = function (editor, mode) {\n      return editor.fire('SwitchMode', { mode: mode });\n    };\n    var fireObjectResizeStart = function (editor, target, width, height) {\n      editor.fire('ObjectResizeStart', {\n        target: target,\n        width: width,\n        height: height\n      });\n    };\n    var fireObjectResized = function (editor, target, width, height) {\n      editor.fire('ObjectResized', {\n        target: target,\n        width: width,\n        height: height\n      });\n    };\n    var Events = {\n      firePreProcess: firePreProcess,\n      firePostProcess: firePostProcess,\n      fireRemove: fireRemove,\n      fireDetach: fireDetach,\n      fireSwitchMode: fireSwitchMode,\n      fireObjectResizeStart: fireObjectResizeStart,\n      fireObjectResized: fireObjectResized\n    };\n\n    var setEditorCommandState = function (editor, cmd, state) {\n      try {\n        editor.getDoc().execCommand(cmd, false, state);\n      } catch (ex) {\n      }\n    };\n    var toggleClass = function (elm, cls, state) {\n      if (has$2(elm, cls) && state === false) {\n        remove$4(elm, cls);\n      } else if (state) {\n        add$2(elm, cls);\n      }\n    };\n    var toggleReadOnly = function (editor, state) {\n      toggleClass(Element.fromDom(editor.getBody()), 'mce-content-readonly', state);\n      if (state) {\n        editor.selection.controlSelection.hideResizeRect();\n        editor.readonly = true;\n        editor.getBody().contentEditable = 'false';\n      } else {\n        editor.readonly = false;\n        editor.getBody().contentEditable = 'true';\n        setEditorCommandState(editor, 'StyleWithCSS', false);\n        setEditorCommandState(editor, 'enableInlineTableEditing', false);\n        setEditorCommandState(editor, 'enableObjectResizing', false);\n        editor.focus();\n        editor.nodeChanged();\n      }\n    };\n    var setMode = function (editor, mode) {\n      if (mode === getMode(editor)) {\n        return;\n      }\n      if (editor.initialized) {\n        toggleReadOnly(editor, mode === 'readonly');\n      } else {\n        editor.on('init', function () {\n          toggleReadOnly(editor, mode === 'readonly');\n        });\n      }\n      Events.fireSwitchMode(editor, mode);\n    };\n    var getMode = function (editor) {\n      return editor.readonly ? 'readonly' : 'design';\n    };\n    var isReadOnly = function (editor) {\n      return editor.readonly === true;\n    };\n\n    var DOM$1 = DOMUtils$1.DOM;\n    var customEventRootDelegates;\n    var getEventTarget = function (editor, eventName) {\n      if (eventName === 'selectionchange') {\n        return editor.getDoc();\n      }\n      if (!editor.inline && /^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(eventName)) {\n        return editor.getDoc().documentElement;\n      }\n      if (editor.settings.event_root) {\n        if (!editor.eventRoot) {\n          editor.eventRoot = DOM$1.select(editor.settings.event_root)[0];\n        }\n        return editor.eventRoot;\n      }\n      return editor.getBody();\n    };\n    var isListening = function (editor) {\n      return !editor.hidden && !editor.readonly;\n    };\n    var fireEvent = function (editor, eventName, e) {\n      if (isListening(editor)) {\n        editor.fire(eventName, e);\n      } else if (isReadOnly(editor)) {\n        e.preventDefault();\n      }\n    };\n    var bindEventDelegate = function (editor, eventName) {\n      var eventRootElm, delegate;\n      if (!editor.delegates) {\n        editor.delegates = {};\n      }\n      if (editor.delegates[eventName] || editor.removed) {\n        return;\n      }\n      eventRootElm = getEventTarget(editor, eventName);\n      if (editor.settings.event_root) {\n        if (!customEventRootDelegates) {\n          customEventRootDelegates = {};\n          editor.editorManager.on('removeEditor', function () {\n            var name;\n            if (!editor.editorManager.activeEditor) {\n              if (customEventRootDelegates) {\n                for (name in customEventRootDelegates) {\n                  editor.dom.unbind(getEventTarget(editor, name));\n                }\n                customEventRootDelegates = null;\n              }\n            }\n          });\n        }\n        if (customEventRootDelegates[eventName]) {\n          return;\n        }\n        delegate = function (e) {\n          var target = e.target;\n          var editors = editor.editorManager.get();\n          var i = editors.length;\n          while (i--) {\n            var body = editors[i].getBody();\n            if (body === target || DOM$1.isChildOf(target, body)) {\n              fireEvent(editors[i], eventName, e);\n            }\n          }\n        };\n        customEventRootDelegates[eventName] = delegate;\n        DOM$1.bind(eventRootElm, eventName, delegate);\n      } else {\n        delegate = function (e) {\n          fireEvent(editor, eventName, e);\n        };\n        DOM$1.bind(eventRootElm, eventName, delegate);\n        editor.delegates[eventName] = delegate;\n      }\n    };\n    var EditorObservable = {\n      bindPendingEventDelegates: function () {\n        var self = this;\n        Tools.each(self._pendingNativeEvents, function (name) {\n          bindEventDelegate(self, name);\n        });\n      },\n      toggleNativeEvent: function (name, state) {\n        var self = this;\n        if (name === 'focus' || name === 'blur') {\n          return;\n        }\n        if (state) {\n          if (self.initialized) {\n            bindEventDelegate(self, name);\n          } else {\n            if (!self._pendingNativeEvents) {\n              self._pendingNativeEvents = [name];\n            } else {\n              self._pendingNativeEvents.push(name);\n            }\n          }\n        } else if (self.initialized) {\n          self.dom.unbind(getEventTarget(self, name), name, self.delegates[name]);\n          delete self.delegates[name];\n        }\n      },\n      unbindAllNativeEvents: function () {\n        var self = this;\n        var body = self.getBody();\n        var dom = self.dom;\n        var name;\n        if (self.delegates) {\n          for (name in self.delegates) {\n            self.dom.unbind(getEventTarget(self, name), name, self.delegates[name]);\n          }\n          delete self.delegates;\n        }\n        if (!self.inline && body && dom) {\n          body.onload = null;\n          dom.unbind(self.getWin());\n          dom.unbind(self.getDoc());\n        }\n        if (dom) {\n          dom.unbind(body);\n          dom.unbind(self.getContainer());\n        }\n      }\n    };\n    EditorObservable = Tools.extend({}, Observable, EditorObservable);\n    var EditorObservable$1 = EditorObservable;\n\n    var sectionResult = Immutable('sections', 'settings');\n    var detection = PlatformDetection$1.detect();\n    var isTouch = detection.deviceType.isTouch();\n    var mobilePlugins = [\n      'lists',\n      'autolink',\n      'autosave'\n    ];\n    var defaultMobileSettings = { theme: 'mobile' };\n    var normalizePlugins = function (plugins) {\n      var pluginNames = isArray(plugins) ? plugins.join(' ') : plugins;\n      var trimmedPlugins = map(isString(pluginNames) ? pluginNames.split(' ') : [], trim$2);\n      return filter(trimmedPlugins, function (item) {\n        return item.length > 0;\n      });\n    };\n    var filterMobilePlugins = function (plugins) {\n      return filter(plugins, curry(contains, mobilePlugins));\n    };\n    var extractSections = function (keys, settings) {\n      var result = bifilter(settings, function (value, key) {\n        return contains(keys, key);\n      });\n      return sectionResult(result.t, result.f);\n    };\n    var getSection = function (sectionResult, name, defaults) {\n      var sections = sectionResult.sections();\n      var sectionSettings = sections.hasOwnProperty(name) ? sections[name] : {};\n      return Tools.extend({}, defaults, sectionSettings);\n    };\n    var hasSection = function (sectionResult, name) {\n      return sectionResult.sections().hasOwnProperty(name);\n    };\n    var getDefaultSettings = function (id, documentBaseUrl, editor) {\n      return {\n        id: id,\n        theme: 'modern',\n        delta_width: 0,\n        delta_height: 0,\n        popup_css: '',\n        plugins: '',\n        document_base_url: documentBaseUrl,\n        add_form_submit_trigger: true,\n        submit_patch: true,\n        add_unload_trigger: true,\n        convert_urls: true,\n        relative_urls: true,\n        remove_script_host: true,\n        object_resizing: true,\n        doctype: '<!DOCTYPE html>',\n        visual: true,\n        font_size_style_values: 'xx-small,x-small,small,medium,large,x-large,xx-large',\n        font_size_legacy_values: 'xx-small,small,medium,large,x-large,xx-large,300%',\n        forced_root_block: 'p',\n        hidden_input: true,\n        render_ui: true,\n        indentation: '40px',\n        inline_styles: true,\n        convert_fonts_to_spans: true,\n        indent: 'simple',\n        indent_before: 'p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,' + 'tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist',\n        indent_after: 'p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,' + 'tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist',\n        entity_encoding: 'named',\n        url_converter: editor.convertURL,\n        url_converter_scope: editor,\n        ie7_compat: true\n      };\n    };\n    var getExternalPlugins = function (overrideSettings, settings) {\n      var userDefinedExternalPlugins = settings.external_plugins ? settings.external_plugins : {};\n      if (overrideSettings && overrideSettings.external_plugins) {\n        return Tools.extend({}, overrideSettings.external_plugins, userDefinedExternalPlugins);\n      } else {\n        return userDefinedExternalPlugins;\n      }\n    };\n    var combinePlugins = function (forcedPlugins, plugins) {\n      return [].concat(normalizePlugins(forcedPlugins)).concat(normalizePlugins(plugins));\n    };\n    var processPlugins = function (isTouchDevice, sectionResult, defaultOverrideSettings, settings) {\n      var forcedPlugins = normalizePlugins(defaultOverrideSettings.forced_plugins);\n      var plugins = normalizePlugins(settings.plugins);\n      var platformPlugins = isTouchDevice && hasSection(sectionResult, 'mobile') ? filterMobilePlugins(plugins) : plugins;\n      var combinedPlugins = combinePlugins(forcedPlugins, platformPlugins);\n      return Tools.extend(settings, { plugins: combinedPlugins.join(' ') });\n    };\n    var isOnMobile = function (isTouchDevice, sectionResult) {\n      var isInline = sectionResult.settings().inline;\n      return isTouchDevice && hasSection(sectionResult, 'mobile') && !isInline;\n    };\n    var combineSettings = function (isTouchDevice, defaultSettings, defaultOverrideSettings, settings) {\n      var sectionResult = extractSections(['mobile'], settings);\n      var extendedSettings = Tools.extend(defaultSettings, defaultOverrideSettings, sectionResult.settings(), isOnMobile(isTouchDevice, sectionResult) ? getSection(sectionResult, 'mobile', defaultMobileSettings) : {}, {\n        validate: true,\n        content_editable: sectionResult.settings().inline,\n        external_plugins: getExternalPlugins(defaultOverrideSettings, sectionResult.settings())\n      });\n      return processPlugins(isTouchDevice, sectionResult, defaultOverrideSettings, extendedSettings);\n    };\n    var getEditorSettings = function (editor, id, documentBaseUrl, defaultOverrideSettings, settings) {\n      var defaultSettings = getDefaultSettings(id, documentBaseUrl, editor);\n      return combineSettings(isTouch, defaultSettings, defaultOverrideSettings, settings);\n    };\n    var getFiltered = function (predicate, editor, name) {\n      return Option.from(editor.settings[name]).filter(predicate);\n    };\n    var getParamObject = function (value) {\n      var output = {};\n      if (typeof value === 'string') {\n        each(value.indexOf('=') > 0 ? value.split(/[;,](?![^=;,]*(?:[;,]|$))/) : value.split(','), function (val) {\n          var arr = val.split('=');\n          if (arr.length > 1) {\n            output[Tools.trim(arr[0])] = Tools.trim(arr[1]);\n          } else {\n            output[Tools.trim(arr[0])] = Tools.trim(arr);\n          }\n        });\n      } else {\n        output = value;\n      }\n      return output;\n    };\n    var isArrayOf = function (p) {\n      return function (a) {\n        return isArray(a) && forall(a, p);\n      };\n    };\n    var getParam = function (editor, name, defaultVal, type) {\n      var value = name in editor.settings ? editor.settings[name] : defaultVal;\n      if (type === 'hash') {\n        return getParamObject(value);\n      } else if (type === 'string') {\n        return getFiltered(isString, editor, name).getOr(defaultVal);\n      } else if (type === 'number') {\n        return getFiltered(isNumber, editor, name).getOr(defaultVal);\n      } else if (type === 'boolean') {\n        return getFiltered(isBoolean, editor, name).getOr(defaultVal);\n      } else if (type === 'object') {\n        return getFiltered(isObject, editor, name).getOr(defaultVal);\n      } else if (type === 'array') {\n        return getFiltered(isArray, editor, name).getOr(defaultVal);\n      } else if (type === 'string[]') {\n        return getFiltered(isArrayOf(isString), editor, name).getOr(defaultVal);\n      } else if (type === 'function') {\n        return getFiltered(isFunction, editor, name).getOr(defaultVal);\n      } else {\n        return value;\n      }\n    };\n\n    var each$b = Tools.each, explode$2 = Tools.explode;\n    var keyCodeLookup = {\n      f1: 112,\n      f2: 113,\n      f3: 114,\n      f4: 115,\n      f5: 116,\n      f6: 117,\n      f7: 118,\n      f8: 119,\n      f9: 120,\n      f10: 121,\n      f11: 122,\n      f12: 123\n    };\n    var modifierNames = Tools.makeMap('alt,ctrl,shift,meta,access');\n    function Shortcuts (editor) {\n      var self = this;\n      var shortcuts = {};\n      var pendingPatterns = [];\n      var parseShortcut = function (pattern) {\n        var id, key;\n        var shortcut = {};\n        each$b(explode$2(pattern, '+'), function (value) {\n          if (value in modifierNames) {\n            shortcut[value] = true;\n          } else {\n            if (/^[0-9]{2,}$/.test(value)) {\n              shortcut.keyCode = parseInt(value, 10);\n            } else {\n              shortcut.charCode = value.charCodeAt(0);\n              shortcut.keyCode = keyCodeLookup[value] || value.toUpperCase().charCodeAt(0);\n            }\n          }\n        });\n        id = [shortcut.keyCode];\n        for (key in modifierNames) {\n          if (shortcut[key]) {\n            id.push(key);\n          } else {\n            shortcut[key] = false;\n          }\n        }\n        shortcut.id = id.join(',');\n        if (shortcut.access) {\n          shortcut.alt = true;\n          if (Env.mac) {\n            shortcut.ctrl = true;\n          } else {\n            shortcut.shift = true;\n          }\n        }\n        if (shortcut.meta) {\n          if (Env.mac) {\n            shortcut.meta = true;\n          } else {\n            shortcut.ctrl = true;\n            shortcut.meta = false;\n          }\n        }\n        return shortcut;\n      };\n      var createShortcut = function (pattern, desc, cmdFunc, scope) {\n        var shortcuts;\n        shortcuts = Tools.map(explode$2(pattern, '>'), parseShortcut);\n        shortcuts[shortcuts.length - 1] = Tools.extend(shortcuts[shortcuts.length - 1], {\n          func: cmdFunc,\n          scope: scope || editor\n        });\n        return Tools.extend(shortcuts[0], {\n          desc: editor.translate(desc),\n          subpatterns: shortcuts.slice(1)\n        });\n      };\n      var hasModifier = function (e) {\n        return e.altKey || e.ctrlKey || e.metaKey;\n      };\n      var isFunctionKey = function (e) {\n        return e.type === 'keydown' && e.keyCode >= 112 && e.keyCode <= 123;\n      };\n      var matchShortcut = function (e, shortcut) {\n        if (!shortcut) {\n          return false;\n        }\n        if (shortcut.ctrl !== e.ctrlKey || shortcut.meta !== e.metaKey) {\n          return false;\n        }\n        if (shortcut.alt !== e.altKey || shortcut.shift !== e.shiftKey) {\n          return false;\n        }\n        if (e.keyCode === shortcut.keyCode || e.charCode && e.charCode === shortcut.charCode) {\n          e.preventDefault();\n          return true;\n        }\n        return false;\n      };\n      var executeShortcutAction = function (shortcut) {\n        return shortcut.func ? shortcut.func.call(shortcut.scope) : null;\n      };\n      editor.on('keyup keypress keydown', function (e) {\n        if ((hasModifier(e) || isFunctionKey(e)) && !e.isDefaultPrevented()) {\n          each$b(shortcuts, function (shortcut) {\n            if (matchShortcut(e, shortcut)) {\n              pendingPatterns = shortcut.subpatterns.slice(0);\n              if (e.type === 'keydown') {\n                executeShortcutAction(shortcut);\n              }\n              return true;\n            }\n          });\n          if (matchShortcut(e, pendingPatterns[0])) {\n            if (pendingPatterns.length === 1) {\n              if (e.type === 'keydown') {\n                executeShortcutAction(pendingPatterns[0]);\n              }\n            }\n            pendingPatterns.shift();\n          }\n        }\n      });\n      self.add = function (pattern, desc, cmdFunc, scope) {\n        var cmd;\n        cmd = cmdFunc;\n        if (typeof cmdFunc === 'string') {\n          cmdFunc = function () {\n            editor.execCommand(cmd, false, null);\n          };\n        } else if (Tools.isArray(cmd)) {\n          cmdFunc = function () {\n            editor.execCommand(cmd[0], cmd[1], cmd[2]);\n          };\n        }\n        each$b(explode$2(Tools.trim(pattern.toLowerCase())), function (pattern) {\n          var shortcut = createShortcut(pattern, desc, cmdFunc, scope);\n          shortcuts[shortcut.id] = shortcut;\n        });\n        return true;\n      };\n      self.remove = function (pattern) {\n        var shortcut = createShortcut(pattern);\n        if (shortcuts[shortcut.id]) {\n          delete shortcuts[shortcut.id];\n          return true;\n        }\n        return false;\n      };\n    }\n\n    var hasFocus = function (element) {\n      var doc = owner(element).dom();\n      return element.dom() === doc.activeElement;\n    };\n    var active = function (_doc) {\n      var doc = _doc !== undefined ? _doc.dom() : domGlobals.document;\n      return Option.from(doc.activeElement).map(Element.fromDom);\n    };\n    var search = function (element) {\n      return active(owner(element)).filter(function (e) {\n        return element.dom().contains(e.dom());\n      });\n    };\n\n    var getContentEditableHost = function (editor, node) {\n      return editor.dom.getParent(node, function (node) {\n        return editor.dom.getContentEditable(node) === 'true';\n      });\n    };\n    var getCollapsedNode = function (rng) {\n      return rng.collapsed ? Option.from(getNode(rng.startContainer, rng.startOffset)).map(Element.fromDom) : Option.none();\n    };\n    var getFocusInElement = function (root, rng) {\n      return getCollapsedNode(rng).bind(function (node) {\n        if (isTableSection(node)) {\n          return Option.some(node);\n        } else if (contains$3(root, node) === false) {\n          return Option.some(root);\n        } else {\n          return Option.none();\n        }\n      });\n    };\n    var normalizeSelection = function (editor, rng) {\n      getFocusInElement(Element.fromDom(editor.getBody()), rng).bind(function (elm) {\n        return CaretFinder.firstPositionIn(elm.dom());\n      }).fold(function () {\n        editor.selection.normalize();\n        return;\n      }, function (caretPos) {\n        return editor.selection.setRng(caretPos.toRange());\n      });\n    };\n    var focusBody = function (body) {\n      if (body.setActive) {\n        try {\n          body.setActive();\n        } catch (ex) {\n          body.focus();\n        }\n      } else {\n        body.focus();\n      }\n    };\n    var hasElementFocus = function (elm) {\n      return hasFocus(elm) || search(elm).isSome();\n    };\n    var hasIframeFocus = function (editor) {\n      return editor.iframeElement && hasFocus(Element.fromDom(editor.iframeElement));\n    };\n    var hasInlineFocus = function (editor) {\n      var rawBody = editor.getBody();\n      return rawBody && hasElementFocus(Element.fromDom(rawBody));\n    };\n    var hasFocus$1 = function (editor) {\n      return editor.inline ? hasInlineFocus(editor) : hasIframeFocus(editor);\n    };\n    var focusEditor = function (editor) {\n      var selection = editor.selection, contentEditable = editor.settings.content_editable;\n      var body = editor.getBody();\n      var rng = selection.getRng();\n      editor.quirks.refreshContentEditable();\n      var contentEditableHost = getContentEditableHost(editor, selection.getNode());\n      if (editor.$.contains(body, contentEditableHost)) {\n        focusBody(contentEditableHost);\n        normalizeSelection(editor, rng);\n        activateEditor(editor);\n        return;\n      }\n      if (editor.bookmark !== undefined && hasFocus$1(editor) === false) {\n        SelectionBookmark.getRng(editor).each(function (bookmarkRng) {\n          editor.selection.setRng(bookmarkRng);\n          rng = bookmarkRng;\n        });\n      }\n      if (!contentEditable) {\n        if (!Env.opera) {\n          focusBody(body);\n        }\n        editor.getWin().focus();\n      }\n      if (Env.gecko || contentEditable) {\n        focusBody(body);\n        normalizeSelection(editor, rng);\n      }\n      activateEditor(editor);\n    };\n    var activateEditor = function (editor) {\n      return editor.editorManager.setActive(editor);\n    };\n    var focus = function (editor, skipFocus) {\n      if (editor.removed) {\n        return;\n      }\n      skipFocus ? activateEditor(editor) : focusEditor(editor);\n    };\n    var EditorFocus = {\n      focus: focus,\n      hasFocus: hasFocus$1\n    };\n\n    var getProp = function (propName, elm) {\n      var rawElm = elm.dom();\n      return rawElm[propName];\n    };\n    var getComputedSizeProp = function (propName, elm) {\n      return parseInt(get$1(elm, propName), 10);\n    };\n    var getClientWidth = curry(getProp, 'clientWidth');\n    var getClientHeight = curry(getProp, 'clientHeight');\n    var getMarginTop = curry(getComputedSizeProp, 'margin-top');\n    var getMarginLeft = curry(getComputedSizeProp, 'margin-left');\n    var getBoundingClientRect$1 = function (elm) {\n      return elm.dom().getBoundingClientRect();\n    };\n    var isInsideElementContentArea = function (bodyElm, clientX, clientY) {\n      var clientWidth = getClientWidth(bodyElm);\n      var clientHeight = getClientHeight(bodyElm);\n      return clientX >= 0 && clientY >= 0 && clientX <= clientWidth && clientY <= clientHeight;\n    };\n    var transpose = function (inline, elm, clientX, clientY) {\n      var clientRect = getBoundingClientRect$1(elm);\n      var deltaX = inline ? clientRect.left + elm.dom().clientLeft + getMarginLeft(elm) : 0;\n      var deltaY = inline ? clientRect.top + elm.dom().clientTop + getMarginTop(elm) : 0;\n      var x = clientX - deltaX;\n      var y = clientY - deltaY;\n      return {\n        x: x,\n        y: y\n      };\n    };\n    var isXYInContentArea = function (editor, clientX, clientY) {\n      var bodyElm = Element.fromDom(editor.getBody());\n      var targetElm = editor.inline ? bodyElm : documentElement(bodyElm);\n      var transposedPoint = transpose(editor.inline, targetElm, clientX, clientY);\n      return isInsideElementContentArea(targetElm, transposedPoint.x, transposedPoint.y);\n    };\n    var fromDomSafe = function (node) {\n      return Option.from(node).map(Element.fromDom);\n    };\n    var isEditorAttachedToDom = function (editor) {\n      var rawContainer = editor.inline ? editor.getBody() : editor.getContentAreaContainer();\n      return fromDomSafe(rawContainer).map(function (container) {\n        return contains$3(owner(container), container);\n      }).getOr(false);\n    };\n    var EditorView = {\n      isXYInContentArea: isXYInContentArea,\n      isEditorAttachedToDom: isEditorAttachedToDom\n    };\n\n    function NotificationManagerImpl () {\n      var unimplemented = function () {\n        throw new Error('Theme did not provide a NotificationManager implementation.');\n      };\n      return {\n        open: unimplemented,\n        close: unimplemented,\n        reposition: unimplemented,\n        getArgs: unimplemented\n      };\n    }\n\n    function NotificationManager (editor) {\n      var notifications = [];\n      var getImplementation = function () {\n        var theme = editor.theme;\n        return theme && theme.getNotificationManagerImpl ? theme.getNotificationManagerImpl() : NotificationManagerImpl();\n      };\n      var getTopNotification = function () {\n        return Option.from(notifications[0]);\n      };\n      var isEqual = function (a, b) {\n        return a.type === b.type && a.text === b.text && !a.progressBar && !a.timeout && !b.progressBar && !b.timeout;\n      };\n      var reposition = function () {\n        if (notifications.length > 0) {\n          getImplementation().reposition(notifications);\n        }\n      };\n      var addNotification = function (notification) {\n        notifications.push(notification);\n      };\n      var closeNotification = function (notification) {\n        findIndex(notifications, function (otherNotification) {\n          return otherNotification === notification;\n        }).each(function (index) {\n          notifications.splice(index, 1);\n        });\n      };\n      var open = function (args) {\n        if (editor.removed || !EditorView.isEditorAttachedToDom(editor)) {\n          return;\n        }\n        return find(notifications, function (notification) {\n          return isEqual(getImplementation().getArgs(notification), args);\n        }).getOrThunk(function () {\n          editor.editorManager.setActive(editor);\n          var notification = getImplementation().open(args, function () {\n            closeNotification(notification);\n            reposition();\n          });\n          addNotification(notification);\n          reposition();\n          return notification;\n        });\n      };\n      var close = function () {\n        getTopNotification().each(function (notification) {\n          getImplementation().close(notification);\n          closeNotification(notification);\n          reposition();\n        });\n      };\n      var getNotifications = function () {\n        return notifications;\n      };\n      var registerEvents = function (editor) {\n        editor.on('SkinLoaded', function () {\n          var serviceMessage = editor.settings.service_message;\n          if (serviceMessage) {\n            open({\n              text: serviceMessage,\n              type: 'warning',\n              timeout: 0,\n              icon: ''\n            });\n          }\n        });\n        editor.on('ResizeEditor ResizeWindow', function () {\n          Delay.requestAnimationFrame(reposition);\n        });\n        editor.on('remove', function () {\n          each(notifications.slice(), function (notification) {\n            getImplementation().close(notification);\n          });\n        });\n      };\n      registerEvents(editor);\n      return {\n        open: open,\n        close: close,\n        getNotifications: getNotifications\n      };\n    }\n\n    function WindowManagerImpl () {\n      var unimplemented = function () {\n        throw new Error('Theme did not provide a WindowManager implementation.');\n      };\n      return {\n        open: unimplemented,\n        alert: unimplemented,\n        confirm: unimplemented,\n        close: unimplemented,\n        getParams: unimplemented,\n        setParams: unimplemented\n      };\n    }\n\n    function WindowManager (editor) {\n      var windows = [];\n      var getImplementation = function () {\n        var theme = editor.theme;\n        return theme && theme.getWindowManagerImpl ? theme.getWindowManagerImpl() : WindowManagerImpl();\n      };\n      var funcBind = function (scope, f) {\n        return function () {\n          return f ? f.apply(scope, arguments) : undefined;\n        };\n      };\n      var fireOpenEvent = function (win) {\n        editor.fire('OpenWindow', { win: win });\n      };\n      var fireCloseEvent = function (win) {\n        editor.fire('CloseWindow', { win: win });\n      };\n      var addWindow = function (win) {\n        windows.push(win);\n        fireOpenEvent(win);\n      };\n      var closeWindow = function (win) {\n        findIndex(windows, function (otherWindow) {\n          return otherWindow === win;\n        }).each(function (index) {\n          windows.splice(index, 1);\n          fireCloseEvent(win);\n          if (windows.length === 0) {\n            editor.focus();\n          }\n        });\n      };\n      var getTopWindow = function () {\n        return Option.from(windows[windows.length - 1]);\n      };\n      var open = function (args, params) {\n        editor.editorManager.setActive(editor);\n        SelectionBookmark.store(editor);\n        var win = getImplementation().open(args, params, closeWindow);\n        addWindow(win);\n        return win;\n      };\n      var alert = function (message, callback, scope) {\n        var win = getImplementation().alert(message, funcBind(scope ? scope : this, callback), closeWindow);\n        addWindow(win);\n      };\n      var confirm = function (message, callback, scope) {\n        var win = getImplementation().confirm(message, funcBind(scope ? scope : this, callback), closeWindow);\n        addWindow(win);\n      };\n      var close = function () {\n        getTopWindow().each(function (win) {\n          getImplementation().close(win);\n          closeWindow(win);\n        });\n      };\n      var getParams = function () {\n        return getTopWindow().map(getImplementation().getParams).getOr(null);\n      };\n      var setParams = function (params) {\n        getTopWindow().each(function (win) {\n          getImplementation().setParams(win, params);\n        });\n      };\n      var getWindows = function () {\n        return windows;\n      };\n      editor.on('remove', function () {\n        each(windows.slice(0), function (win) {\n          getImplementation().close(win);\n        });\n      });\n      return {\n        windows: windows,\n        open: open,\n        alert: alert,\n        confirm: confirm,\n        close: close,\n        getParams: getParams,\n        setParams: setParams,\n        getWindows: getWindows\n      };\n    }\n\n    var data = {};\n    var code = 'en';\n    var I18n = {\n      setCode: function (newCode) {\n        if (newCode) {\n          code = newCode;\n          this.rtl = this.data[newCode] ? this.data[newCode]._dir === 'rtl' : false;\n        }\n      },\n      getCode: function () {\n        return code;\n      },\n      rtl: false,\n      add: function (code, items) {\n        var langData = data[code];\n        if (!langData) {\n          data[code] = langData = {};\n        }\n        for (var name in items) {\n          langData[name] = items[name];\n        }\n        this.setCode(code);\n      },\n      translate: function (text) {\n        var langData = data[code] || {};\n        var toString = function (obj) {\n          if (Tools.is(obj, 'function')) {\n            return Object.prototype.toString.call(obj);\n          }\n          return !isEmpty(obj) ? '' + obj : '';\n        };\n        var isEmpty = function (text) {\n          return text === '' || text === null || Tools.is(text, 'undefined');\n        };\n        var getLangData = function (text) {\n          text = toString(text);\n          return Tools.hasOwn(langData, text) ? toString(langData[text]) : text;\n        };\n        if (isEmpty(text)) {\n          return '';\n        }\n        if (Tools.is(text, 'object') && Tools.hasOwn(text, 'raw')) {\n          return toString(text.raw);\n        }\n        if (Tools.is(text, 'array')) {\n          var values_1 = text.slice(1);\n          text = getLangData(text[0]).replace(/\\{([0-9]+)\\}/g, function ($1, $2) {\n            return Tools.hasOwn(values_1, $2) ? toString(values_1[$2]) : $1;\n          });\n        }\n        return getLangData(text).replace(/{context:\\w+}$/, '');\n      },\n      data: data\n    };\n\n    var PluginManager = AddOnManager.PluginManager;\n    var resolvePluginName = function (targetUrl, suffix) {\n      for (var name in PluginManager.urls) {\n        var matchUrl = PluginManager.urls[name] + '/plugin' + suffix + '.js';\n        if (matchUrl === targetUrl) {\n          return name;\n        }\n      }\n      return null;\n    };\n    var pluginUrlToMessage = function (editor, url) {\n      var plugin = resolvePluginName(url, editor.suffix);\n      return plugin ? I18n.translate([\n        'Failed to load plugin: {0} from url {1}',\n        plugin,\n        url\n      ]) : I18n.translate([\n        'Failed to load plugin url: {0}',\n        url\n      ]);\n    };\n    var displayNotification = function (editor, message) {\n      editor.notificationManager.open({\n        type: 'error',\n        text: message\n      });\n    };\n    var displayError = function (editor, message) {\n      if (editor._skinLoaded) {\n        displayNotification(editor, message);\n      } else {\n        editor.on('SkinLoaded', function () {\n          displayNotification(editor, message);\n        });\n      }\n    };\n    var uploadError = function (editor, message) {\n      displayError(editor, I18n.translate([\n        'Failed to upload image: {0}',\n        message\n      ]));\n    };\n    var pluginLoadError = function (editor, url) {\n      displayError(editor, pluginUrlToMessage(editor, url));\n    };\n    var pluginInitError = function (editor, name, err) {\n      var message = I18n.translate([\n        'Failed to initialize plugin: {0}',\n        name\n      ]);\n      initError(message, err);\n      displayError(editor, message);\n    };\n    var initError = function (message) {\n      var x = [];\n      for (var _i = 1; _i < arguments.length; _i++) {\n        x[_i - 1] = arguments[_i];\n      }\n      var console = domGlobals.window.console;\n      if (console) {\n        if (console.error) {\n          console.error.apply(console, arguments);\n        } else {\n          console.log.apply(console, arguments);\n        }\n      }\n    };\n    var ErrorReporter = {\n      pluginLoadError: pluginLoadError,\n      pluginInitError: pluginInitError,\n      uploadError: uploadError,\n      displayError: displayError,\n      initError: initError\n    };\n\n    var PluginManager$1 = AddOnManager.PluginManager;\n\n    var ThemeManager = AddOnManager.ThemeManager;\n\n    function XMLHttpRequest () {\n      var f = Global$1.getOrDie('XMLHttpRequest');\n      return new f();\n    }\n\n    function Uploader (uploadStatus, settings) {\n      var pendingPromises = {};\n      var pathJoin = function (path1, path2) {\n        if (path1) {\n          return path1.replace(/\\/$/, '') + '/' + path2.replace(/^\\//, '');\n        }\n        return path2;\n      };\n      var defaultHandler = function (blobInfo, success, failure, progress) {\n        var xhr, formData;\n        xhr = XMLHttpRequest();\n        xhr.open('POST', settings.url);\n        xhr.withCredentials = settings.credentials;\n        xhr.upload.onprogress = function (e) {\n          progress(e.loaded / e.total * 100);\n        };\n        xhr.onerror = function () {\n          failure('Image upload failed due to a XHR Transport error. Code: ' + xhr.status);\n        };\n        xhr.onload = function () {\n          var json;\n          if (xhr.status < 200 || xhr.status >= 300) {\n            failure('HTTP Error: ' + xhr.status);\n            return;\n          }\n          json = JSON.parse(xhr.responseText);\n          if (!json || typeof json.location !== 'string') {\n            failure('Invalid JSON: ' + xhr.responseText);\n            return;\n          }\n          success(pathJoin(settings.basePath, json.location));\n        };\n        formData = new domGlobals.FormData();\n        formData.append('file', blobInfo.blob(), blobInfo.filename());\n        xhr.send(formData);\n      };\n      var noUpload = function () {\n        return new promiseObj(function (resolve) {\n          resolve([]);\n        });\n      };\n      var handlerSuccess = function (blobInfo, url) {\n        return {\n          url: url,\n          blobInfo: blobInfo,\n          status: true\n        };\n      };\n      var handlerFailure = function (blobInfo, error) {\n        return {\n          url: '',\n          blobInfo: blobInfo,\n          status: false,\n          error: error\n        };\n      };\n      var resolvePending = function (blobUri, result) {\n        Tools.each(pendingPromises[blobUri], function (resolve) {\n          resolve(result);\n        });\n        delete pendingPromises[blobUri];\n      };\n      var uploadBlobInfo = function (blobInfo, handler, openNotification) {\n        uploadStatus.markPending(blobInfo.blobUri());\n        return new promiseObj(function (resolve) {\n          var notification, progress;\n          var noop = function () {\n          };\n          try {\n            var closeNotification_1 = function () {\n              if (notification) {\n                notification.close();\n                progress = noop;\n              }\n            };\n            var success = function (url) {\n              closeNotification_1();\n              uploadStatus.markUploaded(blobInfo.blobUri(), url);\n              resolvePending(blobInfo.blobUri(), handlerSuccess(blobInfo, url));\n              resolve(handlerSuccess(blobInfo, url));\n            };\n            var failure = function (error) {\n              closeNotification_1();\n              uploadStatus.removeFailed(blobInfo.blobUri());\n              resolvePending(blobInfo.blobUri(), handlerFailure(blobInfo, error));\n              resolve(handlerFailure(blobInfo, error));\n            };\n            progress = function (percent) {\n              if (percent < 0 || percent > 100) {\n                return;\n              }\n              if (!notification) {\n                notification = openNotification();\n              }\n              notification.progressBar.value(percent);\n            };\n            handler(blobInfo, success, failure, progress);\n          } catch (ex) {\n            resolve(handlerFailure(blobInfo, ex.message));\n          }\n        });\n      };\n      var isDefaultHandler = function (handler) {\n        return handler === defaultHandler;\n      };\n      var pendingUploadBlobInfo = function (blobInfo) {\n        var blobUri = blobInfo.blobUri();\n        return new promiseObj(function (resolve) {\n          pendingPromises[blobUri] = pendingPromises[blobUri] || [];\n          pendingPromises[blobUri].push(resolve);\n        });\n      };\n      var uploadBlobs = function (blobInfos, openNotification) {\n        blobInfos = Tools.grep(blobInfos, function (blobInfo) {\n          return !uploadStatus.isUploaded(blobInfo.blobUri());\n        });\n        return promiseObj.all(Tools.map(blobInfos, function (blobInfo) {\n          return uploadStatus.isPending(blobInfo.blobUri()) ? pendingUploadBlobInfo(blobInfo) : uploadBlobInfo(blobInfo, settings.handler, openNotification);\n        }));\n      };\n      var upload = function (blobInfos, openNotification) {\n        return !settings.url && isDefaultHandler(settings.handler) ? noUpload() : uploadBlobs(blobInfos, openNotification);\n      };\n      if (isFunction(settings.handler) === false) {\n        settings.handler = defaultHandler;\n      }\n      return { upload: upload };\n    }\n\n    function FileReader () {\n      var f = Global$1.getOrDie('FileReader');\n      return new f();\n    }\n\n    function Uint8Array (arr) {\n      var f = Global$1.getOrDie('Uint8Array');\n      return new f(arr);\n    }\n\n    var requestAnimationFrame$1 = function (callback) {\n      var f = Global$1.getOrDie('requestAnimationFrame');\n      f(callback);\n    };\n    var atob = function (base64) {\n      var f = Global$1.getOrDie('atob');\n      return f(base64);\n    };\n    var Window = {\n      atob: atob,\n      requestAnimationFrame: requestAnimationFrame$1\n    };\n\n    var blobUriToBlob = function (url) {\n      return new promiseObj(function (resolve, reject) {\n        var rejectWithError = function () {\n          reject('Cannot convert ' + url + ' to Blob. Resource might not exist or is inaccessible.');\n        };\n        try {\n          var xhr = XMLHttpRequest();\n          xhr.open('GET', url, true);\n          xhr.responseType = 'blob';\n          xhr.onload = function () {\n            if (this.status === 200) {\n              resolve(this.response);\n            } else {\n              rejectWithError();\n            }\n          };\n          xhr.onerror = rejectWithError;\n          xhr.send();\n        } catch (ex) {\n          rejectWithError();\n        }\n      });\n    };\n    var parseDataUri = function (uri) {\n      var type, matches;\n      var uriParts = decodeURIComponent(uri).split(',');\n      matches = /data:([^;]+)/.exec(uriParts[0]);\n      if (matches) {\n        type = matches[1];\n      }\n      return {\n        type: type,\n        data: uriParts[1]\n      };\n    };\n    var dataUriToBlob = function (uri) {\n      return new promiseObj(function (resolve) {\n        var str, arr, i;\n        var uriParts = parseDataUri(uri);\n        try {\n          str = Window.atob(uriParts.data);\n        } catch (e) {\n          resolve(new domGlobals.Blob([]));\n          return;\n        }\n        arr = Uint8Array(str.length);\n        for (i = 0; i < arr.length; i++) {\n          arr[i] = str.charCodeAt(i);\n        }\n        resolve(new domGlobals.Blob([arr], { type: uriParts.type }));\n      });\n    };\n    var uriToBlob = function (url) {\n      if (url.indexOf('blob:') === 0) {\n        return blobUriToBlob(url);\n      }\n      if (url.indexOf('data:') === 0) {\n        return dataUriToBlob(url);\n      }\n      return null;\n    };\n    var blobToDataUri = function (blob) {\n      return new promiseObj(function (resolve) {\n        var reader = FileReader();\n        reader.onloadend = function () {\n          resolve(reader.result);\n        };\n        reader.readAsDataURL(blob);\n      });\n    };\n    var Conversions = {\n      uriToBlob: uriToBlob,\n      blobToDataUri: blobToDataUri,\n      parseDataUri: parseDataUri\n    };\n\n    var count = 0;\n    var uniqueId = function (prefix) {\n      return (prefix || 'blobid') + count++;\n    };\n    var imageToBlobInfo = function (blobCache, img, resolve, reject) {\n      var base64, blobInfo;\n      if (img.src.indexOf('blob:') === 0) {\n        blobInfo = blobCache.getByUri(img.src);\n        if (blobInfo) {\n          resolve({\n            image: img,\n            blobInfo: blobInfo\n          });\n        } else {\n          Conversions.uriToBlob(img.src).then(function (blob) {\n            Conversions.blobToDataUri(blob).then(function (dataUri) {\n              base64 = Conversions.parseDataUri(dataUri).data;\n              blobInfo = blobCache.create(uniqueId(), blob, base64);\n              blobCache.add(blobInfo);\n              resolve({\n                image: img,\n                blobInfo: blobInfo\n              });\n            });\n          }, function (err) {\n            reject(err);\n          });\n        }\n        return;\n      }\n      base64 = Conversions.parseDataUri(img.src).data;\n      blobInfo = blobCache.findFirst(function (cachedBlobInfo) {\n        return cachedBlobInfo.base64() === base64;\n      });\n      if (blobInfo) {\n        resolve({\n          image: img,\n          blobInfo: blobInfo\n        });\n      } else {\n        Conversions.uriToBlob(img.src).then(function (blob) {\n          blobInfo = blobCache.create(uniqueId(), blob, base64);\n          blobCache.add(blobInfo);\n          resolve({\n            image: img,\n            blobInfo: blobInfo\n          });\n        }, function (err) {\n          reject(err);\n        });\n      }\n    };\n    var getAllImages = function (elm) {\n      return elm ? from$1(elm.getElementsByTagName('img')) : [];\n    };\n    function ImageScanner (uploadStatus, blobCache) {\n      var cachedPromises = {};\n      var findAll = function (elm, predicate) {\n        var images;\n        if (!predicate) {\n          predicate = constant(true);\n        }\n        images = filter(getAllImages(elm), function (img) {\n          var src = img.src;\n          if (!Env.fileApi) {\n            return false;\n          }\n          if (img.hasAttribute('data-mce-bogus')) {\n            return false;\n          }\n          if (img.hasAttribute('data-mce-placeholder')) {\n            return false;\n          }\n          if (!src || src === Env.transparentSrc) {\n            return false;\n          }\n          if (src.indexOf('blob:') === 0) {\n            return !uploadStatus.isUploaded(src) && predicate(img);\n          }\n          if (src.indexOf('data:') === 0) {\n            return predicate(img);\n          }\n          return false;\n        });\n        var promises = map(images, function (img) {\n          if (cachedPromises[img.src]) {\n            return new promiseObj(function (resolve) {\n              cachedPromises[img.src].then(function (imageInfo) {\n                if (typeof imageInfo === 'string') {\n                  return imageInfo;\n                }\n                resolve({\n                  image: img,\n                  blobInfo: imageInfo.blobInfo\n                });\n              });\n            });\n          }\n          var newPromise = new promiseObj(function (resolve, reject) {\n            imageToBlobInfo(blobCache, img, resolve, reject);\n          }).then(function (result) {\n            delete cachedPromises[result.image.src];\n            return result;\n          }).catch(function (error) {\n            delete cachedPromises[img.src];\n            return error;\n          });\n          cachedPromises[img.src] = newPromise;\n          return newPromise;\n        });\n        return promiseObj.all(promises);\n      };\n      return { findAll: findAll };\n    }\n\n    var count$1 = 0;\n    var seed = function () {\n      var rnd = function () {\n        return Math.round(Math.random() * 4294967295).toString(36);\n      };\n      var now = new Date().getTime();\n      return 's' + now.toString(36) + rnd() + rnd() + rnd();\n    };\n    var uuid = function (prefix) {\n      return prefix + count$1++ + seed();\n    };\n    var Uuid = { uuid: uuid };\n\n    function BlobCache () {\n      var cache = [];\n      var mimeToExt = function (mime) {\n        var mimes = {\n          'image/jpeg': 'jpg',\n          'image/jpg': 'jpg',\n          'image/gif': 'gif',\n          'image/png': 'png'\n        };\n        return mimes[mime.toLowerCase()] || 'dat';\n      };\n      var create = function (o, blob, base64, filename) {\n        if (isString(o)) {\n          var id = o;\n          return toBlobInfo({\n            id: id,\n            name: filename,\n            blob: blob,\n            base64: base64\n          });\n        } else if (isObject(o)) {\n          return toBlobInfo(o);\n        } else {\n          throw new Error('Unknown input type');\n        }\n      };\n      var toBlobInfo = function (o) {\n        var id, name;\n        if (!o.blob || !o.base64) {\n          throw new Error('blob and base64 representations of the image are required for BlobInfo to be created');\n        }\n        id = o.id || Uuid.uuid('blobid');\n        name = o.name || id;\n        return {\n          id: constant(id),\n          name: constant(name),\n          filename: constant(name + '.' + mimeToExt(o.blob.type)),\n          blob: constant(o.blob),\n          base64: constant(o.base64),\n          blobUri: constant(o.blobUri || URL.createObjectURL(o.blob)),\n          uri: constant(o.uri)\n        };\n      };\n      var add = function (blobInfo) {\n        if (!get(blobInfo.id())) {\n          cache.push(blobInfo);\n        }\n      };\n      var get = function (id) {\n        return findFirst(function (cachedBlobInfo) {\n          return cachedBlobInfo.id() === id;\n        });\n      };\n      var findFirst = function (predicate) {\n        return filter(cache, predicate)[0];\n      };\n      var getByUri = function (blobUri) {\n        return findFirst(function (blobInfo) {\n          return blobInfo.blobUri() === blobUri;\n        });\n      };\n      var removeByUri = function (blobUri) {\n        cache = filter(cache, function (blobInfo) {\n          if (blobInfo.blobUri() === blobUri) {\n            URL.revokeObjectURL(blobInfo.blobUri());\n            return false;\n          }\n          return true;\n        });\n      };\n      var destroy = function () {\n        each(cache, function (cachedBlobInfo) {\n          URL.revokeObjectURL(cachedBlobInfo.blobUri());\n        });\n        cache = [];\n      };\n      return {\n        create: create,\n        add: add,\n        get: get,\n        getByUri: getByUri,\n        findFirst: findFirst,\n        removeByUri: removeByUri,\n        destroy: destroy\n      };\n    }\n\n    function UploadStatus () {\n      var PENDING = 1, UPLOADED = 2;\n      var blobUriStatuses = {};\n      var createStatus = function (status, resultUri) {\n        return {\n          status: status,\n          resultUri: resultUri\n        };\n      };\n      var hasBlobUri = function (blobUri) {\n        return blobUri in blobUriStatuses;\n      };\n      var getResultUri = function (blobUri) {\n        var result = blobUriStatuses[blobUri];\n        return result ? result.resultUri : null;\n      };\n      var isPending = function (blobUri) {\n        return hasBlobUri(blobUri) ? blobUriStatuses[blobUri].status === PENDING : false;\n      };\n      var isUploaded = function (blobUri) {\n        return hasBlobUri(blobUri) ? blobUriStatuses[blobUri].status === UPLOADED : false;\n      };\n      var markPending = function (blobUri) {\n        blobUriStatuses[blobUri] = createStatus(PENDING, null);\n      };\n      var markUploaded = function (blobUri, resultUri) {\n        blobUriStatuses[blobUri] = createStatus(UPLOADED, resultUri);\n      };\n      var removeFailed = function (blobUri) {\n        delete blobUriStatuses[blobUri];\n      };\n      var destroy = function () {\n        blobUriStatuses = {};\n      };\n      return {\n        hasBlobUri: hasBlobUri,\n        getResultUri: getResultUri,\n        isPending: isPending,\n        isUploaded: isUploaded,\n        markPending: markPending,\n        markUploaded: markUploaded,\n        removeFailed: removeFailed,\n        destroy: destroy\n      };\n    }\n\n    function EditorUpload (editor) {\n      var blobCache = BlobCache();\n      var uploader, imageScanner;\n      var uploadStatus = UploadStatus();\n      var urlFilters = [];\n      var aliveGuard = function (callback) {\n        return function (result) {\n          if (editor.selection) {\n            return callback(result);\n          }\n          return [];\n        };\n      };\n      var cacheInvalidator = function () {\n        return '?' + new Date().getTime();\n      };\n      var replaceString = function (content, search, replace) {\n        var index = 0;\n        do {\n          index = content.indexOf(search, index);\n          if (index !== -1) {\n            content = content.substring(0, index) + replace + content.substr(index + search.length);\n            index += replace.length - search.length + 1;\n          }\n        } while (index !== -1);\n        return content;\n      };\n      var replaceImageUrl = function (content, targetUrl, replacementUrl) {\n        content = replaceString(content, 'src=\"' + targetUrl + '\"', 'src=\"' + replacementUrl + '\"');\n        content = replaceString(content, 'data-mce-src=\"' + targetUrl + '\"', 'data-mce-src=\"' + replacementUrl + '\"');\n        return content;\n      };\n      var replaceUrlInUndoStack = function (targetUrl, replacementUrl) {\n        each(editor.undoManager.data, function (level) {\n          if (level.type === 'fragmented') {\n            level.fragments = map(level.fragments, function (fragment) {\n              return replaceImageUrl(fragment, targetUrl, replacementUrl);\n            });\n          } else {\n            level.content = replaceImageUrl(level.content, targetUrl, replacementUrl);\n          }\n        });\n      };\n      var openNotification = function () {\n        return editor.notificationManager.open({\n          text: editor.translate('Image uploading...'),\n          type: 'info',\n          timeout: -1,\n          progressBar: true\n        });\n      };\n      var replaceImageUri = function (image, resultUri) {\n        blobCache.removeByUri(image.src);\n        replaceUrlInUndoStack(image.src, resultUri);\n        editor.$(image).attr({\n          'src': Settings.shouldReuseFileName(editor) ? resultUri + cacheInvalidator() : resultUri,\n          'data-mce-src': editor.convertURL(resultUri, 'src')\n        });\n      };\n      var uploadImages = function (callback) {\n        if (!uploader) {\n          uploader = Uploader(uploadStatus, {\n            url: Settings.getImageUploadUrl(editor),\n            basePath: Settings.getImageUploadBasePath(editor),\n            credentials: Settings.getImagesUploadCredentials(editor),\n            handler: Settings.getImagesUploadHandler(editor)\n          });\n        }\n        return scanForImages().then(aliveGuard(function (imageInfos) {\n          var blobInfos;\n          blobInfos = map(imageInfos, function (imageInfo) {\n            return imageInfo.blobInfo;\n          });\n          return uploader.upload(blobInfos, openNotification).then(aliveGuard(function (result) {\n            var filteredResult = map(result, function (uploadInfo, index) {\n              var image = imageInfos[index].image;\n              if (uploadInfo.status && Settings.shouldReplaceBlobUris(editor)) {\n                replaceImageUri(image, uploadInfo.url);\n              } else if (uploadInfo.error) {\n                ErrorReporter.uploadError(editor, uploadInfo.error);\n              }\n              return {\n                element: image,\n                status: uploadInfo.status\n              };\n            });\n            if (callback) {\n              callback(filteredResult);\n            }\n            return filteredResult;\n          }));\n        }));\n      };\n      var uploadImagesAuto = function (callback) {\n        if (Settings.isAutomaticUploadsEnabled(editor)) {\n          return uploadImages(callback);\n        }\n      };\n      var isValidDataUriImage = function (imgElm) {\n        if (forall(urlFilters, function (filter) {\n            return filter(imgElm);\n          }) === false) {\n          return false;\n        }\n        if (imgElm.getAttribute('src').indexOf('data:') === 0) {\n          var dataImgFilter = Settings.getImagesDataImgFilter(editor);\n          return dataImgFilter(imgElm);\n        }\n        return true;\n      };\n      var addFilter = function (filter) {\n        urlFilters.push(filter);\n      };\n      var scanForImages = function () {\n        if (!imageScanner) {\n          imageScanner = ImageScanner(uploadStatus, blobCache);\n        }\n        return imageScanner.findAll(editor.getBody(), isValidDataUriImage).then(aliveGuard(function (result) {\n          result = filter(result, function (resultItem) {\n            if (typeof resultItem === 'string') {\n              ErrorReporter.displayError(editor, resultItem);\n              return false;\n            }\n            return true;\n          });\n          each(result, function (resultItem) {\n            replaceUrlInUndoStack(resultItem.image.src, resultItem.blobInfo.blobUri());\n            resultItem.image.src = resultItem.blobInfo.blobUri();\n            resultItem.image.removeAttribute('data-mce-src');\n          });\n          return result;\n        }));\n      };\n      var destroy = function () {\n        blobCache.destroy();\n        uploadStatus.destroy();\n        imageScanner = uploader = null;\n      };\n      var replaceBlobUris = function (content) {\n        return content.replace(/src=\"(blob:[^\"]+)\"/g, function (match, blobUri) {\n          var resultUri = uploadStatus.getResultUri(blobUri);\n          if (resultUri) {\n            return 'src=\"' + resultUri + '\"';\n          }\n          var blobInfo = blobCache.getByUri(blobUri);\n          if (!blobInfo) {\n            blobInfo = foldl(editor.editorManager.get(), function (result, editor) {\n              return result || editor.editorUpload && editor.editorUpload.blobCache.getByUri(blobUri);\n            }, null);\n          }\n          if (blobInfo) {\n            var blob = blobInfo.blob();\n            return 'src=\"data:' + blob.type + ';base64,' + blobInfo.base64() + '\"';\n          }\n          return match;\n        });\n      };\n      editor.on('setContent', function () {\n        if (Settings.isAutomaticUploadsEnabled(editor)) {\n          uploadImagesAuto();\n        } else {\n          scanForImages();\n        }\n      });\n      editor.on('RawSaveContent', function (e) {\n        e.content = replaceBlobUris(e.content);\n      });\n      editor.on('getContent', function (e) {\n        if (e.source_view || e.format === 'raw') {\n          return;\n        }\n        e.content = replaceBlobUris(e.content);\n      });\n      editor.on('PostRender', function () {\n        editor.parser.addNodeFilter('img', function (images) {\n          each(images, function (img) {\n            var src = img.attr('src');\n            if (blobCache.getByUri(src)) {\n              return;\n            }\n            var resultUri = uploadStatus.getResultUri(src);\n            if (resultUri) {\n              img.attr('src', resultUri);\n            }\n          });\n        });\n      });\n      return {\n        blobCache: blobCache,\n        addFilter: addFilter,\n        uploadImages: uploadImages,\n        uploadImagesAuto: uploadImagesAuto,\n        scanForImages: scanForImages,\n        destroy: destroy\n      };\n    }\n\n    var isBlockElement = function (blockElements, node) {\n      return blockElements.hasOwnProperty(node.nodeName);\n    };\n    var isValidTarget = function (blockElements, node) {\n      if (NodeType.isText(node)) {\n        return true;\n      } else if (NodeType.isElement(node)) {\n        return !isBlockElement(blockElements, node) && !Bookmarks.isBookmarkNode(node);\n      } else {\n        return false;\n      }\n    };\n    var hasBlockParent = function (blockElements, root, node) {\n      return exists(Parents.parents(Element.fromDom(node), Element.fromDom(root)), function (elm) {\n        return isBlockElement(blockElements, elm.dom());\n      });\n    };\n    var shouldRemoveTextNode = function (blockElements, node) {\n      if (NodeType.isText(node)) {\n        if (node.nodeValue.length === 0) {\n          return true;\n        } else if (/^\\s+$/.test(node.nodeValue) && (!node.nextSibling || isBlockElement(blockElements, node.nextSibling))) {\n          return true;\n        }\n      }\n      return false;\n    };\n    var addRootBlocks = function (editor) {\n      var settings = editor.settings, dom = editor.dom, selection = editor.selection;\n      var schema = editor.schema, blockElements = schema.getBlockElements();\n      var node = selection.getStart();\n      var rootNode = editor.getBody();\n      var rng;\n      var startContainer, startOffset, endContainer, endOffset, rootBlockNode;\n      var tempNode, wrapped, restoreSelection;\n      var rootNodeName, forcedRootBlock;\n      forcedRootBlock = settings.forced_root_block;\n      if (!node || !NodeType.isElement(node) || !forcedRootBlock) {\n        return;\n      }\n      rootNodeName = rootNode.nodeName.toLowerCase();\n      if (!schema.isValidChild(rootNodeName, forcedRootBlock.toLowerCase()) || hasBlockParent(blockElements, rootNode, node)) {\n        return;\n      }\n      rng = selection.getRng();\n      startContainer = rng.startContainer;\n      startOffset = rng.startOffset;\n      endContainer = rng.endContainer;\n      endOffset = rng.endOffset;\n      restoreSelection = EditorFocus.hasFocus(editor);\n      node = rootNode.firstChild;\n      while (node) {\n        if (isValidTarget(blockElements, node)) {\n          if (shouldRemoveTextNode(blockElements, node)) {\n            tempNode = node;\n            node = node.nextSibling;\n            dom.remove(tempNode);\n            continue;\n          }\n          if (!rootBlockNode) {\n            rootBlockNode = dom.create(forcedRootBlock, editor.settings.forced_root_block_attrs);\n            node.parentNode.insertBefore(rootBlockNode, node);\n            wrapped = true;\n          }\n          tempNode = node;\n          node = node.nextSibling;\n          rootBlockNode.appendChild(tempNode);\n        } else {\n          rootBlockNode = null;\n          node = node.nextSibling;\n        }\n      }\n      if (wrapped && restoreSelection) {\n        rng.setStart(startContainer, startOffset);\n        rng.setEnd(endContainer, endOffset);\n        selection.setRng(rng);\n        editor.nodeChanged();\n      }\n    };\n    var setup$3 = function (editor) {\n      if (editor.settings.forced_root_block) {\n        editor.on('NodeChange', curry(addRootBlocks, editor));\n      }\n    };\n    var ForceBlocks = { setup: setup$3 };\n\n    var getStartNode = function (rng) {\n      var sc = rng.startContainer, so = rng.startOffset;\n      if (NodeType.isText(sc)) {\n        return so === 0 ? Option.some(Element.fromDom(sc)) : Option.none();\n      } else {\n        return Option.from(sc.childNodes[so]).map(Element.fromDom);\n      }\n    };\n    var getEndNode = function (rng) {\n      var ec = rng.endContainer, eo = rng.endOffset;\n      if (NodeType.isText(ec)) {\n        return eo === ec.data.length ? Option.some(Element.fromDom(ec)) : Option.none();\n      } else {\n        return Option.from(ec.childNodes[eo - 1]).map(Element.fromDom);\n      }\n    };\n    var getFirstChildren = function (node) {\n      return firstChild(node).fold(constant([node]), function (child) {\n        return [node].concat(getFirstChildren(child));\n      });\n    };\n    var getLastChildren$1 = function (node) {\n      return lastChild(node).fold(constant([node]), function (child) {\n        if (name(child) === 'br') {\n          return prevSibling(child).map(function (sibling) {\n            return [node].concat(getLastChildren$1(sibling));\n          }).getOr([]);\n        } else {\n          return [node].concat(getLastChildren$1(child));\n        }\n      });\n    };\n    var hasAllContentsSelected = function (elm, rng) {\n      return lift2(getStartNode(rng), getEndNode(rng), function (startNode, endNode) {\n        var start = find(getFirstChildren(elm), curry(eq, startNode));\n        var end = find(getLastChildren$1(elm), curry(eq, endNode));\n        return start.isSome() && end.isSome();\n      }).getOr(false);\n    };\n    var moveEndPoint$1 = function (dom, rng, node, start) {\n      var root = node, walker = new TreeWalker(node, root);\n      var nonEmptyElementsMap = dom.schema.getNonEmptyElements();\n      do {\n        if (node.nodeType === 3 && Tools.trim(node.nodeValue).length !== 0) {\n          if (start) {\n            rng.setStart(node, 0);\n          } else {\n            rng.setEnd(node, node.nodeValue.length);\n          }\n          return;\n        }\n        if (nonEmptyElementsMap[node.nodeName] && !/^(TD|TH)$/.test(node.nodeName)) {\n          if (start) {\n            rng.setStartBefore(node);\n          } else {\n            if (node.nodeName === 'BR') {\n              rng.setEndBefore(node);\n            } else {\n              rng.setEndAfter(node);\n            }\n          }\n          return;\n        }\n        if (Env.ie && Env.ie < 11 && dom.isBlock(node) && dom.isEmpty(node)) {\n          if (start) {\n            rng.setStart(node, 0);\n          } else {\n            rng.setEnd(node, 0);\n          }\n          return;\n        }\n      } while (node = start ? walker.next() : walker.prev());\n      if (root.nodeName === 'BODY') {\n        if (start) {\n          rng.setStart(root, 0);\n        } else {\n          rng.setEnd(root, root.childNodes.length);\n        }\n      }\n    };\n    var hasAnyRanges = function (editor) {\n      var sel = editor.selection.getSel();\n      return sel && sel.rangeCount > 0;\n    };\n\n    function NodeChange (editor) {\n      var lastRng, lastPath = [];\n      var isSameElementPath = function (startElm) {\n        var i, currentPath;\n        currentPath = editor.$(startElm).parentsUntil(editor.getBody()).add(startElm);\n        if (currentPath.length === lastPath.length) {\n          for (i = currentPath.length; i >= 0; i--) {\n            if (currentPath[i] !== lastPath[i]) {\n              break;\n            }\n          }\n          if (i === -1) {\n            lastPath = currentPath;\n            return true;\n          }\n        }\n        lastPath = currentPath;\n        return false;\n      };\n      if (!('onselectionchange' in editor.getDoc())) {\n        editor.on('NodeChange Click MouseUp KeyUp Focus', function (e) {\n          var nativeRng, fakeRng;\n          nativeRng = editor.selection.getRng();\n          fakeRng = {\n            startContainer: nativeRng.startContainer,\n            startOffset: nativeRng.startOffset,\n            endContainer: nativeRng.endContainer,\n            endOffset: nativeRng.endOffset\n          };\n          if (e.type === 'nodechange' || !RangeCompare.isEq(fakeRng, lastRng)) {\n            editor.fire('SelectionChange');\n          }\n          lastRng = fakeRng;\n        });\n      }\n      editor.on('contextmenu', function () {\n        editor.fire('SelectionChange');\n      });\n      editor.on('SelectionChange', function () {\n        var startElm = editor.selection.getStart(true);\n        if (!startElm || !Env.range && editor.selection.isCollapsed()) {\n          return;\n        }\n        if (hasAnyRanges(editor) && !isSameElementPath(startElm) && editor.dom.isChildOf(startElm, editor.getBody())) {\n          editor.nodeChanged({ selectionChange: true });\n        }\n      });\n      editor.on('MouseUp', function (e) {\n        if (!e.isDefaultPrevented() && hasAnyRanges(editor)) {\n          if (editor.selection.getNode().nodeName === 'IMG') {\n            Delay.setEditorTimeout(editor, function () {\n              editor.nodeChanged();\n            });\n          } else {\n            editor.nodeChanged();\n          }\n        }\n      });\n      this.nodeChanged = function (args) {\n        var selection = editor.selection;\n        var node, parents, root;\n        if (editor.initialized && selection && !editor.settings.disable_nodechange && !editor.readonly) {\n          root = editor.getBody();\n          node = selection.getStart(true) || root;\n          if (node.ownerDocument !== editor.getDoc() || !editor.dom.isChildOf(node, root)) {\n            node = root;\n          }\n          parents = [];\n          editor.dom.getParent(node, function (node) {\n            if (node === root) {\n              return true;\n            }\n            parents.push(node);\n          });\n          args = args || {};\n          args.element = node;\n          args.parents = parents;\n          editor.fire('NodeChange', args);\n        }\n      };\n    }\n\n    var VK = {\n      BACKSPACE: 8,\n      DELETE: 46,\n      DOWN: 40,\n      ENTER: 13,\n      LEFT: 37,\n      RIGHT: 39,\n      SPACEBAR: 32,\n      TAB: 9,\n      UP: 38,\n      END: 35,\n      HOME: 36,\n      modifierPressed: function (e) {\n        return e.shiftKey || e.ctrlKey || e.altKey || this.metaKeyPressed(e);\n      },\n      metaKeyPressed: function (e) {\n        return Env.mac ? e.metaKey : e.ctrlKey && !e.altKey;\n      }\n    };\n\n    var getNodeClientRects = function (node) {\n      var toArrayWithNode = function (clientRects) {\n        return map(clientRects, function (clientRect) {\n          clientRect = clone$1(clientRect);\n          clientRect.node = node;\n          return clientRect;\n        });\n      };\n      if (NodeType.isElement(node)) {\n        return toArrayWithNode(node.getClientRects());\n      }\n      if (NodeType.isText(node)) {\n        var rng = node.ownerDocument.createRange();\n        rng.setStart(node, 0);\n        rng.setEnd(node, node.data.length);\n        return toArrayWithNode(rng.getClientRects());\n      }\n    };\n    var getClientRects = function (node) {\n      return foldl(node, function (result, node) {\n        return result.concat(getNodeClientRects(node));\n      }, []);\n    };\n\n    var VDirection;\n    (function (VDirection) {\n      VDirection[VDirection['Up'] = -1] = 'Up';\n      VDirection[VDirection['Down'] = 1] = 'Down';\n    }(VDirection || (VDirection = {})));\n    var findUntil = function (direction, root, predicateFn, node) {\n      while (node = findNode(node, direction, isEditableCaretCandidate, root)) {\n        if (predicateFn(node)) {\n          return;\n        }\n      }\n    };\n    var walkUntil = function (direction, isAboveFn, isBeflowFn, root, predicateFn, caretPosition) {\n      var line = 0, node;\n      var result = [];\n      var targetClientRect;\n      var add = function (node) {\n        var i, clientRect, clientRects;\n        clientRects = getClientRects([node]);\n        if (direction === -1) {\n          clientRects = clientRects.reverse();\n        }\n        for (i = 0; i < clientRects.length; i++) {\n          clientRect = clientRects[i];\n          if (isBeflowFn(clientRect, targetClientRect)) {\n            continue;\n          }\n          if (result.length > 0 && isAboveFn(clientRect, ArrUtils.last(result))) {\n            line++;\n          }\n          clientRect.line = line;\n          if (predicateFn(clientRect)) {\n            return true;\n          }\n          result.push(clientRect);\n        }\n      };\n      targetClientRect = ArrUtils.last(caretPosition.getClientRects());\n      if (!targetClientRect) {\n        return result;\n      }\n      node = caretPosition.getNode();\n      add(node);\n      findUntil(direction, root, add, node);\n      return result;\n    };\n    var aboveLineNumber = function (lineNumber, clientRect) {\n      return clientRect.line > lineNumber;\n    };\n    var isLineNumber = function (lineNumber, clientRect) {\n      return clientRect.line === lineNumber;\n    };\n    var upUntil = curry(walkUntil, VDirection.Up, isAbove, isBelow);\n    var downUntil = curry(walkUntil, VDirection.Down, isBelow, isAbove);\n    var positionsUntil = function (direction, root, predicateFn, node) {\n      var caretWalker = CaretWalker(root);\n      var walkFn, isBelowFn, isAboveFn, caretPosition;\n      var result = [];\n      var line = 0, clientRect, targetClientRect;\n      var getClientRect = function (caretPosition) {\n        if (direction === 1) {\n          return ArrUtils.last(caretPosition.getClientRects());\n        }\n        return ArrUtils.last(caretPosition.getClientRects());\n      };\n      if (direction === 1) {\n        walkFn = caretWalker.next;\n        isBelowFn = isBelow;\n        isAboveFn = isAbove;\n        caretPosition = CaretPosition$1.after(node);\n      } else {\n        walkFn = caretWalker.prev;\n        isBelowFn = isAbove;\n        isAboveFn = isBelow;\n        caretPosition = CaretPosition$1.before(node);\n      }\n      targetClientRect = getClientRect(caretPosition);\n      do {\n        if (!caretPosition.isVisible()) {\n          continue;\n        }\n        clientRect = getClientRect(caretPosition);\n        if (isAboveFn(clientRect, targetClientRect)) {\n          continue;\n        }\n        if (result.length > 0 && isBelowFn(clientRect, ArrUtils.last(result))) {\n          line++;\n        }\n        clientRect = clone$1(clientRect);\n        clientRect.position = caretPosition;\n        clientRect.line = line;\n        if (predicateFn(clientRect)) {\n          return result;\n        }\n        result.push(clientRect);\n      } while (caretPosition = walkFn(caretPosition));\n      return result;\n    };\n    var isAboveLine = function (lineNumber) {\n      return function (clientRect) {\n        return aboveLineNumber(lineNumber, clientRect);\n      };\n    };\n    var isLine = function (lineNumber) {\n      return function (clientRect) {\n        return isLineNumber(lineNumber, clientRect);\n      };\n    };\n\n    var isContentEditableFalse$7 = NodeType.isContentEditableFalse;\n    var findNode$1 = findNode;\n    var distanceToRectLeft = function (clientRect, clientX) {\n      return Math.abs(clientRect.left - clientX);\n    };\n    var distanceToRectRight = function (clientRect, clientX) {\n      return Math.abs(clientRect.right - clientX);\n    };\n    var isInside = function (clientX, clientRect) {\n      return clientX >= clientRect.left && clientX <= clientRect.right;\n    };\n    var findClosestClientRect = function (clientRects, clientX) {\n      return ArrUtils.reduce(clientRects, function (oldClientRect, clientRect) {\n        var oldDistance, newDistance;\n        oldDistance = Math.min(distanceToRectLeft(oldClientRect, clientX), distanceToRectRight(oldClientRect, clientX));\n        newDistance = Math.min(distanceToRectLeft(clientRect, clientX), distanceToRectRight(clientRect, clientX));\n        if (isInside(clientX, clientRect)) {\n          return clientRect;\n        }\n        if (isInside(clientX, oldClientRect)) {\n          return oldClientRect;\n        }\n        if (newDistance === oldDistance && isContentEditableFalse$7(clientRect.node)) {\n          return clientRect;\n        }\n        if (newDistance < oldDistance) {\n          return clientRect;\n        }\n        return oldClientRect;\n      });\n    };\n    var walkUntil$1 = function (direction, root, predicateFn, node) {\n      while (node = findNode$1(node, direction, isEditableCaretCandidate, root)) {\n        if (predicateFn(node)) {\n          return;\n        }\n      }\n    };\n    var findLineNodeRects = function (root, targetNodeRect) {\n      var clientRects = [];\n      var collect = function (checkPosFn, node) {\n        var lineRects;\n        lineRects = filter(getClientRects([node]), function (clientRect) {\n          return !checkPosFn(clientRect, targetNodeRect);\n        });\n        clientRects = clientRects.concat(lineRects);\n        return lineRects.length === 0;\n      };\n      clientRects.push(targetNodeRect);\n      walkUntil$1(VDirection.Up, root, curry(collect, isAbove), targetNodeRect.node);\n      walkUntil$1(VDirection.Down, root, curry(collect, isBelow), targetNodeRect.node);\n      return clientRects;\n    };\n    var getFakeCaretTargets = function (root) {\n      return filter(from$1(root.getElementsByTagName('*')), isFakeCaretTarget);\n    };\n    var caretInfo = function (clientRect, clientX) {\n      return {\n        node: clientRect.node,\n        before: distanceToRectLeft(clientRect, clientX) < distanceToRectRight(clientRect, clientX)\n      };\n    };\n    var closestCaret = function (root, clientX, clientY) {\n      var closestNodeRect;\n      var contentEditableFalseNodeRects = getClientRects(getFakeCaretTargets(root));\n      var targetNodeRects = filter(contentEditableFalseNodeRects, function (rect) {\n        return clientY >= rect.top && clientY <= rect.bottom;\n      });\n      closestNodeRect = findClosestClientRect(targetNodeRects, clientX);\n      if (closestNodeRect) {\n        closestNodeRect = findClosestClientRect(findLineNodeRects(root, closestNodeRect), clientX);\n        if (closestNodeRect && isFakeCaretTarget(closestNodeRect.node)) {\n          return caretInfo(closestNodeRect, clientX);\n        }\n      }\n      return null;\n    };\n\n    var isXYWithinRange = function (clientX, clientY, range) {\n      if (range.collapsed) {\n        return false;\n      }\n      if (Env.ie && Env.ie <= 11 && range.startOffset === range.endOffset - 1 && range.startContainer === range.endContainer) {\n        var elm = range.startContainer.childNodes[range.startOffset];\n        if (NodeType.isElement(elm)) {\n          return exists(elm.getClientRects(), function (rect) {\n            return containsXY(rect, clientX, clientY);\n          });\n        }\n      }\n      return exists(range.getClientRects(), function (rect) {\n        return containsXY(rect, clientX, clientY);\n      });\n    };\n    var RangePoint = { isXYWithinRange: isXYWithinRange };\n\n    var getAbsolutePosition = function (elm) {\n      var doc, docElem, win, clientRect;\n      clientRect = elm.getBoundingClientRect();\n      doc = elm.ownerDocument;\n      docElem = doc.documentElement;\n      win = doc.defaultView;\n      return {\n        top: clientRect.top + win.pageYOffset - docElem.clientTop,\n        left: clientRect.left + win.pageXOffset - docElem.clientLeft\n      };\n    };\n    var getBodyPosition = function (editor) {\n      return editor.inline ? getAbsolutePosition(editor.getBody()) : {\n        left: 0,\n        top: 0\n      };\n    };\n    var getScrollPosition = function (editor) {\n      var body = editor.getBody();\n      return editor.inline ? {\n        left: body.scrollLeft,\n        top: body.scrollTop\n      } : {\n        left: 0,\n        top: 0\n      };\n    };\n    var getBodyScroll = function (editor) {\n      var body = editor.getBody(), docElm = editor.getDoc().documentElement;\n      var inlineScroll = {\n        left: body.scrollLeft,\n        top: body.scrollTop\n      };\n      var iframeScroll = {\n        left: body.scrollLeft || docElm.scrollLeft,\n        top: body.scrollTop || docElm.scrollTop\n      };\n      return editor.inline ? inlineScroll : iframeScroll;\n    };\n    var getMousePosition = function (editor, event) {\n      if (event.target.ownerDocument !== editor.getDoc()) {\n        var iframePosition = getAbsolutePosition(editor.getContentAreaContainer());\n        var scrollPosition = getBodyScroll(editor);\n        return {\n          left: event.pageX - iframePosition.left + scrollPosition.left,\n          top: event.pageY - iframePosition.top + scrollPosition.top\n        };\n      }\n      return {\n        left: event.pageX,\n        top: event.pageY\n      };\n    };\n    var calculatePosition = function (bodyPosition, scrollPosition, mousePosition) {\n      return {\n        pageX: mousePosition.left - bodyPosition.left + scrollPosition.left,\n        pageY: mousePosition.top - bodyPosition.top + scrollPosition.top\n      };\n    };\n    var calc = function (editor, event) {\n      return calculatePosition(getBodyPosition(editor), getScrollPosition(editor), getMousePosition(editor, event));\n    };\n    var MousePosition = { calc: calc };\n\n    var isContentEditableFalse$8 = NodeType.isContentEditableFalse, isContentEditableTrue$3 = NodeType.isContentEditableTrue;\n    var isDraggable = function (rootElm, elm) {\n      return isContentEditableFalse$8(elm) && elm !== rootElm;\n    };\n    var isValidDropTarget = function (editor, targetElement, dragElement) {\n      if (targetElement === dragElement || editor.dom.isChildOf(targetElement, dragElement)) {\n        return false;\n      }\n      if (isContentEditableFalse$8(targetElement)) {\n        return false;\n      }\n      return true;\n    };\n    var cloneElement = function (elm) {\n      var cloneElm = elm.cloneNode(true);\n      cloneElm.removeAttribute('data-mce-selected');\n      return cloneElm;\n    };\n    var createGhost = function (editor, elm, width, height) {\n      var clonedElm = elm.cloneNode(true);\n      editor.dom.setStyles(clonedElm, {\n        width: width,\n        height: height\n      });\n      editor.dom.setAttrib(clonedElm, 'data-mce-selected', null);\n      var ghostElm = editor.dom.create('div', {\n        'class': 'mce-drag-container',\n        'data-mce-bogus': 'all',\n        'unselectable': 'on',\n        'contenteditable': 'false'\n      });\n      editor.dom.setStyles(ghostElm, {\n        position: 'absolute',\n        opacity: 0.5,\n        overflow: 'hidden',\n        border: 0,\n        padding: 0,\n        margin: 0,\n        width: width,\n        height: height\n      });\n      editor.dom.setStyles(clonedElm, {\n        margin: 0,\n        boxSizing: 'border-box'\n      });\n      ghostElm.appendChild(clonedElm);\n      return ghostElm;\n    };\n    var appendGhostToBody = function (ghostElm, bodyElm) {\n      if (ghostElm.parentNode !== bodyElm) {\n        bodyElm.appendChild(ghostElm);\n      }\n    };\n    var moveGhost = function (ghostElm, position, width, height, maxX, maxY) {\n      var overflowX = 0, overflowY = 0;\n      ghostElm.style.left = position.pageX + 'px';\n      ghostElm.style.top = position.pageY + 'px';\n      if (position.pageX + width > maxX) {\n        overflowX = position.pageX + width - maxX;\n      }\n      if (position.pageY + height > maxY) {\n        overflowY = position.pageY + height - maxY;\n      }\n      ghostElm.style.width = width - overflowX + 'px';\n      ghostElm.style.height = height - overflowY + 'px';\n    };\n    var removeElement = function (elm) {\n      if (elm && elm.parentNode) {\n        elm.parentNode.removeChild(elm);\n      }\n    };\n    var isLeftMouseButtonPressed = function (e) {\n      return e.button === 0;\n    };\n    var hasDraggableElement = function (state) {\n      return state.element;\n    };\n    var applyRelPos = function (state, position) {\n      return {\n        pageX: position.pageX - state.relX,\n        pageY: position.pageY + 5\n      };\n    };\n    var start$1 = function (state, editor) {\n      return function (e) {\n        if (isLeftMouseButtonPressed(e)) {\n          var ceElm = find(editor.dom.getParents(e.target), Predicate.or(isContentEditableFalse$8, isContentEditableTrue$3)).getOr(null);\n          if (isDraggable(editor.getBody(), ceElm)) {\n            var elmPos = editor.dom.getPos(ceElm);\n            var bodyElm = editor.getBody();\n            var docElm = editor.getDoc().documentElement;\n            state.element = ceElm;\n            state.screenX = e.screenX;\n            state.screenY = e.screenY;\n            state.maxX = (editor.inline ? bodyElm.scrollWidth : docElm.offsetWidth) - 2;\n            state.maxY = (editor.inline ? bodyElm.scrollHeight : docElm.offsetHeight) - 2;\n            state.relX = e.pageX - elmPos.x;\n            state.relY = e.pageY - elmPos.y;\n            state.width = ceElm.offsetWidth;\n            state.height = ceElm.offsetHeight;\n            state.ghost = createGhost(editor, ceElm, state.width, state.height);\n          }\n        }\n      };\n    };\n    var move$1 = function (state, editor) {\n      var throttledPlaceCaretAt = Delay.throttle(function (clientX, clientY) {\n        editor._selectionOverrides.hideFakeCaret();\n        editor.selection.placeCaretAt(clientX, clientY);\n      }, 0);\n      return function (e) {\n        var movement = Math.max(Math.abs(e.screenX - state.screenX), Math.abs(e.screenY - state.screenY));\n        if (hasDraggableElement(state) && !state.dragging && movement > 10) {\n          var args = editor.fire('dragstart', { target: state.element });\n          if (args.isDefaultPrevented()) {\n            return;\n          }\n          state.dragging = true;\n          editor.focus();\n        }\n        if (state.dragging) {\n          var targetPos = applyRelPos(state, MousePosition.calc(editor, e));\n          appendGhostToBody(state.ghost, editor.getBody());\n          moveGhost(state.ghost, targetPos, state.width, state.height, state.maxX, state.maxY);\n          throttledPlaceCaretAt(e.clientX, e.clientY);\n        }\n      };\n    };\n    var getRawTarget = function (selection) {\n      var rng = selection.getSel().getRangeAt(0);\n      var startContainer = rng.startContainer;\n      return startContainer.nodeType === 3 ? startContainer.parentNode : startContainer;\n    };\n    var drop = function (state, editor) {\n      return function (e) {\n        if (state.dragging) {\n          if (isValidDropTarget(editor, getRawTarget(editor.selection), state.element)) {\n            var targetClone_1 = cloneElement(state.element);\n            var args = editor.fire('drop', {\n              targetClone: targetClone_1,\n              clientX: e.clientX,\n              clientY: e.clientY\n            });\n            if (!args.isDefaultPrevented()) {\n              targetClone_1 = args.targetClone;\n              editor.undoManager.transact(function () {\n                removeElement(state.element);\n                editor.insertContent(editor.dom.getOuterHTML(targetClone_1));\n                editor._selectionOverrides.hideFakeCaret();\n              });\n            }\n          }\n        }\n        removeDragState(state);\n      };\n    };\n    var stop = function (state, editor) {\n      return function () {\n        if (state.dragging) {\n          editor.fire('dragend');\n        }\n        removeDragState(state);\n      };\n    };\n    var removeDragState = function (state) {\n      state.dragging = false;\n      state.element = null;\n      removeElement(state.ghost);\n    };\n    var bindFakeDragEvents = function (editor) {\n      var state = {};\n      var pageDom, dragStartHandler, dragHandler, dropHandler, dragEndHandler, rootDocument;\n      pageDom = DOMUtils$1.DOM;\n      rootDocument = domGlobals.document;\n      dragStartHandler = start$1(state, editor);\n      dragHandler = move$1(state, editor);\n      dropHandler = drop(state, editor);\n      dragEndHandler = stop(state, editor);\n      editor.on('mousedown', dragStartHandler);\n      editor.on('mousemove', dragHandler);\n      editor.on('mouseup', dropHandler);\n      pageDom.bind(rootDocument, 'mousemove', dragHandler);\n      pageDom.bind(rootDocument, 'mouseup', dragEndHandler);\n      editor.on('remove', function () {\n        pageDom.unbind(rootDocument, 'mousemove', dragHandler);\n        pageDom.unbind(rootDocument, 'mouseup', dragEndHandler);\n      });\n    };\n    var blockIeDrop = function (editor) {\n      editor.on('drop', function (e) {\n        var realTarget = typeof e.clientX !== 'undefined' ? editor.getDoc().elementFromPoint(e.clientX, e.clientY) : null;\n        if (isContentEditableFalse$8(realTarget) || isContentEditableFalse$8(editor.dom.getContentEditableParent(realTarget))) {\n          e.preventDefault();\n        }\n      });\n    };\n    var init = function (editor) {\n      bindFakeDragEvents(editor);\n      blockIeDrop(editor);\n    };\n    var DragDropOverrides = { init: init };\n\n    var setup$4 = function (editor) {\n      var renderFocusCaret = first(function () {\n        if (!editor.removed) {\n          var rng = editor.selection.getRng();\n          if (rng.collapsed) {\n            var caretRange = renderRangeCaret(editor, editor.selection.getRng(), false);\n            editor.selection.setRng(caretRange);\n          }\n        }\n      }, 0);\n      editor.on('focus', function () {\n        renderFocusCaret.throttle();\n      });\n      editor.on('blur', function () {\n        renderFocusCaret.cancel();\n      });\n    };\n    var CefFocus = { setup: setup$4 };\n\n    var isContentEditableTrue$4 = NodeType.isContentEditableTrue;\n    var isContentEditableFalse$9 = NodeType.isContentEditableFalse;\n    var getContentEditableRoot$1 = function (editor, node) {\n      var root = editor.getBody();\n      while (node && node !== root) {\n        if (isContentEditableTrue$4(node) || isContentEditableFalse$9(node)) {\n          return node;\n        }\n        node = node.parentNode;\n      }\n      return null;\n    };\n    var SelectionOverrides = function (editor) {\n      var isBlock = function (node) {\n        return editor.dom.isBlock(node);\n      };\n      var rootNode = editor.getBody();\n      var fakeCaret = FakeCaret(editor.getBody(), isBlock, function () {\n        return EditorFocus.hasFocus(editor);\n      });\n      var realSelectionId = 'sel-' + editor.dom.uniqueId();\n      var selectedContentEditableNode;\n      var isFakeSelectionElement = function (elm) {\n        return editor.dom.hasClass(elm, 'mce-offscreen-selection');\n      };\n      var getRealSelectionElement = function () {\n        var container = editor.dom.get(realSelectionId);\n        return container ? container.getElementsByTagName('*')[0] : container;\n      };\n      var setRange = function (range) {\n        if (range) {\n          editor.selection.setRng(range);\n        }\n      };\n      var getRange = function () {\n        return editor.selection.getRng();\n      };\n      var showCaret = function (direction, node, before, scrollIntoView) {\n        if (scrollIntoView === void 0) {\n          scrollIntoView = true;\n        }\n        var e;\n        e = editor.fire('ShowCaret', {\n          target: node,\n          direction: direction,\n          before: before\n        });\n        if (e.isDefaultPrevented()) {\n          return null;\n        }\n        if (scrollIntoView) {\n          editor.selection.scrollIntoView(node, direction === -1);\n        }\n        return fakeCaret.show(before, node);\n      };\n      var getNormalizedRangeEndPoint = function (direction, range) {\n        range = normalizeRange(direction, rootNode, range);\n        if (direction === -1) {\n          return CaretPosition$1.fromRangeStart(range);\n        }\n        return CaretPosition$1.fromRangeEnd(range);\n      };\n      var showBlockCaretContainer = function (blockCaretContainer) {\n        if (blockCaretContainer.hasAttribute('data-mce-caret')) {\n          showCaretContainerBlock(blockCaretContainer);\n          setRange(getRange());\n          editor.selection.scrollIntoView(blockCaretContainer[0]);\n        }\n      };\n      var registerEvents = function () {\n        editor.on('mouseup', function (e) {\n          var range = getRange();\n          if (range.collapsed && EditorView.isXYInContentArea(editor, e.clientX, e.clientY)) {\n            setRange(renderCaretAtRange(editor, range, false));\n          }\n        });\n        editor.on('click', function (e) {\n          var contentEditableRoot;\n          contentEditableRoot = getContentEditableRoot$1(editor, e.target);\n          if (contentEditableRoot) {\n            if (isContentEditableFalse$9(contentEditableRoot)) {\n              e.preventDefault();\n              editor.focus();\n            }\n            if (isContentEditableTrue$4(contentEditableRoot)) {\n              if (editor.dom.isChildOf(contentEditableRoot, editor.selection.getNode())) {\n                removeContentEditableSelection();\n              }\n            }\n          }\n        });\n        editor.on('blur NewBlock', function () {\n          removeContentEditableSelection();\n        });\n        editor.on('ResizeWindow FullscreenStateChanged', function () {\n          return fakeCaret.reposition();\n        });\n        var handleTouchSelect = function (editor) {\n          var moved = false;\n          editor.on('touchstart', function () {\n            moved = false;\n          });\n          editor.on('touchmove', function () {\n            moved = true;\n          });\n          editor.on('touchend', function (e) {\n            var contentEditableRoot = getContentEditableRoot$1(editor, e.target);\n            if (isContentEditableFalse$9(contentEditableRoot)) {\n              if (!moved) {\n                e.preventDefault();\n                setContentEditableSelection(selectNode(editor, contentEditableRoot));\n              }\n            }\n          });\n        };\n        var hasNormalCaretPosition = function (elm) {\n          var caretWalker = CaretWalker(elm);\n          if (!elm.firstChild) {\n            return false;\n          }\n          var startPos = CaretPosition$1.before(elm.firstChild);\n          var newPos = caretWalker.next(startPos);\n          return newPos && !isBeforeContentEditableFalse(newPos) && !isAfterContentEditableFalse(newPos);\n        };\n        var isInSameBlock = function (node1, node2) {\n          var block1 = editor.dom.getParent(node1, editor.dom.isBlock);\n          var block2 = editor.dom.getParent(node2, editor.dom.isBlock);\n          return block1 === block2;\n        };\n        var hasBetterMouseTarget = function (targetNode, caretNode) {\n          var targetBlock = editor.dom.getParent(targetNode, editor.dom.isBlock);\n          var caretBlock = editor.dom.getParent(caretNode, editor.dom.isBlock);\n          if (targetBlock && editor.dom.isChildOf(targetBlock, caretBlock) && isContentEditableFalse$9(getContentEditableRoot$1(editor, targetBlock)) === false) {\n            return true;\n          }\n          return targetBlock && !isInSameBlock(targetBlock, caretBlock) && hasNormalCaretPosition(targetBlock);\n        };\n        handleTouchSelect(editor);\n        editor.on('mousedown', function (e) {\n          var contentEditableRoot;\n          var targetElm = e.target;\n          if (targetElm !== rootNode && targetElm.nodeName !== 'HTML' && !editor.dom.isChildOf(targetElm, rootNode)) {\n            return;\n          }\n          if (EditorView.isXYInContentArea(editor, e.clientX, e.clientY) === false) {\n            return;\n          }\n          contentEditableRoot = getContentEditableRoot$1(editor, targetElm);\n          if (contentEditableRoot) {\n            if (isContentEditableFalse$9(contentEditableRoot)) {\n              e.preventDefault();\n              setContentEditableSelection(selectNode(editor, contentEditableRoot));\n            } else {\n              removeContentEditableSelection();\n              if (!(isContentEditableTrue$4(contentEditableRoot) && e.shiftKey) && !RangePoint.isXYWithinRange(e.clientX, e.clientY, editor.selection.getRng())) {\n                hideFakeCaret();\n                editor.selection.placeCaretAt(e.clientX, e.clientY);\n              }\n            }\n          } else if (isFakeCaretTarget(targetElm) === false) {\n            removeContentEditableSelection();\n            hideFakeCaret();\n            var caretInfo = closestCaret(rootNode, e.clientX, e.clientY);\n            if (caretInfo) {\n              if (!hasBetterMouseTarget(e.target, caretInfo.node)) {\n                e.preventDefault();\n                var range = showCaret(1, caretInfo.node, caretInfo.before, false);\n                editor.getBody().focus();\n                setRange(range);\n              }\n            }\n          }\n        });\n        editor.on('keypress', function (e) {\n          if (VK.modifierPressed(e)) {\n            return;\n          }\n          switch (e.keyCode) {\n          default:\n            if (isContentEditableFalse$9(editor.selection.getNode())) {\n              e.preventDefault();\n            }\n            break;\n          }\n        });\n        editor.on('getSelectionRange', function (e) {\n          var rng = e.range;\n          if (selectedContentEditableNode) {\n            if (!selectedContentEditableNode.parentNode) {\n              selectedContentEditableNode = null;\n              return;\n            }\n            rng = rng.cloneRange();\n            rng.selectNode(selectedContentEditableNode);\n            e.range = rng;\n          }\n        });\n        editor.on('setSelectionRange', function (e) {\n          e.range = normalizeShortEndedElementSelection(e.range);\n          var rng = setContentEditableSelection(e.range, e.forward);\n          if (rng) {\n            e.range = rng;\n          }\n        });\n        var isPasteBin = function (node) {\n          return node.id === 'mcepastebin';\n        };\n        editor.on('AfterSetSelectionRange', function (e) {\n          var rng = e.range;\n          if (!isRangeInCaretContainer(rng) && !isPasteBin(rng.startContainer.parentNode)) {\n            hideFakeCaret();\n          }\n          if (!isFakeSelectionElement(rng.startContainer.parentNode)) {\n            removeContentEditableSelection();\n          }\n        });\n        editor.on('copy', function (e) {\n          var clipboardData = e.clipboardData;\n          if (!e.isDefaultPrevented() && e.clipboardData && !Env.ie) {\n            var realSelectionElement = getRealSelectionElement();\n            if (realSelectionElement) {\n              e.preventDefault();\n              clipboardData.clearData();\n              clipboardData.setData('text/html', realSelectionElement.outerHTML);\n              clipboardData.setData('text/plain', realSelectionElement.outerText);\n            }\n          }\n        });\n        DragDropOverrides.init(editor);\n        CefFocus.setup(editor);\n      };\n      var addCss = function () {\n        var styles = editor.contentStyles, rootClass = '.mce-content-body';\n        styles.push(fakeCaret.getCss());\n        styles.push(rootClass + ' .mce-offscreen-selection {' + 'position: absolute;' + 'left: -9999999999px;' + 'max-width: 1000000px;' + '}' + rootClass + ' *[contentEditable=false] {' + 'cursor: default;' + '}' + rootClass + ' *[contentEditable=true] {' + 'cursor: text;' + '}');\n      };\n      var isWithinCaretContainer = function (node) {\n        return isCaretContainer(node) || startsWithCaretContainer(node) || endsWithCaretContainer(node);\n      };\n      var isRangeInCaretContainer = function (rng) {\n        return isWithinCaretContainer(rng.startContainer) || isWithinCaretContainer(rng.endContainer);\n      };\n      var normalizeShortEndedElementSelection = function (rng) {\n        var shortEndedElements = editor.schema.getShortEndedElements();\n        var newRng = editor.dom.createRng();\n        var startContainer = rng.startContainer;\n        var startOffset = rng.startOffset;\n        var endContainer = rng.endContainer;\n        var endOffset = rng.endOffset;\n        if (has(shortEndedElements, startContainer.nodeName.toLowerCase())) {\n          if (startOffset === 0) {\n            newRng.setStartBefore(startContainer);\n          } else {\n            newRng.setStartAfter(startContainer);\n          }\n        } else {\n          newRng.setStart(startContainer, startOffset);\n        }\n        if (has(shortEndedElements, endContainer.nodeName.toLowerCase())) {\n          if (endOffset === 0) {\n            newRng.setEndBefore(endContainer);\n          } else {\n            newRng.setEndAfter(endContainer);\n          }\n        } else {\n          newRng.setEnd(endContainer, endOffset);\n        }\n        return newRng;\n      };\n      var setContentEditableSelection = function (range, forward) {\n        var node;\n        var $ = editor.$;\n        var dom = editor.dom;\n        var $realSelectionContainer, sel, startContainer, startOffset, endOffset, e, caretPosition, targetClone, origTargetClone;\n        if (!range) {\n          return null;\n        }\n        if (range.collapsed) {\n          if (!isRangeInCaretContainer(range)) {\n            if (forward === false) {\n              caretPosition = getNormalizedRangeEndPoint(-1, range);\n              if (isFakeCaretTarget(caretPosition.getNode(true))) {\n                return showCaret(-1, caretPosition.getNode(true), false, false);\n              }\n              if (isFakeCaretTarget(caretPosition.getNode())) {\n                return showCaret(-1, caretPosition.getNode(), !caretPosition.isAtEnd(), false);\n              }\n            } else {\n              caretPosition = getNormalizedRangeEndPoint(1, range);\n              if (isFakeCaretTarget(caretPosition.getNode())) {\n                return showCaret(1, caretPosition.getNode(), !caretPosition.isAtEnd(), false);\n              }\n              if (isFakeCaretTarget(caretPosition.getNode(true))) {\n                return showCaret(1, caretPosition.getNode(true), false, false);\n              }\n            }\n          }\n          return null;\n        }\n        startContainer = range.startContainer;\n        startOffset = range.startOffset;\n        endOffset = range.endOffset;\n        if (startContainer.nodeType === 3 && startOffset === 0 && isContentEditableFalse$9(startContainer.parentNode)) {\n          startContainer = startContainer.parentNode;\n          startOffset = dom.nodeIndex(startContainer);\n          startContainer = startContainer.parentNode;\n        }\n        if (startContainer.nodeType !== 1) {\n          return null;\n        }\n        if (endOffset === startOffset + 1 && startContainer === range.endContainer) {\n          node = startContainer.childNodes[startOffset];\n        }\n        if (!isContentEditableFalse$9(node)) {\n          return null;\n        }\n        targetClone = origTargetClone = node.cloneNode(true);\n        e = editor.fire('ObjectSelected', {\n          target: node,\n          targetClone: targetClone\n        });\n        if (e.isDefaultPrevented()) {\n          return null;\n        }\n        $realSelectionContainer = descendant(Element.fromDom(editor.getBody()), '#' + realSelectionId).fold(function () {\n          return $([]);\n        }, function (elm) {\n          return $([elm.dom()]);\n        });\n        targetClone = e.targetClone;\n        if ($realSelectionContainer.length === 0) {\n          $realSelectionContainer = $('<div data-mce-bogus=\"all\" class=\"mce-offscreen-selection\"></div>').attr('id', realSelectionId);\n          $realSelectionContainer.appendTo(editor.getBody());\n        }\n        range = editor.dom.createRng();\n        if (targetClone === origTargetClone && Env.ie) {\n          $realSelectionContainer.empty().append('<p style=\"font-size: 0\" data-mce-bogus=\"all\">\\xA0</p>').append(targetClone);\n          range.setStartAfter($realSelectionContainer[0].firstChild.firstChild);\n          range.setEndAfter(targetClone);\n        } else {\n          $realSelectionContainer.empty().append('\\xA0').append(targetClone).append('\\xA0');\n          range.setStart($realSelectionContainer[0].firstChild, 1);\n          range.setEnd($realSelectionContainer[0].lastChild, 0);\n        }\n        $realSelectionContainer.css({ top: dom.getPos(node, editor.getBody()).y });\n        $realSelectionContainer[0].focus();\n        sel = editor.selection.getSel();\n        sel.removeAllRanges();\n        sel.addRange(range);\n        each(descendants$1(Element.fromDom(editor.getBody()), '*[data-mce-selected]'), function (elm) {\n          remove(elm, 'data-mce-selected');\n        });\n        node.setAttribute('data-mce-selected', '1');\n        selectedContentEditableNode = node;\n        hideFakeCaret();\n        return range;\n      };\n      var removeContentEditableSelection = function () {\n        if (selectedContentEditableNode) {\n          selectedContentEditableNode.removeAttribute('data-mce-selected');\n          descendant(Element.fromDom(editor.getBody()), '#' + realSelectionId).each(remove$1);\n          selectedContentEditableNode = null;\n        }\n        descendant(Element.fromDom(editor.getBody()), '#' + realSelectionId).each(remove$1);\n        selectedContentEditableNode = null;\n      };\n      var destroy = function () {\n        fakeCaret.destroy();\n        selectedContentEditableNode = null;\n      };\n      var hideFakeCaret = function () {\n        fakeCaret.hide();\n      };\n      if (Env.ceFalse) {\n        registerEvents();\n        addCss();\n      }\n      return {\n        showCaret: showCaret,\n        showBlockCaretContainer: showBlockCaretContainer,\n        hideFakeCaret: hideFakeCaret,\n        destroy: destroy\n      };\n    };\n\n    var isValidPrefixAttrName = function (name) {\n      return name.indexOf('data-') === 0 || name.indexOf('aria-') === 0;\n    };\n    var trimComments = function (text) {\n      var sanitizedText = text;\n      while (/<!--|--!?>/g.test(sanitizedText)) {\n        sanitizedText = sanitizedText.replace(/<!--|--!?>/g, '');\n      }\n      return sanitizedText;\n    };\n    var isInvalidUri = function (settings, uri) {\n      if (settings.allow_html_data_urls) {\n        return false;\n      } else if (/^data:image\\//i.test(uri)) {\n        return settings.allow_svg_data_urls === false && /^data:image\\/svg\\+xml/i.test(uri);\n      } else {\n        return /^data:/i.test(uri);\n      }\n    };\n    var findEndTagIndex = function (schema, html, startIndex) {\n      var count = 1, index, matches, tokenRegExp, shortEndedElements;\n      shortEndedElements = schema.getShortEndedElements();\n      tokenRegExp = /<([!?\\/])?([A-Za-z0-9\\-_\\:\\.]+)((?:\\s+[^\"\\'>]+(?:(?:\"[^\"]*\")|(?:\\'[^\\']*\\')|[^>]*))*|\\/|\\s+)>/g;\n      tokenRegExp.lastIndex = index = startIndex;\n      while (matches = tokenRegExp.exec(html)) {\n        index = tokenRegExp.lastIndex;\n        if (matches[1] === '/') {\n          count--;\n        } else if (!matches[1]) {\n          if (matches[2] in shortEndedElements) {\n            continue;\n          }\n          count++;\n        }\n        if (count === 0) {\n          break;\n        }\n      }\n      return index;\n    };\n    var checkBogusAttribute = function (regExp, attrString) {\n      var matches = regExp.exec(attrString);\n      if (matches) {\n        var name = matches[1];\n        var value = matches[2];\n        return typeof name === 'string' && name.toLowerCase() === 'data-mce-bogus' ? value : null;\n      } else {\n        return null;\n      }\n    };\n    function SaxParser(settings, schema) {\n      if (schema === void 0) {\n        schema = Schema();\n      }\n      var noop = function () {\n      };\n      settings = settings || {};\n      if (settings.fix_self_closing !== false) {\n        settings.fix_self_closing = true;\n      }\n      var comment = settings.comment ? settings.comment : noop;\n      var cdata = settings.cdata ? settings.cdata : noop;\n      var text = settings.text ? settings.text : noop;\n      var start = settings.start ? settings.start : noop;\n      var end = settings.end ? settings.end : noop;\n      var pi = settings.pi ? settings.pi : noop;\n      var doctype = settings.doctype ? settings.doctype : noop;\n      var parse = function (html) {\n        var matches, index = 0, value, endRegExp;\n        var stack = [];\n        var attrList, i, textData, name;\n        var isInternalElement, removeInternalElements, shortEndedElements, fillAttrsMap, isShortEnded;\n        var validate, elementRule, isValidElement, attr, attribsValue, validAttributesMap, validAttributePatterns;\n        var attributesRequired, attributesDefault, attributesForced, processHtml;\n        var anyAttributesRequired, selfClosing, tokenRegExp, attrRegExp, specialElements, attrValue, idCount = 0;\n        var decode = Entities.decode;\n        var fixSelfClosing;\n        var filteredUrlAttrs = Tools.makeMap('src,href,data,background,formaction,poster,xlink:href');\n        var scriptUriRegExp = /((java|vb)script|mhtml):/i;\n        var processEndTag = function (name) {\n          var pos, i;\n          pos = stack.length;\n          while (pos--) {\n            if (stack[pos].name === name) {\n              break;\n            }\n          }\n          if (pos >= 0) {\n            for (i = stack.length - 1; i >= pos; i--) {\n              name = stack[i];\n              if (name.valid) {\n                end(name.name);\n              }\n            }\n            stack.length = pos;\n          }\n        };\n        var parseAttribute = function (match, name, value, val2, val3) {\n          var attrRule, i;\n          var trimRegExp = /[\\s\\u0000-\\u001F]+/g;\n          name = name.toLowerCase();\n          value = name in fillAttrsMap ? name : decode(value || val2 || val3 || '');\n          if (validate && !isInternalElement && isValidPrefixAttrName(name) === false) {\n            attrRule = validAttributesMap[name];\n            if (!attrRule && validAttributePatterns) {\n              i = validAttributePatterns.length;\n              while (i--) {\n                attrRule = validAttributePatterns[i];\n                if (attrRule.pattern.test(name)) {\n                  break;\n                }\n              }\n              if (i === -1) {\n                attrRule = null;\n              }\n            }\n            if (!attrRule) {\n              return;\n            }\n            if (attrRule.validValues && !(value in attrRule.validValues)) {\n              return;\n            }\n          }\n          if (filteredUrlAttrs[name] && !settings.allow_script_urls) {\n            var uri = value.replace(trimRegExp, '');\n            try {\n              uri = decodeURIComponent(uri);\n            } catch (ex) {\n              uri = unescape(uri);\n            }\n            if (scriptUriRegExp.test(uri)) {\n              return;\n            }\n            if (isInvalidUri(settings, uri)) {\n              return;\n            }\n          }\n          if (isInternalElement && (name in filteredUrlAttrs || name.indexOf('on') === 0)) {\n            return;\n          }\n          attrList.map[name] = value;\n          attrList.push({\n            name: name,\n            value: value\n          });\n        };\n        tokenRegExp = new RegExp('<(?:' + '(?:!--([\\\\w\\\\W]*?)--!?>)|' + '(?:!\\\\[CDATA\\\\[([\\\\w\\\\W]*?)\\\\]\\\\]>)|' + '(?:!DOCTYPE([\\\\w\\\\W]*?)>)|' + '(?:\\\\?([^\\\\s\\\\/<>]+) ?([\\\\w\\\\W]*?)[?/]>)|' + '(?:\\\\/([A-Za-z][A-Za-z0-9\\\\-_\\\\:\\\\.]*)>)|' + '(?:([A-Za-z][A-Za-z0-9\\\\-_\\\\:\\\\.]*)((?:\\\\s+[^\"\\'>]+(?:(?:\"[^\"]*\")|(?:\\'[^\\']*\\')|[^>]*))*|\\\\/|\\\\s+)>)' + ')', 'g');\n        attrRegExp = /([\\w:\\-]+)(?:\\s*=\\s*(?:(?:\\\"((?:[^\\\"])*)\\\")|(?:\\'((?:[^\\'])*)\\')|([^>\\s]+)))?/g;\n        shortEndedElements = schema.getShortEndedElements();\n        selfClosing = settings.self_closing_elements || schema.getSelfClosingElements();\n        fillAttrsMap = schema.getBoolAttrs();\n        validate = settings.validate;\n        removeInternalElements = settings.remove_internals;\n        fixSelfClosing = settings.fix_self_closing;\n        specialElements = schema.getSpecialElements();\n        processHtml = html + '>';\n        while (matches = tokenRegExp.exec(processHtml)) {\n          if (index < matches.index) {\n            text(decode(html.substr(index, matches.index - index)));\n          }\n          if (value = matches[6]) {\n            value = value.toLowerCase();\n            if (value.charAt(0) === ':') {\n              value = value.substr(1);\n            }\n            processEndTag(value);\n          } else if (value = matches[7]) {\n            if (matches.index + matches[0].length > html.length) {\n              text(decode(html.substr(matches.index)));\n              index = matches.index + matches[0].length;\n              continue;\n            }\n            value = value.toLowerCase();\n            if (value.charAt(0) === ':') {\n              value = value.substr(1);\n            }\n            isShortEnded = value in shortEndedElements;\n            if (fixSelfClosing && selfClosing[value] && stack.length > 0 && stack[stack.length - 1].name === value) {\n              processEndTag(value);\n            }\n            var bogusValue = checkBogusAttribute(attrRegExp, matches[8]);\n            if (bogusValue !== null) {\n              if (bogusValue === 'all') {\n                index = findEndTagIndex(schema, html, tokenRegExp.lastIndex);\n                tokenRegExp.lastIndex = index;\n                continue;\n              }\n              isValidElement = false;\n            }\n            if (!validate || (elementRule = schema.getElementRule(value))) {\n              isValidElement = true;\n              if (validate) {\n                validAttributesMap = elementRule.attributes;\n                validAttributePatterns = elementRule.attributePatterns;\n              }\n              if (attribsValue = matches[8]) {\n                isInternalElement = attribsValue.indexOf('data-mce-type') !== -1;\n                if (isInternalElement && removeInternalElements) {\n                  isValidElement = false;\n                }\n                attrList = [];\n                attrList.map = {};\n                attribsValue.replace(attrRegExp, parseAttribute);\n              } else {\n                attrList = [];\n                attrList.map = {};\n              }\n              if (validate && !isInternalElement) {\n                attributesRequired = elementRule.attributesRequired;\n                attributesDefault = elementRule.attributesDefault;\n                attributesForced = elementRule.attributesForced;\n                anyAttributesRequired = elementRule.removeEmptyAttrs;\n                if (anyAttributesRequired && !attrList.length) {\n                  isValidElement = false;\n                }\n                if (attributesForced) {\n                  i = attributesForced.length;\n                  while (i--) {\n                    attr = attributesForced[i];\n                    name = attr.name;\n                    attrValue = attr.value;\n                    if (attrValue === '{$uid}') {\n                      attrValue = 'mce_' + idCount++;\n                    }\n                    attrList.map[name] = attrValue;\n                    attrList.push({\n                      name: name,\n                      value: attrValue\n                    });\n                  }\n                }\n                if (attributesDefault) {\n                  i = attributesDefault.length;\n                  while (i--) {\n                    attr = attributesDefault[i];\n                    name = attr.name;\n                    if (!(name in attrList.map)) {\n                      attrValue = attr.value;\n                      if (attrValue === '{$uid}') {\n                        attrValue = 'mce_' + idCount++;\n                      }\n                      attrList.map[name] = attrValue;\n                      attrList.push({\n                        name: name,\n                        value: attrValue\n                      });\n                    }\n                  }\n                }\n                if (attributesRequired) {\n                  i = attributesRequired.length;\n                  while (i--) {\n                    if (attributesRequired[i] in attrList.map) {\n                      break;\n                    }\n                  }\n                  if (i === -1) {\n                    isValidElement = false;\n                  }\n                }\n                if (attr = attrList.map['data-mce-bogus']) {\n                  if (attr === 'all') {\n                    index = findEndTagIndex(schema, html, tokenRegExp.lastIndex);\n                    tokenRegExp.lastIndex = index;\n                    continue;\n                  }\n                  isValidElement = false;\n                }\n              }\n              if (isValidElement) {\n                start(value, attrList, isShortEnded);\n              }\n            } else {\n              isValidElement = false;\n            }\n            if (endRegExp = specialElements[value]) {\n              endRegExp.lastIndex = index = matches.index + matches[0].length;\n              if (matches = endRegExp.exec(html)) {\n                if (isValidElement) {\n                  textData = html.substr(index, matches.index - index);\n                }\n                index = matches.index + matches[0].length;\n              } else {\n                textData = html.substr(index);\n                index = html.length;\n              }\n              if (isValidElement) {\n                if (textData.length > 0) {\n                  text(textData, true);\n                }\n                end(value);\n              }\n              tokenRegExp.lastIndex = index;\n              continue;\n            }\n            if (!isShortEnded) {\n              if (!attribsValue || attribsValue.indexOf('/') !== attribsValue.length - 1) {\n                stack.push({\n                  name: value,\n                  valid: isValidElement\n                });\n              } else if (isValidElement) {\n                end(value);\n              }\n            }\n          } else if (value = matches[1]) {\n            if (value.charAt(0) === '>') {\n              value = ' ' + value;\n            }\n            if (!settings.allow_conditional_comments && value.substr(0, 3).toLowerCase() === '[if') {\n              value = ' ' + value;\n            }\n            comment(value);\n          } else if (value = matches[2]) {\n            cdata(trimComments(value));\n          } else if (value = matches[3]) {\n            doctype(value);\n          } else if (value = matches[4]) {\n            pi(value, matches[5]);\n          }\n          index = matches.index + matches[0].length;\n        }\n        if (index < html.length) {\n          text(decode(html.substr(index)));\n        }\n        for (i = stack.length - 1; i >= 0; i--) {\n          value = stack[i];\n          if (value.valid) {\n            end(value.name);\n          }\n        }\n      };\n      return { parse: parse };\n    }\n    (function (SaxParser) {\n      SaxParser.findEndTag = findEndTagIndex;\n    }(SaxParser || (SaxParser = {})));\n    var SaxParser$1 = SaxParser;\n\n    var trimHtml = function (tempAttrs, html) {\n      var trimContentRegExp = new RegExp(['\\\\s?(' + tempAttrs.join('|') + ')=\"[^\"]+\"'].join('|'), 'gi');\n      return html.replace(trimContentRegExp, '');\n    };\n    var trimInternal = function (serializer, html) {\n      var content = html;\n      var bogusAllRegExp = /<(\\w+) [^>]*data-mce-bogus=\"all\"[^>]*>/g;\n      var endTagIndex, index, matchLength, matches, shortEndedElements;\n      var schema = serializer.schema;\n      content = trimHtml(serializer.getTempAttrs(), content);\n      shortEndedElements = schema.getShortEndedElements();\n      while (matches = bogusAllRegExp.exec(content)) {\n        index = bogusAllRegExp.lastIndex;\n        matchLength = matches[0].length;\n        if (shortEndedElements[matches[1]]) {\n          endTagIndex = index;\n        } else {\n          endTagIndex = SaxParser$1.findEndTag(schema, content, index);\n        }\n        content = content.substring(0, index - matchLength) + content.substring(endTagIndex);\n        bogusAllRegExp.lastIndex = index - matchLength;\n      }\n      return Zwsp.trim(content);\n    };\n    var trimExternal = trimInternal;\n    var TrimHtml = {\n      trimExternal: trimExternal,\n      trimInternal: trimInternal\n    };\n\n    var KEEP = 0, INSERT = 1, DELETE = 2;\n    var diff = function (left, right) {\n      var size = left.length + right.length + 2;\n      var vDown = new Array(size);\n      var vUp = new Array(size);\n      var snake = function (start, end, diag) {\n        return {\n          start: start,\n          end: end,\n          diag: diag\n        };\n      };\n      var buildScript = function (start1, end1, start2, end2, script) {\n        var middle = getMiddleSnake(start1, end1, start2, end2);\n        if (middle === null || middle.start === end1 && middle.diag === end1 - end2 || middle.end === start1 && middle.diag === start1 - start2) {\n          var i = start1;\n          var j = start2;\n          while (i < end1 || j < end2) {\n            if (i < end1 && j < end2 && left[i] === right[j]) {\n              script.push([\n                KEEP,\n                left[i]\n              ]);\n              ++i;\n              ++j;\n            } else {\n              if (end1 - start1 > end2 - start2) {\n                script.push([\n                  DELETE,\n                  left[i]\n                ]);\n                ++i;\n              } else {\n                script.push([\n                  INSERT,\n                  right[j]\n                ]);\n                ++j;\n              }\n            }\n          }\n        } else {\n          buildScript(start1, middle.start, start2, middle.start - middle.diag, script);\n          for (var i2 = middle.start; i2 < middle.end; ++i2) {\n            script.push([\n              KEEP,\n              left[i2]\n            ]);\n          }\n          buildScript(middle.end, end1, middle.end - middle.diag, end2, script);\n        }\n      };\n      var buildSnake = function (start, diag, end1, end2) {\n        var end = start;\n        while (end - diag < end2 && end < end1 && left[end] === right[end - diag]) {\n          ++end;\n        }\n        return snake(start, end, diag);\n      };\n      var getMiddleSnake = function (start1, end1, start2, end2) {\n        var m = end1 - start1;\n        var n = end2 - start2;\n        if (m === 0 || n === 0) {\n          return null;\n        }\n        var delta = m - n;\n        var sum = n + m;\n        var offset = (sum % 2 === 0 ? sum : sum + 1) / 2;\n        vDown[1 + offset] = start1;\n        vUp[1 + offset] = end1 + 1;\n        var d, k, i, x, y;\n        for (d = 0; d <= offset; ++d) {\n          for (k = -d; k <= d; k += 2) {\n            i = k + offset;\n            if (k === -d || k !== d && vDown[i - 1] < vDown[i + 1]) {\n              vDown[i] = vDown[i + 1];\n            } else {\n              vDown[i] = vDown[i - 1] + 1;\n            }\n            x = vDown[i];\n            y = x - start1 + start2 - k;\n            while (x < end1 && y < end2 && left[x] === right[y]) {\n              vDown[i] = ++x;\n              ++y;\n            }\n            if (delta % 2 !== 0 && delta - d <= k && k <= delta + d) {\n              if (vUp[i - delta] <= vDown[i]) {\n                return buildSnake(vUp[i - delta], k + start1 - start2, end1, end2);\n              }\n            }\n          }\n          for (k = delta - d; k <= delta + d; k += 2) {\n            i = k + offset - delta;\n            if (k === delta - d || k !== delta + d && vUp[i + 1] <= vUp[i - 1]) {\n              vUp[i] = vUp[i + 1] - 1;\n            } else {\n              vUp[i] = vUp[i - 1];\n            }\n            x = vUp[i] - 1;\n            y = x - start1 + start2 - k;\n            while (x >= start1 && y >= start2 && left[x] === right[y]) {\n              vUp[i] = x--;\n              y--;\n            }\n            if (delta % 2 === 0 && -d <= k && k <= d) {\n              if (vUp[i] <= vDown[i + delta]) {\n                return buildSnake(vUp[i], k + start1 - start2, end1, end2);\n              }\n            }\n          }\n        }\n      };\n      var script = [];\n      buildScript(0, left.length, 0, right.length, script);\n      return script;\n    };\n    var Diff = {\n      KEEP: KEEP,\n      DELETE: DELETE,\n      INSERT: INSERT,\n      diff: diff\n    };\n\n    var getOuterHtml = function (elm) {\n      if (NodeType.isElement(elm)) {\n        return elm.outerHTML;\n      } else if (NodeType.isText(elm)) {\n        return Entities.encodeRaw(elm.data, false);\n      } else if (NodeType.isComment(elm)) {\n        return '<!--' + elm.data + '-->';\n      }\n      return '';\n    };\n    var createFragment$1 = function (html) {\n      var frag, node, container;\n      container = domGlobals.document.createElement('div');\n      frag = domGlobals.document.createDocumentFragment();\n      if (html) {\n        container.innerHTML = html;\n      }\n      while (node = container.firstChild) {\n        frag.appendChild(node);\n      }\n      return frag;\n    };\n    var insertAt = function (elm, html, index) {\n      var fragment = createFragment$1(html);\n      if (elm.hasChildNodes() && index < elm.childNodes.length) {\n        var target = elm.childNodes[index];\n        target.parentNode.insertBefore(fragment, target);\n      } else {\n        elm.appendChild(fragment);\n      }\n    };\n    var removeAt = function (elm, index) {\n      if (elm.hasChildNodes() && index < elm.childNodes.length) {\n        var target = elm.childNodes[index];\n        target.parentNode.removeChild(target);\n      }\n    };\n    var applyDiff = function (diff, elm) {\n      var index = 0;\n      each(diff, function (action) {\n        if (action[0] === Diff.KEEP) {\n          index++;\n        } else if (action[0] === Diff.INSERT) {\n          insertAt(elm, action[1], index);\n          index++;\n        } else if (action[0] === Diff.DELETE) {\n          removeAt(elm, index);\n        }\n      });\n    };\n    var read$3 = function (elm) {\n      return filter(map(from$1(elm.childNodes), getOuterHtml), function (item) {\n        return item.length > 0;\n      });\n    };\n    var write = function (fragments, elm) {\n      var currentFragments = map(from$1(elm.childNodes), getOuterHtml);\n      applyDiff(Diff.diff(currentFragments, fragments), elm);\n      return elm;\n    };\n    var Fragments = {\n      read: read$3,\n      write: write\n    };\n\n    var undoLevelDocument = Cell(Option.none());\n    var lazyTempDocument = function () {\n      return undoLevelDocument.get().getOrThunk(function () {\n        var doc = domGlobals.document.implementation.createHTMLDocument('undo');\n        undoLevelDocument.set(Option.some(doc));\n        return doc;\n      });\n    };\n    var hasIframes = function (html) {\n      return html.indexOf('</iframe>') !== -1;\n    };\n    var createFragmentedLevel = function (fragments) {\n      return {\n        type: 'fragmented',\n        fragments: fragments,\n        content: '',\n        bookmark: null,\n        beforeBookmark: null\n      };\n    };\n    var createCompleteLevel = function (content) {\n      return {\n        type: 'complete',\n        fragments: null,\n        content: content,\n        bookmark: null,\n        beforeBookmark: null\n      };\n    };\n    var createFromEditor = function (editor) {\n      var fragments, content, trimmedFragments;\n      fragments = Fragments.read(editor.getBody());\n      trimmedFragments = bind(fragments, function (html) {\n        var trimmed = TrimHtml.trimInternal(editor.serializer, html);\n        return trimmed.length > 0 ? [trimmed] : [];\n      });\n      content = trimmedFragments.join('');\n      return hasIframes(content) ? createFragmentedLevel(trimmedFragments) : createCompleteLevel(content);\n    };\n    var applyToEditor = function (editor, level, before) {\n      if (level.type === 'fragmented') {\n        Fragments.write(level.fragments, editor.getBody());\n      } else {\n        editor.setContent(level.content, { format: 'raw' });\n      }\n      editor.selection.moveToBookmark(before ? level.beforeBookmark : level.bookmark);\n    };\n    var getLevelContent = function (level) {\n      return level.type === 'fragmented' ? level.fragments.join('') : level.content;\n    };\n    var getCleanLevelContent = function (level) {\n      var elm = Element.fromTag('body', lazyTempDocument());\n      set$1(elm, getLevelContent(level));\n      each(descendants$1(elm, '*[data-mce-bogus]'), unwrap);\n      return get$3(elm);\n    };\n    var hasEqualContent = function (level1, level2) {\n      return getLevelContent(level1) === getLevelContent(level2);\n    };\n    var hasEqualCleanedContent = function (level1, level2) {\n      return getCleanLevelContent(level1) === getCleanLevelContent(level2);\n    };\n    var isEq$4 = function (level1, level2) {\n      if (!level1 || !level2) {\n        return false;\n      } else if (hasEqualContent(level1, level2)) {\n        return true;\n      } else {\n        return hasEqualCleanedContent(level1, level2);\n      }\n    };\n    var Levels = {\n      createFragmentedLevel: createFragmentedLevel,\n      createCompleteLevel: createCompleteLevel,\n      createFromEditor: createFromEditor,\n      applyToEditor: applyToEditor,\n      isEq: isEq$4\n    };\n\n    function UndoManager (editor) {\n      var self = this, index = 0, data = [], beforeBookmark, isFirstTypedCharacter, locks = 0;\n      var isUnlocked = function () {\n        return locks === 0;\n      };\n      var setTyping = function (typing) {\n        if (isUnlocked()) {\n          self.typing = typing;\n        }\n      };\n      var setDirty = function (state) {\n        editor.setDirty(state);\n      };\n      var addNonTypingUndoLevel = function (e) {\n        setTyping(false);\n        self.add({}, e);\n      };\n      var endTyping = function () {\n        if (self.typing) {\n          setTyping(false);\n          self.add();\n        }\n      };\n      editor.on('init', function () {\n        self.add();\n      });\n      editor.on('BeforeExecCommand', function (e) {\n        var cmd = e.command;\n        if (cmd !== 'Undo' && cmd !== 'Redo' && cmd !== 'mceRepaint') {\n          endTyping();\n          self.beforeChange();\n        }\n      });\n      editor.on('ExecCommand', function (e) {\n        var cmd = e.command;\n        if (cmd !== 'Undo' && cmd !== 'Redo' && cmd !== 'mceRepaint') {\n          addNonTypingUndoLevel(e);\n        }\n      });\n      editor.on('ObjectResizeStart Cut', function () {\n        self.beforeChange();\n      });\n      editor.on('SaveContent ObjectResized blur', addNonTypingUndoLevel);\n      editor.on('DragEnd', addNonTypingUndoLevel);\n      editor.on('KeyUp', function (e) {\n        var keyCode = e.keyCode;\n        if (e.isDefaultPrevented()) {\n          return;\n        }\n        if (keyCode >= 33 && keyCode <= 36 || keyCode >= 37 && keyCode <= 40 || keyCode === 45 || e.ctrlKey) {\n          addNonTypingUndoLevel();\n          editor.nodeChanged();\n        }\n        if (keyCode === 46 || keyCode === 8) {\n          editor.nodeChanged();\n        }\n        if (isFirstTypedCharacter && self.typing && Levels.isEq(Levels.createFromEditor(editor), data[0]) === false) {\n          if (editor.isDirty() === false) {\n            setDirty(true);\n            editor.fire('change', {\n              level: data[0],\n              lastLevel: null\n            });\n          }\n          editor.fire('TypingUndo');\n          isFirstTypedCharacter = false;\n          editor.nodeChanged();\n        }\n      });\n      editor.on('KeyDown', function (e) {\n        var keyCode = e.keyCode;\n        if (e.isDefaultPrevented()) {\n          return;\n        }\n        if (keyCode >= 33 && keyCode <= 36 || keyCode >= 37 && keyCode <= 40 || keyCode === 45) {\n          if (self.typing) {\n            addNonTypingUndoLevel(e);\n          }\n          return;\n        }\n        var modKey = e.ctrlKey && !e.altKey || e.metaKey;\n        if ((keyCode < 16 || keyCode > 20) && keyCode !== 224 && keyCode !== 91 && !self.typing && !modKey) {\n          self.beforeChange();\n          setTyping(true);\n          self.add({}, e);\n          isFirstTypedCharacter = true;\n        }\n      });\n      editor.on('MouseDown', function (e) {\n        if (self.typing) {\n          addNonTypingUndoLevel(e);\n        }\n      });\n      var isInsertReplacementText = function (event) {\n        return event.inputType === 'insertReplacementText';\n      };\n      var isInsertTextDataNull = function (event) {\n        return event.inputType === 'insertText' && event.data === null;\n      };\n      editor.on('input', function (e) {\n        if (e.inputType && (isInsertReplacementText(e) || isInsertTextDataNull(e))) {\n          addNonTypingUndoLevel(e);\n        }\n      });\n      editor.addShortcut('meta+z', '', 'Undo');\n      editor.addShortcut('meta+y,meta+shift+z', '', 'Redo');\n      editor.on('AddUndo Undo Redo ClearUndos', function (e) {\n        if (!e.isDefaultPrevented()) {\n          editor.nodeChanged();\n        }\n      });\n      self = {\n        data: data,\n        typing: false,\n        beforeChange: function () {\n          if (isUnlocked()) {\n            beforeBookmark = GetBookmark.getUndoBookmark(editor.selection);\n          }\n        },\n        add: function (level, event) {\n          var i;\n          var settings = editor.settings;\n          var lastLevel, currentLevel;\n          currentLevel = Levels.createFromEditor(editor);\n          level = level || {};\n          level = Tools.extend(level, currentLevel);\n          if (isUnlocked() === false || editor.removed) {\n            return null;\n          }\n          lastLevel = data[index];\n          if (editor.fire('BeforeAddUndo', {\n              level: level,\n              lastLevel: lastLevel,\n              originalEvent: event\n            }).isDefaultPrevented()) {\n            return null;\n          }\n          if (lastLevel && Levels.isEq(lastLevel, level)) {\n            return null;\n          }\n          if (data[index]) {\n            data[index].beforeBookmark = beforeBookmark;\n          }\n          if (settings.custom_undo_redo_levels) {\n            if (data.length > settings.custom_undo_redo_levels) {\n              for (i = 0; i < data.length - 1; i++) {\n                data[i] = data[i + 1];\n              }\n              data.length--;\n              index = data.length;\n            }\n          }\n          level.bookmark = GetBookmark.getUndoBookmark(editor.selection);\n          if (index < data.length - 1) {\n            data.length = index + 1;\n          }\n          data.push(level);\n          index = data.length - 1;\n          var args = {\n            level: level,\n            lastLevel: lastLevel,\n            originalEvent: event\n          };\n          editor.fire('AddUndo', args);\n          if (index > 0) {\n            setDirty(true);\n            editor.fire('change', args);\n          }\n          return level;\n        },\n        undo: function () {\n          var level;\n          if (self.typing) {\n            self.add();\n            self.typing = false;\n            setTyping(false);\n          }\n          if (index > 0) {\n            level = data[--index];\n            Levels.applyToEditor(editor, level, true);\n            setDirty(true);\n            editor.fire('undo', { level: level });\n          }\n          return level;\n        },\n        redo: function () {\n          var level;\n          if (index < data.length - 1) {\n            level = data[++index];\n            Levels.applyToEditor(editor, level, false);\n            setDirty(true);\n            editor.fire('redo', { level: level });\n          }\n          return level;\n        },\n        clear: function () {\n          data = [];\n          index = 0;\n          self.typing = false;\n          self.data = data;\n          editor.fire('ClearUndos');\n        },\n        hasUndo: function () {\n          return index > 0 || self.typing && data[0] && !Levels.isEq(Levels.createFromEditor(editor), data[0]);\n        },\n        hasRedo: function () {\n          return index < data.length - 1 && !self.typing;\n        },\n        transact: function (callback) {\n          endTyping();\n          self.beforeChange();\n          self.ignore(callback);\n          return self.add();\n        },\n        ignore: function (callback) {\n          try {\n            locks++;\n            callback();\n          } finally {\n            locks--;\n          }\n        },\n        extra: function (callback1, callback2) {\n          var lastLevel, bookmark;\n          if (self.transact(callback1)) {\n            bookmark = data[index].bookmark;\n            lastLevel = data[index - 1];\n            Levels.applyToEditor(editor, lastLevel, true);\n            if (self.transact(callback2)) {\n              data[index - 1].beforeBookmark = bookmark;\n            }\n          }\n        }\n      };\n      return self;\n    }\n\n    var postProcessHooks = {}, filter$2 = ArrUtils.filter, each$c = ArrUtils.each;\n    var addPostProcessHook = function (name, hook) {\n      var hooks = postProcessHooks[name];\n      if (!hooks) {\n        postProcessHooks[name] = hooks = [];\n      }\n      postProcessHooks[name].push(hook);\n    };\n    var postProcess = function (name, editor) {\n      each$c(postProcessHooks[name], function (hook) {\n        hook(editor);\n      });\n    };\n    addPostProcessHook('pre', function (editor) {\n      var rng = editor.selection.getRng();\n      var isPre, blocks;\n      var hasPreSibling = function (pre) {\n        return isPre(pre.previousSibling) && ArrUtils.indexOf(blocks, pre.previousSibling) !== -1;\n      };\n      var joinPre = function (pre1, pre2) {\n        DomQuery(pre2).remove();\n        DomQuery(pre1).append('<br><br>').append(pre2.childNodes);\n      };\n      isPre = NodeType.matchNodeNames('pre');\n      if (!rng.collapsed) {\n        blocks = editor.selection.getSelectedBlocks();\n        each$c(filter$2(filter$2(blocks, isPre), hasPreSibling), function (pre) {\n          joinPre(pre.previousSibling, pre);\n        });\n      }\n    });\n    var Hooks = { postProcess: postProcess };\n\n    var MCE_ATTR_RE = /^(src|href|style)$/;\n    var each$d = Tools.each;\n    var isEq$5 = FormatUtils.isEq;\n    var isTableCell$4 = function (node) {\n      return /^(TH|TD)$/.test(node.nodeName);\n    };\n    var isChildOfInlineParent = function (dom, node, parent) {\n      return dom.isChildOf(node, parent) && node !== parent && !dom.isBlock(parent);\n    };\n    var getContainer = function (ed, rng, start) {\n      var container, offset, lastIdx;\n      container = rng[start ? 'startContainer' : 'endContainer'];\n      offset = rng[start ? 'startOffset' : 'endOffset'];\n      if (NodeType.isElement(container)) {\n        lastIdx = container.childNodes.length - 1;\n        if (!start && offset) {\n          offset--;\n        }\n        container = container.childNodes[offset > lastIdx ? lastIdx : offset];\n      }\n      if (NodeType.isText(container) && start && offset >= container.nodeValue.length) {\n        container = new TreeWalker(container, ed.getBody()).next() || container;\n      }\n      if (NodeType.isText(container) && !start && offset === 0) {\n        container = new TreeWalker(container, ed.getBody()).prev() || container;\n      }\n      return container;\n    };\n    var wrap$2 = function (dom, node, name, attrs) {\n      var wrapper = dom.create(name, attrs);\n      node.parentNode.insertBefore(wrapper, node);\n      wrapper.appendChild(node);\n      return wrapper;\n    };\n    var wrapWithSiblings = function (dom, node, next, name, attrs) {\n      var start = Element.fromDom(node);\n      var wrapper = Element.fromDom(dom.create(name, attrs));\n      var siblings = next ? nextSiblings(start) : prevSiblings(start);\n      append$1(wrapper, siblings);\n      if (next) {\n        before(start, wrapper);\n        prepend(wrapper, start);\n      } else {\n        after(start, wrapper);\n        append(wrapper, start);\n      }\n      return wrapper.dom();\n    };\n    var matchName$1 = function (dom, node, format) {\n      if (isEq$5(node, format.inline)) {\n        return true;\n      }\n      if (isEq$5(node, format.block)) {\n        return true;\n      }\n      if (format.selector) {\n        return NodeType.isElement(node) && dom.is(node, format.selector);\n      }\n    };\n    var isColorFormatAndAnchor = function (node, format) {\n      return format.links && node.tagName === 'A';\n    };\n    var find$3 = function (dom, node, next, inc) {\n      node = FormatUtils.getNonWhiteSpaceSibling(node, next, inc);\n      return !node || (node.nodeName === 'BR' || dom.isBlock(node));\n    };\n    var removeNode$1 = function (ed, node, format) {\n      var parentNode = node.parentNode;\n      var rootBlockElm;\n      var dom = ed.dom, forcedRootBlock = ed.settings.forced_root_block;\n      if (format.block) {\n        if (!forcedRootBlock) {\n          if (dom.isBlock(node) && !dom.isBlock(parentNode)) {\n            if (!find$3(dom, node, false) && !find$3(dom, node.firstChild, true, 1)) {\n              node.insertBefore(dom.create('br'), node.firstChild);\n            }\n            if (!find$3(dom, node, true) && !find$3(dom, node.lastChild, false, 1)) {\n              node.appendChild(dom.create('br'));\n            }\n          }\n        } else {\n          if (parentNode === dom.getRoot()) {\n            if (!format.list_block || !isEq$5(node, format.list_block)) {\n              each$d(Tools.grep(node.childNodes), function (node) {\n                if (FormatUtils.isValid(ed, forcedRootBlock, node.nodeName.toLowerCase())) {\n                  if (!rootBlockElm) {\n                    rootBlockElm = wrap$2(dom, node, forcedRootBlock);\n                    dom.setAttribs(rootBlockElm, ed.settings.forced_root_block_attrs);\n                  } else {\n                    rootBlockElm.appendChild(node);\n                  }\n                } else {\n                  rootBlockElm = 0;\n                }\n              });\n            }\n          }\n        }\n      }\n      if (format.selector && format.inline && !isEq$5(format.inline, node)) {\n        return;\n      }\n      dom.remove(node, 1);\n    };\n    var removeFormat = function (ed, format, vars, node, compareNode) {\n      var i, attrs, stylesModified;\n      var dom = ed.dom;\n      if (!matchName$1(dom, node, format) && !isColorFormatAndAnchor(node, format)) {\n        return false;\n      }\n      if (format.remove !== 'all') {\n        each$d(format.styles, function (value, name) {\n          value = FormatUtils.normalizeStyleValue(dom, FormatUtils.replaceVars(value, vars), name);\n          if (typeof name === 'number') {\n            name = value;\n            compareNode = 0;\n          }\n          if (format.remove_similar || (!compareNode || isEq$5(FormatUtils.getStyle(dom, compareNode, name), value))) {\n            dom.setStyle(node, name, '');\n          }\n          stylesModified = 1;\n        });\n        if (stylesModified && dom.getAttrib(node, 'style') === '') {\n          node.removeAttribute('style');\n          node.removeAttribute('data-mce-style');\n        }\n        each$d(format.attributes, function (value, name) {\n          var valueOut;\n          value = FormatUtils.replaceVars(value, vars);\n          if (typeof name === 'number') {\n            name = value;\n            compareNode = 0;\n          }\n          if (!compareNode || isEq$5(dom.getAttrib(compareNode, name), value)) {\n            if (name === 'class') {\n              value = dom.getAttrib(node, name);\n              if (value) {\n                valueOut = '';\n                each$d(value.split(/\\s+/), function (cls) {\n                  if (/mce\\-\\w+/.test(cls)) {\n                    valueOut += (valueOut ? ' ' : '') + cls;\n                  }\n                });\n                if (valueOut) {\n                  dom.setAttrib(node, name, valueOut);\n                  return;\n                }\n              }\n            }\n            if (name === 'class') {\n              node.removeAttribute('className');\n            }\n            if (MCE_ATTR_RE.test(name)) {\n              node.removeAttribute('data-mce-' + name);\n            }\n            node.removeAttribute(name);\n          }\n        });\n        each$d(format.classes, function (value) {\n          value = FormatUtils.replaceVars(value, vars);\n          if (!compareNode || dom.hasClass(compareNode, value)) {\n            dom.removeClass(node, value);\n          }\n        });\n        attrs = dom.getAttribs(node);\n        for (i = 0; i < attrs.length; i++) {\n          var attrName = attrs[i].nodeName;\n          if (attrName.indexOf('_') !== 0 && attrName.indexOf('data-') !== 0) {\n            return false;\n          }\n        }\n      }\n      if (format.remove !== 'none') {\n        removeNode$1(ed, node, format);\n        return true;\n      }\n    };\n    var findFormatRoot = function (editor, container, name, vars, similar) {\n      var formatRoot;\n      each$d(FormatUtils.getParents(editor.dom, container.parentNode).reverse(), function (parent) {\n        var format;\n        if (!formatRoot && parent.id !== '_start' && parent.id !== '_end') {\n          format = MatchFormat.matchNode(editor, parent, name, vars, similar);\n          if (format && format.split !== false) {\n            formatRoot = parent;\n          }\n        }\n      });\n      return formatRoot;\n    };\n    var wrapAndSplit = function (editor, formatList, formatRoot, container, target, split, format, vars) {\n      var parent, clone, lastClone, firstClone, i, formatRootParent;\n      var dom = editor.dom;\n      if (formatRoot) {\n        formatRootParent = formatRoot.parentNode;\n        for (parent = container.parentNode; parent && parent !== formatRootParent; parent = parent.parentNode) {\n          clone = dom.clone(parent, false);\n          for (i = 0; i < formatList.length; i++) {\n            if (removeFormat(editor, formatList[i], vars, clone, clone)) {\n              clone = 0;\n              break;\n            }\n          }\n          if (clone) {\n            if (lastClone) {\n              clone.appendChild(lastClone);\n            }\n            if (!firstClone) {\n              firstClone = clone;\n            }\n            lastClone = clone;\n          }\n        }\n        if (split && (!format.mixed || !dom.isBlock(formatRoot))) {\n          container = dom.split(formatRoot, container);\n        }\n        if (lastClone) {\n          target.parentNode.insertBefore(lastClone, target);\n          firstClone.appendChild(target);\n        }\n      }\n      return container;\n    };\n    var remove$6 = function (ed, name, vars, node, similar) {\n      var formatList = ed.formatter.get(name), format = formatList[0];\n      var bookmark, rng, contentEditable = true;\n      var dom = ed.dom;\n      var selection = ed.selection;\n      var splitToFormatRoot = function (container) {\n        var formatRoot = findFormatRoot(ed, container, name, vars, similar);\n        return wrapAndSplit(ed, formatList, formatRoot, container, container, true, format, vars);\n      };\n      var isRemoveBookmarkNode = function (node) {\n        return Bookmarks.isBookmarkNode(node) && NodeType.isElement(node) && (node.id === '_start' || node.id === '_end');\n      };\n      var process = function (node) {\n        var children, i, l, lastContentEditable, hasContentEditableState;\n        if (NodeType.isElement(node) && dom.getContentEditable(node)) {\n          lastContentEditable = contentEditable;\n          contentEditable = dom.getContentEditable(node) === 'true';\n          hasContentEditableState = true;\n        }\n        children = Tools.grep(node.childNodes);\n        if (contentEditable && !hasContentEditableState) {\n          for (i = 0, l = formatList.length; i < l; i++) {\n            if (removeFormat(ed, formatList[i], vars, node, node)) {\n              break;\n            }\n          }\n        }\n        if (format.deep) {\n          if (children.length) {\n            for (i = 0, l = children.length; i < l; i++) {\n              process(children[i]);\n            }\n            if (hasContentEditableState) {\n              contentEditable = lastContentEditable;\n            }\n          }\n        }\n      };\n      var unwrap = function (start) {\n        var node = dom.get(start ? '_start' : '_end');\n        var out = node[start ? 'firstChild' : 'lastChild'];\n        if (isRemoveBookmarkNode(out)) {\n          out = out[start ? 'firstChild' : 'lastChild'];\n        }\n        if (NodeType.isText(out) && out.data.length === 0) {\n          out = start ? node.previousSibling || node.nextSibling : node.nextSibling || node.previousSibling;\n        }\n        dom.remove(node, true);\n        return out;\n      };\n      var removeRngStyle = function (rng) {\n        var startContainer, endContainer;\n        var commonAncestorContainer = rng.commonAncestorContainer;\n        rng = ExpandRange.expandRng(ed, rng, formatList, true);\n        if (format.split) {\n          rng = SplitRange.split(rng);\n          startContainer = getContainer(ed, rng, true);\n          endContainer = getContainer(ed, rng);\n          if (startContainer !== endContainer) {\n            if (/^(TR|TH|TD)$/.test(startContainer.nodeName) && startContainer.firstChild) {\n              if (startContainer.nodeName === 'TR') {\n                startContainer = startContainer.firstChild.firstChild || startContainer;\n              } else {\n                startContainer = startContainer.firstChild || startContainer;\n              }\n            }\n            if (commonAncestorContainer && /^T(HEAD|BODY|FOOT|R)$/.test(commonAncestorContainer.nodeName) && isTableCell$4(endContainer) && endContainer.firstChild) {\n              endContainer = endContainer.firstChild || endContainer;\n            }\n            if (isChildOfInlineParent(dom, startContainer, endContainer)) {\n              var marker = Option.from(startContainer.firstChild).getOr(startContainer);\n              splitToFormatRoot(wrapWithSiblings(dom, marker, true, 'span', {\n                'id': '_start',\n                'data-mce-type': 'bookmark'\n              }));\n              unwrap(true);\n              return;\n            }\n            if (isChildOfInlineParent(dom, endContainer, startContainer)) {\n              var marker = Option.from(endContainer.lastChild).getOr(endContainer);\n              splitToFormatRoot(wrapWithSiblings(dom, marker, false, 'span', {\n                'id': '_end',\n                'data-mce-type': 'bookmark'\n              }));\n              unwrap(false);\n              return;\n            }\n            startContainer = wrap$2(dom, startContainer, 'span', {\n              'id': '_start',\n              'data-mce-type': 'bookmark'\n            });\n            endContainer = wrap$2(dom, endContainer, 'span', {\n              'id': '_end',\n              'data-mce-type': 'bookmark'\n            });\n            splitToFormatRoot(startContainer);\n            splitToFormatRoot(endContainer);\n            startContainer = unwrap(true);\n            endContainer = unwrap();\n          } else {\n            startContainer = endContainer = splitToFormatRoot(startContainer);\n          }\n          rng.startContainer = startContainer.parentNode ? startContainer.parentNode : startContainer;\n          rng.startOffset = dom.nodeIndex(startContainer);\n          rng.endContainer = endContainer.parentNode ? endContainer.parentNode : endContainer;\n          rng.endOffset = dom.nodeIndex(endContainer) + 1;\n        }\n        RangeWalk.walk(dom, rng, function (nodes) {\n          each$d(nodes, function (node) {\n            process(node);\n            if (NodeType.isElement(node) && ed.dom.getStyle(node, 'text-decoration') === 'underline' && node.parentNode && FormatUtils.getTextDecoration(dom, node.parentNode) === 'underline') {\n              removeFormat(ed, {\n                deep: false,\n                exact: true,\n                inline: 'span',\n                styles: { textDecoration: 'underline' }\n              }, null, node);\n            }\n          });\n        });\n      };\n      if (node) {\n        if (node.nodeType) {\n          rng = dom.createRng();\n          rng.setStartBefore(node);\n          rng.setEndAfter(node);\n          removeRngStyle(rng);\n        } else {\n          removeRngStyle(node);\n        }\n        return;\n      }\n      if (dom.getContentEditable(selection.getNode()) === 'false') {\n        node = selection.getNode();\n        for (var i = 0, l = formatList.length; i < l; i++) {\n          if (formatList[i].ceFalseOverride) {\n            if (removeFormat(ed, formatList[i], vars, node, node)) {\n              break;\n            }\n          }\n        }\n        return;\n      }\n      if (!selection.isCollapsed() || !format.inline || dom.select('td[data-mce-selected],th[data-mce-selected]').length) {\n        bookmark = GetBookmark.getPersistentBookmark(ed.selection, true);\n        removeRngStyle(selection.getRng());\n        selection.moveToBookmark(bookmark);\n        if (format.inline && MatchFormat.match(ed, name, vars, selection.getStart())) {\n          FormatUtils.moveStart(dom, selection, selection.getRng());\n        }\n        ed.nodeChanged();\n      } else {\n        removeCaretFormat(ed, name, vars, similar);\n      }\n    };\n    var RemoveFormat = {\n      removeFormat: removeFormat,\n      remove: remove$6\n    };\n\n    var each$e = Tools.each;\n    var isElementNode = function (node) {\n      return node && node.nodeType === 1 && !Bookmarks.isBookmarkNode(node) && !isCaretNode(node) && !NodeType.isBogus(node);\n    };\n    var findElementSibling = function (node, siblingName) {\n      var sibling;\n      for (sibling = node; sibling; sibling = sibling[siblingName]) {\n        if (sibling.nodeType === 3 && sibling.nodeValue.length !== 0) {\n          return node;\n        }\n        if (sibling.nodeType === 1 && !Bookmarks.isBookmarkNode(sibling)) {\n          return sibling;\n        }\n      }\n      return node;\n    };\n    var mergeSiblingsNodes = function (dom, prev, next) {\n      var sibling, tmpSibling;\n      var elementUtils = new ElementUtils(dom);\n      if (prev && next) {\n        prev = findElementSibling(prev, 'previousSibling');\n        next = findElementSibling(next, 'nextSibling');\n        if (elementUtils.compare(prev, next)) {\n          for (sibling = prev.nextSibling; sibling && sibling !== next;) {\n            tmpSibling = sibling;\n            sibling = sibling.nextSibling;\n            prev.appendChild(tmpSibling);\n          }\n          dom.remove(next);\n          Tools.each(Tools.grep(next.childNodes), function (node) {\n            prev.appendChild(node);\n          });\n          return prev;\n        }\n      }\n      return next;\n    };\n    var processChildElements = function (node, filter, process) {\n      each$e(node.childNodes, function (node) {\n        if (isElementNode(node)) {\n          if (filter(node)) {\n            process(node);\n          }\n          if (node.hasChildNodes()) {\n            processChildElements(node, filter, process);\n          }\n        }\n      });\n    };\n    var hasStyle = function (dom, name) {\n      return curry(function (name, node) {\n        return !!(node && FormatUtils.getStyle(dom, node, name));\n      }, name);\n    };\n    var applyStyle = function (dom, name, value) {\n      return curry(function (name, value, node) {\n        dom.setStyle(node, name, value);\n        if (node.getAttribute('style') === '') {\n          node.removeAttribute('style');\n        }\n        unwrapEmptySpan(dom, node);\n      }, name, value);\n    };\n    var unwrapEmptySpan = function (dom, node) {\n      if (node.nodeName === 'SPAN' && dom.getAttribs(node).length === 0) {\n        dom.remove(node, true);\n      }\n    };\n    var processUnderlineAndColor = function (dom, node) {\n      var textDecoration;\n      if (node.nodeType === 1 && node.parentNode && node.parentNode.nodeType === 1) {\n        textDecoration = FormatUtils.getTextDecoration(dom, node.parentNode);\n        if (dom.getStyle(node, 'color') && textDecoration) {\n          dom.setStyle(node, 'text-decoration', textDecoration);\n        } else if (dom.getStyle(node, 'text-decoration') === textDecoration) {\n          dom.setStyle(node, 'text-decoration', null);\n        }\n      }\n    };\n    var mergeUnderlineAndColor = function (dom, format, vars, node) {\n      if (format.styles.color || format.styles.textDecoration) {\n        Tools.walk(node, curry(processUnderlineAndColor, dom), 'childNodes');\n        processUnderlineAndColor(dom, node);\n      }\n    };\n    var mergeBackgroundColorAndFontSize = function (dom, format, vars, node) {\n      if (format.styles && format.styles.backgroundColor) {\n        processChildElements(node, hasStyle(dom, 'fontSize'), applyStyle(dom, 'backgroundColor', FormatUtils.replaceVars(format.styles.backgroundColor, vars)));\n      }\n    };\n    var mergeSubSup = function (dom, format, vars, node) {\n      if (format.inline === 'sub' || format.inline === 'sup') {\n        processChildElements(node, hasStyle(dom, 'fontSize'), applyStyle(dom, 'fontSize', ''));\n        dom.remove(dom.select(format.inline === 'sup' ? 'sub' : 'sup', node), true);\n      }\n    };\n    var mergeSiblings = function (dom, format, vars, node) {\n      if (node && format.merge_siblings !== false) {\n        node = mergeSiblingsNodes(dom, FormatUtils.getNonWhiteSpaceSibling(node), node);\n        node = mergeSiblingsNodes(dom, node, FormatUtils.getNonWhiteSpaceSibling(node, true));\n      }\n    };\n    var clearChildStyles = function (dom, format, node) {\n      if (format.clear_child_styles) {\n        var selector = format.links ? '*:not(a)' : '*';\n        each$e(dom.select(selector, node), function (node) {\n          if (isElementNode(node)) {\n            each$e(format.styles, function (value, name) {\n              dom.setStyle(node, name, '');\n            });\n          }\n        });\n      }\n    };\n    var mergeWithChildren = function (editor, formatList, vars, node) {\n      each$e(formatList, function (format) {\n        each$e(editor.dom.select(format.inline, node), function (child) {\n          if (!isElementNode(child)) {\n            return;\n          }\n          RemoveFormat.removeFormat(editor, format, vars, child, format.exact ? child : null);\n        });\n        clearChildStyles(editor.dom, format, node);\n      });\n    };\n    var mergeWithParents = function (editor, format, name, vars, node) {\n      if (MatchFormat.matchNode(editor, node.parentNode, name, vars)) {\n        if (RemoveFormat.removeFormat(editor, format, vars, node)) {\n          return;\n        }\n      }\n      if (format.merge_with_parents) {\n        editor.dom.getParent(node.parentNode, function (parent) {\n          if (MatchFormat.matchNode(editor, parent, name, vars)) {\n            RemoveFormat.removeFormat(editor, format, vars, node);\n            return true;\n          }\n        });\n      }\n    };\n    var MergeFormats = {\n      mergeWithChildren: mergeWithChildren,\n      mergeUnderlineAndColor: mergeUnderlineAndColor,\n      mergeBackgroundColorAndFontSize: mergeBackgroundColorAndFontSize,\n      mergeSubSup: mergeSubSup,\n      mergeSiblings: mergeSiblings,\n      mergeWithParents: mergeWithParents\n    };\n\n    var each$f = Tools.each;\n    var isElementNode$1 = function (node) {\n      return node && node.nodeType === 1 && !Bookmarks.isBookmarkNode(node) && !isCaretNode(node) && !NodeType.isBogus(node);\n    };\n    var applyFormat = function (ed, name, vars, node) {\n      var formatList = ed.formatter.get(name);\n      var format = formatList[0];\n      var bookmark, rng;\n      var isCollapsed = !node && ed.selection.isCollapsed();\n      var dom = ed.dom, selection = ed.selection;\n      var setElementFormat = function (elm, fmt) {\n        fmt = fmt || format;\n        if (elm) {\n          if (fmt.onformat) {\n            fmt.onformat(elm, fmt, vars, node);\n          }\n          each$f(fmt.styles, function (value, name) {\n            dom.setStyle(elm, name, FormatUtils.replaceVars(value, vars));\n          });\n          if (fmt.styles) {\n            var styleVal = dom.getAttrib(elm, 'style');\n            if (styleVal) {\n              elm.setAttribute('data-mce-style', styleVal);\n            }\n          }\n          each$f(fmt.attributes, function (value, name) {\n            dom.setAttrib(elm, name, FormatUtils.replaceVars(value, vars));\n          });\n          each$f(fmt.classes, function (value) {\n            value = FormatUtils.replaceVars(value, vars);\n            if (!dom.hasClass(elm, value)) {\n              dom.addClass(elm, value);\n            }\n          });\n        }\n      };\n      var applyNodeStyle = function (formatList, node) {\n        var found = false;\n        if (!format.selector) {\n          return false;\n        }\n        each$f(formatList, function (format) {\n          if ('collapsed' in format && format.collapsed !== isCollapsed) {\n            return;\n          }\n          if (dom.is(node, format.selector) && !isCaretNode(node)) {\n            setElementFormat(node, format);\n            found = true;\n            return false;\n          }\n        });\n        return found;\n      };\n      var applyRngStyle = function (dom, rng, bookmark, nodeSpecific) {\n        var newWrappers = [];\n        var wrapName, wrapElm, contentEditable = true;\n        wrapName = format.inline || format.block;\n        wrapElm = dom.create(wrapName);\n        setElementFormat(wrapElm);\n        RangeWalk.walk(dom, rng, function (nodes) {\n          var currentWrapElm;\n          var process = function (node) {\n            var nodeName, parentName, hasContentEditableState, lastContentEditable;\n            lastContentEditable = contentEditable;\n            nodeName = node.nodeName.toLowerCase();\n            parentName = node.parentNode.nodeName.toLowerCase();\n            if (node.nodeType === 1 && dom.getContentEditable(node)) {\n              lastContentEditable = contentEditable;\n              contentEditable = dom.getContentEditable(node) === 'true';\n              hasContentEditableState = true;\n            }\n            if (FormatUtils.isEq(nodeName, 'br')) {\n              currentWrapElm = 0;\n              if (format.block) {\n                dom.remove(node);\n              }\n              return;\n            }\n            if (format.wrapper && MatchFormat.matchNode(ed, node, name, vars)) {\n              currentWrapElm = 0;\n              return;\n            }\n            if (contentEditable && !hasContentEditableState && format.block && !format.wrapper && FormatUtils.isTextBlock(ed, nodeName) && FormatUtils.isValid(ed, parentName, wrapName)) {\n              node = dom.rename(node, wrapName);\n              setElementFormat(node);\n              newWrappers.push(node);\n              currentWrapElm = 0;\n              return;\n            }\n            if (format.selector) {\n              var found = applyNodeStyle(formatList, node);\n              if (!format.inline || found) {\n                currentWrapElm = 0;\n                return;\n              }\n            }\n            if (contentEditable && !hasContentEditableState && FormatUtils.isValid(ed, wrapName, nodeName) && FormatUtils.isValid(ed, parentName, wrapName) && !(!nodeSpecific && node.nodeType === 3 && node.nodeValue.length === 1 && node.nodeValue.charCodeAt(0) === 65279) && !isCaretNode(node) && (!format.inline || !dom.isBlock(node))) {\n              if (!currentWrapElm) {\n                currentWrapElm = dom.clone(wrapElm, false);\n                node.parentNode.insertBefore(currentWrapElm, node);\n                newWrappers.push(currentWrapElm);\n              }\n              currentWrapElm.appendChild(node);\n            } else {\n              currentWrapElm = 0;\n              each$f(Tools.grep(node.childNodes), process);\n              if (hasContentEditableState) {\n                contentEditable = lastContentEditable;\n              }\n              currentWrapElm = 0;\n            }\n          };\n          each$f(nodes, process);\n        });\n        if (format.links === true) {\n          each$f(newWrappers, function (node) {\n            var process = function (node) {\n              if (node.nodeName === 'A') {\n                setElementFormat(node, format);\n              }\n              each$f(Tools.grep(node.childNodes), process);\n            };\n            process(node);\n          });\n        }\n        each$f(newWrappers, function (node) {\n          var childCount;\n          var getChildCount = function (node) {\n            var count = 0;\n            each$f(node.childNodes, function (node) {\n              if (!FormatUtils.isWhiteSpaceNode(node) && !Bookmarks.isBookmarkNode(node)) {\n                count++;\n              }\n            });\n            return count;\n          };\n          var getChildElementNode = function (root) {\n            var child = false;\n            each$f(root.childNodes, function (node) {\n              if (isElementNode$1(node)) {\n                child = node;\n                return false;\n              }\n            });\n            return child;\n          };\n          var mergeStyles = function (node) {\n            var child, clone;\n            child = getChildElementNode(node);\n            if (child && !Bookmarks.isBookmarkNode(child) && MatchFormat.matchName(dom, child, format)) {\n              clone = dom.clone(child, false);\n              setElementFormat(clone);\n              dom.replace(clone, node, true);\n              dom.remove(child, 1);\n            }\n            return clone || node;\n          };\n          childCount = getChildCount(node);\n          if ((newWrappers.length > 1 || !dom.isBlock(node)) && childCount === 0) {\n            dom.remove(node, 1);\n            return;\n          }\n          if (format.inline || format.wrapper) {\n            if (!format.exact && childCount === 1) {\n              node = mergeStyles(node);\n            }\n            MergeFormats.mergeWithChildren(ed, formatList, vars, node);\n            MergeFormats.mergeWithParents(ed, format, name, vars, node);\n            MergeFormats.mergeBackgroundColorAndFontSize(dom, format, vars, node);\n            MergeFormats.mergeSubSup(dom, format, vars, node);\n            MergeFormats.mergeSiblings(dom, format, vars, node);\n          }\n        });\n      };\n      if (dom.getContentEditable(selection.getNode()) === 'false') {\n        node = selection.getNode();\n        for (var i = 0, l = formatList.length; i < l; i++) {\n          if (formatList[i].ceFalseOverride && dom.is(node, formatList[i].selector)) {\n            setElementFormat(node, formatList[i]);\n            return;\n          }\n        }\n        return;\n      }\n      if (format) {\n        if (node) {\n          if (node.nodeType) {\n            if (!applyNodeStyle(formatList, node)) {\n              rng = dom.createRng();\n              rng.setStartBefore(node);\n              rng.setEndAfter(node);\n              applyRngStyle(dom, ExpandRange.expandRng(ed, rng, formatList), null, true);\n            }\n          } else {\n            applyRngStyle(dom, node, null, true);\n          }\n        } else {\n          if (!isCollapsed || !format.inline || dom.select('td[data-mce-selected],th[data-mce-selected]').length) {\n            var curSelNode = ed.selection.getNode();\n            if (!ed.settings.forced_root_block && formatList[0].defaultBlock && !dom.getParent(curSelNode, dom.isBlock)) {\n              applyFormat(ed, formatList[0].defaultBlock);\n            }\n            ed.selection.setRng(RangeNormalizer.normalize(ed.selection.getRng()));\n            bookmark = GetBookmark.getPersistentBookmark(ed.selection, true);\n            applyRngStyle(dom, ExpandRange.expandRng(ed, selection.getRng(), formatList));\n            if (format.styles) {\n              MergeFormats.mergeUnderlineAndColor(dom, format, vars, curSelNode);\n            }\n            selection.moveToBookmark(bookmark);\n            FormatUtils.moveStart(dom, selection, selection.getRng());\n            ed.nodeChanged();\n          } else {\n            applyCaretFormat(ed, name, vars);\n          }\n        }\n        Hooks.postProcess(name, ed);\n      }\n    };\n    var ApplyFormat = { applyFormat: applyFormat };\n\n    var each$g = Tools.each;\n    var setup$5 = function (formatChangeData, editor) {\n      var currentFormats = {};\n      formatChangeData.set({});\n      editor.on('NodeChange', function (e) {\n        var parents = FormatUtils.getParents(editor.dom, e.element);\n        var matchedFormats = {};\n        parents = Tools.grep(parents, function (node) {\n          return node.nodeType === 1 && !node.getAttribute('data-mce-bogus');\n        });\n        each$g(formatChangeData.get(), function (callbacks, format) {\n          each$g(parents, function (node) {\n            if (editor.formatter.matchNode(node, format, {}, callbacks.similar)) {\n              if (!currentFormats[format]) {\n                each$g(callbacks, function (callback) {\n                  callback(true, {\n                    node: node,\n                    format: format,\n                    parents: parents\n                  });\n                });\n                currentFormats[format] = callbacks;\n              }\n              matchedFormats[format] = callbacks;\n              return false;\n            }\n            if (MatchFormat.matchesUnInheritedFormatSelector(editor, node, format)) {\n              return false;\n            }\n          });\n        });\n        each$g(currentFormats, function (callbacks, format) {\n          if (!matchedFormats[format]) {\n            delete currentFormats[format];\n            each$g(callbacks, function (callback) {\n              callback(false, {\n                node: e.element,\n                format: format,\n                parents: parents\n              });\n            });\n          }\n        });\n      });\n    };\n    var addListeners = function (formatChangeData, formats, callback, similar) {\n      var formatChangeItems = formatChangeData.get();\n      each$g(formats.split(','), function (format) {\n        if (!formatChangeItems[format]) {\n          formatChangeItems[format] = [];\n          formatChangeItems[format].similar = similar;\n        }\n        formatChangeItems[format].push(callback);\n      });\n      formatChangeData.set(formatChangeItems);\n    };\n    var formatChanged = function (editor, formatChangeState, formats, callback, similar) {\n      if (formatChangeState.get() === null) {\n        setup$5(formatChangeState, editor);\n      }\n      addListeners(formatChangeState, formats, callback, similar);\n    };\n    var FormatChanged = { formatChanged: formatChanged };\n\n    var get$5 = function (dom) {\n      var formats = {\n        valigntop: [{\n            selector: 'td,th',\n            styles: { verticalAlign: 'top' }\n          }],\n        valignmiddle: [{\n            selector: 'td,th',\n            styles: { verticalAlign: 'middle' }\n          }],\n        valignbottom: [{\n            selector: 'td,th',\n            styles: { verticalAlign: 'bottom' }\n          }],\n        alignleft: [\n          {\n            selector: 'figure.image',\n            collapsed: false,\n            classes: 'align-left',\n            ceFalseOverride: true,\n            preview: 'font-family font-size'\n          },\n          {\n            selector: 'figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li',\n            styles: { textAlign: 'left' },\n            inherit: false,\n            preview: false,\n            defaultBlock: 'div'\n          },\n          {\n            selector: 'img,table',\n            collapsed: false,\n            styles: { float: 'left' },\n            preview: 'font-family font-size'\n          }\n        ],\n        aligncenter: [\n          {\n            selector: 'figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li',\n            styles: { textAlign: 'center' },\n            inherit: false,\n            preview: 'font-family font-size',\n            defaultBlock: 'div'\n          },\n          {\n            selector: 'figure.image',\n            collapsed: false,\n            classes: 'align-center',\n            ceFalseOverride: true,\n            preview: 'font-family font-size'\n          },\n          {\n            selector: 'img',\n            collapsed: false,\n            styles: {\n              display: 'block',\n              marginLeft: 'auto',\n              marginRight: 'auto'\n            },\n            preview: false\n          },\n          {\n            selector: 'table',\n            collapsed: false,\n            styles: {\n              marginLeft: 'auto',\n              marginRight: 'auto'\n            },\n            preview: 'font-family font-size'\n          }\n        ],\n        alignright: [\n          {\n            selector: 'figure.image',\n            collapsed: false,\n            classes: 'align-right',\n            ceFalseOverride: true,\n            preview: 'font-family font-size'\n          },\n          {\n            selector: 'figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li',\n            styles: { textAlign: 'right' },\n            inherit: false,\n            preview: 'font-family font-size',\n            defaultBlock: 'div'\n          },\n          {\n            selector: 'img,table',\n            collapsed: false,\n            styles: { float: 'right' },\n            preview: 'font-family font-size'\n          }\n        ],\n        alignjustify: [{\n            selector: 'figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li',\n            styles: { textAlign: 'justify' },\n            inherit: false,\n            defaultBlock: 'div',\n            preview: 'font-family font-size'\n          }],\n        bold: [\n          {\n            inline: 'strong',\n            remove: 'all'\n          },\n          {\n            inline: 'span',\n            styles: { fontWeight: 'bold' }\n          },\n          {\n            inline: 'b',\n            remove: 'all'\n          }\n        ],\n        italic: [\n          {\n            inline: 'em',\n            remove: 'all'\n          },\n          {\n            inline: 'span',\n            styles: { fontStyle: 'italic' }\n          },\n          {\n            inline: 'i',\n            remove: 'all'\n          }\n        ],\n        underline: [\n          {\n            inline: 'span',\n            styles: { textDecoration: 'underline' },\n            exact: true\n          },\n          {\n            inline: 'u',\n            remove: 'all'\n          }\n        ],\n        strikethrough: [\n          {\n            inline: 'span',\n            styles: { textDecoration: 'line-through' },\n            exact: true\n          },\n          {\n            inline: 'strike',\n            remove: 'all'\n          }\n        ],\n        forecolor: {\n          inline: 'span',\n          styles: { color: '%value' },\n          links: true,\n          remove_similar: true,\n          clear_child_styles: true\n        },\n        hilitecolor: {\n          inline: 'span',\n          styles: { backgroundColor: '%value' },\n          links: true,\n          remove_similar: true,\n          clear_child_styles: true\n        },\n        fontname: {\n          inline: 'span',\n          toggle: false,\n          styles: { fontFamily: '%value' },\n          clear_child_styles: true\n        },\n        fontsize: {\n          inline: 'span',\n          toggle: false,\n          styles: { fontSize: '%value' },\n          clear_child_styles: true\n        },\n        fontsize_class: {\n          inline: 'span',\n          attributes: { class: '%value' }\n        },\n        blockquote: {\n          block: 'blockquote',\n          wrapper: 1,\n          remove: 'all'\n        },\n        subscript: { inline: 'sub' },\n        superscript: { inline: 'sup' },\n        code: { inline: 'code' },\n        link: {\n          inline: 'a',\n          selector: 'a',\n          remove: 'all',\n          split: true,\n          deep: true,\n          onmatch: function () {\n            return true;\n          },\n          onformat: function (elm, fmt, vars) {\n            Tools.each(vars, function (value, key) {\n              dom.setAttrib(elm, key, value);\n            });\n          }\n        },\n        removeformat: [\n          {\n            selector: 'b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins',\n            remove: 'all',\n            split: true,\n            expand: false,\n            block_expand: true,\n            deep: true\n          },\n          {\n            selector: 'span',\n            attributes: [\n              'style',\n              'class'\n            ],\n            remove: 'empty',\n            split: true,\n            expand: false,\n            deep: true\n          },\n          {\n            selector: '*',\n            attributes: [\n              'style',\n              'class'\n            ],\n            split: false,\n            expand: false,\n            deep: true\n          }\n        ]\n      };\n      Tools.each('p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp'.split(/\\s/), function (name) {\n        formats[name] = {\n          block: name,\n          remove: 'all'\n        };\n      });\n      return formats;\n    };\n    var DefaultFormats = { get: get$5 };\n\n    function FormatRegistry (editor) {\n      var formats = {};\n      var get = function (name) {\n        return name ? formats[name] : formats;\n      };\n      var register = function (name, format) {\n        if (name) {\n          if (typeof name !== 'string') {\n            Tools.each(name, function (format, name) {\n              register(name, format);\n            });\n          } else {\n            format = format.length ? format : [format];\n            Tools.each(format, function (format) {\n              if (typeof format.deep === 'undefined') {\n                format.deep = !format.selector;\n              }\n              if (typeof format.split === 'undefined') {\n                format.split = !format.selector || format.inline;\n              }\n              if (typeof format.remove === 'undefined' && format.selector && !format.inline) {\n                format.remove = 'none';\n              }\n              if (format.selector && format.inline) {\n                format.mixed = true;\n                format.block_expand = true;\n              }\n              if (typeof format.classes === 'string') {\n                format.classes = format.classes.split(/\\s+/);\n              }\n            });\n            formats[name] = format;\n          }\n        }\n      };\n      var unregister = function (name) {\n        if (name && formats[name]) {\n          delete formats[name];\n        }\n        return formats;\n      };\n      register(DefaultFormats.get(editor.dom));\n      register(editor.settings.formats);\n      return {\n        get: get,\n        register: register,\n        unregister: unregister\n      };\n    }\n\n    var each$h = Tools.each;\n    var dom = DOMUtils$1.DOM;\n    var parsedSelectorToHtml = function (ancestry, editor) {\n      var elm, item, fragment;\n      var schema = editor && editor.schema || Schema({});\n      var decorate = function (elm, item) {\n        if (item.classes.length) {\n          dom.addClass(elm, item.classes.join(' '));\n        }\n        dom.setAttribs(elm, item.attrs);\n      };\n      var createElement = function (sItem) {\n        var elm;\n        item = typeof sItem === 'string' ? {\n          name: sItem,\n          classes: [],\n          attrs: {}\n        } : sItem;\n        elm = dom.create(item.name);\n        decorate(elm, item);\n        return elm;\n      };\n      var getRequiredParent = function (elm, candidate) {\n        var name = typeof elm !== 'string' ? elm.nodeName.toLowerCase() : elm;\n        var elmRule = schema.getElementRule(name);\n        var parentsRequired = elmRule && elmRule.parentsRequired;\n        if (parentsRequired && parentsRequired.length) {\n          return candidate && Tools.inArray(parentsRequired, candidate) !== -1 ? candidate : parentsRequired[0];\n        } else {\n          return false;\n        }\n      };\n      var wrapInHtml = function (elm, ancestry, siblings) {\n        var parent, parentCandidate, parentRequired;\n        var ancestor = ancestry.length > 0 && ancestry[0];\n        var ancestorName = ancestor && ancestor.name;\n        parentRequired = getRequiredParent(elm, ancestorName);\n        if (parentRequired) {\n          if (ancestorName === parentRequired) {\n            parentCandidate = ancestry[0];\n            ancestry = ancestry.slice(1);\n          } else {\n            parentCandidate = parentRequired;\n          }\n        } else if (ancestor) {\n          parentCandidate = ancestry[0];\n          ancestry = ancestry.slice(1);\n        } else if (!siblings) {\n          return elm;\n        }\n        if (parentCandidate) {\n          parent = createElement(parentCandidate);\n          parent.appendChild(elm);\n        }\n        if (siblings) {\n          if (!parent) {\n            parent = dom.create('div');\n            parent.appendChild(elm);\n          }\n          Tools.each(siblings, function (sibling) {\n            var siblingElm = createElement(sibling);\n            parent.insertBefore(siblingElm, elm);\n          });\n        }\n        return wrapInHtml(parent, ancestry, parentCandidate && parentCandidate.siblings);\n      };\n      if (ancestry && ancestry.length) {\n        item = ancestry[0];\n        elm = createElement(item);\n        fragment = dom.create('div');\n        fragment.appendChild(wrapInHtml(elm, ancestry.slice(1), item.siblings));\n        return fragment;\n      } else {\n        return '';\n      }\n    };\n    var selectorToHtml = function (selector, editor) {\n      return parsedSelectorToHtml(parseSelector(selector), editor);\n    };\n    var parseSelectorItem = function (item) {\n      var tagName;\n      var obj = {\n        classes: [],\n        attrs: {}\n      };\n      item = obj.selector = Tools.trim(item);\n      if (item !== '*') {\n        tagName = item.replace(/(?:([#\\.]|::?)([\\w\\-]+)|(\\[)([^\\]]+)\\]?)/g, function ($0, $1, $2, $3, $4) {\n          switch ($1) {\n          case '#':\n            obj.attrs.id = $2;\n            break;\n          case '.':\n            obj.classes.push($2);\n            break;\n          case ':':\n            if (Tools.inArray('checked disabled enabled read-only required'.split(' '), $2) !== -1) {\n              obj.attrs[$2] = $2;\n            }\n            break;\n          }\n          if ($3 === '[') {\n            var m = $4.match(/([\\w\\-]+)(?:\\=\\\"([^\\\"]+))?/);\n            if (m) {\n              obj.attrs[m[1]] = m[2];\n            }\n          }\n          return '';\n        });\n      }\n      obj.name = tagName || 'div';\n      return obj;\n    };\n    var parseSelector = function (selector) {\n      if (!selector || typeof selector !== 'string') {\n        return [];\n      }\n      selector = selector.split(/\\s*,\\s*/)[0];\n      selector = selector.replace(/\\s*(~\\+|~|\\+|>)\\s*/g, '$1');\n      return Tools.map(selector.split(/(?:>|\\s+(?![^\\[\\]]+\\]))/), function (item) {\n        var siblings = Tools.map(item.split(/(?:~\\+|~|\\+)/), parseSelectorItem);\n        var obj = siblings.pop();\n        if (siblings.length) {\n          obj.siblings = siblings;\n        }\n        return obj;\n      }).reverse();\n    };\n    var getCssText = function (editor, format) {\n      var name, previewFrag, previewElm, items;\n      var previewCss = '', parentFontSize, previewStyles;\n      previewStyles = editor.settings.preview_styles;\n      if (previewStyles === false) {\n        return '';\n      }\n      if (typeof previewStyles !== 'string') {\n        previewStyles = 'font-family font-size font-weight font-style text-decoration ' + 'text-transform color background-color border border-radius outline text-shadow';\n      }\n      var removeVars = function (val) {\n        return val.replace(/%(\\w+)/g, '');\n      };\n      if (typeof format === 'string') {\n        format = editor.formatter.get(format);\n        if (!format) {\n          return;\n        }\n        format = format[0];\n      }\n      if ('preview' in format) {\n        previewStyles = format.preview;\n        if (previewStyles === false) {\n          return '';\n        }\n      }\n      name = format.block || format.inline || 'span';\n      items = parseSelector(format.selector);\n      if (items.length) {\n        if (!items[0].name) {\n          items[0].name = name;\n        }\n        name = format.selector;\n        previewFrag = parsedSelectorToHtml(items, editor);\n      } else {\n        previewFrag = parsedSelectorToHtml([name], editor);\n      }\n      previewElm = dom.select(name, previewFrag)[0] || previewFrag.firstChild;\n      each$h(format.styles, function (value, name) {\n        value = removeVars(value);\n        if (value) {\n          dom.setStyle(previewElm, name, value);\n        }\n      });\n      each$h(format.attributes, function (value, name) {\n        value = removeVars(value);\n        if (value) {\n          dom.setAttrib(previewElm, name, value);\n        }\n      });\n      each$h(format.classes, function (value) {\n        value = removeVars(value);\n        if (!dom.hasClass(previewElm, value)) {\n          dom.addClass(previewElm, value);\n        }\n      });\n      editor.fire('PreviewFormats');\n      dom.setStyles(previewFrag, {\n        position: 'absolute',\n        left: -65535\n      });\n      editor.getBody().appendChild(previewFrag);\n      parentFontSize = dom.getStyle(editor.getBody(), 'fontSize', true);\n      parentFontSize = /px$/.test(parentFontSize) ? parseInt(parentFontSize, 10) : 0;\n      each$h(previewStyles.split(' '), function (name) {\n        var value = dom.getStyle(previewElm, name, true);\n        if (name === 'background-color' && /transparent|rgba\\s*\\([^)]+,\\s*0\\)/.test(value)) {\n          value = dom.getStyle(editor.getBody(), name, true);\n          if (dom.toHex(value).toLowerCase() === '#ffffff') {\n            return;\n          }\n        }\n        if (name === 'color') {\n          if (dom.toHex(value).toLowerCase() === '#000000') {\n            return;\n          }\n        }\n        if (name === 'font-size') {\n          if (/em|%$/.test(value)) {\n            if (parentFontSize === 0) {\n              return;\n            }\n            var numValue = parseFloat(value) / (/%$/.test(value) ? 100 : 1);\n            value = numValue * parentFontSize + 'px';\n          }\n        }\n        if (name === 'border' && value) {\n          previewCss += 'padding:0 2px;';\n        }\n        previewCss += name + ':' + value + ';';\n      });\n      editor.fire('AfterPreviewFormats');\n      dom.remove(previewFrag);\n      return previewCss;\n    };\n    var Preview = {\n      getCssText: getCssText,\n      parseSelector: parseSelector,\n      selectorToHtml: selectorToHtml\n    };\n\n    var toggle = function (editor, formats, name, vars, node) {\n      var fmt = formats.get(name);\n      if (MatchFormat.match(editor, name, vars, node) && (!('toggle' in fmt[0]) || fmt[0].toggle)) {\n        RemoveFormat.remove(editor, name, vars, node);\n      } else {\n        ApplyFormat.applyFormat(editor, name, vars, node);\n      }\n    };\n    var ToggleFormat = { toggle: toggle };\n\n    var setup$6 = function (editor) {\n      editor.addShortcut('meta+b', '', 'Bold');\n      editor.addShortcut('meta+i', '', 'Italic');\n      editor.addShortcut('meta+u', '', 'Underline');\n      for (var i = 1; i <= 6; i++) {\n        editor.addShortcut('access+' + i, '', [\n          'FormatBlock',\n          false,\n          'h' + i\n        ]);\n      }\n      editor.addShortcut('access+7', '', [\n        'FormatBlock',\n        false,\n        'p'\n      ]);\n      editor.addShortcut('access+8', '', [\n        'FormatBlock',\n        false,\n        'div'\n      ]);\n      editor.addShortcut('access+9', '', [\n        'FormatBlock',\n        false,\n        'address'\n      ]);\n    };\n    var FormatShortcuts = { setup: setup$6 };\n\n    function Formatter (editor) {\n      var formats = FormatRegistry(editor);\n      var formatChangeState = Cell(null);\n      FormatShortcuts.setup(editor);\n      setup$2(editor);\n      return {\n        get: formats.get,\n        register: formats.register,\n        unregister: formats.unregister,\n        apply: curry(ApplyFormat.applyFormat, editor),\n        remove: curry(RemoveFormat.remove, editor),\n        toggle: curry(ToggleFormat.toggle, editor, formats),\n        match: curry(MatchFormat.match, editor),\n        matchAll: curry(MatchFormat.matchAll, editor),\n        matchNode: curry(MatchFormat.matchNode, editor),\n        canApply: curry(MatchFormat.canApply, editor),\n        formatChanged: curry(FormatChanged.formatChanged, editor, formatChangeState),\n        getCssText: curry(Preview.getCssText, editor)\n      };\n    }\n\n    var hasOwnProperty$2 = Object.prototype.hasOwnProperty;\n    var shallow$1 = function (old, nu) {\n      return nu;\n    };\n    var baseMerge = function (merger) {\n      return function () {\n        var objects = new Array(arguments.length);\n        for (var i = 0; i < objects.length; i++) {\n          objects[i] = arguments[i];\n        }\n        if (objects.length === 0) {\n          throw new Error('Can\\'t merge zero objects');\n        }\n        var ret = {};\n        for (var j = 0; j < objects.length; j++) {\n          var curObject = objects[j];\n          for (var key in curObject) {\n            if (hasOwnProperty$2.call(curObject, key)) {\n              ret[key] = merger(ret[key], curObject[key]);\n            }\n          }\n        }\n        return ret;\n      };\n    };\n    var merge = baseMerge(shallow$1);\n\n    var register = function (htmlParser, settings, dom) {\n      htmlParser.addAttributeFilter('data-mce-tabindex', function (nodes, name) {\n        var i = nodes.length, node;\n        while (i--) {\n          node = nodes[i];\n          node.attr('tabindex', node.attributes.map['data-mce-tabindex']);\n          node.attr(name, null);\n        }\n      });\n      htmlParser.addAttributeFilter('src,href,style', function (nodes, name) {\n        var i = nodes.length, node, value;\n        var internalName = 'data-mce-' + name;\n        var urlConverter = settings.url_converter;\n        var urlConverterScope = settings.url_converter_scope;\n        while (i--) {\n          node = nodes[i];\n          value = node.attributes.map[internalName];\n          if (value !== undefined) {\n            node.attr(name, value.length > 0 ? value : null);\n            node.attr(internalName, null);\n          } else {\n            value = node.attributes.map[name];\n            if (name === 'style') {\n              value = dom.serializeStyle(dom.parseStyle(value), node.name);\n            } else if (urlConverter) {\n              value = urlConverter.call(urlConverterScope, value, name, node.name);\n            }\n            node.attr(name, value.length > 0 ? value : null);\n          }\n        }\n      });\n      htmlParser.addAttributeFilter('class', function (nodes) {\n        var i = nodes.length, node, value;\n        while (i--) {\n          node = nodes[i];\n          value = node.attr('class');\n          if (value) {\n            value = node.attr('class').replace(/(?:^|\\s)mce-item-\\w+(?!\\S)/g, '');\n            node.attr('class', value.length > 0 ? value : null);\n          }\n        }\n      });\n      htmlParser.addAttributeFilter('data-mce-type', function (nodes, name, args) {\n        var i = nodes.length, node;\n        while (i--) {\n          node = nodes[i];\n          if (node.attributes.map['data-mce-type'] === 'bookmark' && !args.cleanup) {\n            var hasChildren = Option.from(node.firstChild).exists(function (firstChild) {\n              return !Zwsp.isZwsp(firstChild.value);\n            });\n            if (hasChildren) {\n              node.unwrap();\n            } else {\n              node.remove();\n            }\n          }\n        }\n      });\n      htmlParser.addNodeFilter('noscript', function (nodes) {\n        var i = nodes.length, node;\n        while (i--) {\n          node = nodes[i].firstChild;\n          if (node) {\n            node.value = Entities.decode(node.value);\n          }\n        }\n      });\n      htmlParser.addNodeFilter('script,style', function (nodes, name) {\n        var i = nodes.length, node, value, type;\n        var trim = function (value) {\n          return value.replace(/(<!--\\[CDATA\\[|\\]\\]-->)/g, '\\n').replace(/^[\\r\\n]*|[\\r\\n]*$/g, '').replace(/^\\s*((<!--)?(\\s*\\/\\/)?\\s*<!\\[CDATA\\[|(<!--\\s*)?\\/\\*\\s*<!\\[CDATA\\[\\s*\\*\\/|(\\/\\/)?\\s*<!--|\\/\\*\\s*<!--\\s*\\*\\/)\\s*[\\r\\n]*/gi, '').replace(/\\s*(\\/\\*\\s*\\]\\]>\\s*\\*\\/(-->)?|\\s*\\/\\/\\s*\\]\\]>(-->)?|\\/\\/\\s*(-->)?|\\]\\]>|\\/\\*\\s*-->\\s*\\*\\/|\\s*-->\\s*)\\s*$/g, '');\n        };\n        while (i--) {\n          node = nodes[i];\n          value = node.firstChild ? node.firstChild.value : '';\n          if (name === 'script') {\n            type = node.attr('type');\n            if (type) {\n              node.attr('type', type === 'mce-no/type' ? null : type.replace(/^mce\\-/, ''));\n            }\n            if (settings.element_format === 'xhtml' && value.length > 0) {\n              node.firstChild.value = '// <![CDATA[\\n' + trim(value) + '\\n// ]]>';\n            }\n          } else {\n            if (settings.element_format === 'xhtml' && value.length > 0) {\n              node.firstChild.value = '<!--\\n' + trim(value) + '\\n-->';\n            }\n          }\n        }\n      });\n      htmlParser.addNodeFilter('#comment', function (nodes) {\n        var i = nodes.length, node;\n        while (i--) {\n          node = nodes[i];\n          if (node.value.indexOf('[CDATA[') === 0) {\n            node.name = '#cdata';\n            node.type = 4;\n            node.value = node.value.replace(/^\\[CDATA\\[|\\]\\]$/g, '');\n          } else if (node.value.indexOf('mce:protected ') === 0) {\n            node.name = '#text';\n            node.type = 3;\n            node.raw = true;\n            node.value = unescape(node.value).substr(14);\n          }\n        }\n      });\n      htmlParser.addNodeFilter('xml:namespace,input', function (nodes, name) {\n        var i = nodes.length, node;\n        while (i--) {\n          node = nodes[i];\n          if (node.type === 7) {\n            node.remove();\n          } else if (node.type === 1) {\n            if (name === 'input' && !('type' in node.attributes.map)) {\n              node.attr('type', 'text');\n            }\n          }\n        }\n      });\n      htmlParser.addAttributeFilter('data-mce-type', function (nodes) {\n        each(nodes, function (node) {\n          if (node.attr('data-mce-type') === 'format-caret') {\n            if (node.isEmpty(htmlParser.schema.getNonEmptyElements())) {\n              node.remove();\n            } else {\n              node.unwrap();\n            }\n          }\n        });\n      });\n      htmlParser.addAttributeFilter('data-mce-src,data-mce-href,data-mce-style,' + 'data-mce-selected,data-mce-expando,' + 'data-mce-type,data-mce-resize', function (nodes, name) {\n        var i = nodes.length;\n        while (i--) {\n          nodes[i].attr(name, null);\n        }\n      });\n    };\n    var trimTrailingBr = function (rootNode) {\n      var brNode1, brNode2;\n      var isBr = function (node) {\n        return node && node.name === 'br';\n      };\n      brNode1 = rootNode.lastChild;\n      if (isBr(brNode1)) {\n        brNode2 = brNode1.prev;\n        if (isBr(brNode2)) {\n          brNode1.remove();\n          brNode2.remove();\n        }\n      }\n    };\n    var DomSerializerFilters = {\n      register: register,\n      trimTrailingBr: trimTrailingBr\n    };\n\n    var preProcess = function (editor, node, args) {\n      var impl, doc, oldDoc;\n      var dom = editor.dom;\n      node = node.cloneNode(true);\n      impl = domGlobals.document.implementation;\n      if (impl.createHTMLDocument) {\n        doc = impl.createHTMLDocument('');\n        Tools.each(node.nodeName === 'BODY' ? node.childNodes : [node], function (node) {\n          doc.body.appendChild(doc.importNode(node, true));\n        });\n        if (node.nodeName !== 'BODY') {\n          node = doc.body.firstChild;\n        } else {\n          node = doc.body;\n        }\n        oldDoc = dom.doc;\n        dom.doc = doc;\n      }\n      Events.firePreProcess(editor, merge(args, { node: node }));\n      if (oldDoc) {\n        dom.doc = oldDoc;\n      }\n      return node;\n    };\n    var shouldFireEvent = function (editor, args) {\n      return editor && editor.hasEventListeners('PreProcess') && !args.no_events;\n    };\n    var process = function (editor, node, args) {\n      return shouldFireEvent(editor, args) ? preProcess(editor, node, args) : node;\n    };\n    var DomSerializerPreProcess = { process: process };\n\n    var removeAttrs = function (node, names) {\n      each(names, function (name) {\n        node.attr(name, null);\n      });\n    };\n    var addFontToSpansFilter = function (domParser, styles, fontSizes) {\n      domParser.addNodeFilter('font', function (nodes) {\n        each(nodes, function (node) {\n          var props = styles.parse(node.attr('style'));\n          var color = node.attr('color');\n          var face = node.attr('face');\n          var size = node.attr('size');\n          if (color) {\n            props.color = color;\n          }\n          if (face) {\n            props['font-family'] = face;\n          }\n          if (size) {\n            props['font-size'] = fontSizes[parseInt(node.attr('size'), 10) - 1];\n          }\n          node.name = 'span';\n          node.attr('style', styles.serialize(props));\n          removeAttrs(node, [\n            'color',\n            'face',\n            'size'\n          ]);\n        });\n      });\n    };\n    var addStrikeToSpanFilter = function (domParser, styles) {\n      domParser.addNodeFilter('strike', function (nodes) {\n        each(nodes, function (node) {\n          var props = styles.parse(node.attr('style'));\n          props['text-decoration'] = 'line-through';\n          node.name = 'span';\n          node.attr('style', styles.serialize(props));\n        });\n      });\n    };\n    var addFilters = function (domParser, settings) {\n      var styles = Styles();\n      if (settings.convert_fonts_to_spans) {\n        addFontToSpansFilter(domParser, styles, Tools.explode(settings.font_size_legacy_values));\n      }\n      addStrikeToSpanFilter(domParser, styles);\n    };\n    var register$1 = function (domParser, settings) {\n      if (settings.inline_styles) {\n        addFilters(domParser, settings);\n      }\n    };\n    var LegacyFilter = { register: register$1 };\n\n    var whiteSpaceRegExp$3 = /^[ \\t\\r\\n]*$/;\n    var typeLookup = {\n      '#text': 3,\n      '#comment': 8,\n      '#cdata': 4,\n      '#pi': 7,\n      '#doctype': 10,\n      '#document-fragment': 11\n    };\n    var walk$2 = function (node, root, prev) {\n      var sibling;\n      var parent;\n      var startName = prev ? 'lastChild' : 'firstChild';\n      var siblingName = prev ? 'prev' : 'next';\n      if (node[startName]) {\n        return node[startName];\n      }\n      if (node !== root) {\n        sibling = node[siblingName];\n        if (sibling) {\n          return sibling;\n        }\n        for (parent = node.parent; parent && parent !== root; parent = parent.parent) {\n          sibling = parent[siblingName];\n          if (sibling) {\n            return sibling;\n          }\n        }\n      }\n    };\n    var Node$1 = function () {\n      function Node(name, type) {\n        this.name = name;\n        this.type = type;\n        if (type === 1) {\n          this.attributes = [];\n          this.attributes.map = {};\n        }\n      }\n      Node.create = function (name, attrs) {\n        var node, attrName;\n        node = new Node(name, typeLookup[name] || 1);\n        if (attrs) {\n          for (attrName in attrs) {\n            node.attr(attrName, attrs[attrName]);\n          }\n        }\n        return node;\n      };\n      Node.prototype.replace = function (node) {\n        var self = this;\n        if (node.parent) {\n          node.remove();\n        }\n        self.insert(node, self);\n        self.remove();\n        return self;\n      };\n      Node.prototype.attr = function (name, value) {\n        var self = this;\n        var attrs, i;\n        if (typeof name !== 'string') {\n          for (i in name) {\n            self.attr(i, name[i]);\n          }\n          return self;\n        }\n        if (attrs = self.attributes) {\n          if (value !== undefined) {\n            if (value === null) {\n              if (name in attrs.map) {\n                delete attrs.map[name];\n                i = attrs.length;\n                while (i--) {\n                  if (attrs[i].name === name) {\n                    attrs = attrs.splice(i, 1);\n                    return self;\n                  }\n                }\n              }\n              return self;\n            }\n            if (name in attrs.map) {\n              i = attrs.length;\n              while (i--) {\n                if (attrs[i].name === name) {\n                  attrs[i].value = value;\n                  break;\n                }\n              }\n            } else {\n              attrs.push({\n                name: name,\n                value: value\n              });\n            }\n            attrs.map[name] = value;\n            return self;\n          }\n          return attrs.map[name];\n        }\n      };\n      Node.prototype.clone = function () {\n        var self = this;\n        var clone = new Node(self.name, self.type);\n        var i, l, selfAttrs, selfAttr, cloneAttrs;\n        if (selfAttrs = self.attributes) {\n          cloneAttrs = [];\n          cloneAttrs.map = {};\n          for (i = 0, l = selfAttrs.length; i < l; i++) {\n            selfAttr = selfAttrs[i];\n            if (selfAttr.name !== 'id') {\n              cloneAttrs[cloneAttrs.length] = {\n                name: selfAttr.name,\n                value: selfAttr.value\n              };\n              cloneAttrs.map[selfAttr.name] = selfAttr.value;\n            }\n          }\n          clone.attributes = cloneAttrs;\n        }\n        clone.value = self.value;\n        clone.shortEnded = self.shortEnded;\n        return clone;\n      };\n      Node.prototype.wrap = function (wrapper) {\n        var self = this;\n        self.parent.insert(wrapper, self);\n        wrapper.append(self);\n        return self;\n      };\n      Node.prototype.unwrap = function () {\n        var self = this;\n        var node, next;\n        for (node = self.firstChild; node;) {\n          next = node.next;\n          self.insert(node, self, true);\n          node = next;\n        }\n        self.remove();\n      };\n      Node.prototype.remove = function () {\n        var self = this, parent = self.parent, next = self.next, prev = self.prev;\n        if (parent) {\n          if (parent.firstChild === self) {\n            parent.firstChild = next;\n            if (next) {\n              next.prev = null;\n            }\n          } else {\n            prev.next = next;\n          }\n          if (parent.lastChild === self) {\n            parent.lastChild = prev;\n            if (prev) {\n              prev.next = null;\n            }\n          } else {\n            next.prev = prev;\n          }\n          self.parent = self.next = self.prev = null;\n        }\n        return self;\n      };\n      Node.prototype.append = function (node) {\n        var self = this;\n        var last;\n        if (node.parent) {\n          node.remove();\n        }\n        last = self.lastChild;\n        if (last) {\n          last.next = node;\n          node.prev = last;\n          self.lastChild = node;\n        } else {\n          self.lastChild = self.firstChild = node;\n        }\n        node.parent = self;\n        return node;\n      };\n      Node.prototype.insert = function (node, refNode, before) {\n        var parent;\n        if (node.parent) {\n          node.remove();\n        }\n        parent = refNode.parent || this;\n        if (before) {\n          if (refNode === parent.firstChild) {\n            parent.firstChild = node;\n          } else {\n            refNode.prev.next = node;\n          }\n          node.prev = refNode.prev;\n          node.next = refNode;\n          refNode.prev = node;\n        } else {\n          if (refNode === parent.lastChild) {\n            parent.lastChild = node;\n          } else {\n            refNode.next.prev = node;\n          }\n          node.next = refNode.next;\n          node.prev = refNode;\n          refNode.next = node;\n        }\n        node.parent = parent;\n        return node;\n      };\n      Node.prototype.getAll = function (name) {\n        var self = this;\n        var node;\n        var collection = [];\n        for (node = self.firstChild; node; node = walk$2(node, self)) {\n          if (node.name === name) {\n            collection.push(node);\n          }\n        }\n        return collection;\n      };\n      Node.prototype.empty = function () {\n        var self = this;\n        var nodes, i, node;\n        if (self.firstChild) {\n          nodes = [];\n          for (node = self.firstChild; node; node = walk$2(node, self)) {\n            nodes.push(node);\n          }\n          i = nodes.length;\n          while (i--) {\n            node = nodes[i];\n            node.parent = node.firstChild = node.lastChild = node.next = node.prev = null;\n          }\n        }\n        self.firstChild = self.lastChild = null;\n        return self;\n      };\n      Node.prototype.isEmpty = function (elements, whitespace, predicate) {\n        var self = this;\n        var node = self.firstChild, i, name;\n        whitespace = whitespace || {};\n        if (node) {\n          do {\n            if (node.type === 1) {\n              if (node.attributes.map['data-mce-bogus']) {\n                continue;\n              }\n              if (elements[node.name]) {\n                return false;\n              }\n              i = node.attributes.length;\n              while (i--) {\n                name = node.attributes[i].name;\n                if (name === 'name' || name.indexOf('data-mce-bookmark') === 0) {\n                  return false;\n                }\n              }\n            }\n            if (node.type === 8) {\n              return false;\n            }\n            if (node.type === 3 && !whiteSpaceRegExp$3.test(node.value)) {\n              return false;\n            }\n            if (node.type === 3 && node.parent && whitespace[node.parent.name] && whiteSpaceRegExp$3.test(node.value)) {\n              return false;\n            }\n            if (predicate && predicate(node)) {\n              return false;\n            }\n          } while (node = walk$2(node, self));\n        }\n        return true;\n      };\n      Node.prototype.walk = function (prev) {\n        return walk$2(this, null, prev);\n      };\n      return Node;\n    }();\n\n    var paddEmptyNode = function (settings, args, blockElements, node) {\n      var brPreferred = settings.padd_empty_with_br || args.insert;\n      if (brPreferred && blockElements[node.name]) {\n        node.empty().append(new Node$1('br', 1)).shortEnded = true;\n      } else {\n        node.empty().append(new Node$1('#text', 3)).value = '\\xA0';\n      }\n    };\n    var isPaddedWithNbsp = function (node) {\n      return hasOnlyChild(node, '#text') && node.firstChild.value === '\\xA0';\n    };\n    var hasOnlyChild = function (node, name) {\n      return node && node.firstChild && node.firstChild === node.lastChild && node.firstChild.name === name;\n    };\n    var isPadded = function (schema, node) {\n      var rule = schema.getElementRule(node.name);\n      return rule && rule.paddEmpty;\n    };\n    var isEmpty$2 = function (schema, nonEmptyElements, whitespaceElements, node) {\n      return node.isEmpty(nonEmptyElements, whitespaceElements, function (node) {\n        return isPadded(schema, node);\n      });\n    };\n    var isLineBreakNode = function (node, blockElements) {\n      return node && (blockElements[node.name] || node.name === 'br');\n    };\n\n    var register$2 = function (parser, settings) {\n      var schema = parser.schema;\n      if (settings.remove_trailing_brs) {\n        parser.addNodeFilter('br', function (nodes, _, args) {\n          var i;\n          var l = nodes.length;\n          var node;\n          var blockElements = Tools.extend({}, schema.getBlockElements());\n          var nonEmptyElements = schema.getNonEmptyElements();\n          var parent, lastParent, prev, prevName;\n          var whiteSpaceElements = schema.getWhiteSpaceElements();\n          var elementRule, textNode;\n          blockElements.body = 1;\n          for (i = 0; i < l; i++) {\n            node = nodes[i];\n            parent = node.parent;\n            if (blockElements[node.parent.name] && node === parent.lastChild) {\n              prev = node.prev;\n              while (prev) {\n                prevName = prev.name;\n                if (prevName !== 'span' || prev.attr('data-mce-type') !== 'bookmark') {\n                  if (prevName !== 'br') {\n                    break;\n                  }\n                  if (prevName === 'br') {\n                    node = null;\n                    break;\n                  }\n                }\n                prev = prev.prev;\n              }\n              if (node) {\n                node.remove();\n                if (isEmpty$2(schema, nonEmptyElements, whiteSpaceElements, parent)) {\n                  elementRule = schema.getElementRule(parent.name);\n                  if (elementRule) {\n                    if (elementRule.removeEmpty) {\n                      parent.remove();\n                    } else if (elementRule.paddEmpty) {\n                      paddEmptyNode(settings, args, blockElements, parent);\n                    }\n                  }\n                }\n              }\n            } else {\n              lastParent = node;\n              while (parent && parent.firstChild === lastParent && parent.lastChild === lastParent) {\n                lastParent = parent;\n                if (blockElements[parent.name]) {\n                  break;\n                }\n                parent = parent.parent;\n              }\n              if (lastParent === parent && settings.padd_empty_with_br !== true) {\n                textNode = new Node$1('#text', 3);\n                textNode.value = '\\xA0';\n                node.replace(textNode);\n              }\n            }\n          }\n        });\n      }\n      parser.addAttributeFilter('href', function (nodes) {\n        var i = nodes.length, node;\n        var appendRel = function (rel) {\n          var parts = rel.split(' ').filter(function (p) {\n            return p.length > 0;\n          });\n          return parts.concat(['noopener']).sort().join(' ');\n        };\n        var addNoOpener = function (rel) {\n          var newRel = rel ? Tools.trim(rel) : '';\n          if (!/\\b(noopener)\\b/g.test(newRel)) {\n            return appendRel(newRel);\n          } else {\n            return newRel;\n          }\n        };\n        if (!settings.allow_unsafe_link_target) {\n          while (i--) {\n            node = nodes[i];\n            if (node.name === 'a' && node.attr('target') === '_blank') {\n              node.attr('rel', addNoOpener(node.attr('rel')));\n            }\n          }\n        }\n      });\n      if (!settings.allow_html_in_named_anchor) {\n        parser.addAttributeFilter('id,name', function (nodes) {\n          var i = nodes.length, sibling, prevSibling, parent, node;\n          while (i--) {\n            node = nodes[i];\n            if (node.name === 'a' && node.firstChild && !node.attr('href')) {\n              parent = node.parent;\n              sibling = node.lastChild;\n              do {\n                prevSibling = sibling.prev;\n                parent.insert(sibling, node);\n                sibling = prevSibling;\n              } while (sibling);\n            }\n          }\n        });\n      }\n      if (settings.fix_list_elements) {\n        parser.addNodeFilter('ul,ol', function (nodes) {\n          var i = nodes.length, node, parentNode;\n          while (i--) {\n            node = nodes[i];\n            parentNode = node.parent;\n            if (parentNode.name === 'ul' || parentNode.name === 'ol') {\n              if (node.prev && node.prev.name === 'li') {\n                node.prev.append(node);\n              } else {\n                var li = new Node$1('li', 1);\n                li.attr('style', 'list-style-type: none');\n                node.wrap(li);\n              }\n            }\n          }\n        });\n      }\n      if (settings.validate && schema.getValidClasses()) {\n        parser.addAttributeFilter('class', function (nodes) {\n          var i = nodes.length, node, classList, ci, className, classValue;\n          var validClasses = schema.getValidClasses();\n          var validClassesMap, valid;\n          while (i--) {\n            node = nodes[i];\n            classList = node.attr('class').split(' ');\n            classValue = '';\n            for (ci = 0; ci < classList.length; ci++) {\n              className = classList[ci];\n              valid = false;\n              validClassesMap = validClasses['*'];\n              if (validClassesMap && validClassesMap[className]) {\n                valid = true;\n              }\n              validClassesMap = validClasses[node.name];\n              if (!valid && validClassesMap && validClassesMap[className]) {\n                valid = true;\n              }\n              if (valid) {\n                if (classValue) {\n                  classValue += ' ';\n                }\n                classValue += className;\n              }\n            }\n            if (!classValue.length) {\n              classValue = null;\n            }\n            node.attr('class', classValue);\n          }\n        });\n      }\n    };\n\n    var makeMap$4 = Tools.makeMap, each$i = Tools.each, explode$3 = Tools.explode, extend$3 = Tools.extend;\n    function DomParser (settings, schema) {\n      if (schema === void 0) {\n        schema = Schema();\n      }\n      var nodeFilters = {};\n      var attributeFilters = [];\n      var matchedNodes = {};\n      var matchedAttributes = {};\n      settings = settings || {};\n      settings.validate = 'validate' in settings ? settings.validate : true;\n      settings.root_name = settings.root_name || 'body';\n      var fixInvalidChildren = function (nodes) {\n        var ni, node, parent, parents, newParent, currentNode, tempNode, childNode, i;\n        var nonEmptyElements, whitespaceElements, nonSplitableElements, textBlockElements, specialElements, sibling, nextNode;\n        nonSplitableElements = makeMap$4('tr,td,th,tbody,thead,tfoot,table');\n        nonEmptyElements = schema.getNonEmptyElements();\n        whitespaceElements = schema.getWhiteSpaceElements();\n        textBlockElements = schema.getTextBlockElements();\n        specialElements = schema.getSpecialElements();\n        for (ni = 0; ni < nodes.length; ni++) {\n          node = nodes[ni];\n          if (!node.parent || node.fixed) {\n            continue;\n          }\n          if (textBlockElements[node.name] && node.parent.name === 'li') {\n            sibling = node.next;\n            while (sibling) {\n              if (textBlockElements[sibling.name]) {\n                sibling.name = 'li';\n                sibling.fixed = true;\n                node.parent.insert(sibling, node.parent);\n              } else {\n                break;\n              }\n              sibling = sibling.next;\n            }\n            node.unwrap(node);\n            continue;\n          }\n          parents = [node];\n          for (parent = node.parent; parent && !schema.isValidChild(parent.name, node.name) && !nonSplitableElements[parent.name]; parent = parent.parent) {\n            parents.push(parent);\n          }\n          if (parent && parents.length > 1) {\n            parents.reverse();\n            newParent = currentNode = filterNode(parents[0].clone());\n            for (i = 0; i < parents.length - 1; i++) {\n              if (schema.isValidChild(currentNode.name, parents[i].name)) {\n                tempNode = filterNode(parents[i].clone());\n                currentNode.append(tempNode);\n              } else {\n                tempNode = currentNode;\n              }\n              for (childNode = parents[i].firstChild; childNode && childNode !== parents[i + 1];) {\n                nextNode = childNode.next;\n                tempNode.append(childNode);\n                childNode = nextNode;\n              }\n              currentNode = tempNode;\n            }\n            if (!isEmpty$2(schema, nonEmptyElements, whitespaceElements, newParent)) {\n              parent.insert(newParent, parents[0], true);\n              parent.insert(node, newParent);\n            } else {\n              parent.insert(node, parents[0], true);\n            }\n            parent = parents[0];\n            if (isEmpty$2(schema, nonEmptyElements, whitespaceElements, parent) || hasOnlyChild(parent, 'br')) {\n              parent.empty().remove();\n            }\n          } else if (node.parent) {\n            if (node.name === 'li') {\n              sibling = node.prev;\n              if (sibling && (sibling.name === 'ul' || sibling.name === 'ul')) {\n                sibling.append(node);\n                continue;\n              }\n              sibling = node.next;\n              if (sibling && (sibling.name === 'ul' || sibling.name === 'ul')) {\n                sibling.insert(node, sibling.firstChild, true);\n                continue;\n              }\n              node.wrap(filterNode(new Node$1('ul', 1)));\n              continue;\n            }\n            if (schema.isValidChild(node.parent.name, 'div') && schema.isValidChild('div', node.name)) {\n              node.wrap(filterNode(new Node$1('div', 1)));\n            } else {\n              if (specialElements[node.name]) {\n                node.empty().remove();\n              } else {\n                node.unwrap();\n              }\n            }\n          }\n        }\n      };\n      var filterNode = function (node) {\n        var i, name, list;\n        name = node.name;\n        if (name in nodeFilters) {\n          list = matchedNodes[name];\n          if (list) {\n            list.push(node);\n          } else {\n            matchedNodes[name] = [node];\n          }\n        }\n        i = attributeFilters.length;\n        while (i--) {\n          name = attributeFilters[i].name;\n          if (name in node.attributes.map) {\n            list = matchedAttributes[name];\n            if (list) {\n              list.push(node);\n            } else {\n              matchedAttributes[name] = [node];\n            }\n          }\n        }\n        return node;\n      };\n      var addNodeFilter = function (name, callback) {\n        each$i(explode$3(name), function (name) {\n          var list = nodeFilters[name];\n          if (!list) {\n            nodeFilters[name] = list = [];\n          }\n          list.push(callback);\n        });\n      };\n      var getNodeFilters = function () {\n        var out = [];\n        for (var name in nodeFilters) {\n          if (nodeFilters.hasOwnProperty(name)) {\n            out.push({\n              name: name,\n              callbacks: nodeFilters[name]\n            });\n          }\n        }\n        return out;\n      };\n      var addAttributeFilter = function (name, callback) {\n        each$i(explode$3(name), function (name) {\n          var i;\n          for (i = 0; i < attributeFilters.length; i++) {\n            if (attributeFilters[i].name === name) {\n              attributeFilters[i].callbacks.push(callback);\n              return;\n            }\n          }\n          attributeFilters.push({\n            name: name,\n            callbacks: [callback]\n          });\n        });\n      };\n      var getAttributeFilters = function () {\n        return [].concat(attributeFilters);\n      };\n      var parse = function (html, args) {\n        var parser, nodes, i, l, fi, fl, list, name;\n        var blockElements;\n        var invalidChildren = [];\n        var isInWhiteSpacePreservedElement;\n        var node;\n        args = args || {};\n        matchedNodes = {};\n        matchedAttributes = {};\n        blockElements = extend$3(makeMap$4('script,style,head,html,body,title,meta,param'), schema.getBlockElements());\n        var nonEmptyElements = schema.getNonEmptyElements();\n        var children = schema.children;\n        var validate = settings.validate;\n        var rootBlockName = 'forced_root_block' in args ? args.forced_root_block : settings.forced_root_block;\n        var whiteSpaceElements = schema.getWhiteSpaceElements();\n        var startWhiteSpaceRegExp = /^[ \\t\\r\\n]+/;\n        var endWhiteSpaceRegExp = /[ \\t\\r\\n]+$/;\n        var allWhiteSpaceRegExp = /[ \\t\\r\\n]+/g;\n        var isAllWhiteSpaceRegExp = /^[ \\t\\r\\n]+$/;\n        isInWhiteSpacePreservedElement = whiteSpaceElements.hasOwnProperty(args.context) || whiteSpaceElements.hasOwnProperty(settings.root_name);\n        var addRootBlocks = function () {\n          var node = rootNode.firstChild, next, rootBlockNode;\n          var trim = function (rootBlockNode) {\n            if (rootBlockNode) {\n              node = rootBlockNode.firstChild;\n              if (node && node.type === 3) {\n                node.value = node.value.replace(startWhiteSpaceRegExp, '');\n              }\n              node = rootBlockNode.lastChild;\n              if (node && node.type === 3) {\n                node.value = node.value.replace(endWhiteSpaceRegExp, '');\n              }\n            }\n          };\n          if (!schema.isValidChild(rootNode.name, rootBlockName.toLowerCase())) {\n            return;\n          }\n          while (node) {\n            next = node.next;\n            if (node.type === 3 || node.type === 1 && node.name !== 'p' && !blockElements[node.name] && !node.attr('data-mce-type')) {\n              if (!rootBlockNode) {\n                rootBlockNode = createNode(rootBlockName, 1);\n                rootBlockNode.attr(settings.forced_root_block_attrs);\n                rootNode.insert(rootBlockNode, node);\n                rootBlockNode.append(node);\n              } else {\n                rootBlockNode.append(node);\n              }\n            } else {\n              trim(rootBlockNode);\n              rootBlockNode = null;\n            }\n            node = next;\n          }\n          trim(rootBlockNode);\n        };\n        var createNode = function (name, type) {\n          var node = new Node$1(name, type);\n          var list;\n          if (name in nodeFilters) {\n            list = matchedNodes[name];\n            if (list) {\n              list.push(node);\n            } else {\n              matchedNodes[name] = [node];\n            }\n          }\n          return node;\n        };\n        var removeWhitespaceBefore = function (node) {\n          var textNode, textNodeNext, textVal, sibling;\n          var blockElements = schema.getBlockElements();\n          for (textNode = node.prev; textNode && textNode.type === 3;) {\n            textVal = textNode.value.replace(endWhiteSpaceRegExp, '');\n            if (textVal.length > 0) {\n              textNode.value = textVal;\n              return;\n            }\n            textNodeNext = textNode.next;\n            if (textNodeNext) {\n              if (textNodeNext.type === 3 && textNodeNext.value.length) {\n                textNode = textNode.prev;\n                continue;\n              }\n              if (!blockElements[textNodeNext.name] && textNodeNext.name !== 'script' && textNodeNext.name !== 'style') {\n                textNode = textNode.prev;\n                continue;\n              }\n            }\n            sibling = textNode.prev;\n            textNode.remove();\n            textNode = sibling;\n          }\n        };\n        var cloneAndExcludeBlocks = function (input) {\n          var name;\n          var output = {};\n          for (name in input) {\n            if (name !== 'li' && name !== 'p') {\n              output[name] = input[name];\n            }\n          }\n          return output;\n        };\n        parser = SaxParser$1({\n          validate: validate,\n          allow_script_urls: settings.allow_script_urls,\n          allow_conditional_comments: settings.allow_conditional_comments,\n          self_closing_elements: cloneAndExcludeBlocks(schema.getSelfClosingElements()),\n          cdata: function (text) {\n            node.append(createNode('#cdata', 4)).value = text;\n          },\n          text: function (text, raw) {\n            var textNode;\n            if (!isInWhiteSpacePreservedElement) {\n              text = text.replace(allWhiteSpaceRegExp, ' ');\n              if (isLineBreakNode(node.lastChild, blockElements)) {\n                text = text.replace(startWhiteSpaceRegExp, '');\n              }\n            }\n            if (text.length !== 0) {\n              textNode = createNode('#text', 3);\n              textNode.raw = !!raw;\n              node.append(textNode).value = text;\n            }\n          },\n          comment: function (text) {\n            node.append(createNode('#comment', 8)).value = text;\n          },\n          pi: function (name, text) {\n            node.append(createNode(name, 7)).value = text;\n            removeWhitespaceBefore(node);\n          },\n          doctype: function (text) {\n            var newNode;\n            newNode = node.append(createNode('#doctype', 10));\n            newNode.value = text;\n            removeWhitespaceBefore(node);\n          },\n          start: function (name, attrs, empty) {\n            var newNode, attrFiltersLen, elementRule, attrName, parent;\n            elementRule = validate ? schema.getElementRule(name) : {};\n            if (elementRule) {\n              newNode = createNode(elementRule.outputName || name, 1);\n              newNode.attributes = attrs;\n              newNode.shortEnded = empty;\n              node.append(newNode);\n              parent = children[node.name];\n              if (parent && children[newNode.name] && !parent[newNode.name]) {\n                invalidChildren.push(newNode);\n              }\n              attrFiltersLen = attributeFilters.length;\n              while (attrFiltersLen--) {\n                attrName = attributeFilters[attrFiltersLen].name;\n                if (attrName in attrs.map) {\n                  list = matchedAttributes[attrName];\n                  if (list) {\n                    list.push(newNode);\n                  } else {\n                    matchedAttributes[attrName] = [newNode];\n                  }\n                }\n              }\n              if (blockElements[name]) {\n                removeWhitespaceBefore(newNode);\n              }\n              if (!empty) {\n                node = newNode;\n              }\n              if (!isInWhiteSpacePreservedElement && whiteSpaceElements[name]) {\n                isInWhiteSpacePreservedElement = true;\n              }\n            }\n          },\n          end: function (name) {\n            var textNode, elementRule, text, sibling, tempNode;\n            elementRule = validate ? schema.getElementRule(name) : {};\n            if (elementRule) {\n              if (blockElements[name]) {\n                if (!isInWhiteSpacePreservedElement) {\n                  textNode = node.firstChild;\n                  if (textNode && textNode.type === 3) {\n                    text = textNode.value.replace(startWhiteSpaceRegExp, '');\n                    if (text.length > 0) {\n                      textNode.value = text;\n                      textNode = textNode.next;\n                    } else {\n                      sibling = textNode.next;\n                      textNode.remove();\n                      textNode = sibling;\n                      while (textNode && textNode.type === 3) {\n                        text = textNode.value;\n                        sibling = textNode.next;\n                        if (text.length === 0 || isAllWhiteSpaceRegExp.test(text)) {\n                          textNode.remove();\n                          textNode = sibling;\n                        }\n                        textNode = sibling;\n                      }\n                    }\n                  }\n                  textNode = node.lastChild;\n                  if (textNode && textNode.type === 3) {\n                    text = textNode.value.replace(endWhiteSpaceRegExp, '');\n                    if (text.length > 0) {\n                      textNode.value = text;\n                      textNode = textNode.prev;\n                    } else {\n                      sibling = textNode.prev;\n                      textNode.remove();\n                      textNode = sibling;\n                      while (textNode && textNode.type === 3) {\n                        text = textNode.value;\n                        sibling = textNode.prev;\n                        if (text.length === 0 || isAllWhiteSpaceRegExp.test(text)) {\n                          textNode.remove();\n                          textNode = sibling;\n                        }\n                        textNode = sibling;\n                      }\n                    }\n                  }\n                }\n              }\n              if (isInWhiteSpacePreservedElement && whiteSpaceElements[name]) {\n                isInWhiteSpacePreservedElement = false;\n              }\n              if (elementRule.removeEmpty && isEmpty$2(schema, nonEmptyElements, whiteSpaceElements, node)) {\n                if (!node.attributes.map.name && !node.attr('id')) {\n                  tempNode = node.parent;\n                  if (blockElements[node.name]) {\n                    node.empty().remove();\n                  } else {\n                    node.unwrap();\n                  }\n                  node = tempNode;\n                  return;\n                }\n              }\n              if (elementRule.paddEmpty && (isPaddedWithNbsp(node) || isEmpty$2(schema, nonEmptyElements, whiteSpaceElements, node))) {\n                paddEmptyNode(settings, args, blockElements, node);\n              }\n              node = node.parent;\n            }\n          }\n        }, schema);\n        var rootNode = node = new Node$1(args.context || settings.root_name, 11);\n        parser.parse(html);\n        if (validate && invalidChildren.length) {\n          if (!args.context) {\n            fixInvalidChildren(invalidChildren);\n          } else {\n            args.invalid = true;\n          }\n        }\n        if (rootBlockName && (rootNode.name === 'body' || args.isRootContent)) {\n          addRootBlocks();\n        }\n        if (!args.invalid) {\n          for (name in matchedNodes) {\n            list = nodeFilters[name];\n            nodes = matchedNodes[name];\n            fi = nodes.length;\n            while (fi--) {\n              if (!nodes[fi].parent) {\n                nodes.splice(fi, 1);\n              }\n            }\n            for (i = 0, l = list.length; i < l; i++) {\n              list[i](nodes, name, args);\n            }\n          }\n          for (i = 0, l = attributeFilters.length; i < l; i++) {\n            list = attributeFilters[i];\n            if (list.name in matchedAttributes) {\n              nodes = matchedAttributes[list.name];\n              fi = nodes.length;\n              while (fi--) {\n                if (!nodes[fi].parent) {\n                  nodes.splice(fi, 1);\n                }\n              }\n              for (fi = 0, fl = list.callbacks.length; fi < fl; fi++) {\n                list.callbacks[fi](nodes, list.name, args);\n              }\n            }\n          }\n        }\n        return rootNode;\n      };\n      var exports = {\n        schema: schema,\n        addAttributeFilter: addAttributeFilter,\n        getAttributeFilters: getAttributeFilters,\n        addNodeFilter: addNodeFilter,\n        getNodeFilters: getNodeFilters,\n        filterNode: filterNode,\n        parse: parse\n      };\n      register$2(exports, settings);\n      LegacyFilter.register(exports, settings);\n      return exports;\n    }\n\n    var addTempAttr = function (htmlParser, tempAttrs, name) {\n      if (Tools.inArray(tempAttrs, name) === -1) {\n        htmlParser.addAttributeFilter(name, function (nodes, name) {\n          var i = nodes.length;\n          while (i--) {\n            nodes[i].attr(name, null);\n          }\n        });\n        tempAttrs.push(name);\n      }\n    };\n    var postProcess$1 = function (editor, args, content) {\n      if (!args.no_events && editor) {\n        var outArgs = Events.firePostProcess(editor, merge(args, { content: content }));\n        return outArgs.content;\n      } else {\n        return content;\n      }\n    };\n    var getHtmlFromNode = function (dom, node, args) {\n      var html = Zwsp.trim(args.getInner ? node.innerHTML : dom.getOuterHTML(node));\n      return args.selection || isWsPreserveElement(Element.fromDom(node)) ? html : Tools.trim(html);\n    };\n    var parseHtml = function (htmlParser, html, args) {\n      var parserArgs = args.selection ? merge({ forced_root_block: false }, args) : args;\n      var rootNode = htmlParser.parse(html, parserArgs);\n      DomSerializerFilters.trimTrailingBr(rootNode);\n      return rootNode;\n    };\n    var serializeNode = function (settings, schema, node) {\n      var htmlSerializer = HtmlSerializer(settings, schema);\n      return htmlSerializer.serialize(node);\n    };\n    var toHtml = function (editor, settings, schema, rootNode, args) {\n      var content = serializeNode(settings, schema, rootNode);\n      return postProcess$1(editor, args, content);\n    };\n    function DomSerializer (settings, editor) {\n      var dom, schema, htmlParser;\n      var tempAttrs = ['data-mce-selected'];\n      dom = editor && editor.dom ? editor.dom : DOMUtils$1.DOM;\n      schema = editor && editor.schema ? editor.schema : Schema(settings);\n      settings.entity_encoding = settings.entity_encoding || 'named';\n      settings.remove_trailing_brs = 'remove_trailing_brs' in settings ? settings.remove_trailing_brs : true;\n      htmlParser = DomParser(settings, schema);\n      DomSerializerFilters.register(htmlParser, settings, dom);\n      var serialize = function (node, parserArgs) {\n        var args = merge({ format: 'html' }, parserArgs ? parserArgs : {});\n        var targetNode = DomSerializerPreProcess.process(editor, node, args);\n        var html = getHtmlFromNode(dom, targetNode, args);\n        var rootNode = parseHtml(htmlParser, html, args);\n        return args.format === 'tree' ? rootNode : toHtml(editor, settings, schema, rootNode, args);\n      };\n      return {\n        schema: schema,\n        addNodeFilter: htmlParser.addNodeFilter,\n        addAttributeFilter: htmlParser.addAttributeFilter,\n        serialize: serialize,\n        addRules: function (rules) {\n          schema.addValidElements(rules);\n        },\n        setRules: function (rules) {\n          schema.setValidElements(rules);\n        },\n        addTempAttr: curry(addTempAttr, htmlParser, tempAttrs),\n        getTempAttrs: function () {\n          return tempAttrs;\n        }\n      };\n    }\n\n    function DomSerializer$1 (settings, editor) {\n      var domSerializer = DomSerializer(settings, editor);\n      return {\n        schema: domSerializer.schema,\n        addNodeFilter: domSerializer.addNodeFilter,\n        addAttributeFilter: domSerializer.addAttributeFilter,\n        serialize: domSerializer.serialize,\n        addRules: domSerializer.addRules,\n        setRules: domSerializer.setRules,\n        addTempAttr: domSerializer.addTempAttr,\n        getTempAttrs: domSerializer.getTempAttrs\n      };\n    }\n\n    function BookmarkManager(selection) {\n      return {\n        getBookmark: curry(Bookmarks.getBookmark, selection),\n        moveToBookmark: curry(Bookmarks.moveToBookmark, selection)\n      };\n    }\n    (function (BookmarkManager) {\n      BookmarkManager.isBookmarkNode = Bookmarks.isBookmarkNode;\n    }(BookmarkManager || (BookmarkManager = {})));\n    var BookmarkManager$1 = BookmarkManager;\n\n    var isContentEditableFalse$a = NodeType.isContentEditableFalse;\n    var isContentEditableTrue$5 = NodeType.isContentEditableTrue;\n    var getContentEditableRoot$2 = function (root, node) {\n      while (node && node !== root) {\n        if (isContentEditableTrue$5(node) || isContentEditableFalse$a(node)) {\n          return node;\n        }\n        node = node.parentNode;\n      }\n      return null;\n    };\n    var ControlSelection = function (selection, editor) {\n      var dom = editor.dom, each = Tools.each;\n      var selectedElm, selectedElmGhost, resizeHelper, resizeHandles, selectedHandle;\n      var startX, startY, selectedElmX, selectedElmY, startW, startH, ratio, resizeStarted;\n      var width, height;\n      var editableDoc = editor.getDoc(), rootDocument = domGlobals.document;\n      var abs = Math.abs, round = Math.round, rootElement = editor.getBody();\n      var startScrollWidth, startScrollHeight;\n      resizeHandles = {\n        nw: [\n          0,\n          0,\n          -1,\n          -1\n        ],\n        ne: [\n          1,\n          0,\n          1,\n          -1\n        ],\n        se: [\n          1,\n          1,\n          1,\n          1\n        ],\n        sw: [\n          0,\n          1,\n          -1,\n          1\n        ]\n      };\n      var rootClass = '.mce-content-body';\n      editor.contentStyles.push(rootClass + ' div.mce-resizehandle {' + 'position: absolute;' + 'border: 1px solid black;' + 'box-sizing: content-box;' + 'background: #FFF;' + 'width: 7px;' + 'height: 7px;' + 'z-index: 10000' + '}' + rootClass + ' .mce-resizehandle:hover {' + 'background: #000' + '}' + rootClass + ' img[data-mce-selected],' + rootClass + ' hr[data-mce-selected] {' + 'outline: 1px solid black;' + 'resize: none' + '}' + rootClass + ' .mce-clonedresizable {' + 'position: absolute;' + (Env.gecko ? '' : 'outline: 1px dashed black;') + 'opacity: .5;' + 'filter: alpha(opacity=50);' + 'z-index: 10000' + '}' + rootClass + ' .mce-resize-helper {' + 'background: #555;' + 'background: rgba(0,0,0,0.75);' + 'border-radius: 3px;' + 'border: 1px;' + 'color: white;' + 'display: none;' + 'font-family: sans-serif;' + 'font-size: 12px;' + 'white-space: nowrap;' + 'line-height: 14px;' + 'margin: 5px 10px;' + 'padding: 5px;' + 'position: absolute;' + 'z-index: 10001' + '}');\n      var isImage = function (elm) {\n        return elm && (elm.nodeName === 'IMG' || editor.dom.is(elm, 'figure.image'));\n      };\n      var isEventOnImageOutsideRange = function (evt, range) {\n        return isImage(evt.target) && !RangePoint.isXYWithinRange(evt.clientX, evt.clientY, range);\n      };\n      var contextMenuSelectImage = function (evt) {\n        var target = evt.target;\n        if (isEventOnImageOutsideRange(evt, editor.selection.getRng()) && !evt.isDefaultPrevented()) {\n          editor.selection.select(target);\n        }\n      };\n      var getResizeTarget = function (elm) {\n        return editor.dom.is(elm, 'figure.image') ? elm.querySelector('img') : elm;\n      };\n      var isResizable = function (elm) {\n        var selector = editor.settings.object_resizing;\n        if (selector === false || Env.iOS) {\n          return false;\n        }\n        if (typeof selector !== 'string') {\n          selector = 'table,img,figure.image,div';\n        }\n        if (elm.getAttribute('data-mce-resize') === 'false') {\n          return false;\n        }\n        if (elm === editor.getBody()) {\n          return false;\n        }\n        return is$1(Element.fromDom(elm), selector);\n      };\n      var resizeGhostElement = function (e) {\n        var deltaX, deltaY, proportional;\n        var resizeHelperX, resizeHelperY;\n        deltaX = e.screenX - startX;\n        deltaY = e.screenY - startY;\n        width = deltaX * selectedHandle[2] + startW;\n        height = deltaY * selectedHandle[3] + startH;\n        width = width < 5 ? 5 : width;\n        height = height < 5 ? 5 : height;\n        if (isImage(selectedElm) && editor.settings.resize_img_proportional !== false) {\n          proportional = !VK.modifierPressed(e);\n        } else {\n          proportional = VK.modifierPressed(e) || isImage(selectedElm) && selectedHandle[2] * selectedHandle[3] !== 0;\n        }\n        if (proportional) {\n          if (abs(deltaX) > abs(deltaY)) {\n            height = round(width * ratio);\n            width = round(height / ratio);\n          } else {\n            width = round(height / ratio);\n            height = round(width * ratio);\n          }\n        }\n        dom.setStyles(getResizeTarget(selectedElmGhost), {\n          width: width,\n          height: height\n        });\n        resizeHelperX = selectedHandle.startPos.x + deltaX;\n        resizeHelperY = selectedHandle.startPos.y + deltaY;\n        resizeHelperX = resizeHelperX > 0 ? resizeHelperX : 0;\n        resizeHelperY = resizeHelperY > 0 ? resizeHelperY : 0;\n        dom.setStyles(resizeHelper, {\n          left: resizeHelperX,\n          top: resizeHelperY,\n          display: 'block'\n        });\n        resizeHelper.innerHTML = width + ' &times; ' + height;\n        if (selectedHandle[2] < 0 && selectedElmGhost.clientWidth <= width) {\n          dom.setStyle(selectedElmGhost, 'left', selectedElmX + (startW - width));\n        }\n        if (selectedHandle[3] < 0 && selectedElmGhost.clientHeight <= height) {\n          dom.setStyle(selectedElmGhost, 'top', selectedElmY + (startH - height));\n        }\n        deltaX = rootElement.scrollWidth - startScrollWidth;\n        deltaY = rootElement.scrollHeight - startScrollHeight;\n        if (deltaX + deltaY !== 0) {\n          dom.setStyles(resizeHelper, {\n            left: resizeHelperX - deltaX,\n            top: resizeHelperY - deltaY\n          });\n        }\n        if (!resizeStarted) {\n          Events.fireObjectResizeStart(editor, selectedElm, startW, startH);\n          resizeStarted = true;\n        }\n      };\n      var endGhostResize = function () {\n        resizeStarted = false;\n        var setSizeProp = function (name, value) {\n          if (value) {\n            if (selectedElm.style[name] || !editor.schema.isValid(selectedElm.nodeName.toLowerCase(), name)) {\n              dom.setStyle(getResizeTarget(selectedElm), name, value);\n            } else {\n              dom.setAttrib(getResizeTarget(selectedElm), name, value);\n            }\n          }\n        };\n        setSizeProp('width', width);\n        setSizeProp('height', height);\n        dom.unbind(editableDoc, 'mousemove', resizeGhostElement);\n        dom.unbind(editableDoc, 'mouseup', endGhostResize);\n        if (rootDocument !== editableDoc) {\n          dom.unbind(rootDocument, 'mousemove', resizeGhostElement);\n          dom.unbind(rootDocument, 'mouseup', endGhostResize);\n        }\n        dom.remove(selectedElmGhost);\n        dom.remove(resizeHelper);\n        showResizeRect(selectedElm);\n        Events.fireObjectResized(editor, selectedElm, width, height);\n        dom.setAttrib(selectedElm, 'style', dom.getAttrib(selectedElm, 'style'));\n        editor.nodeChanged();\n      };\n      var showResizeRect = function (targetElm) {\n        var position, targetWidth, targetHeight, e, rect;\n        hideResizeRect();\n        unbindResizeHandleEvents();\n        position = dom.getPos(targetElm, rootElement);\n        selectedElmX = position.x;\n        selectedElmY = position.y;\n        rect = targetElm.getBoundingClientRect();\n        targetWidth = rect.width || rect.right - rect.left;\n        targetHeight = rect.height || rect.bottom - rect.top;\n        if (selectedElm !== targetElm) {\n          selectedElm = targetElm;\n          width = height = 0;\n        }\n        e = editor.fire('ObjectSelected', { target: targetElm });\n        if (isResizable(targetElm) && !e.isDefaultPrevented()) {\n          each(resizeHandles, function (handle, name) {\n            var handleElm;\n            var startDrag = function (e) {\n              startX = e.screenX;\n              startY = e.screenY;\n              startW = getResizeTarget(selectedElm).clientWidth;\n              startH = getResizeTarget(selectedElm).clientHeight;\n              ratio = startH / startW;\n              selectedHandle = handle;\n              handle.startPos = {\n                x: targetWidth * handle[0] + selectedElmX,\n                y: targetHeight * handle[1] + selectedElmY\n              };\n              startScrollWidth = rootElement.scrollWidth;\n              startScrollHeight = rootElement.scrollHeight;\n              selectedElmGhost = selectedElm.cloneNode(true);\n              dom.addClass(selectedElmGhost, 'mce-clonedresizable');\n              dom.setAttrib(selectedElmGhost, 'data-mce-bogus', 'all');\n              selectedElmGhost.contentEditable = false;\n              selectedElmGhost.unSelectabe = true;\n              dom.setStyles(selectedElmGhost, {\n                left: selectedElmX,\n                top: selectedElmY,\n                margin: 0\n              });\n              selectedElmGhost.removeAttribute('data-mce-selected');\n              rootElement.appendChild(selectedElmGhost);\n              dom.bind(editableDoc, 'mousemove', resizeGhostElement);\n              dom.bind(editableDoc, 'mouseup', endGhostResize);\n              if (rootDocument !== editableDoc) {\n                dom.bind(rootDocument, 'mousemove', resizeGhostElement);\n                dom.bind(rootDocument, 'mouseup', endGhostResize);\n              }\n              resizeHelper = dom.add(rootElement, 'div', {\n                'class': 'mce-resize-helper',\n                'data-mce-bogus': 'all'\n              }, startW + ' &times; ' + startH);\n            };\n            handleElm = dom.get('mceResizeHandle' + name);\n            if (handleElm) {\n              dom.remove(handleElm);\n            }\n            handleElm = dom.add(rootElement, 'div', {\n              'id': 'mceResizeHandle' + name,\n              'data-mce-bogus': 'all',\n              'class': 'mce-resizehandle',\n              'unselectable': true,\n              'style': 'cursor:' + name + '-resize; margin:0; padding:0'\n            });\n            if (Env.ie === 11) {\n              handleElm.contentEditable = false;\n            }\n            dom.bind(handleElm, 'mousedown', function (e) {\n              e.stopImmediatePropagation();\n              e.preventDefault();\n              startDrag(e);\n            });\n            handle.elm = handleElm;\n            dom.setStyles(handleElm, {\n              left: targetWidth * handle[0] + selectedElmX - handleElm.offsetWidth / 2,\n              top: targetHeight * handle[1] + selectedElmY - handleElm.offsetHeight / 2\n            });\n          });\n        } else {\n          hideResizeRect();\n        }\n        selectedElm.setAttribute('data-mce-selected', '1');\n      };\n      var hideResizeRect = function () {\n        var name, handleElm;\n        unbindResizeHandleEvents();\n        if (selectedElm) {\n          selectedElm.removeAttribute('data-mce-selected');\n        }\n        for (name in resizeHandles) {\n          handleElm = dom.get('mceResizeHandle' + name);\n          if (handleElm) {\n            dom.unbind(handleElm);\n            dom.remove(handleElm);\n          }\n        }\n      };\n      var updateResizeRect = function (e) {\n        var startElm, controlElm;\n        var isChildOrEqual = function (node, parent) {\n          if (node) {\n            do {\n              if (node === parent) {\n                return true;\n              }\n            } while (node = node.parentNode);\n          }\n        };\n        if (resizeStarted || editor.removed) {\n          return;\n        }\n        each(dom.select('img[data-mce-selected],hr[data-mce-selected]'), function (img) {\n          img.removeAttribute('data-mce-selected');\n        });\n        controlElm = e.type === 'mousedown' ? e.target : selection.getNode();\n        controlElm = dom.$(controlElm).closest('table,img,figure.image,hr')[0];\n        if (isChildOrEqual(controlElm, rootElement)) {\n          disableGeckoResize();\n          startElm = selection.getStart(true);\n          if (isChildOrEqual(startElm, controlElm) && isChildOrEqual(selection.getEnd(true), controlElm)) {\n            showResizeRect(controlElm);\n            return;\n          }\n        }\n        hideResizeRect();\n      };\n      var isWithinContentEditableFalse = function (elm) {\n        return isContentEditableFalse$a(getContentEditableRoot$2(editor.getBody(), elm));\n      };\n      var unbindResizeHandleEvents = function () {\n        for (var name in resizeHandles) {\n          var handle = resizeHandles[name];\n          if (handle.elm) {\n            dom.unbind(handle.elm);\n            delete handle.elm;\n          }\n        }\n      };\n      var disableGeckoResize = function () {\n        try {\n          editor.getDoc().execCommand('enableObjectResizing', false, false);\n        } catch (ex) {\n        }\n      };\n      editor.on('init', function () {\n        disableGeckoResize();\n        if (Env.ie && Env.ie >= 11) {\n          editor.on('mousedown click', function (e) {\n            var target = e.target, nodeName = target.nodeName;\n            if (!resizeStarted && /^(TABLE|IMG|HR)$/.test(nodeName) && !isWithinContentEditableFalse(target)) {\n              if (e.button !== 2) {\n                editor.selection.select(target, nodeName === 'TABLE');\n              }\n              if (e.type === 'mousedown') {\n                editor.nodeChanged();\n              }\n            }\n          });\n          editor.dom.bind(rootElement, 'mscontrolselect', function (e) {\n            var delayedSelect = function (node) {\n              Delay.setEditorTimeout(editor, function () {\n                editor.selection.select(node);\n              });\n            };\n            if (isWithinContentEditableFalse(e.target)) {\n              e.preventDefault();\n              delayedSelect(e.target);\n              return;\n            }\n            if (/^(TABLE|IMG|HR)$/.test(e.target.nodeName)) {\n              e.preventDefault();\n              if (e.target.tagName === 'IMG') {\n                delayedSelect(e.target);\n              }\n            }\n          });\n        }\n        var throttledUpdateResizeRect = Delay.throttle(function (e) {\n          if (!editor.composing) {\n            updateResizeRect(e);\n          }\n        });\n        editor.on('nodechange ResizeEditor ResizeWindow drop FullscreenStateChanged', throttledUpdateResizeRect);\n        editor.on('keyup compositionend', function (e) {\n          if (selectedElm && selectedElm.nodeName === 'TABLE') {\n            throttledUpdateResizeRect(e);\n          }\n        });\n        editor.on('hide blur', hideResizeRect);\n        editor.on('contextmenu', contextMenuSelectImage);\n      });\n      editor.on('remove', unbindResizeHandleEvents);\n      var destroy = function () {\n        selectedElm = selectedElmGhost = null;\n      };\n      return {\n        isResizable: isResizable,\n        showResizeRect: showResizeRect,\n        hideResizeRect: hideResizeRect,\n        updateResizeRect: updateResizeRect,\n        destroy: destroy\n      };\n    };\n\n    var hasCeProperty = function (node) {\n      return NodeType.isContentEditableTrue(node) || NodeType.isContentEditableFalse(node);\n    };\n    var findParent$1 = function (node, rootNode, predicate) {\n      while (node && node !== rootNode) {\n        if (predicate(node)) {\n          return node;\n        }\n        node = node.parentNode;\n      }\n      return null;\n    };\n    var findClosestIeRange = function (clientX, clientY, doc) {\n      var element, rng, rects;\n      element = doc.elementFromPoint(clientX, clientY);\n      rng = doc.body.createTextRange();\n      if (!element || element.tagName === 'HTML') {\n        element = doc.body;\n      }\n      rng.moveToElementText(element);\n      rects = Tools.toArray(rng.getClientRects());\n      rects = rects.sort(function (a, b) {\n        a = Math.abs(Math.max(a.top - clientY, a.bottom - clientY));\n        b = Math.abs(Math.max(b.top - clientY, b.bottom - clientY));\n        return a - b;\n      });\n      if (rects.length > 0) {\n        clientY = (rects[0].bottom + rects[0].top) / 2;\n        try {\n          rng.moveToPoint(clientX, clientY);\n          rng.collapse(true);\n          return rng;\n        } catch (ex) {\n        }\n      }\n      return null;\n    };\n    var moveOutOfContentEditableFalse = function (rng, rootNode) {\n      var parentElement = rng && rng.parentElement ? rng.parentElement() : null;\n      return NodeType.isContentEditableFalse(findParent$1(parentElement, rootNode, hasCeProperty)) ? null : rng;\n    };\n    var fromPoint$1 = function (clientX, clientY, doc) {\n      var rng, point;\n      var pointDoc = doc;\n      if (pointDoc.caretPositionFromPoint) {\n        point = pointDoc.caretPositionFromPoint(clientX, clientY);\n        if (point) {\n          rng = doc.createRange();\n          rng.setStart(point.offsetNode, point.offset);\n          rng.collapse(true);\n        }\n      } else if (doc.caretRangeFromPoint) {\n        rng = doc.caretRangeFromPoint(clientX, clientY);\n      } else if (pointDoc.body.createTextRange) {\n        rng = pointDoc.body.createTextRange();\n        try {\n          rng.moveToPoint(clientX, clientY);\n          rng.collapse(true);\n        } catch (ex) {\n          rng = findClosestIeRange(clientX, clientY, doc);\n        }\n        return moveOutOfContentEditableFalse(rng, doc.body);\n      }\n      return rng;\n    };\n    var CaretRangeFromPoint = { fromPoint: fromPoint$1 };\n\n    var processRanges = function (editor, ranges) {\n      return map(ranges, function (range) {\n        var evt = editor.fire('GetSelectionRange', { range: range });\n        return evt.range !== range ? evt.range : range;\n      });\n    };\n    var EventProcessRanges = { processRanges: processRanges };\n\n    var fromElements = function (elements, scope) {\n      var doc = scope || domGlobals.document;\n      var fragment = doc.createDocumentFragment();\n      each(elements, function (element) {\n        fragment.appendChild(element.dom());\n      });\n      return Element.fromDom(fragment);\n    };\n\n    var tableModel = Immutable('element', 'width', 'rows');\n    var tableRow = Immutable('element', 'cells');\n    var cellPosition = Immutable('x', 'y');\n    var getSpan = function (td, key) {\n      var value = parseInt(get(td, key), 10);\n      return isNaN(value) ? 1 : value;\n    };\n    var fillout = function (table, x, y, tr, td) {\n      var rowspan = getSpan(td, 'rowspan');\n      var colspan = getSpan(td, 'colspan');\n      var rows = table.rows();\n      for (var y2 = y; y2 < y + rowspan; y2++) {\n        if (!rows[y2]) {\n          rows[y2] = tableRow(deep(tr), []);\n        }\n        for (var x2 = x; x2 < x + colspan; x2++) {\n          var cells = rows[y2].cells();\n          cells[x2] = y2 === y && x2 === x ? td : shallow(td);\n        }\n      }\n    };\n    var cellExists = function (table, x, y) {\n      var rows = table.rows();\n      var cells = rows[y] ? rows[y].cells() : [];\n      return !!cells[x];\n    };\n    var skipCellsX = function (table, x, y) {\n      while (cellExists(table, x, y)) {\n        x++;\n      }\n      return x;\n    };\n    var getWidth = function (rows) {\n      return foldl(rows, function (acc, row) {\n        return row.cells().length > acc ? row.cells().length : acc;\n      }, 0);\n    };\n    var findElementPos = function (table, element) {\n      var rows = table.rows();\n      for (var y = 0; y < rows.length; y++) {\n        var cells = rows[y].cells();\n        for (var x = 0; x < cells.length; x++) {\n          if (eq(cells[x], element)) {\n            return Option.some(cellPosition(x, y));\n          }\n        }\n      }\n      return Option.none();\n    };\n    var extractRows = function (table, sx, sy, ex, ey) {\n      var newRows = [];\n      var rows = table.rows();\n      for (var y = sy; y <= ey; y++) {\n        var cells = rows[y].cells();\n        var slice = sx < ex ? cells.slice(sx, ex + 1) : cells.slice(ex, sx + 1);\n        newRows.push(tableRow(rows[y].element(), slice));\n      }\n      return newRows;\n    };\n    var subTable = function (table, startPos, endPos) {\n      var sx = startPos.x(), sy = startPos.y();\n      var ex = endPos.x(), ey = endPos.y();\n      var newRows = sy < ey ? extractRows(table, sx, sy, ex, ey) : extractRows(table, sx, ey, ex, sy);\n      return tableModel(table.element(), getWidth(newRows), newRows);\n    };\n    var createDomTable = function (table, rows) {\n      var tableElement = shallow(table.element());\n      var tableBody = Element.fromTag('tbody');\n      append$1(tableBody, rows);\n      append(tableElement, tableBody);\n      return tableElement;\n    };\n    var modelRowsToDomRows = function (table) {\n      return map(table.rows(), function (row) {\n        var cells = map(row.cells(), function (cell) {\n          var td = deep(cell);\n          remove(td, 'colspan');\n          remove(td, 'rowspan');\n          return td;\n        });\n        var tr = shallow(row.element());\n        append$1(tr, cells);\n        return tr;\n      });\n    };\n    var fromDom$1 = function (tableElm) {\n      var table = tableModel(shallow(tableElm), 0, []);\n      each(descendants$1(tableElm, 'tr'), function (tr, y) {\n        each(descendants$1(tr, 'td,th'), function (td, x) {\n          fillout(table, skipCellsX(table, x, y), y, tr, td);\n        });\n      });\n      return tableModel(table.element(), getWidth(table.rows()), table.rows());\n    };\n    var toDom = function (table) {\n      return createDomTable(table, modelRowsToDomRows(table));\n    };\n    var subsection = function (table, startElement, endElement) {\n      return findElementPos(table, startElement).bind(function (startPos) {\n        return findElementPos(table, endElement).map(function (endPos) {\n          return subTable(table, startPos, endPos);\n        });\n      });\n    };\n    var SimpleTableModel = {\n      fromDom: fromDom$1,\n      toDom: toDom,\n      subsection: subsection\n    };\n\n    var findParentListContainer = function (parents) {\n      return find(parents, function (elm) {\n        return name(elm) === 'ul' || name(elm) === 'ol';\n      });\n    };\n    var getFullySelectedListWrappers = function (parents, rng) {\n      return find(parents, function (elm) {\n        return name(elm) === 'li' && hasAllContentsSelected(elm, rng);\n      }).fold(constant([]), function (li) {\n        return findParentListContainer(parents).map(function (listCont) {\n          return [\n            Element.fromTag('li'),\n            Element.fromTag(name(listCont))\n          ];\n        }).getOr([]);\n      });\n    };\n    var wrap$3 = function (innerElm, elms) {\n      var wrapped = foldl(elms, function (acc, elm) {\n        append(elm, acc);\n        return elm;\n      }, innerElm);\n      return elms.length > 0 ? fromElements([wrapped]) : wrapped;\n    };\n    var directListWrappers = function (commonAnchorContainer) {\n      if (isListItem(commonAnchorContainer)) {\n        return parent(commonAnchorContainer).filter(isList).fold(constant([]), function (listElm) {\n          return [\n            commonAnchorContainer,\n            listElm\n          ];\n        });\n      } else {\n        return isList(commonAnchorContainer) ? [commonAnchorContainer] : [];\n      }\n    };\n    var getWrapElements = function (rootNode, rng) {\n      var commonAnchorContainer = Element.fromDom(rng.commonAncestorContainer);\n      var parents = Parents.parentsAndSelf(commonAnchorContainer, rootNode);\n      var wrapElements = filter(parents, function (elm) {\n        return isInline(elm) || isHeading(elm);\n      });\n      var listWrappers = getFullySelectedListWrappers(parents, rng);\n      var allWrappers = wrapElements.concat(listWrappers.length ? listWrappers : directListWrappers(commonAnchorContainer));\n      return map(allWrappers, shallow);\n    };\n    var emptyFragment = function () {\n      return fromElements([]);\n    };\n    var getFragmentFromRange = function (rootNode, rng) {\n      return wrap$3(Element.fromDom(rng.cloneContents()), getWrapElements(rootNode, rng));\n    };\n    var getParentTable = function (rootElm, cell) {\n      return ancestor$1(cell, 'table', curry(eq, rootElm));\n    };\n    var getTableFragment = function (rootNode, selectedTableCells) {\n      return getParentTable(rootNode, selectedTableCells[0]).bind(function (tableElm) {\n        var firstCell = selectedTableCells[0];\n        var lastCell = selectedTableCells[selectedTableCells.length - 1];\n        var fullTableModel = SimpleTableModel.fromDom(tableElm);\n        return SimpleTableModel.subsection(fullTableModel, firstCell, lastCell).map(function (sectionedTableModel) {\n          return fromElements([SimpleTableModel.toDom(sectionedTableModel)]);\n        });\n      }).getOrThunk(emptyFragment);\n    };\n    var getSelectionFragment = function (rootNode, ranges) {\n      return ranges.length > 0 && ranges[0].collapsed ? emptyFragment() : getFragmentFromRange(rootNode, ranges[0]);\n    };\n    var read$4 = function (rootNode, ranges) {\n      var selectedCells = TableCellSelection.getCellsFromElementOrRanges(ranges, rootNode);\n      return selectedCells.length > 0 ? getTableFragment(rootNode, selectedCells) : getSelectionFragment(rootNode, ranges);\n    };\n    var FragmentReader = { read: read$4 };\n\n    var getTextContent = function (editor) {\n      return Option.from(editor.selection.getRng()).map(function (rng) {\n        var bin = editor.dom.add(editor.getBody(), 'div', {\n          'data-mce-bogus': 'all',\n          'style': 'overflow: hidden; opacity: 0;'\n        }, rng.cloneContents());\n        var text = Zwsp.trim(bin.innerText);\n        editor.dom.remove(bin);\n        return text;\n      }).getOr('');\n    };\n    var getHtmlContent = function (editor, args) {\n      var rng = editor.selection.getRng(), tmpElm = editor.dom.create('body');\n      var sel = editor.selection.getSel();\n      var fragment;\n      var ranges = EventProcessRanges.processRanges(editor, MultiRange.getRanges(sel));\n      fragment = args.contextual ? FragmentReader.read(Element.fromDom(editor.getBody()), ranges).dom() : rng.cloneContents();\n      if (fragment) {\n        tmpElm.appendChild(fragment);\n      }\n      return editor.selection.serializer.serialize(tmpElm, args);\n    };\n    var getContent = function (editor, args) {\n      if (args === void 0) {\n        args = {};\n      }\n      args.get = true;\n      args.format = args.format || 'html';\n      args.selection = true;\n      args = editor.fire('BeforeGetContent', args);\n      if (args.isDefaultPrevented()) {\n        editor.fire('GetContent', args);\n        return args.content;\n      }\n      if (args.format === 'text') {\n        return getTextContent(editor);\n      } else {\n        args.getInner = true;\n        var content = getHtmlContent(editor, args);\n        if (args.format === 'tree') {\n          return content;\n        } else {\n          args.content = editor.selection.isCollapsed() ? '' : content;\n          editor.fire('GetContent', args);\n          return args.content;\n        }\n      }\n    };\n    var GetSelectionContent = { getContent: getContent };\n\n    var setupArgs = function (args, content) {\n      return __assign(__assign({ format: 'html' }, args), {\n        set: true,\n        selection: true,\n        content: content\n      });\n    };\n    var cleanContent = function (editor, args) {\n      if (args.format !== 'raw') {\n        var node = editor.parser.parse(args.content, __assign({\n          isRootContent: true,\n          forced_root_block: false\n        }, args));\n        return HtmlSerializer({ validate: editor.validate }, editor.schema).serialize(node);\n      } else {\n        return args.content;\n      }\n    };\n    var setContent = function (editor, content, args) {\n      var contentArgs = setupArgs(args, content);\n      var rng = editor.selection.getRng(), caretNode;\n      var doc = editor.getDoc();\n      var frag, temp;\n      if (!contentArgs.no_events) {\n        contentArgs = editor.fire('BeforeSetContent', contentArgs);\n        if (contentArgs.isDefaultPrevented()) {\n          editor.fire('SetContent', contentArgs);\n          return;\n        }\n      }\n      content = cleanContent(editor, contentArgs);\n      if (rng.insertNode) {\n        content += '<span id=\"__caret\">_</span>';\n        if (rng.startContainer === doc && rng.endContainer === doc) {\n          doc.body.innerHTML = content;\n        } else {\n          rng.deleteContents();\n          if (doc.body.childNodes.length === 0) {\n            doc.body.innerHTML = content;\n          } else {\n            if (rng.createContextualFragment) {\n              rng.insertNode(rng.createContextualFragment(content));\n            } else {\n              frag = doc.createDocumentFragment();\n              temp = doc.createElement('div');\n              frag.appendChild(temp);\n              temp.outerHTML = content;\n              rng.insertNode(frag);\n            }\n          }\n        }\n        caretNode = editor.dom.get('__caret');\n        rng = doc.createRange();\n        rng.setStartBefore(caretNode);\n        rng.setEndBefore(caretNode);\n        editor.selection.setRng(rng);\n        editor.dom.remove('__caret');\n        try {\n          editor.selection.setRng(rng);\n        } catch (ex) {\n        }\n      } else {\n        var anyRng = rng;\n        if (anyRng.item) {\n          doc.execCommand('Delete', false, null);\n          anyRng = editor.selection.getRng();\n        }\n        if (/^\\s+/.test(content)) {\n          anyRng.pasteHTML('<span id=\"__mce_tmp\">_</span>' + content);\n          editor.dom.remove('__mce_tmp');\n        } else {\n          anyRng.pasteHTML(content);\n        }\n      }\n      if (!contentArgs.no_events) {\n        editor.fire('SetContent', contentArgs);\n      }\n    };\n    var SetSelectionContent = { setContent: setContent };\n\n    var getEndpointElement = function (root, rng, start, real, resolve) {\n      var container = start ? rng.startContainer : rng.endContainer;\n      var offset = start ? rng.startOffset : rng.endOffset;\n      return Option.from(container).map(Element.fromDom).map(function (elm) {\n        return !real || !rng.collapsed ? child(elm, resolve(elm, offset)).getOr(elm) : elm;\n      }).bind(function (elm) {\n        return isElement(elm) ? Option.some(elm) : parent(elm);\n      }).map(function (elm) {\n        return elm.dom();\n      }).getOr(root);\n    };\n    var getStart$2 = function (root, rng, real) {\n      return getEndpointElement(root, rng, true, real, function (elm, offset) {\n        return Math.min(childNodesCount(elm), offset);\n      });\n    };\n    var getEnd = function (root, rng, real) {\n      return getEndpointElement(root, rng, false, real, function (elm, offset) {\n        return offset > 0 ? offset - 1 : offset;\n      });\n    };\n    var skipEmptyTextNodes = function (node, forwards) {\n      var orig = node;\n      while (node && NodeType.isText(node) && node.length === 0) {\n        node = forwards ? node.nextSibling : node.previousSibling;\n      }\n      return node || orig;\n    };\n    var getNode$1 = function (root, rng) {\n      var elm, startContainer, endContainer, startOffset, endOffset;\n      if (!rng) {\n        return root;\n      }\n      startContainer = rng.startContainer;\n      endContainer = rng.endContainer;\n      startOffset = rng.startOffset;\n      endOffset = rng.endOffset;\n      elm = rng.commonAncestorContainer;\n      if (!rng.collapsed) {\n        if (startContainer === endContainer) {\n          if (endOffset - startOffset < 2) {\n            if (startContainer.hasChildNodes()) {\n              elm = startContainer.childNodes[startOffset];\n            }\n          }\n        }\n        if (startContainer.nodeType === 3 && endContainer.nodeType === 3) {\n          if (startContainer.length === startOffset) {\n            startContainer = skipEmptyTextNodes(startContainer.nextSibling, true);\n          } else {\n            startContainer = startContainer.parentNode;\n          }\n          if (endOffset === 0) {\n            endContainer = skipEmptyTextNodes(endContainer.previousSibling, false);\n          } else {\n            endContainer = endContainer.parentNode;\n          }\n          if (startContainer && startContainer === endContainer) {\n            return startContainer;\n          }\n        }\n      }\n      if (elm && elm.nodeType === 3) {\n        return elm.parentNode;\n      }\n      return elm;\n    };\n    var getSelectedBlocks = function (dom, rng, startElm, endElm) {\n      var node, root;\n      var selectedBlocks = [];\n      root = dom.getRoot();\n      startElm = dom.getParent(startElm || getStart$2(root, rng, rng.collapsed), dom.isBlock);\n      endElm = dom.getParent(endElm || getEnd(root, rng, rng.collapsed), dom.isBlock);\n      if (startElm && startElm !== root) {\n        selectedBlocks.push(startElm);\n      }\n      if (startElm && endElm && startElm !== endElm) {\n        node = startElm;\n        var walker = new TreeWalker(startElm, root);\n        while ((node = walker.next()) && node !== endElm) {\n          if (dom.isBlock(node)) {\n            selectedBlocks.push(node);\n          }\n        }\n      }\n      if (endElm && startElm !== endElm && endElm !== root) {\n        selectedBlocks.push(endElm);\n      }\n      return selectedBlocks;\n    };\n    var select$1 = function (dom, node, content) {\n      return Option.from(node).map(function (node) {\n        var idx = dom.nodeIndex(node);\n        var rng = dom.createRng();\n        rng.setStart(node.parentNode, idx);\n        rng.setEnd(node.parentNode, idx + 1);\n        if (content) {\n          moveEndPoint$1(dom, rng, node, true);\n          moveEndPoint$1(dom, rng, node, false);\n        }\n        return rng;\n      });\n    };\n\n    var each$j = Tools.each;\n    var isNativeIeSelection = function (rng) {\n      return !!rng.select;\n    };\n    var isAttachedToDom = function (node) {\n      return !!(node && node.ownerDocument) && contains$3(Element.fromDom(node.ownerDocument), Element.fromDom(node));\n    };\n    var isValidRange = function (rng) {\n      if (!rng) {\n        return false;\n      } else if (isNativeIeSelection(rng)) {\n        return true;\n      } else {\n        return isAttachedToDom(rng.startContainer) && isAttachedToDom(rng.endContainer);\n      }\n    };\n    var Selection$1 = function (dom, win, serializer, editor) {\n      var bookmarkManager, controlSelection;\n      var selectedRange, explicitRange, selectorChangedData;\n      var setCursorLocation = function (node, offset) {\n        var rng = dom.createRng();\n        if (!node) {\n          moveEndPoint$1(dom, rng, editor.getBody(), true);\n          setRng(rng);\n        } else {\n          rng.setStart(node, offset);\n          rng.setEnd(node, offset);\n          setRng(rng);\n          collapse(false);\n        }\n      };\n      var getContent = function (args) {\n        return GetSelectionContent.getContent(editor, args);\n      };\n      var setContent = function (content, args) {\n        return SetSelectionContent.setContent(editor, content, args);\n      };\n      var getStart = function (real) {\n        return getStart$2(editor.getBody(), getRng(), real);\n      };\n      var getEnd$1 = function (real) {\n        return getEnd(editor.getBody(), getRng(), real);\n      };\n      var getBookmark = function (type, normalized) {\n        return bookmarkManager.getBookmark(type, normalized);\n      };\n      var moveToBookmark = function (bookmark) {\n        return bookmarkManager.moveToBookmark(bookmark);\n      };\n      var select = function (node, content) {\n        select$1(dom, node, content).each(setRng);\n        return node;\n      };\n      var isCollapsed = function () {\n        var rng = getRng(), sel = getSel();\n        if (!rng || rng.item) {\n          return false;\n        }\n        if (rng.compareEndPoints) {\n          return rng.compareEndPoints('StartToEnd', rng) === 0;\n        }\n        return !sel || rng.collapsed;\n      };\n      var collapse = function (toStart) {\n        var rng = getRng();\n        rng.collapse(!!toStart);\n        setRng(rng);\n      };\n      var getSel = function () {\n        return win.getSelection ? win.getSelection() : win.document.selection;\n      };\n      var getRng = function () {\n        var selection, rng, elm, doc;\n        var tryCompareBoundaryPoints = function (how, sourceRange, destinationRange) {\n          try {\n            return sourceRange.compareBoundaryPoints(how, destinationRange);\n          } catch (ex) {\n            return -1;\n          }\n        };\n        if (!win) {\n          return null;\n        }\n        doc = win.document;\n        if (typeof doc === 'undefined' || doc === null) {\n          return null;\n        }\n        if (editor.bookmark !== undefined && EditorFocus.hasFocus(editor) === false) {\n          var bookmark = SelectionBookmark.getRng(editor);\n          if (bookmark.isSome()) {\n            return bookmark.map(function (r) {\n              return EventProcessRanges.processRanges(editor, [r])[0];\n            }).getOr(doc.createRange());\n          }\n        }\n        try {\n          if ((selection = getSel()) && !NodeType.isRestrictedNode(selection.anchorNode)) {\n            if (selection.rangeCount > 0) {\n              rng = selection.getRangeAt(0);\n            } else {\n              rng = selection.createRange ? selection.createRange() : doc.createRange();\n            }\n          }\n        } catch (ex) {\n        }\n        rng = EventProcessRanges.processRanges(editor, [rng])[0];\n        if (!rng) {\n          rng = doc.createRange ? doc.createRange() : doc.body.createTextRange();\n        }\n        if (rng.setStart && rng.startContainer.nodeType === 9 && rng.collapsed) {\n          elm = dom.getRoot();\n          rng.setStart(elm, 0);\n          rng.setEnd(elm, 0);\n        }\n        if (selectedRange && explicitRange) {\n          if (tryCompareBoundaryPoints(rng.START_TO_START, rng, selectedRange) === 0 && tryCompareBoundaryPoints(rng.END_TO_END, rng, selectedRange) === 0) {\n            rng = explicitRange;\n          } else {\n            selectedRange = null;\n            explicitRange = null;\n          }\n        }\n        return rng;\n      };\n      var setRng = function (rng, forward) {\n        var sel, node, evt;\n        if (!isValidRange(rng)) {\n          return;\n        }\n        var ieRange = isNativeIeSelection(rng) ? rng : null;\n        if (ieRange) {\n          explicitRange = null;\n          try {\n            ieRange.select();\n          } catch (ex) {\n          }\n          return;\n        }\n        sel = getSel();\n        evt = editor.fire('SetSelectionRange', {\n          range: rng,\n          forward: forward\n        });\n        rng = evt.range;\n        if (sel) {\n          explicitRange = rng;\n          try {\n            sel.removeAllRanges();\n            sel.addRange(rng);\n          } catch (ex) {\n          }\n          if (forward === false && sel.extend) {\n            sel.collapse(rng.endContainer, rng.endOffset);\n            sel.extend(rng.startContainer, rng.startOffset);\n          }\n          selectedRange = sel.rangeCount > 0 ? sel.getRangeAt(0) : null;\n        }\n        if (!rng.collapsed && rng.startContainer === rng.endContainer && sel.setBaseAndExtent && !Env.ie) {\n          if (rng.endOffset - rng.startOffset < 2) {\n            if (rng.startContainer.hasChildNodes()) {\n              node = rng.startContainer.childNodes[rng.startOffset];\n              if (node && node.tagName === 'IMG') {\n                sel.setBaseAndExtent(rng.startContainer, rng.startOffset, rng.endContainer, rng.endOffset);\n                if (sel.anchorNode !== rng.startContainer || sel.focusNode !== rng.endContainer) {\n                  sel.setBaseAndExtent(node, 0, node, 1);\n                }\n              }\n            }\n          }\n        }\n        editor.fire('AfterSetSelectionRange', {\n          range: rng,\n          forward: forward\n        });\n      };\n      var setNode = function (elm) {\n        setContent(dom.getOuterHTML(elm));\n        return elm;\n      };\n      var getNode = function () {\n        return getNode$1(editor.getBody(), getRng());\n      };\n      var getSelectedBlocks$1 = function (startElm, endElm) {\n        return getSelectedBlocks(dom, getRng(), startElm, endElm);\n      };\n      var isForward = function () {\n        var sel = getSel();\n        var anchorRange, focusRange;\n        if (!sel || !sel.anchorNode || !sel.focusNode) {\n          return true;\n        }\n        anchorRange = dom.createRng();\n        anchorRange.setStart(sel.anchorNode, sel.anchorOffset);\n        anchorRange.collapse(true);\n        focusRange = dom.createRng();\n        focusRange.setStart(sel.focusNode, sel.focusOffset);\n        focusRange.collapse(true);\n        return anchorRange.compareBoundaryPoints(anchorRange.START_TO_START, focusRange) <= 0;\n      };\n      var normalize = function () {\n        var rng = getRng();\n        var sel = getSel();\n        if (!MultiRange.hasMultipleRanges(sel) && hasAnyRanges(editor)) {\n          var normRng = NormalizeRange.normalize(dom, rng);\n          normRng.each(function (normRng) {\n            setRng(normRng, isForward());\n          });\n          return normRng.getOr(rng);\n        }\n        return rng;\n      };\n      var selectorChanged = function (selector, callback) {\n        var currentSelectors;\n        if (!selectorChangedData) {\n          selectorChangedData = {};\n          currentSelectors = {};\n          editor.on('NodeChange', function (e) {\n            var node = e.element, parents = dom.getParents(node, null, dom.getRoot()), matchedSelectors = {};\n            each$j(selectorChangedData, function (callbacks, selector) {\n              each$j(parents, function (node) {\n                if (dom.is(node, selector)) {\n                  if (!currentSelectors[selector]) {\n                    each$j(callbacks, function (callback) {\n                      callback(true, {\n                        node: node,\n                        selector: selector,\n                        parents: parents\n                      });\n                    });\n                    currentSelectors[selector] = callbacks;\n                  }\n                  matchedSelectors[selector] = callbacks;\n                  return false;\n                }\n              });\n            });\n            each$j(currentSelectors, function (callbacks, selector) {\n              if (!matchedSelectors[selector]) {\n                delete currentSelectors[selector];\n                each$j(callbacks, function (callback) {\n                  callback(false, {\n                    node: node,\n                    selector: selector,\n                    parents: parents\n                  });\n                });\n              }\n            });\n          });\n        }\n        if (!selectorChangedData[selector]) {\n          selectorChangedData[selector] = [];\n        }\n        selectorChangedData[selector].push(callback);\n        return exports;\n      };\n      var getScrollContainer = function () {\n        var scrollContainer;\n        var node = dom.getRoot();\n        while (node && node.nodeName !== 'BODY') {\n          if (node.scrollHeight > node.clientHeight) {\n            scrollContainer = node;\n            break;\n          }\n          node = node.parentNode;\n        }\n        return scrollContainer;\n      };\n      var scrollIntoView = function (elm, alignToTop) {\n        return ScrollIntoView.scrollElementIntoView(editor, elm, alignToTop);\n      };\n      var placeCaretAt = function (clientX, clientY) {\n        return setRng(CaretRangeFromPoint.fromPoint(clientX, clientY, editor.getDoc()));\n      };\n      var getBoundingClientRect = function () {\n        var rng = getRng();\n        return rng.collapsed ? CaretPosition$1.fromRangeStart(rng).getClientRects()[0] : rng.getBoundingClientRect();\n      };\n      var destroy = function () {\n        win = selectedRange = explicitRange = null;\n        controlSelection.destroy();\n      };\n      var exports = {\n        bookmarkManager: null,\n        controlSelection: null,\n        dom: dom,\n        win: win,\n        serializer: serializer,\n        editor: editor,\n        collapse: collapse,\n        setCursorLocation: setCursorLocation,\n        getContent: getContent,\n        setContent: setContent,\n        getBookmark: getBookmark,\n        moveToBookmark: moveToBookmark,\n        select: select,\n        isCollapsed: isCollapsed,\n        isForward: isForward,\n        setNode: setNode,\n        getNode: getNode,\n        getSel: getSel,\n        setRng: setRng,\n        getRng: getRng,\n        getStart: getStart,\n        getEnd: getEnd$1,\n        getSelectedBlocks: getSelectedBlocks$1,\n        normalize: normalize,\n        selectorChanged: selectorChanged,\n        getScrollContainer: getScrollContainer,\n        scrollIntoView: scrollIntoView,\n        placeCaretAt: placeCaretAt,\n        getBoundingClientRect: getBoundingClientRect,\n        destroy: destroy\n      };\n      bookmarkManager = BookmarkManager$1(exports);\n      controlSelection = ControlSelection(exports, editor);\n      exports.bookmarkManager = bookmarkManager;\n      exports.controlSelection = controlSelection;\n      return exports;\n    };\n\n    var BreakType;\n    (function (BreakType) {\n      BreakType[BreakType['Br'] = 0] = 'Br';\n      BreakType[BreakType['Block'] = 1] = 'Block';\n      BreakType[BreakType['Wrap'] = 2] = 'Wrap';\n      BreakType[BreakType['Eol'] = 3] = 'Eol';\n    }(BreakType || (BreakType = {})));\n    var flip = function (direction, positions) {\n      return direction === HDirection.Backwards ? positions.reverse() : positions;\n    };\n    var walk$3 = function (direction, caretWalker, pos) {\n      return direction === HDirection.Forwards ? caretWalker.next(pos) : caretWalker.prev(pos);\n    };\n    var getBreakType = function (scope, direction, currentPos, nextPos) {\n      if (NodeType.isBr(nextPos.getNode(direction === HDirection.Forwards))) {\n        return BreakType.Br;\n      } else if (isInSameBlock(currentPos, nextPos) === false) {\n        return BreakType.Block;\n      } else {\n        return BreakType.Wrap;\n      }\n    };\n    var getPositionsUntil = function (predicate, direction, scope, start) {\n      var caretWalker = CaretWalker(scope);\n      var currentPos = start, nextPos;\n      var positions = [];\n      while (currentPos) {\n        nextPos = walk$3(direction, caretWalker, currentPos);\n        if (!nextPos) {\n          break;\n        }\n        if (NodeType.isBr(nextPos.getNode(false))) {\n          if (direction === HDirection.Forwards) {\n            return {\n              positions: flip(direction, positions).concat([nextPos]),\n              breakType: BreakType.Br,\n              breakAt: Option.some(nextPos)\n            };\n          } else {\n            return {\n              positions: flip(direction, positions),\n              breakType: BreakType.Br,\n              breakAt: Option.some(nextPos)\n            };\n          }\n        }\n        if (!nextPos.isVisible()) {\n          currentPos = nextPos;\n          continue;\n        }\n        if (predicate(currentPos, nextPos)) {\n          var breakType = getBreakType(scope, direction, currentPos, nextPos);\n          return {\n            positions: flip(direction, positions),\n            breakType: breakType,\n            breakAt: Option.some(nextPos)\n          };\n        }\n        positions.push(nextPos);\n        currentPos = nextPos;\n      }\n      return {\n        positions: flip(direction, positions),\n        breakType: BreakType.Eol,\n        breakAt: Option.none()\n      };\n    };\n    var getAdjacentLinePositions = function (direction, getPositionsUntilBreak, scope, start) {\n      return getPositionsUntilBreak(scope, start).breakAt.map(function (pos) {\n        var positions = getPositionsUntilBreak(scope, pos).positions;\n        return direction === HDirection.Backwards ? positions.concat(pos) : [pos].concat(positions);\n      }).getOr([]);\n    };\n    var findClosestHorizontalPositionFromPoint = function (positions, x) {\n      return foldl(positions, function (acc, newPos) {\n        return acc.fold(function () {\n          return Option.some(newPos);\n        }, function (lastPos) {\n          return lift2(head(lastPos.getClientRects()), head(newPos.getClientRects()), function (lastRect, newRect) {\n            var lastDist = Math.abs(x - lastRect.left);\n            var newDist = Math.abs(x - newRect.left);\n            return newDist <= lastDist ? newPos : lastPos;\n          }).or(acc);\n        });\n      }, Option.none());\n    };\n    var findClosestHorizontalPosition = function (positions, pos) {\n      return head(pos.getClientRects()).bind(function (targetRect) {\n        return findClosestHorizontalPositionFromPoint(positions, targetRect.left);\n      });\n    };\n    var getPositionsUntilPreviousLine = curry(getPositionsUntil, CaretPosition.isAbove, -1);\n    var getPositionsUntilNextLine = curry(getPositionsUntil, CaretPosition.isBelow, 1);\n    var isAtFirstLine = function (scope, pos) {\n      return getPositionsUntilPreviousLine(scope, pos).breakAt.isNone();\n    };\n    var isAtLastLine = function (scope, pos) {\n      return getPositionsUntilNextLine(scope, pos).breakAt.isNone();\n    };\n    var getPositionsAbove = curry(getAdjacentLinePositions, -1, getPositionsUntilPreviousLine);\n    var getPositionsBelow = curry(getAdjacentLinePositions, 1, getPositionsUntilNextLine);\n    var getFirstLinePositions = function (scope) {\n      return CaretFinder.firstPositionIn(scope).map(function (pos) {\n        return [pos].concat(getPositionsUntilNextLine(scope, pos).positions);\n      }).getOr([]);\n    };\n    var getLastLinePositions = function (scope) {\n      return CaretFinder.lastPositionIn(scope).map(function (pos) {\n        return getPositionsUntilPreviousLine(scope, pos).positions.concat(pos);\n      }).getOr([]);\n    };\n\n    var isContentEditableFalse$b = NodeType.isContentEditableFalse;\n    var getSelectedNode$1 = getSelectedNode;\n    var moveToCeFalseHorizontally = function (direction, editor, getNextPosFn, range) {\n      var forwards = direction === HDirection.Forwards;\n      var isBeforeContentEditableFalseFn = forwards ? isBeforeContentEditableFalse : isAfterContentEditableFalse;\n      if (!range.collapsed) {\n        var node = getSelectedNode$1(range);\n        if (isContentEditableFalse$b(node)) {\n          return showCaret(direction, editor, node, direction === HDirection.Backwards, true);\n        }\n      }\n      var rangeIsInContainerBlock = isRangeInCaretContainerBlock(range);\n      var caretPosition = getNormalizedRangeEndPoint(direction, editor.getBody(), range);\n      if (isBeforeContentEditableFalseFn(caretPosition)) {\n        return selectNode(editor, caretPosition.getNode(!forwards));\n      }\n      var nextCaretPosition = InlineUtils.normalizePosition(forwards, getNextPosFn(caretPosition));\n      if (!nextCaretPosition) {\n        if (rangeIsInContainerBlock) {\n          return range;\n        }\n        return null;\n      }\n      if (isBeforeContentEditableFalseFn(nextCaretPosition)) {\n        return showCaret(direction, editor, nextCaretPosition.getNode(!forwards), forwards, true);\n      }\n      var peekCaretPosition = getNextPosFn(nextCaretPosition);\n      if (peekCaretPosition && isBeforeContentEditableFalseFn(peekCaretPosition)) {\n        if (isMoveInsideSameBlock(nextCaretPosition, peekCaretPosition)) {\n          return showCaret(direction, editor, peekCaretPosition.getNode(!forwards), forwards, true);\n        }\n      }\n      if (rangeIsInContainerBlock) {\n        return renderRangeCaret(editor, nextCaretPosition.toRange(), true);\n      }\n      return null;\n    };\n    var moveToCeFalseVertically = function (direction, editor, walkerFn, range) {\n      var caretPosition, linePositions, nextLinePositions;\n      var closestNextLineRect, caretClientRect, clientX;\n      var dist1, dist2, contentEditableFalseNode;\n      contentEditableFalseNode = getSelectedNode$1(range);\n      caretPosition = getNormalizedRangeEndPoint(direction, editor.getBody(), range);\n      linePositions = walkerFn(editor.getBody(), isAboveLine(1), caretPosition);\n      nextLinePositions = filter(linePositions, isLine(1));\n      caretClientRect = ArrUtils.last(caretPosition.getClientRects());\n      if (isBeforeContentEditableFalse(caretPosition) || isBeforeTable(caretPosition)) {\n        contentEditableFalseNode = caretPosition.getNode();\n      }\n      if (isAfterContentEditableFalse(caretPosition) || isAfterTable(caretPosition)) {\n        contentEditableFalseNode = caretPosition.getNode(true);\n      }\n      if (!caretClientRect) {\n        return null;\n      }\n      clientX = caretClientRect.left;\n      closestNextLineRect = findClosestClientRect(nextLinePositions, clientX);\n      if (closestNextLineRect) {\n        if (isContentEditableFalse$b(closestNextLineRect.node)) {\n          dist1 = Math.abs(clientX - closestNextLineRect.left);\n          dist2 = Math.abs(clientX - closestNextLineRect.right);\n          return showCaret(direction, editor, closestNextLineRect.node, dist1 < dist2, true);\n        }\n      }\n      if (contentEditableFalseNode) {\n        var caretPositions = positionsUntil(direction, editor.getBody(), isAboveLine(1), contentEditableFalseNode);\n        closestNextLineRect = findClosestClientRect(filter(caretPositions, isLine(1)), clientX);\n        if (closestNextLineRect) {\n          return renderRangeCaret(editor, closestNextLineRect.position.toRange(), true);\n        }\n        closestNextLineRect = ArrUtils.last(filter(caretPositions, isLine(0)));\n        if (closestNextLineRect) {\n          return renderRangeCaret(editor, closestNextLineRect.position.toRange(), true);\n        }\n      }\n    };\n    var createTextBlock = function (editor) {\n      var textBlock = editor.dom.create(Settings.getForcedRootBlock(editor));\n      if (!Env.ie || Env.ie >= 11) {\n        textBlock.innerHTML = '<br data-mce-bogus=\"1\">';\n      }\n      return textBlock;\n    };\n    var exitPreBlock = function (editor, direction, range) {\n      var pre, caretPos, newBlock;\n      var caretWalker = CaretWalker(editor.getBody());\n      var getNextVisualCaretPosition = curry(getVisualCaretPosition, caretWalker.next);\n      var getPrevVisualCaretPosition = curry(getVisualCaretPosition, caretWalker.prev);\n      if (range.collapsed && editor.settings.forced_root_block) {\n        pre = editor.dom.getParent(range.startContainer, 'PRE');\n        if (!pre) {\n          return;\n        }\n        if (direction === 1) {\n          caretPos = getNextVisualCaretPosition(CaretPosition$1.fromRangeStart(range));\n        } else {\n          caretPos = getPrevVisualCaretPosition(CaretPosition$1.fromRangeStart(range));\n        }\n        if (!caretPos) {\n          newBlock = createTextBlock(editor);\n          if (direction === 1) {\n            editor.$(pre).after(newBlock);\n          } else {\n            editor.$(pre).before(newBlock);\n          }\n          editor.selection.select(newBlock, true);\n          editor.selection.collapse();\n        }\n      }\n    };\n    var getHorizontalRange = function (editor, forward) {\n      var caretWalker = CaretWalker(editor.getBody());\n      var getNextVisualCaretPosition = curry(getVisualCaretPosition, caretWalker.next);\n      var getPrevVisualCaretPosition = curry(getVisualCaretPosition, caretWalker.prev);\n      var newRange;\n      var direction = forward ? HDirection.Forwards : HDirection.Backwards;\n      var getNextPosFn = forward ? getNextVisualCaretPosition : getPrevVisualCaretPosition;\n      var range = editor.selection.getRng();\n      newRange = moveToCeFalseHorizontally(direction, editor, getNextPosFn, range);\n      if (newRange) {\n        return newRange;\n      }\n      newRange = exitPreBlock(editor, direction, range);\n      if (newRange) {\n        return newRange;\n      }\n      return null;\n    };\n    var getVerticalRange = function (editor, down) {\n      var newRange;\n      var direction = down ? 1 : -1;\n      var walkerFn = down ? downUntil : upUntil;\n      var range = editor.selection.getRng();\n      newRange = moveToCeFalseVertically(direction, editor, walkerFn, range);\n      if (newRange) {\n        return newRange;\n      }\n      newRange = exitPreBlock(editor, direction, range);\n      if (newRange) {\n        return newRange;\n      }\n      return null;\n    };\n    var moveH = function (editor, forward) {\n      return function () {\n        var newRng = getHorizontalRange(editor, forward);\n        if (newRng) {\n          moveToRange(editor, newRng);\n          return true;\n        } else {\n          return false;\n        }\n      };\n    };\n    var moveV = function (editor, down) {\n      return function () {\n        var newRng = getVerticalRange(editor, down);\n        if (newRng) {\n          moveToRange(editor, newRng);\n          return true;\n        } else {\n          return false;\n        }\n      };\n    };\n    var isCefPosition = function (forward) {\n      return function (pos) {\n        return forward ? isAfterContentEditableFalse(pos) : isBeforeContentEditableFalse(pos);\n      };\n    };\n    var moveToLineEndPoint = function (editor, forward) {\n      return function () {\n        var from = forward ? CaretPosition$1.fromRangeEnd(editor.selection.getRng()) : CaretPosition$1.fromRangeStart(editor.selection.getRng());\n        var result = forward ? getPositionsUntilNextLine(editor.getBody(), from) : getPositionsUntilPreviousLine(editor.getBody(), from);\n        var to = forward ? last(result.positions) : head(result.positions);\n        return to.filter(isCefPosition(forward)).fold(constant(false), function (pos) {\n          editor.selection.setRng(pos.toRange());\n          return true;\n        });\n      };\n    };\n\n    var deflate = function (rect, delta) {\n      return {\n        left: rect.left - delta,\n        top: rect.top - delta,\n        right: rect.right + delta * 2,\n        bottom: rect.bottom + delta * 2,\n        width: rect.width + delta,\n        height: rect.height + delta\n      };\n    };\n    var getCorners = function (getYAxisValue, tds) {\n      return bind(tds, function (td) {\n        var rect = deflate(clone$1(td.getBoundingClientRect()), -1);\n        return [\n          {\n            x: rect.left,\n            y: getYAxisValue(rect),\n            cell: td\n          },\n          {\n            x: rect.right,\n            y: getYAxisValue(rect),\n            cell: td\n          }\n        ];\n      });\n    };\n    var findClosestCorner = function (corners, x, y) {\n      return foldl(corners, function (acc, newCorner) {\n        return acc.fold(function () {\n          return Option.some(newCorner);\n        }, function (oldCorner) {\n          var oldDist = Math.sqrt(Math.abs(oldCorner.x - x) + Math.abs(oldCorner.y - y));\n          var newDist = Math.sqrt(Math.abs(newCorner.x - x) + Math.abs(newCorner.y - y));\n          return Option.some(newDist < oldDist ? newCorner : oldCorner);\n        });\n      }, Option.none());\n    };\n    var getClosestCell$1 = function (getYAxisValue, isTargetCorner, table, x, y) {\n      var cells = descendants$1(Element.fromDom(table), 'td,th,caption').map(function (e) {\n        return e.dom();\n      });\n      var corners = filter(getCorners(getYAxisValue, cells), function (corner) {\n        return isTargetCorner(corner, y);\n      });\n      return findClosestCorner(corners, x, y).map(function (corner) {\n        return corner.cell;\n      });\n    };\n    var getBottomValue = function (rect) {\n      return rect.bottom;\n    };\n    var getTopValue = function (rect) {\n      return rect.top;\n    };\n    var isAbove$1 = function (corner, y) {\n      return corner.y < y;\n    };\n    var isBelow$1 = function (corner, y) {\n      return corner.y > y;\n    };\n    var getClosestCellAbove = curry(getClosestCell$1, getBottomValue, isAbove$1);\n    var getClosestCellBelow = curry(getClosestCell$1, getTopValue, isBelow$1);\n    var findClosestPositionInAboveCell = function (table, pos) {\n      return head(pos.getClientRects()).bind(function (rect) {\n        return getClosestCellAbove(table, rect.left, rect.top);\n      }).bind(function (cell) {\n        return findClosestHorizontalPosition(getLastLinePositions(cell), pos);\n      });\n    };\n    var findClosestPositionInBelowCell = function (table, pos) {\n      return last(pos.getClientRects()).bind(function (rect) {\n        return getClosestCellBelow(table, rect.left, rect.top);\n      }).bind(function (cell) {\n        return findClosestHorizontalPosition(getFirstLinePositions(cell), pos);\n      });\n    };\n\n    var hasNextBreak = function (getPositionsUntil, scope, lineInfo) {\n      return lineInfo.breakAt.map(function (breakPos) {\n        return getPositionsUntil(scope, breakPos).breakAt.isSome();\n      }).getOr(false);\n    };\n    var startsWithWrapBreak = function (lineInfo) {\n      return lineInfo.breakType === BreakType.Wrap && lineInfo.positions.length === 0;\n    };\n    var startsWithBrBreak = function (lineInfo) {\n      return lineInfo.breakType === BreakType.Br && lineInfo.positions.length === 1;\n    };\n    var isAtTableCellLine = function (getPositionsUntil, scope, pos) {\n      var lineInfo = getPositionsUntil(scope, pos);\n      if (startsWithWrapBreak(lineInfo) || !NodeType.isBr(pos.getNode()) && startsWithBrBreak(lineInfo)) {\n        return !hasNextBreak(getPositionsUntil, scope, lineInfo);\n      } else {\n        return lineInfo.breakAt.isNone();\n      }\n    };\n    var isAtFirstTableCellLine = curry(isAtTableCellLine, getPositionsUntilPreviousLine);\n    var isAtLastTableCellLine = curry(isAtTableCellLine, getPositionsUntilNextLine);\n    var isCaretAtStartOrEndOfTable = function (forward, rng, table) {\n      var caretPos = CaretPosition$1.fromRangeStart(rng);\n      return CaretFinder.positionIn(!forward, table).map(function (pos) {\n        return pos.isEqual(caretPos);\n      }).getOr(false);\n    };\n    var navigateHorizontally = function (editor, forward, table, td) {\n      var rng = editor.selection.getRng();\n      var direction = forward ? 1 : -1;\n      if (isFakeCaretTableBrowser() && isCaretAtStartOrEndOfTable(forward, rng, table)) {\n        var newRng = showCaret(direction, editor, table, !forward, true);\n        moveToRange(editor, newRng);\n        return true;\n      }\n      return false;\n    };\n    var getClosestAbovePosition = function (root, table, start) {\n      return findClosestPositionInAboveCell(table, start).orThunk(function () {\n        return head(start.getClientRects()).bind(function (rect) {\n          return findClosestHorizontalPositionFromPoint(getPositionsAbove(root, CaretPosition$1.before(table)), rect.left);\n        });\n      }).getOr(CaretPosition$1.before(table));\n    };\n    var getClosestBelowPosition = function (root, table, start) {\n      return findClosestPositionInBelowCell(table, start).orThunk(function () {\n        return head(start.getClientRects()).bind(function (rect) {\n          return findClosestHorizontalPositionFromPoint(getPositionsBelow(root, CaretPosition$1.after(table)), rect.left);\n        });\n      }).getOr(CaretPosition$1.after(table));\n    };\n    var getTable = function (previous, pos) {\n      var node = pos.getNode(previous);\n      return NodeType.isElement(node) && node.nodeName === 'TABLE' ? Option.some(node) : Option.none();\n    };\n    var renderBlock = function (down, editor, table, pos) {\n      var forcedRootBlock = Settings.getForcedRootBlock(editor);\n      if (forcedRootBlock) {\n        editor.undoManager.transact(function () {\n          var element = Element.fromTag(forcedRootBlock);\n          setAll(element, Settings.getForcedRootBlockAttrs(editor));\n          append(element, Element.fromTag('br'));\n          if (down) {\n            after(Element.fromDom(table), element);\n          } else {\n            before(Element.fromDom(table), element);\n          }\n          var rng = editor.dom.createRng();\n          rng.setStart(element.dom(), 0);\n          rng.setEnd(element.dom(), 0);\n          moveToRange(editor, rng);\n        });\n      } else {\n        moveToRange(editor, pos.toRange());\n      }\n    };\n    var moveCaret = function (editor, down, pos) {\n      var table = down ? getTable(true, pos) : getTable(false, pos);\n      var last = down === false;\n      table.fold(function () {\n        return moveToRange(editor, pos.toRange());\n      }, function (table) {\n        return CaretFinder.positionIn(last, editor.getBody()).filter(function (lastPos) {\n          return lastPos.isEqual(pos);\n        }).fold(function () {\n          return moveToRange(editor, pos.toRange());\n        }, function (_) {\n          return renderBlock(down, editor, table, pos);\n        });\n      });\n    };\n    var navigateVertically = function (editor, down, table, td) {\n      var rng = editor.selection.getRng();\n      var pos = CaretPosition$1.fromRangeStart(rng);\n      var root = editor.getBody();\n      if (!down && isAtFirstTableCellLine(td, pos)) {\n        var newPos = getClosestAbovePosition(root, table, pos);\n        moveCaret(editor, down, newPos);\n        return true;\n      } else if (down && isAtLastTableCellLine(td, pos)) {\n        var newPos = getClosestBelowPosition(root, table, pos);\n        moveCaret(editor, down, newPos);\n        return true;\n      } else {\n        return false;\n      }\n    };\n    var moveH$1 = function (editor, forward) {\n      return function () {\n        return Option.from(editor.dom.getParent(editor.selection.getNode(), 'td,th')).bind(function (td) {\n          return Option.from(editor.dom.getParent(td, 'table')).map(function (table) {\n            return navigateHorizontally(editor, forward, table);\n          });\n        }).getOr(false);\n      };\n    };\n    var moveV$1 = function (editor, forward) {\n      return function () {\n        return Option.from(editor.dom.getParent(editor.selection.getNode(), 'td,th')).bind(function (td) {\n          return Option.from(editor.dom.getParent(td, 'table')).map(function (table) {\n            return navigateVertically(editor, forward, table, td);\n          });\n        }).getOr(false);\n      };\n    };\n\n    var isTarget = function (node) {\n      return contains(['figcaption'], name(node));\n    };\n    var rangeBefore = function (target) {\n      var rng = domGlobals.document.createRange();\n      rng.setStartBefore(target.dom());\n      rng.setEndBefore(target.dom());\n      return rng;\n    };\n    var insertElement = function (root, elm, forward) {\n      if (forward) {\n        append(root, elm);\n      } else {\n        prepend(root, elm);\n      }\n    };\n    var insertBr = function (root, forward) {\n      var br = Element.fromTag('br');\n      insertElement(root, br, forward);\n      return rangeBefore(br);\n    };\n    var insertBlock$1 = function (root, forward, blockName, attrs) {\n      var block = Element.fromTag(blockName);\n      var br = Element.fromTag('br');\n      setAll(block, attrs);\n      append(block, br);\n      insertElement(root, block, forward);\n      return rangeBefore(br);\n    };\n    var insertEmptyLine = function (root, rootBlockName, attrs, forward) {\n      if (rootBlockName === '') {\n        return insertBr(root, forward);\n      } else {\n        return insertBlock$1(root, forward, rootBlockName, attrs);\n      }\n    };\n    var getClosestTargetBlock = function (pos, root) {\n      var isRoot = curry(eq, root);\n      return closest(Element.fromDom(pos.container()), isBlock, isRoot).filter(isTarget);\n    };\n    var isAtFirstOrLastLine = function (root, forward, pos) {\n      return forward ? isAtLastLine(root.dom(), pos) : isAtFirstLine(root.dom(), pos);\n    };\n    var moveCaretToNewEmptyLine = function (editor, forward) {\n      var root = Element.fromDom(editor.getBody());\n      var pos = CaretPosition$1.fromRangeStart(editor.selection.getRng());\n      var rootBlock = Settings.getForcedRootBlock(editor);\n      var rootBlockAttrs = Settings.getForcedRootBlockAttrs(editor);\n      return getClosestTargetBlock(pos, root).exists(function () {\n        if (isAtFirstOrLastLine(root, forward, pos)) {\n          var rng = insertEmptyLine(root, rootBlock, rootBlockAttrs, forward);\n          editor.selection.setRng(rng);\n          return true;\n        } else {\n          return false;\n        }\n      });\n    };\n    var moveV$2 = function (editor, forward) {\n      return function () {\n        if (editor.selection.isCollapsed()) {\n          return moveCaretToNewEmptyLine(editor, forward);\n        } else {\n          return false;\n        }\n      };\n    };\n\n    var defaultPatterns = function (patterns) {\n      return map(patterns, function (pattern) {\n        return merge({\n          shiftKey: false,\n          altKey: false,\n          ctrlKey: false,\n          metaKey: false,\n          keyCode: 0,\n          action: noop\n        }, pattern);\n      });\n    };\n    var matchesEvent = function (pattern, evt) {\n      return evt.keyCode === pattern.keyCode && evt.shiftKey === pattern.shiftKey && evt.altKey === pattern.altKey && evt.ctrlKey === pattern.ctrlKey && evt.metaKey === pattern.metaKey;\n    };\n    var match$1 = function (patterns, evt) {\n      return bind(defaultPatterns(patterns), function (pattern) {\n        return matchesEvent(pattern, evt) ? [pattern] : [];\n      });\n    };\n    var action = function (f) {\n      var x = [];\n      for (var _i = 1; _i < arguments.length; _i++) {\n        x[_i - 1] = arguments[_i];\n      }\n      var args = Array.prototype.slice.call(arguments, 1);\n      return function () {\n        return f.apply(null, args);\n      };\n    };\n    var execute = function (patterns, evt) {\n      return find(match$1(patterns, evt), function (pattern) {\n        return pattern.action();\n      });\n    };\n    var MatchKeys = {\n      match: match$1,\n      action: action,\n      execute: execute\n    };\n\n    var executeKeydownOverride = function (editor, caret, evt) {\n      var os = PlatformDetection$1.detect().os;\n      MatchKeys.execute([\n        {\n          keyCode: VK.RIGHT,\n          action: moveH(editor, true)\n        },\n        {\n          keyCode: VK.LEFT,\n          action: moveH(editor, false)\n        },\n        {\n          keyCode: VK.UP,\n          action: moveV(editor, false)\n        },\n        {\n          keyCode: VK.DOWN,\n          action: moveV(editor, true)\n        },\n        {\n          keyCode: VK.RIGHT,\n          action: moveH$1(editor, true)\n        },\n        {\n          keyCode: VK.LEFT,\n          action: moveH$1(editor, false)\n        },\n        {\n          keyCode: VK.UP,\n          action: moveV$1(editor, false)\n        },\n        {\n          keyCode: VK.DOWN,\n          action: moveV$1(editor, true)\n        },\n        {\n          keyCode: VK.RIGHT,\n          action: BoundarySelection.move(editor, caret, true)\n        },\n        {\n          keyCode: VK.LEFT,\n          action: BoundarySelection.move(editor, caret, false)\n        },\n        {\n          keyCode: VK.RIGHT,\n          ctrlKey: !os.isOSX(),\n          altKey: os.isOSX(),\n          action: BoundarySelection.moveNextWord(editor, caret)\n        },\n        {\n          keyCode: VK.LEFT,\n          ctrlKey: !os.isOSX(),\n          altKey: os.isOSX(),\n          action: BoundarySelection.movePrevWord(editor, caret)\n        },\n        {\n          keyCode: VK.UP,\n          action: moveV$2(editor, false)\n        },\n        {\n          keyCode: VK.DOWN,\n          action: moveV$2(editor, true)\n        }\n      ], evt).each(function (_) {\n        evt.preventDefault();\n      });\n    };\n    var setup$7 = function (editor, caret) {\n      editor.on('keydown', function (evt) {\n        if (evt.isDefaultPrevented() === false) {\n          executeKeydownOverride(editor, caret, evt);\n        }\n      });\n    };\n    var ArrowKeys = { setup: setup$7 };\n\n    var executeKeydownOverride$1 = function (editor, caret, evt) {\n      MatchKeys.execute([\n        {\n          keyCode: VK.BACKSPACE,\n          action: MatchKeys.action(CefDelete.backspaceDelete, editor, false)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: MatchKeys.action(CefDelete.backspaceDelete, editor, true)\n        },\n        {\n          keyCode: VK.BACKSPACE,\n          action: MatchKeys.action(CefBoundaryDelete.backspaceDelete, editor, false)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: MatchKeys.action(CefBoundaryDelete.backspaceDelete, editor, true)\n        },\n        {\n          keyCode: VK.BACKSPACE,\n          action: MatchKeys.action(InlineBoundaryDelete.backspaceDelete, editor, caret, false)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: MatchKeys.action(InlineBoundaryDelete.backspaceDelete, editor, caret, true)\n        },\n        {\n          keyCode: VK.BACKSPACE,\n          action: MatchKeys.action(TableDelete.backspaceDelete, editor, false)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: MatchKeys.action(TableDelete.backspaceDelete, editor, true)\n        },\n        {\n          keyCode: VK.BACKSPACE,\n          action: MatchKeys.action(BlockRangeDelete.backspaceDelete, editor, false)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: MatchKeys.action(BlockRangeDelete.backspaceDelete, editor, true)\n        },\n        {\n          keyCode: VK.BACKSPACE,\n          action: MatchKeys.action(BlockBoundaryDelete.backspaceDelete, editor, false)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: MatchKeys.action(BlockBoundaryDelete.backspaceDelete, editor, true)\n        },\n        {\n          keyCode: VK.BACKSPACE,\n          action: MatchKeys.action(InlineFormatDelete.backspaceDelete, editor, false)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: MatchKeys.action(InlineFormatDelete.backspaceDelete, editor, true)\n        }\n      ], evt).each(function (_) {\n        evt.preventDefault();\n      });\n    };\n    var executeKeyupOverride = function (editor, evt) {\n      MatchKeys.execute([\n        {\n          keyCode: VK.BACKSPACE,\n          action: MatchKeys.action(CefDelete.paddEmptyElement, editor)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: MatchKeys.action(CefDelete.paddEmptyElement, editor)\n        }\n      ], evt);\n    };\n    var setup$8 = function (editor, caret) {\n      editor.on('keydown', function (evt) {\n        if (evt.isDefaultPrevented() === false) {\n          executeKeydownOverride$1(editor, caret, evt);\n        }\n      });\n      editor.on('keyup', function (evt) {\n        if (evt.isDefaultPrevented() === false) {\n          executeKeyupOverride(editor, evt);\n        }\n      });\n    };\n    var DeleteBackspaceKeys = { setup: setup$8 };\n\n    var firstNonWhiteSpaceNodeSibling = function (node) {\n      while (node) {\n        if (node.nodeType === 1 || node.nodeType === 3 && node.data && /[\\r\\n\\s]/.test(node.data)) {\n          return node;\n        }\n        node = node.nextSibling;\n      }\n    };\n    var moveToCaretPosition = function (editor, root) {\n      var walker, node, rng, lastNode = root, tempElm;\n      var dom = editor.dom;\n      var moveCaretBeforeOnEnterElementsMap = editor.schema.getMoveCaretBeforeOnEnterElements();\n      if (!root) {\n        return;\n      }\n      if (/^(LI|DT|DD)$/.test(root.nodeName)) {\n        var firstChild = firstNonWhiteSpaceNodeSibling(root.firstChild);\n        if (firstChild && /^(UL|OL|DL)$/.test(firstChild.nodeName)) {\n          root.insertBefore(dom.doc.createTextNode('\\xA0'), root.firstChild);\n        }\n      }\n      rng = dom.createRng();\n      root.normalize();\n      if (root.hasChildNodes()) {\n        walker = new TreeWalker(root, root);\n        while (node = walker.current()) {\n          if (NodeType.isText(node)) {\n            rng.setStart(node, 0);\n            rng.setEnd(node, 0);\n            break;\n          }\n          if (moveCaretBeforeOnEnterElementsMap[node.nodeName.toLowerCase()]) {\n            rng.setStartBefore(node);\n            rng.setEndBefore(node);\n            break;\n          }\n          lastNode = node;\n          node = walker.next();\n        }\n        if (!node) {\n          rng.setStart(lastNode, 0);\n          rng.setEnd(lastNode, 0);\n        }\n      } else {\n        if (NodeType.isBr(root)) {\n          if (root.nextSibling && dom.isBlock(root.nextSibling)) {\n            rng.setStartBefore(root);\n            rng.setEndBefore(root);\n          } else {\n            rng.setStartAfter(root);\n            rng.setEndAfter(root);\n          }\n        } else {\n          rng.setStart(root, 0);\n          rng.setEnd(root, 0);\n        }\n      }\n      editor.selection.setRng(rng);\n      dom.remove(tempElm);\n      editor.selection.scrollIntoView(root);\n    };\n    var getEditableRoot = function (dom, node) {\n      var root = dom.getRoot();\n      var parent, editableRoot;\n      parent = node;\n      while (parent !== root && dom.getContentEditable(parent) !== 'false') {\n        if (dom.getContentEditable(parent) === 'true') {\n          editableRoot = parent;\n        }\n        parent = parent.parentNode;\n      }\n      return parent !== root ? editableRoot : root;\n    };\n    var getParentBlock$2 = function (editor) {\n      return Option.from(editor.dom.getParent(editor.selection.getStart(true), editor.dom.isBlock));\n    };\n    var getParentBlockName = function (editor) {\n      return getParentBlock$2(editor).fold(constant(''), function (parentBlock) {\n        return parentBlock.nodeName.toUpperCase();\n      });\n    };\n    var isListItemParentBlock = function (editor) {\n      return getParentBlock$2(editor).filter(function (elm) {\n        return isListItem(Element.fromDom(elm));\n      }).isSome();\n    };\n    var NewLineUtils = {\n      moveToCaretPosition: moveToCaretPosition,\n      getEditableRoot: getEditableRoot,\n      getParentBlock: getParentBlock$2,\n      getParentBlockName: getParentBlockName,\n      isListItemParentBlock: isListItemParentBlock\n    };\n\n    var hasFirstChild = function (elm, name) {\n      return elm.firstChild && elm.firstChild.nodeName === name;\n    };\n    var hasParent$1 = function (elm, parentName) {\n      return elm && elm.parentNode && elm.parentNode.nodeName === parentName;\n    };\n    var isListBlock = function (elm) {\n      return elm && /^(OL|UL|LI)$/.test(elm.nodeName);\n    };\n    var isNestedList = function (elm) {\n      return isListBlock(elm) && isListBlock(elm.parentNode);\n    };\n    var getContainerBlock = function (containerBlock) {\n      var containerBlockParent = containerBlock.parentNode;\n      if (/^(LI|DT|DD)$/.test(containerBlockParent.nodeName)) {\n        return containerBlockParent;\n      }\n      return containerBlock;\n    };\n    var isFirstOrLastLi = function (containerBlock, parentBlock, first) {\n      var node = containerBlock[first ? 'firstChild' : 'lastChild'];\n      while (node) {\n        if (NodeType.isElement(node)) {\n          break;\n        }\n        node = node[first ? 'nextSibling' : 'previousSibling'];\n      }\n      return node === parentBlock;\n    };\n    var insert$1 = function (editor, createNewBlock, containerBlock, parentBlock, newBlockName) {\n      var dom = editor.dom;\n      var rng = editor.selection.getRng();\n      if (containerBlock === editor.getBody()) {\n        return;\n      }\n      if (isNestedList(containerBlock)) {\n        newBlockName = 'LI';\n      }\n      var newBlock = newBlockName ? createNewBlock(newBlockName) : dom.create('BR');\n      if (isFirstOrLastLi(containerBlock, parentBlock, true) && isFirstOrLastLi(containerBlock, parentBlock, false)) {\n        if (hasParent$1(containerBlock, 'LI')) {\n          dom.insertAfter(newBlock, getContainerBlock(containerBlock));\n        } else {\n          dom.replace(newBlock, containerBlock);\n        }\n      } else if (isFirstOrLastLi(containerBlock, parentBlock, true)) {\n        if (hasParent$1(containerBlock, 'LI')) {\n          dom.insertAfter(newBlock, getContainerBlock(containerBlock));\n          newBlock.appendChild(dom.doc.createTextNode(' '));\n          newBlock.appendChild(containerBlock);\n        } else {\n          containerBlock.parentNode.insertBefore(newBlock, containerBlock);\n        }\n      } else if (isFirstOrLastLi(containerBlock, parentBlock, false)) {\n        dom.insertAfter(newBlock, getContainerBlock(containerBlock));\n      } else {\n        containerBlock = getContainerBlock(containerBlock);\n        var tmpRng = rng.cloneRange();\n        tmpRng.setStartAfter(parentBlock);\n        tmpRng.setEndAfter(containerBlock);\n        var fragment = tmpRng.extractContents();\n        if (newBlockName === 'LI' && hasFirstChild(fragment, 'LI')) {\n          newBlock = fragment.firstChild;\n          dom.insertAfter(fragment, containerBlock);\n        } else {\n          dom.insertAfter(fragment, containerBlock);\n          dom.insertAfter(newBlock, containerBlock);\n        }\n      }\n      dom.remove(parentBlock);\n      NewLineUtils.moveToCaretPosition(editor, newBlock);\n    };\n    var InsertLi = { insert: insert$1 };\n\n    var trimZwsp = function (fragment) {\n      each(descendants(Element.fromDom(fragment), isText), function (text) {\n        var rawNode = text.dom();\n        rawNode.nodeValue = Zwsp.trim(rawNode.nodeValue);\n      });\n    };\n    var isEmptyAnchor = function (dom, elm) {\n      return elm && elm.nodeName === 'A' && dom.isEmpty(elm);\n    };\n    var isTableCell$5 = function (node) {\n      return node && /^(TD|TH|CAPTION)$/.test(node.nodeName);\n    };\n    var emptyBlock = function (elm) {\n      elm.innerHTML = '<br data-mce-bogus=\"1\">';\n    };\n    var containerAndSiblingName = function (container, nodeName) {\n      return container.nodeName === nodeName || container.previousSibling && container.previousSibling.nodeName === nodeName;\n    };\n    var canSplitBlock = function (dom, node) {\n      return node && dom.isBlock(node) && !/^(TD|TH|CAPTION|FORM)$/.test(node.nodeName) && !/^(fixed|absolute)/i.test(node.style.position) && dom.getContentEditable(node) !== 'true';\n    };\n    var trimInlineElementsOnLeftSideOfBlock = function (dom, nonEmptyElementsMap, block) {\n      var node = block;\n      var firstChilds = [];\n      var i;\n      if (!node) {\n        return;\n      }\n      while (node = node.firstChild) {\n        if (dom.isBlock(node)) {\n          return;\n        }\n        if (NodeType.isElement(node) && !nonEmptyElementsMap[node.nodeName.toLowerCase()]) {\n          firstChilds.push(node);\n        }\n      }\n      i = firstChilds.length;\n      while (i--) {\n        node = firstChilds[i];\n        if (!node.hasChildNodes() || node.firstChild === node.lastChild && node.firstChild.nodeValue === '') {\n          dom.remove(node);\n        } else {\n          if (isEmptyAnchor(dom, node)) {\n            dom.remove(node);\n          }\n        }\n      }\n    };\n    var normalizeZwspOffset = function (start, container, offset) {\n      if (NodeType.isText(container) === false) {\n        return offset;\n      } else if (start) {\n        return offset === 1 && container.data.charAt(offset - 1) === Zwsp.ZWSP ? 0 : offset;\n      } else {\n        return offset === container.data.length - 1 && container.data.charAt(offset) === Zwsp.ZWSP ? container.data.length : offset;\n      }\n    };\n    var includeZwspInRange = function (rng) {\n      var newRng = rng.cloneRange();\n      newRng.setStart(rng.startContainer, normalizeZwspOffset(true, rng.startContainer, rng.startOffset));\n      newRng.setEnd(rng.endContainer, normalizeZwspOffset(false, rng.endContainer, rng.endOffset));\n      return newRng;\n    };\n    var trimLeadingLineBreaks = function (node) {\n      do {\n        if (NodeType.isText(node)) {\n          node.nodeValue = node.nodeValue.replace(/^[\\r\\n]+/, '');\n        }\n        node = node.firstChild;\n      } while (node);\n    };\n    var getEditableRoot$1 = function (dom, node) {\n      var root = dom.getRoot();\n      var parent, editableRoot;\n      parent = node;\n      while (parent !== root && dom.getContentEditable(parent) !== 'false') {\n        if (dom.getContentEditable(parent) === 'true') {\n          editableRoot = parent;\n        }\n        parent = parent.parentNode;\n      }\n      return parent !== root ? editableRoot : root;\n    };\n    var applyAttributes = function (editor, node, forcedRootBlockAttrs) {\n      Option.from(forcedRootBlockAttrs.style).map(editor.dom.parseStyle).each(function (attrStyles) {\n        var currentStyles = getAllRaw(Element.fromDom(node));\n        var newStyles = __assign(__assign({}, currentStyles), attrStyles);\n        editor.dom.setStyles(node, newStyles);\n      });\n      var attrClassesOpt = Option.from(forcedRootBlockAttrs.class).map(function (attrClasses) {\n        return attrClasses.split(/\\s+/);\n      });\n      var currentClassesOpt = Option.from(node.className).map(function (currentClasses) {\n        return filter(currentClasses.split(/\\s+/), function (clazz) {\n          return clazz !== '';\n        });\n      });\n      lift2(attrClassesOpt, currentClassesOpt, function (attrClasses, currentClasses) {\n        var filteredClasses = filter(currentClasses, function (clazz) {\n          return !contains(attrClasses, clazz);\n        });\n        var newClasses = __spreadArrays(attrClasses, filteredClasses);\n        editor.dom.setAttrib(node, 'class', newClasses.join(' '));\n      });\n      var appliedAttrs = [\n        'style',\n        'class'\n      ];\n      var remainingAttrs = bifilter(forcedRootBlockAttrs, function (_, attrs) {\n        return !contains(appliedAttrs, attrs);\n      }).t;\n      editor.dom.setAttribs(node, remainingAttrs);\n    };\n    var setForcedBlockAttrs = function (editor, node) {\n      var forcedRootBlockName = Settings.getForcedRootBlock(editor);\n      if (forcedRootBlockName && forcedRootBlockName.toLowerCase() === node.tagName.toLowerCase()) {\n        var forcedRootBlockAttrs = Settings.getForcedRootBlockAttrs(editor);\n        applyAttributes(editor, node, forcedRootBlockAttrs);\n      }\n    };\n    var wrapSelfAndSiblingsInDefaultBlock = function (editor, newBlockName, rng, container, offset) {\n      var newBlock, parentBlock, startNode, node, next, rootBlockName;\n      var blockName = newBlockName || 'P';\n      var dom = editor.dom, editableRoot = getEditableRoot$1(dom, container);\n      parentBlock = dom.getParent(container, dom.isBlock);\n      if (!parentBlock || !canSplitBlock(dom, parentBlock)) {\n        parentBlock = parentBlock || editableRoot;\n        if (parentBlock === editor.getBody() || isTableCell$5(parentBlock)) {\n          rootBlockName = parentBlock.nodeName.toLowerCase();\n        } else {\n          rootBlockName = parentBlock.parentNode.nodeName.toLowerCase();\n        }\n        if (!parentBlock.hasChildNodes()) {\n          newBlock = dom.create(blockName);\n          setForcedBlockAttrs(editor, newBlock);\n          parentBlock.appendChild(newBlock);\n          rng.setStart(newBlock, 0);\n          rng.setEnd(newBlock, 0);\n          return newBlock;\n        }\n        node = container;\n        while (node.parentNode !== parentBlock) {\n          node = node.parentNode;\n        }\n        while (node && !dom.isBlock(node)) {\n          startNode = node;\n          node = node.previousSibling;\n        }\n        if (startNode && editor.schema.isValidChild(rootBlockName, blockName.toLowerCase())) {\n          newBlock = dom.create(blockName);\n          setForcedBlockAttrs(editor, newBlock);\n          startNode.parentNode.insertBefore(newBlock, startNode);\n          node = startNode;\n          while (node && !dom.isBlock(node)) {\n            next = node.nextSibling;\n            newBlock.appendChild(node);\n            node = next;\n          }\n          rng.setStart(container, offset);\n          rng.setEnd(container, offset);\n        }\n      }\n      return container;\n    };\n    var addBrToBlockIfNeeded = function (dom, block) {\n      var lastChild;\n      block.normalize();\n      lastChild = block.lastChild;\n      if (!lastChild || /^(left|right)$/gi.test(dom.getStyle(lastChild, 'float', true))) {\n        dom.add(block, 'br');\n      }\n    };\n    var insert$2 = function (editor, evt) {\n      var tmpRng, editableRoot, container, offset, parentBlock, shiftKey;\n      var newBlock, fragment, containerBlock, parentBlockName, containerBlockName, newBlockName, isAfterLastNodeInContainer;\n      var dom = editor.dom;\n      var schema = editor.schema, nonEmptyElementsMap = schema.getNonEmptyElements();\n      var rng = editor.selection.getRng();\n      var createNewBlock = function (name) {\n        var node = container, block, clonedNode, caretNode;\n        var textInlineElements = schema.getTextInlineElements();\n        if (name || parentBlockName === 'TABLE' || parentBlockName === 'HR') {\n          block = dom.create(name || newBlockName);\n        } else {\n          block = parentBlock.cloneNode(false);\n        }\n        caretNode = block;\n        if (Settings.shouldKeepStyles(editor) === false) {\n          dom.setAttrib(block, 'style', null);\n          dom.setAttrib(block, 'class', null);\n        } else {\n          do {\n            if (textInlineElements[node.nodeName]) {\n              if (isCaretNode(node) || Bookmarks.isBookmarkNode(node)) {\n                continue;\n              }\n              clonedNode = node.cloneNode(false);\n              dom.setAttrib(clonedNode, 'id', '');\n              if (block.hasChildNodes()) {\n                clonedNode.appendChild(block.firstChild);\n                block.appendChild(clonedNode);\n              } else {\n                caretNode = clonedNode;\n                block.appendChild(clonedNode);\n              }\n            }\n          } while ((node = node.parentNode) && node !== editableRoot);\n        }\n        setForcedBlockAttrs(editor, block);\n        emptyBlock(caretNode);\n        return block;\n      };\n      var isCaretAtStartOrEndOfBlock = function (start) {\n        var walker, node, name, normalizedOffset;\n        normalizedOffset = normalizeZwspOffset(start, container, offset);\n        if (NodeType.isText(container) && (start ? normalizedOffset > 0 : normalizedOffset < container.nodeValue.length)) {\n          return false;\n        }\n        if (container.parentNode === parentBlock && isAfterLastNodeInContainer && !start) {\n          return true;\n        }\n        if (start && NodeType.isElement(container) && container === parentBlock.firstChild) {\n          return true;\n        }\n        if (containerAndSiblingName(container, 'TABLE') || containerAndSiblingName(container, 'HR')) {\n          return isAfterLastNodeInContainer && !start || !isAfterLastNodeInContainer && start;\n        }\n        walker = new TreeWalker(container, parentBlock);\n        if (NodeType.isText(container)) {\n          if (start && normalizedOffset === 0) {\n            walker.prev();\n          } else if (!start && normalizedOffset === container.nodeValue.length) {\n            walker.next();\n          }\n        }\n        while (node = walker.current()) {\n          if (NodeType.isElement(node)) {\n            if (!node.getAttribute('data-mce-bogus')) {\n              name = node.nodeName.toLowerCase();\n              if (nonEmptyElementsMap[name] && name !== 'br') {\n                return false;\n              }\n            }\n          } else if (NodeType.isText(node) && !/^[ \\t\\r\\n]*$/.test(node.nodeValue)) {\n            return false;\n          }\n          if (start) {\n            walker.prev();\n          } else {\n            walker.next();\n          }\n        }\n        return true;\n      };\n      var insertNewBlockAfter = function () {\n        if (/^(H[1-6]|PRE|FIGURE)$/.test(parentBlockName) && containerBlockName !== 'HGROUP') {\n          newBlock = createNewBlock(newBlockName);\n        } else {\n          newBlock = createNewBlock();\n        }\n        if (Settings.shouldEndContainerOnEmptyBlock(editor) && canSplitBlock(dom, containerBlock) && dom.isEmpty(parentBlock)) {\n          newBlock = dom.split(containerBlock, parentBlock);\n        } else {\n          dom.insertAfter(newBlock, parentBlock);\n        }\n        NewLineUtils.moveToCaretPosition(editor, newBlock);\n      };\n      NormalizeRange.normalize(dom, rng).each(function (normRng) {\n        rng.setStart(normRng.startContainer, normRng.startOffset);\n        rng.setEnd(normRng.endContainer, normRng.endOffset);\n      });\n      container = rng.startContainer;\n      offset = rng.startOffset;\n      newBlockName = Settings.getForcedRootBlock(editor);\n      shiftKey = evt.shiftKey;\n      if (NodeType.isElement(container) && container.hasChildNodes()) {\n        isAfterLastNodeInContainer = offset > container.childNodes.length - 1;\n        container = container.childNodes[Math.min(offset, container.childNodes.length - 1)] || container;\n        if (isAfterLastNodeInContainer && NodeType.isText(container)) {\n          offset = container.nodeValue.length;\n        } else {\n          offset = 0;\n        }\n      }\n      editableRoot = getEditableRoot$1(dom, container);\n      if (!editableRoot) {\n        return;\n      }\n      if (newBlockName && !shiftKey || !newBlockName && shiftKey) {\n        container = wrapSelfAndSiblingsInDefaultBlock(editor, newBlockName, rng, container, offset);\n      }\n      parentBlock = dom.getParent(container, dom.isBlock);\n      containerBlock = parentBlock ? dom.getParent(parentBlock.parentNode, dom.isBlock) : null;\n      parentBlockName = parentBlock ? parentBlock.nodeName.toUpperCase() : '';\n      containerBlockName = containerBlock ? containerBlock.nodeName.toUpperCase() : '';\n      if (containerBlockName === 'LI' && !evt.ctrlKey) {\n        parentBlock = containerBlock;\n        containerBlock = containerBlock.parentNode;\n        parentBlockName = containerBlockName;\n      }\n      if (/^(LI|DT|DD)$/.test(parentBlockName)) {\n        if (dom.isEmpty(parentBlock)) {\n          InsertLi.insert(editor, createNewBlock, containerBlock, parentBlock, newBlockName);\n          return;\n        }\n      }\n      if (newBlockName && parentBlock === editor.getBody()) {\n        return;\n      }\n      newBlockName = newBlockName || 'P';\n      if (isCaretContainerBlock(parentBlock)) {\n        newBlock = showCaretContainerBlock(parentBlock);\n        if (dom.isEmpty(parentBlock)) {\n          emptyBlock(parentBlock);\n        }\n        setForcedBlockAttrs(editor, newBlock);\n        NewLineUtils.moveToCaretPosition(editor, newBlock);\n      } else if (isCaretAtStartOrEndOfBlock()) {\n        insertNewBlockAfter();\n      } else if (isCaretAtStartOrEndOfBlock(true)) {\n        newBlock = parentBlock.parentNode.insertBefore(createNewBlock(), parentBlock);\n        NewLineUtils.moveToCaretPosition(editor, containerAndSiblingName(parentBlock, 'HR') ? newBlock : parentBlock);\n      } else {\n        tmpRng = includeZwspInRange(rng).cloneRange();\n        tmpRng.setEndAfter(parentBlock);\n        fragment = tmpRng.extractContents();\n        trimZwsp(fragment);\n        trimLeadingLineBreaks(fragment);\n        newBlock = fragment.firstChild;\n        dom.insertAfter(fragment, parentBlock);\n        trimInlineElementsOnLeftSideOfBlock(dom, nonEmptyElementsMap, newBlock);\n        addBrToBlockIfNeeded(dom, parentBlock);\n        if (dom.isEmpty(parentBlock)) {\n          emptyBlock(parentBlock);\n        }\n        newBlock.normalize();\n        if (dom.isEmpty(newBlock)) {\n          dom.remove(newBlock);\n          insertNewBlockAfter();\n        } else {\n          setForcedBlockAttrs(editor, newBlock);\n          NewLineUtils.moveToCaretPosition(editor, newBlock);\n        }\n      }\n      dom.setAttrib(newBlock, 'id', '');\n      editor.fire('NewBlock', { newBlock: newBlock });\n    };\n    var InsertBlock = { insert: insert$2 };\n\n    var matchesSelector = function (editor, selector) {\n      return NewLineUtils.getParentBlock(editor).filter(function (parentBlock) {\n        return selector.length > 0 && is$1(Element.fromDom(parentBlock), selector);\n      }).isSome();\n    };\n    var shouldInsertBr = function (editor) {\n      return matchesSelector(editor, Settings.getBrNewLineSelector(editor));\n    };\n    var shouldBlockNewLine = function (editor) {\n      return matchesSelector(editor, Settings.getNoNewLineSelector(editor));\n    };\n    var ContextSelectors = {\n      shouldInsertBr: shouldInsertBr,\n      shouldBlockNewLine: shouldBlockNewLine\n    };\n\n    var newLineAction = Adt.generate([\n      { br: [] },\n      { block: [] },\n      { none: [] }\n    ]);\n    var shouldBlockNewLine$1 = function (editor, shiftKey) {\n      return ContextSelectors.shouldBlockNewLine(editor);\n    };\n    var isBrMode = function (requiredState) {\n      return function (editor, shiftKey) {\n        var brMode = Settings.getForcedRootBlock(editor) === '';\n        return brMode === requiredState;\n      };\n    };\n    var inListBlock = function (requiredState) {\n      return function (editor, shiftKey) {\n        return NewLineUtils.isListItemParentBlock(editor) === requiredState;\n      };\n    };\n    var inBlock = function (blockName, requiredState) {\n      return function (editor, shiftKey) {\n        var state = NewLineUtils.getParentBlockName(editor) === blockName.toUpperCase();\n        return state === requiredState;\n      };\n    };\n    var inPreBlock = function (requiredState) {\n      return inBlock('pre', requiredState);\n    };\n    var inSummaryBlock = function () {\n      return inBlock('summary', true);\n    };\n    var shouldPutBrInPre$1 = function (requiredState) {\n      return function (editor, shiftKey) {\n        return Settings.shouldPutBrInPre(editor) === requiredState;\n      };\n    };\n    var inBrContext = function (editor, shiftKey) {\n      return ContextSelectors.shouldInsertBr(editor);\n    };\n    var hasShiftKey = function (editor, shiftKey) {\n      return shiftKey;\n    };\n    var canInsertIntoEditableRoot = function (editor) {\n      var forcedRootBlock = Settings.getForcedRootBlock(editor);\n      var rootEditable = NewLineUtils.getEditableRoot(editor.dom, editor.selection.getStart());\n      return rootEditable && editor.schema.isValidChild(rootEditable.nodeName, forcedRootBlock ? forcedRootBlock : 'P');\n    };\n    var match$2 = function (predicates, action) {\n      return function (editor, shiftKey) {\n        var isMatch = foldl(predicates, function (res, p) {\n          return res && p(editor, shiftKey);\n        }, true);\n        return isMatch ? Option.some(action) : Option.none();\n      };\n    };\n    var getAction$1 = function (editor, evt) {\n      return LazyEvaluator.evaluateUntil([\n        match$2([shouldBlockNewLine$1], newLineAction.none()),\n        match$2([inSummaryBlock()], newLineAction.br()),\n        match$2([\n          inPreBlock(true),\n          shouldPutBrInPre$1(false),\n          hasShiftKey\n        ], newLineAction.br()),\n        match$2([\n          inPreBlock(true),\n          shouldPutBrInPre$1(false)\n        ], newLineAction.block()),\n        match$2([\n          inPreBlock(true),\n          shouldPutBrInPre$1(true),\n          hasShiftKey\n        ], newLineAction.block()),\n        match$2([\n          inPreBlock(true),\n          shouldPutBrInPre$1(true)\n        ], newLineAction.br()),\n        match$2([\n          inListBlock(true),\n          hasShiftKey\n        ], newLineAction.br()),\n        match$2([inListBlock(true)], newLineAction.block()),\n        match$2([\n          isBrMode(true),\n          hasShiftKey,\n          canInsertIntoEditableRoot\n        ], newLineAction.block()),\n        match$2([isBrMode(true)], newLineAction.br()),\n        match$2([inBrContext], newLineAction.br()),\n        match$2([\n          isBrMode(false),\n          hasShiftKey\n        ], newLineAction.br()),\n        match$2([canInsertIntoEditableRoot], newLineAction.block())\n      ], [\n        editor,\n        evt.shiftKey\n      ]).getOr(newLineAction.none());\n    };\n    var NewLineAction = { getAction: getAction$1 };\n\n    var insert$3 = function (editor, evt) {\n      NewLineAction.getAction(editor, evt).fold(function () {\n        InsertBr.insert(editor, evt);\n      }, function () {\n        InsertBlock.insert(editor, evt);\n      }, noop);\n    };\n    var InsertNewLine = { insert: insert$3 };\n\n    var endTypingLevel = function (undoManager) {\n      if (undoManager.typing) {\n        undoManager.typing = false;\n        undoManager.add();\n      }\n    };\n    var handleEnterKeyEvent = function (editor, event) {\n      if (event.isDefaultPrevented()) {\n        return;\n      }\n      event.preventDefault();\n      endTypingLevel(editor.undoManager);\n      editor.undoManager.transact(function () {\n        if (editor.selection.isCollapsed() === false) {\n          editor.execCommand('Delete');\n        }\n        InsertNewLine.insert(editor, event);\n      });\n    };\n    var setup$9 = function (editor) {\n      editor.on('keydown', function (event) {\n        if (event.keyCode === VK.ENTER) {\n          handleEnterKeyEvent(editor, event);\n        }\n      });\n    };\n    var EnterKey = { setup: setup$9 };\n\n    var insertTextAtPosition = function (text, pos) {\n      var container = pos.container();\n      var offset = pos.offset();\n      if (NodeType.isText(container)) {\n        container.insertData(offset, text);\n        return Option.some(CaretPosition(container, offset + text.length));\n      } else {\n        return getElementFromPosition(pos).map(function (elm) {\n          var textNode = Element.fromText(text);\n          if (pos.isAtEnd()) {\n            after(elm, textNode);\n          } else {\n            before(elm, textNode);\n          }\n          return CaretPosition(textNode.dom(), text.length);\n        });\n      }\n    };\n    var insertNbspAtPosition = curry(insertTextAtPosition, '\\xA0');\n    var insertSpaceAtPosition = curry(insertTextAtPosition, ' ');\n\n    var navigateIgnoreEmptyTextNodes = function (forward, root, from) {\n      return CaretFinder.navigateIgnore(forward, root, from, isEmptyText);\n    };\n    var getClosestBlock = function (root, pos) {\n      return find(Parents.parentsAndSelf(Element.fromDom(pos.container()), root), isBlock);\n    };\n    var isAtBeforeAfterBlockBoundary = function (forward, root, pos) {\n      return navigateIgnoreEmptyTextNodes(forward, root.dom(), pos).forall(function (newPos) {\n        return getClosestBlock(root, pos).fold(function () {\n          return isInSameBlock(newPos, pos, root.dom()) === false;\n        }, function (fromBlock) {\n          return isInSameBlock(newPos, pos, root.dom()) === false && contains$3(fromBlock, Element.fromDom(newPos.container()));\n        });\n      });\n    };\n    var isAtBlockBoundary = function (forward, root, pos) {\n      return getClosestBlock(root, pos).fold(function () {\n        return navigateIgnoreEmptyTextNodes(forward, root.dom(), pos).forall(function (newPos) {\n          return isInSameBlock(newPos, pos, root.dom()) === false;\n        });\n      }, function (parent) {\n        return navigateIgnoreEmptyTextNodes(forward, parent.dom(), pos).isNone();\n      });\n    };\n    var isAtStartOfBlock = curry(isAtBlockBoundary, false);\n    var isAtEndOfBlock = curry(isAtBlockBoundary, true);\n    var isBeforeBlock = curry(isAtBeforeAfterBlockBoundary, false);\n    var isAfterBlock = curry(isAtBeforeAfterBlockBoundary, true);\n\n    var nbsp = '\\xA0';\n    var isInMiddleOfText = function (pos) {\n      return CaretPosition.isTextPosition(pos) && !pos.isAtStart() && !pos.isAtEnd();\n    };\n    var getClosestBlock$1 = function (root, pos) {\n      var parentBlocks = filter(Parents.parentsAndSelf(Element.fromDom(pos.container()), root), isBlock);\n      return head(parentBlocks).getOr(root);\n    };\n    var hasSpaceBefore = function (root, pos) {\n      if (isInMiddleOfText(pos)) {\n        return isAfterSpace(pos);\n      } else {\n        return isAfterSpace(pos) || CaretFinder.prevPosition(getClosestBlock$1(root, pos).dom(), pos).exists(isAfterSpace);\n      }\n    };\n    var hasSpaceAfter = function (root, pos) {\n      if (isInMiddleOfText(pos)) {\n        return isBeforeSpace(pos);\n      } else {\n        return isBeforeSpace(pos) || CaretFinder.nextPosition(getClosestBlock$1(root, pos).dom(), pos).exists(isBeforeSpace);\n      }\n    };\n    var isPreValue = function (value) {\n      return contains([\n        'pre',\n        'pre-wrap'\n      ], value);\n    };\n    var isInPre = function (pos) {\n      return getElementFromPosition(pos).bind(function (elm) {\n        return closest(elm, isElement);\n      }).exists(function (elm) {\n        return isPreValue(get$1(elm, 'white-space'));\n      });\n    };\n    var isAtBeginningOfBody = function (root, pos) {\n      return CaretFinder.prevPosition(root.dom(), pos).isNone();\n    };\n    var isAtEndOfBody = function (root, pos) {\n      return CaretFinder.nextPosition(root.dom(), pos).isNone();\n    };\n    var isAtLineBoundary = function (root, pos) {\n      return isAtBeginningOfBody(root, pos) || isAtEndOfBody(root, pos) || isAtStartOfBlock(root, pos) || isAtEndOfBlock(root, pos) || isAfterBr(root, pos) || isBeforeBr(root, pos);\n    };\n    var needsToHaveNbsp = function (root, pos) {\n      if (isInPre(pos)) {\n        return false;\n      } else {\n        return isAtLineBoundary(root, pos) || hasSpaceBefore(root, pos) || hasSpaceAfter(root, pos);\n      }\n    };\n    var needsToBeNbspLeft = function (root, pos) {\n      if (isInPre(pos)) {\n        return false;\n      } else {\n        return isAtStartOfBlock(root, pos) || isBeforeBlock(root, pos) || isAfterBr(root, pos) || hasSpaceBefore(root, pos);\n      }\n    };\n    var leanRight = function (pos) {\n      var container = pos.container();\n      var offset = pos.offset();\n      if (NodeType.isText(container) && offset < container.data.length) {\n        return CaretPosition(container, offset + 1);\n      } else {\n        return pos;\n      }\n    };\n    var needsToBeNbspRight = function (root, pos) {\n      var afterPos = leanRight(pos);\n      if (isInPre(afterPos)) {\n        return false;\n      } else {\n        return isAtEndOfBlock(root, afterPos) || isAfterBlock(root, afterPos) || isBeforeBr(root, afterPos) || hasSpaceAfter(root, afterPos);\n      }\n    };\n    var needsToBeNbsp = function (root, pos) {\n      return needsToBeNbspLeft(root, pos) || needsToBeNbspRight(root, pos);\n    };\n    var isNbspAt = function (text, offset) {\n      return isNbsp(text.charAt(offset));\n    };\n    var hasNbsp = function (pos) {\n      var container = pos.container();\n      return NodeType.isText(container) && contains$2(container.data, nbsp);\n    };\n    var normalizeNbspMiddle = function (text) {\n      var chars = text.split('');\n      return map(chars, function (chr, i) {\n        if (isNbsp(chr) && i > 0 && i < chars.length - 1 && isContent$1(chars[i - 1]) && isContent$1(chars[i + 1])) {\n          return ' ';\n        } else {\n          return chr;\n        }\n      }).join('');\n    };\n    var normalizeNbspAtStart = function (root, node) {\n      var text = node.data;\n      var firstPos = CaretPosition(node, 0);\n      if (isNbspAt(text, 0) && !needsToBeNbsp(root, firstPos)) {\n        node.data = ' ' + text.slice(1);\n        return true;\n      } else {\n        return false;\n      }\n    };\n    var normalizeNbspInMiddleOfTextNode = function (node) {\n      var text = node.data;\n      var newText = normalizeNbspMiddle(text);\n      if (newText !== text) {\n        node.data = newText;\n        return true;\n      } else {\n        return false;\n      }\n    };\n    var normalizeNbspAtEnd = function (root, node) {\n      var text = node.data;\n      var lastPos = CaretPosition(node, text.length - 1);\n      if (isNbspAt(text, text.length - 1) && !needsToBeNbsp(root, lastPos)) {\n        node.data = text.slice(0, -1) + ' ';\n        return true;\n      } else {\n        return false;\n      }\n    };\n    var normalizeNbsps = function (root, pos) {\n      return Option.some(pos).filter(hasNbsp).bind(function (pos) {\n        var container = pos.container();\n        var normalized = normalizeNbspAtStart(root, container) || normalizeNbspInMiddleOfTextNode(container) || normalizeNbspAtEnd(root, container);\n        return normalized ? Option.some(pos) : Option.none();\n      });\n    };\n    var normalizeNbspsInEditor = function (editor) {\n      var root = Element.fromDom(editor.getBody());\n      if (editor.selection.isCollapsed()) {\n        normalizeNbsps(root, CaretPosition.fromRangeStart(editor.selection.getRng())).each(function (pos) {\n          editor.selection.setRng(pos.toRange());\n        });\n      }\n    };\n\n    var locationToCaretPosition = function (root) {\n      return function (location) {\n        return location.fold(function (element) {\n          return CaretFinder.prevPosition(root.dom(), CaretPosition$1.before(element));\n        }, function (element) {\n          return CaretFinder.firstPositionIn(element);\n        }, function (element) {\n          return CaretFinder.lastPositionIn(element);\n        }, function (element) {\n          return CaretFinder.nextPosition(root.dom(), CaretPosition$1.after(element));\n        });\n      };\n    };\n    var insertInlineBoundarySpaceOrNbsp = function (root, pos) {\n      return function (checkPos) {\n        return needsToHaveNbsp(root, checkPos) ? insertNbspAtPosition(pos) : insertSpaceAtPosition(pos);\n      };\n    };\n    var setSelection$1 = function (editor) {\n      return function (pos) {\n        editor.selection.setRng(pos.toRange());\n        editor.nodeChanged();\n        return true;\n      };\n    };\n    var insertSpaceOrNbspAtSelection = function (editor) {\n      var pos = CaretPosition$1.fromRangeStart(editor.selection.getRng());\n      var root = Element.fromDom(editor.getBody());\n      if (editor.selection.isCollapsed()) {\n        var isInlineTarget = curry(InlineUtils.isInlineTarget, editor);\n        var caretPosition = CaretPosition$1.fromRangeStart(editor.selection.getRng());\n        return BoundaryLocation.readLocation(isInlineTarget, editor.getBody(), caretPosition).bind(locationToCaretPosition(root)).bind(insertInlineBoundarySpaceOrNbsp(root, pos)).exists(setSelection$1(editor));\n      } else {\n        return false;\n      }\n    };\n\n    var executeKeydownOverride$2 = function (editor, evt) {\n      MatchKeys.execute([{\n          keyCode: VK.SPACEBAR,\n          action: MatchKeys.action(insertSpaceOrNbspAtSelection, editor)\n        }], evt).each(function (_) {\n        evt.preventDefault();\n      });\n    };\n    var setup$a = function (editor) {\n      editor.on('keydown', function (evt) {\n        if (evt.isDefaultPrevented() === false) {\n          executeKeydownOverride$2(editor, evt);\n        }\n      });\n    };\n    var SpaceKey = { setup: setup$a };\n\n    var findBlockCaretContainer = function (editor) {\n      return descendant(Element.fromDom(editor.getBody()), '*[data-mce-caret]').fold(constant(null), function (elm) {\n        return elm.dom();\n      });\n    };\n    var removeIeControlRect = function (editor) {\n      editor.selection.setRng(editor.selection.getRng());\n    };\n    var showBlockCaretContainer = function (editor, blockCaretContainer) {\n      if (blockCaretContainer.hasAttribute('data-mce-caret')) {\n        showCaretContainerBlock(blockCaretContainer);\n        removeIeControlRect(editor);\n        editor.selection.scrollIntoView(blockCaretContainer);\n      }\n    };\n    var handleBlockContainer = function (editor, e) {\n      var blockCaretContainer = findBlockCaretContainer(editor);\n      if (!blockCaretContainer) {\n        return;\n      }\n      if (e.type === 'compositionstart') {\n        e.preventDefault();\n        e.stopPropagation();\n        showBlockCaretContainer(editor, blockCaretContainer);\n        return;\n      }\n      if (hasContent(blockCaretContainer)) {\n        showBlockCaretContainer(editor, blockCaretContainer);\n        editor.undoManager.add();\n      }\n    };\n    var setup$b = function (editor) {\n      editor.on('keyup compositionstart', curry(handleBlockContainer, editor));\n    };\n    var CaretContainerInput = { setup: setup$b };\n\n    var browser$4 = PlatformDetection$1.detect().browser;\n    var setupIeInput = function (editor) {\n      var keypressThrotter = first(function () {\n        if (!editor.composing) {\n          normalizeNbspsInEditor(editor);\n        }\n      }, 0);\n      if (browser$4.isIE()) {\n        editor.on('keypress', function (e) {\n          keypressThrotter.throttle();\n        });\n        editor.on('remove', function (e) {\n          keypressThrotter.cancel();\n        });\n      }\n    };\n    var setup$c = function (editor) {\n      setupIeInput(editor);\n      editor.on('input', function (e) {\n        if (e.isComposing === false) {\n          normalizeNbspsInEditor(editor);\n        }\n      });\n    };\n\n    var executeKeydownOverride$3 = function (editor, evt) {\n      MatchKeys.execute([\n        {\n          keyCode: VK.END,\n          action: moveToLineEndPoint(editor, true)\n        },\n        {\n          keyCode: VK.HOME,\n          action: moveToLineEndPoint(editor, false)\n        }\n      ], evt).each(function (_) {\n        evt.preventDefault();\n      });\n    };\n    var setup$d = function (editor) {\n      editor.on('keydown', function (evt) {\n        if (evt.isDefaultPrevented() === false) {\n          executeKeydownOverride$3(editor, evt);\n        }\n      });\n    };\n    var HomeEndKeys = { setup: setup$d };\n\n    var setup$e = function (editor) {\n      var caret = BoundarySelection.setupSelectedState(editor);\n      CaretContainerInput.setup(editor);\n      ArrowKeys.setup(editor, caret);\n      DeleteBackspaceKeys.setup(editor, caret);\n      EnterKey.setup(editor);\n      SpaceKey.setup(editor);\n      setup$c(editor);\n      HomeEndKeys.setup(editor);\n    };\n    var KeyboardOverrides = { setup: setup$e };\n\n    function Quirks (editor) {\n      var each = Tools.each;\n      var BACKSPACE = VK.BACKSPACE, DELETE = VK.DELETE, dom = editor.dom, selection = editor.selection, settings = editor.settings, parser = editor.parser;\n      var isGecko = Env.gecko, isIE = Env.ie, isWebKit = Env.webkit;\n      var mceInternalUrlPrefix = 'data:text/mce-internal,';\n      var mceInternalDataType = isIE ? 'Text' : 'URL';\n      var setEditorCommandState = function (cmd, state) {\n        try {\n          editor.getDoc().execCommand(cmd, false, state);\n        } catch (ex) {\n        }\n      };\n      var isDefaultPrevented = function (e) {\n        return e.isDefaultPrevented();\n      };\n      var setMceInternalContent = function (e) {\n        var selectionHtml, internalContent;\n        if (e.dataTransfer) {\n          if (editor.selection.isCollapsed() && e.target.tagName === 'IMG') {\n            selection.select(e.target);\n          }\n          selectionHtml = editor.selection.getContent();\n          if (selectionHtml.length > 0) {\n            internalContent = mceInternalUrlPrefix + escape(editor.id) + ',' + escape(selectionHtml);\n            e.dataTransfer.setData(mceInternalDataType, internalContent);\n          }\n        }\n      };\n      var getMceInternalContent = function (e) {\n        var internalContent;\n        if (e.dataTransfer) {\n          internalContent = e.dataTransfer.getData(mceInternalDataType);\n          if (internalContent && internalContent.indexOf(mceInternalUrlPrefix) >= 0) {\n            internalContent = internalContent.substr(mceInternalUrlPrefix.length).split(',');\n            return {\n              id: unescape(internalContent[0]),\n              html: unescape(internalContent[1])\n            };\n          }\n        }\n        return null;\n      };\n      var insertClipboardContents = function (content, internal) {\n        if (editor.queryCommandSupported('mceInsertClipboardContent')) {\n          editor.execCommand('mceInsertClipboardContent', false, {\n            content: content,\n            internal: internal\n          });\n        } else {\n          editor.execCommand('mceInsertContent', false, content);\n        }\n      };\n      var emptyEditorWhenDeleting = function () {\n        var serializeRng = function (rng) {\n          var body = dom.create('body');\n          var contents = rng.cloneContents();\n          body.appendChild(contents);\n          return selection.serializer.serialize(body, { format: 'html' });\n        };\n        var allContentsSelected = function (rng) {\n          var selection = serializeRng(rng);\n          var allRng = dom.createRng();\n          allRng.selectNode(editor.getBody());\n          var allSelection = serializeRng(allRng);\n          return selection === allSelection;\n        };\n        editor.on('keydown', function (e) {\n          var keyCode = e.keyCode;\n          var isCollapsed, body;\n          if (!isDefaultPrevented(e) && (keyCode === DELETE || keyCode === BACKSPACE)) {\n            isCollapsed = editor.selection.isCollapsed();\n            body = editor.getBody();\n            if (isCollapsed && !dom.isEmpty(body)) {\n              return;\n            }\n            if (!isCollapsed && !allContentsSelected(editor.selection.getRng())) {\n              return;\n            }\n            e.preventDefault();\n            editor.setContent('');\n            if (body.firstChild && dom.isBlock(body.firstChild)) {\n              editor.selection.setCursorLocation(body.firstChild, 0);\n            } else {\n              editor.selection.setCursorLocation(body, 0);\n            }\n            editor.nodeChanged();\n          }\n        });\n      };\n      var selectAll = function () {\n        editor.shortcuts.add('meta+a', null, 'SelectAll');\n      };\n      var inputMethodFocus = function () {\n        if (!editor.settings.content_editable) {\n          dom.bind(editor.getDoc(), 'mousedown mouseup', function (e) {\n            var rng;\n            if (e.target === editor.getDoc().documentElement) {\n              rng = selection.getRng();\n              editor.getBody().focus();\n              if (e.type === 'mousedown') {\n                if (isCaretContainer(rng.startContainer)) {\n                  return;\n                }\n                selection.placeCaretAt(e.clientX, e.clientY);\n              } else {\n                selection.setRng(rng);\n              }\n            }\n          });\n        }\n      };\n      var removeHrOnBackspace = function () {\n        editor.on('keydown', function (e) {\n          if (!isDefaultPrevented(e) && e.keyCode === BACKSPACE) {\n            if (!editor.getBody().getElementsByTagName('hr').length) {\n              return;\n            }\n            if (selection.isCollapsed() && selection.getRng().startOffset === 0) {\n              var node = selection.getNode();\n              var previousSibling = node.previousSibling;\n              if (node.nodeName === 'HR') {\n                dom.remove(node);\n                e.preventDefault();\n                return;\n              }\n              if (previousSibling && previousSibling.nodeName && previousSibling.nodeName.toLowerCase() === 'hr') {\n                dom.remove(previousSibling);\n                e.preventDefault();\n              }\n            }\n          }\n        });\n      };\n      var focusBody = function () {\n        if (!domGlobals.Range.prototype.getClientRects) {\n          editor.on('mousedown', function (e) {\n            if (!isDefaultPrevented(e) && e.target.nodeName === 'HTML') {\n              var body_1 = editor.getBody();\n              body_1.blur();\n              Delay.setEditorTimeout(editor, function () {\n                body_1.focus();\n              });\n            }\n          });\n        }\n      };\n      var selectControlElements = function () {\n        editor.on('click', function (e) {\n          var target = e.target;\n          if (/^(IMG|HR)$/.test(target.nodeName) && dom.getContentEditableParent(target) !== 'false') {\n            e.preventDefault();\n            editor.selection.select(target);\n            editor.nodeChanged();\n          }\n          if (target.nodeName === 'A' && dom.hasClass(target, 'mce-item-anchor')) {\n            e.preventDefault();\n            selection.select(target);\n          }\n        });\n      };\n      var removeStylesWhenDeletingAcrossBlockElements = function () {\n        var getAttributeApplyFunction = function () {\n          var template = dom.getAttribs(selection.getStart().cloneNode(false));\n          return function () {\n            var target = selection.getStart();\n            if (target !== editor.getBody()) {\n              dom.setAttrib(target, 'style', null);\n              each(template, function (attr) {\n                target.setAttributeNode(attr.cloneNode(true));\n              });\n            }\n          };\n        };\n        var isSelectionAcrossElements = function () {\n          return !selection.isCollapsed() && dom.getParent(selection.getStart(), dom.isBlock) !== dom.getParent(selection.getEnd(), dom.isBlock);\n        };\n        editor.on('keypress', function (e) {\n          var applyAttributes;\n          if (!isDefaultPrevented(e) && (e.keyCode === 8 || e.keyCode === 46) && isSelectionAcrossElements()) {\n            applyAttributes = getAttributeApplyFunction();\n            editor.getDoc().execCommand('delete', false, null);\n            applyAttributes();\n            e.preventDefault();\n            return false;\n          }\n        });\n        dom.bind(editor.getDoc(), 'cut', function (e) {\n          var applyAttributes;\n          if (!isDefaultPrevented(e) && isSelectionAcrossElements()) {\n            applyAttributes = getAttributeApplyFunction();\n            Delay.setEditorTimeout(editor, function () {\n              applyAttributes();\n            });\n          }\n        });\n      };\n      var disableBackspaceIntoATable = function () {\n        editor.on('keydown', function (e) {\n          if (!isDefaultPrevented(e) && e.keyCode === BACKSPACE) {\n            if (selection.isCollapsed() && selection.getRng().startOffset === 0) {\n              var previousSibling = selection.getNode().previousSibling;\n              if (previousSibling && previousSibling.nodeName && previousSibling.nodeName.toLowerCase() === 'table') {\n                e.preventDefault();\n                return false;\n              }\n            }\n          }\n        });\n      };\n      var removeBlockQuoteOnBackSpace = function () {\n        editor.on('keydown', function (e) {\n          var rng, container, offset, root, parent;\n          if (isDefaultPrevented(e) || e.keyCode !== VK.BACKSPACE) {\n            return;\n          }\n          rng = selection.getRng();\n          container = rng.startContainer;\n          offset = rng.startOffset;\n          root = dom.getRoot();\n          parent = container;\n          if (!rng.collapsed || offset !== 0) {\n            return;\n          }\n          while (parent && parent.parentNode && parent.parentNode.firstChild === parent && parent.parentNode !== root) {\n            parent = parent.parentNode;\n          }\n          if (parent.tagName === 'BLOCKQUOTE') {\n            editor.formatter.toggle('blockquote', null, parent);\n            rng = dom.createRng();\n            rng.setStart(container, 0);\n            rng.setEnd(container, 0);\n            selection.setRng(rng);\n          }\n        });\n      };\n      var setGeckoEditingOptions = function () {\n        var setOpts = function () {\n          setEditorCommandState('StyleWithCSS', false);\n          setEditorCommandState('enableInlineTableEditing', false);\n          if (!settings.object_resizing) {\n            setEditorCommandState('enableObjectResizing', false);\n          }\n        };\n        if (!settings.readonly) {\n          editor.on('BeforeExecCommand MouseDown', setOpts);\n        }\n      };\n      var addBrAfterLastLinks = function () {\n        var fixLinks = function () {\n          each(dom.select('a'), function (node) {\n            var parentNode = node.parentNode;\n            var root = dom.getRoot();\n            if (parentNode.lastChild === node) {\n              while (parentNode && !dom.isBlock(parentNode)) {\n                if (parentNode.parentNode.lastChild !== parentNode || parentNode === root) {\n                  return;\n                }\n                parentNode = parentNode.parentNode;\n              }\n              dom.add(parentNode, 'br', { 'data-mce-bogus': 1 });\n            }\n          });\n        };\n        editor.on('SetContent ExecCommand', function (e) {\n          if (e.type === 'setcontent' || e.command === 'mceInsertLink') {\n            fixLinks();\n          }\n        });\n      };\n      var setDefaultBlockType = function () {\n        if (settings.forced_root_block) {\n          editor.on('init', function () {\n            setEditorCommandState('DefaultParagraphSeparator', settings.forced_root_block);\n          });\n        }\n      };\n      var normalizeSelection = function () {\n        editor.on('keyup focusin mouseup', function (e) {\n          if (!VK.modifierPressed(e)) {\n            selection.normalize();\n          }\n        }, true);\n      };\n      var showBrokenImageIcon = function () {\n        editor.contentStyles.push('img:-moz-broken {' + '-moz-force-broken-image-icon:1;' + 'min-width:24px;' + 'min-height:24px' + '}');\n      };\n      var restoreFocusOnKeyDown = function () {\n        if (!editor.inline) {\n          editor.on('keydown', function () {\n            if (domGlobals.document.activeElement === domGlobals.document.body) {\n              editor.getWin().focus();\n            }\n          });\n        }\n      };\n      var bodyHeight = function () {\n        if (!editor.inline) {\n          editor.contentStyles.push('body {min-height: 150px}');\n          editor.on('click', function (e) {\n            var rng;\n            if (e.target.nodeName === 'HTML') {\n              if (Env.ie > 11) {\n                editor.getBody().focus();\n                return;\n              }\n              rng = editor.selection.getRng();\n              editor.getBody().focus();\n              editor.selection.setRng(rng);\n              editor.selection.normalize();\n              editor.nodeChanged();\n            }\n          });\n        }\n      };\n      var blockCmdArrowNavigation = function () {\n        if (Env.mac) {\n          editor.on('keydown', function (e) {\n            if (VK.metaKeyPressed(e) && !e.shiftKey && (e.keyCode === 37 || e.keyCode === 39)) {\n              e.preventDefault();\n              editor.selection.getSel().modify('move', e.keyCode === 37 ? 'backward' : 'forward', 'lineboundary');\n            }\n          });\n        }\n      };\n      var disableAutoUrlDetect = function () {\n        setEditorCommandState('AutoUrlDetect', false);\n      };\n      var tapLinksAndImages = function () {\n        editor.on('click', function (e) {\n          var elm = e.target;\n          do {\n            if (elm.tagName === 'A') {\n              e.preventDefault();\n              return;\n            }\n          } while (elm = elm.parentNode);\n        });\n        editor.contentStyles.push('.mce-content-body {-webkit-touch-callout: none}');\n      };\n      var blockFormSubmitInsideEditor = function () {\n        editor.on('init', function () {\n          editor.dom.bind(editor.getBody(), 'submit', function (e) {\n            e.preventDefault();\n          });\n        });\n      };\n      var removeAppleInterchangeBrs = function () {\n        parser.addNodeFilter('br', function (nodes) {\n          var i = nodes.length;\n          while (i--) {\n            if (nodes[i].attr('class') === 'Apple-interchange-newline') {\n              nodes[i].remove();\n            }\n          }\n        });\n      };\n      var ieInternalDragAndDrop = function () {\n        editor.on('dragstart', function (e) {\n          setMceInternalContent(e);\n        });\n        editor.on('drop', function (e) {\n          if (!isDefaultPrevented(e)) {\n            var internalContent = getMceInternalContent(e);\n            if (internalContent && internalContent.id !== editor.id) {\n              e.preventDefault();\n              var rng = CaretRangeFromPoint.fromPoint(e.x, e.y, editor.getDoc());\n              selection.setRng(rng);\n              insertClipboardContents(internalContent.html, true);\n            }\n          }\n        });\n      };\n      var refreshContentEditable = function () {\n      };\n      var isHidden = function () {\n        var sel;\n        if (!isGecko || editor.removed) {\n          return 0;\n        }\n        sel = editor.selection.getSel();\n        return !sel || !sel.rangeCount || sel.rangeCount === 0;\n      };\n      removeBlockQuoteOnBackSpace();\n      emptyEditorWhenDeleting();\n      if (!Env.windowsPhone) {\n        normalizeSelection();\n      }\n      if (isWebKit) {\n        inputMethodFocus();\n        selectControlElements();\n        setDefaultBlockType();\n        blockFormSubmitInsideEditor();\n        disableBackspaceIntoATable();\n        removeAppleInterchangeBrs();\n        if (Env.iOS) {\n          restoreFocusOnKeyDown();\n          bodyHeight();\n          tapLinksAndImages();\n        } else {\n          selectAll();\n        }\n      }\n      if (Env.ie >= 11) {\n        bodyHeight();\n        disableBackspaceIntoATable();\n      }\n      if (Env.ie) {\n        selectAll();\n        disableAutoUrlDetect();\n        ieInternalDragAndDrop();\n      }\n      if (isGecko) {\n        removeHrOnBackspace();\n        focusBody();\n        removeStylesWhenDeletingAcrossBlockElements();\n        setGeckoEditingOptions();\n        addBrAfterLastLinks();\n        showBrokenImageIcon();\n        blockCmdArrowNavigation();\n        disableBackspaceIntoATable();\n      }\n      return {\n        refreshContentEditable: refreshContentEditable,\n        isHidden: isHidden\n      };\n    }\n\n    var isTextBlockNode = function (node) {\n      return NodeType.isElement(node) && isTextBlock(Element.fromDom(node));\n    };\n    var normalizeSelection$1 = function (editor) {\n      var rng = editor.selection.getRng();\n      var startPos = CaretPosition.fromRangeStart(rng);\n      var endPos = CaretPosition.fromRangeEnd(rng);\n      if (CaretPosition.isElementPosition(startPos)) {\n        var container = startPos.container();\n        if (isTextBlockNode(container)) {\n          CaretFinder.firstPositionIn(container).each(function (pos) {\n            return rng.setStart(pos.container(), pos.offset());\n          });\n        }\n      }\n      if (CaretPosition.isElementPosition(endPos)) {\n        var container = startPos.container();\n        if (isTextBlockNode(container)) {\n          CaretFinder.lastPositionIn(container).each(function (pos) {\n            return rng.setEnd(pos.container(), pos.offset());\n          });\n        }\n      }\n      editor.selection.setRng(RangeNormalizer.normalize(rng));\n    };\n    var setup$f = function (editor) {\n      editor.on('click', function (e) {\n        if (e.detail >= 3) {\n          normalizeSelection$1(editor);\n        }\n      });\n    };\n\n    var preventSummaryToggle = function (editor) {\n      editor.on('click', function (e) {\n        if (editor.dom.getParent(e.target, 'details')) {\n          e.preventDefault();\n        }\n      });\n    };\n    var filterDetails = function (editor) {\n      editor.parser.addNodeFilter('details', function (elms) {\n        each(elms, function (details) {\n          details.attr('data-mce-open', details.attr('open'));\n          details.attr('open', 'open');\n        });\n      });\n      editor.serializer.addNodeFilter('details', function (elms) {\n        each(elms, function (details) {\n          var open = details.attr('data-mce-open');\n          details.attr('open', isString(open) ? open : null);\n          details.attr('data-mce-open', null);\n        });\n      });\n    };\n    var setup$g = function (editor) {\n      preventSummaryToggle(editor);\n      filterDetails(editor);\n    };\n\n    var DOM$2 = DOMUtils$1.DOM;\n    var appendStyle = function (editor, text) {\n      var head = Element.fromDom(editor.getDoc().head);\n      var tag = Element.fromTag('style');\n      set(tag, 'type', 'text/css');\n      append(tag, Element.fromText(text));\n      append(head, tag);\n    };\n    var createParser = function (editor) {\n      var parser = DomParser(editor.settings, editor.schema);\n      parser.addAttributeFilter('src,href,style,tabindex', function (nodes, name) {\n        var i = nodes.length, node;\n        var dom = editor.dom;\n        var value, internalName;\n        while (i--) {\n          node = nodes[i];\n          value = node.attr(name);\n          internalName = 'data-mce-' + name;\n          if (!node.attributes.map[internalName]) {\n            if (value.indexOf('data:') === 0 || value.indexOf('blob:') === 0) {\n              continue;\n            }\n            if (name === 'style') {\n              value = dom.serializeStyle(dom.parseStyle(value), node.name);\n              if (!value.length) {\n                value = null;\n              }\n              node.attr(internalName, value);\n              node.attr(name, value);\n            } else if (name === 'tabindex') {\n              node.attr(internalName, value);\n              node.attr(name, null);\n            } else {\n              node.attr(internalName, editor.convertURL(value, name, node.name));\n            }\n          }\n        }\n      });\n      parser.addNodeFilter('script', function (nodes) {\n        var i = nodes.length, node, type;\n        while (i--) {\n          node = nodes[i];\n          type = node.attr('type') || 'no/type';\n          if (type.indexOf('mce-') !== 0) {\n            node.attr('type', 'mce-' + type);\n          }\n        }\n      });\n      parser.addNodeFilter('#cdata', function (nodes) {\n        var i = nodes.length, node;\n        while (i--) {\n          node = nodes[i];\n          node.type = 8;\n          node.name = '#comment';\n          node.value = '[CDATA[' + node.value + ']]';\n        }\n      });\n      parser.addNodeFilter('p,h1,h2,h3,h4,h5,h6,div', function (nodes) {\n        var i = nodes.length, node;\n        var nonEmptyElements = editor.schema.getNonEmptyElements();\n        while (i--) {\n          node = nodes[i];\n          if (node.isEmpty(nonEmptyElements) && node.getAll('br').length === 0) {\n            node.append(new Node$1('br', 1)).shortEnded = true;\n          }\n        }\n      });\n      return parser;\n    };\n    var autoFocus = function (editor) {\n      if (editor.settings.auto_focus) {\n        Delay.setEditorTimeout(editor, function () {\n          var focusEditor;\n          if (editor.settings.auto_focus === true) {\n            focusEditor = editor;\n          } else {\n            focusEditor = editor.editorManager.get(editor.settings.auto_focus);\n          }\n          if (!focusEditor.destroyed) {\n            focusEditor.focus();\n          }\n        }, 100);\n      }\n    };\n    var initEditor = function (editor) {\n      editor.bindPendingEventDelegates();\n      editor.initialized = true;\n      editor.fire('init');\n      editor.focus(true);\n      editor.nodeChanged({ initial: true });\n      editor.execCallback('init_instance_callback', editor);\n      autoFocus(editor);\n    };\n    var getStyleSheetLoader = function (editor) {\n      return editor.inline ? DOM$2.styleSheetLoader : editor.dom.styleSheetLoader;\n    };\n    var initContentBody = function (editor, skipWrite) {\n      var settings = editor.settings;\n      var targetElm = editor.getElement();\n      var doc = editor.getDoc(), body, contentCssText;\n      if (!settings.inline) {\n        editor.getElement().style.visibility = editor.orgVisibility;\n      }\n      if (!skipWrite && !settings.content_editable) {\n        doc.open();\n        doc.write(editor.iframeHTML);\n        doc.close();\n      }\n      if (settings.content_editable) {\n        editor.on('remove', function () {\n          var bodyEl = this.getBody();\n          DOM$2.removeClass(bodyEl, 'mce-content-body');\n          DOM$2.removeClass(bodyEl, 'mce-edit-focus');\n          DOM$2.setAttrib(bodyEl, 'contentEditable', null);\n        });\n        DOM$2.addClass(targetElm, 'mce-content-body');\n        editor.contentDocument = doc = settings.content_document || domGlobals.document;\n        editor.contentWindow = settings.content_window || domGlobals.window;\n        editor.bodyElement = targetElm;\n        settings.content_document = settings.content_window = null;\n        settings.root_name = targetElm.nodeName.toLowerCase();\n      }\n      body = editor.getBody();\n      body.disabled = true;\n      editor.readonly = settings.readonly;\n      if (!editor.readonly) {\n        if (editor.inline && DOM$2.getStyle(body, 'position', true) === 'static') {\n          body.style.position = 'relative';\n        }\n        body.contentEditable = editor.getParam('content_editable_state', true);\n      }\n      body.disabled = false;\n      editor.editorUpload = EditorUpload(editor);\n      editor.schema = Schema(settings);\n      editor.dom = DOMUtils$1(doc, {\n        keep_values: true,\n        url_converter: editor.convertURL,\n        url_converter_scope: editor,\n        hex_colors: settings.force_hex_style_colors,\n        class_filter: settings.class_filter,\n        update_styles: true,\n        root_element: editor.inline ? editor.getBody() : null,\n        collect: settings.content_editable,\n        schema: editor.schema,\n        contentCssCors: Settings.shouldUseContentCssCors(editor),\n        onSetAttrib: function (e) {\n          editor.fire('SetAttrib', e);\n        }\n      });\n      editor.parser = createParser(editor);\n      editor.serializer = DomSerializer$1(settings, editor);\n      editor.selection = Selection$1(editor.dom, editor.getWin(), editor.serializer, editor);\n      editor.annotator = Annotator(editor);\n      editor.formatter = Formatter(editor);\n      editor.undoManager = UndoManager(editor);\n      editor._nodeChangeDispatcher = new NodeChange(editor);\n      editor._selectionOverrides = SelectionOverrides(editor);\n      setup$g(editor);\n      setup$f(editor);\n      KeyboardOverrides.setup(editor);\n      ForceBlocks.setup(editor);\n      editor.fire('PreInit');\n      if (!settings.browser_spellcheck && !settings.gecko_spellcheck) {\n        doc.body.spellcheck = false;\n        DOM$2.setAttrib(body, 'spellcheck', 'false');\n      }\n      editor.quirks = Quirks(editor);\n      editor.fire('PostRender');\n      if (settings.directionality) {\n        body.dir = settings.directionality;\n      }\n      if (settings.nowrap) {\n        body.style.whiteSpace = 'nowrap';\n      }\n      if (settings.protect) {\n        editor.on('BeforeSetContent', function (e) {\n          Tools.each(settings.protect, function (pattern) {\n            e.content = e.content.replace(pattern, function (str) {\n              return '<!--mce:protected ' + escape(str) + '-->';\n            });\n          });\n        });\n      }\n      editor.on('SetContent', function () {\n        editor.addVisual(editor.getBody());\n      });\n      editor.load({\n        initial: true,\n        format: 'html'\n      });\n      editor.startContent = editor.getContent({ format: 'raw' });\n      editor.on('compositionstart compositionend', function (e) {\n        editor.composing = e.type === 'compositionstart';\n      });\n      if (editor.contentStyles.length > 0) {\n        contentCssText = '';\n        Tools.each(editor.contentStyles, function (style) {\n          contentCssText += style + '\\r\\n';\n        });\n        editor.dom.addStyle(contentCssText);\n      }\n      getStyleSheetLoader(editor).loadAll(editor.contentCSS, function (_) {\n        initEditor(editor);\n      }, function (urls) {\n        initEditor(editor);\n      });\n      if (settings.content_style) {\n        appendStyle(editor, settings.content_style);\n      }\n    };\n    var InitContentBody = { initContentBody: initContentBody };\n\n    var DOM$3 = DOMUtils$1.DOM;\n    var relaxDomain = function (editor, ifr) {\n      if (domGlobals.document.domain !== domGlobals.window.location.hostname && Env.ie && Env.ie < 12) {\n        var bodyUuid = Uuid.uuid('mce');\n        editor[bodyUuid] = function () {\n          InitContentBody.initContentBody(editor);\n        };\n        var domainRelaxUrl = 'javascript:(function(){' + 'document.open();document.domain=\"' + domGlobals.document.domain + '\";' + 'var ed = window.parent.tinymce.get(\"' + editor.id + '\");document.write(ed.iframeHTML);' + 'document.close();ed.' + bodyUuid + '(true);})()';\n        DOM$3.setAttrib(ifr, 'src', domainRelaxUrl);\n        return true;\n      }\n      return false;\n    };\n    var normalizeHeight = function (height) {\n      var normalizedHeight = typeof height === 'number' ? height + 'px' : height;\n      return normalizedHeight ? normalizedHeight : '';\n    };\n    var createIframeElement = function (id, title, height, customAttrs) {\n      var iframe = Element.fromTag('iframe');\n      setAll(iframe, customAttrs);\n      setAll(iframe, {\n        id: id + '_ifr',\n        frameBorder: '0',\n        allowTransparency: 'true',\n        title: title\n      });\n      setAll$1(iframe, {\n        width: '100%',\n        height: normalizeHeight(height),\n        display: 'block'\n      });\n      return iframe;\n    };\n    var getIframeHtml = function (editor) {\n      var bodyId, bodyClass, iframeHTML;\n      iframeHTML = Settings.getDocType(editor) + '<html><head>';\n      if (Settings.getDocumentBaseUrl(editor) !== editor.documentBaseUrl) {\n        iframeHTML += '<base href=\"' + editor.documentBaseURI.getURI() + '\" />';\n      }\n      iframeHTML += '<meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" />';\n      bodyId = Settings.getBodyId(editor);\n      bodyClass = Settings.getBodyClass(editor);\n      if (Settings.getContentSecurityPolicy(editor)) {\n        iframeHTML += '<meta http-equiv=\"Content-Security-Policy\" content=\"' + Settings.getContentSecurityPolicy(editor) + '\" />';\n      }\n      iframeHTML += '</head><body id=\"' + bodyId + '\" class=\"mce-content-body ' + bodyClass + '\" data-id=\"' + editor.id + '\"><br></body></html>';\n      return iframeHTML;\n    };\n    var createIframe = function (editor, o) {\n      var title = editor.editorManager.translate('Rich Text Area. Press ALT-F9 for menu. ' + 'Press ALT-F10 for toolbar. Press ALT-0 for help');\n      var ifr = createIframeElement(editor.id, title, o.height, Settings.getIframeAttrs(editor)).dom();\n      ifr.onload = function () {\n        ifr.onload = null;\n        editor.fire('load');\n      };\n      var isDomainRelaxed = relaxDomain(editor, ifr);\n      editor.contentAreaContainer = o.iframeContainer;\n      editor.iframeElement = ifr;\n      editor.iframeHTML = getIframeHtml(editor);\n      DOM$3.add(o.iframeContainer, ifr);\n      return isDomainRelaxed;\n    };\n    var init$1 = function (editor, boxInfo) {\n      var isDomainRelaxed = createIframe(editor, boxInfo);\n      if (boxInfo.editorContainer) {\n        DOM$3.get(boxInfo.editorContainer).style.display = editor.orgDisplay;\n        editor.hidden = DOM$3.isHidden(boxInfo.editorContainer);\n      }\n      editor.getElement().style.display = 'none';\n      DOM$3.setAttrib(editor.id, 'aria-hidden', 'true');\n      if (!isDomainRelaxed) {\n        InitContentBody.initContentBody(editor);\n      }\n    };\n    var InitIframe = { init: init$1 };\n\n    var DOM$4 = DOMUtils$1.DOM;\n    var initPlugin = function (editor, initializedPlugins, plugin) {\n      var Plugin = PluginManager$1.get(plugin);\n      var pluginUrl = PluginManager$1.urls[plugin] || editor.documentBaseUrl.replace(/\\/$/, '');\n      plugin = Tools.trim(plugin);\n      if (Plugin && Tools.inArray(initializedPlugins, plugin) === -1) {\n        Tools.each(PluginManager$1.dependencies(plugin), function (dep) {\n          initPlugin(editor, initializedPlugins, dep);\n        });\n        if (editor.plugins[plugin]) {\n          return;\n        }\n        try {\n          var pluginInstance = new Plugin(editor, pluginUrl, editor.$);\n          editor.plugins[plugin] = pluginInstance;\n          if (pluginInstance.init) {\n            pluginInstance.init(editor, pluginUrl);\n            initializedPlugins.push(plugin);\n          }\n        } catch (e) {\n          ErrorReporter.pluginInitError(editor, plugin, e);\n        }\n      }\n    };\n    var trimLegacyPrefix = function (name) {\n      return name.replace(/^\\-/, '');\n    };\n    var initPlugins = function (editor) {\n      var initializedPlugins = [];\n      Tools.each(editor.settings.plugins.split(/[ ,]/), function (name) {\n        initPlugin(editor, initializedPlugins, trimLegacyPrefix(name));\n      });\n    };\n    var initTheme = function (editor) {\n      var Theme;\n      var theme = editor.settings.theme;\n      if (isString(theme)) {\n        editor.settings.theme = trimLegacyPrefix(theme);\n        Theme = ThemeManager.get(theme);\n        editor.theme = new Theme(editor, ThemeManager.urls[theme]);\n        if (editor.theme.init) {\n          editor.theme.init(editor, ThemeManager.urls[theme] || editor.documentBaseUrl.replace(/\\/$/, ''), editor.$);\n        }\n      } else {\n        editor.theme = {};\n      }\n    };\n    var renderFromLoadedTheme = function (editor) {\n      var w, h, minHeight, re, info;\n      var settings = editor.settings;\n      var elm = editor.getElement();\n      w = settings.width || DOM$4.getStyle(elm, 'width') || '100%';\n      h = settings.height || DOM$4.getStyle(elm, 'height') || elm.offsetHeight;\n      minHeight = settings.min_height || 100;\n      re = /^[0-9\\.]+(|px)$/i;\n      if (re.test('' + w)) {\n        w = Math.max(parseInt(w, 10), 100);\n      }\n      if (re.test('' + h)) {\n        h = Math.max(parseInt(h, 10), minHeight);\n      }\n      info = editor.theme.renderUI({\n        targetNode: elm,\n        width: w,\n        height: h,\n        deltaWidth: settings.delta_width,\n        deltaHeight: settings.delta_height\n      });\n      if (!settings.content_editable) {\n        h = (info.iframeHeight || h) + (typeof h === 'number' ? info.deltaHeight || 0 : '');\n        if (h < minHeight) {\n          h = minHeight;\n        }\n      }\n      info.height = h;\n      return info;\n    };\n    var renderFromThemeFunc = function (editor) {\n      var info;\n      var elm = editor.getElement();\n      info = editor.settings.theme(editor, elm);\n      if (info.editorContainer.nodeType) {\n        info.editorContainer.id = info.editorContainer.id || editor.id + '_parent';\n      }\n      if (info.iframeContainer && info.iframeContainer.nodeType) {\n        info.iframeContainer.id = info.iframeContainer.id || editor.id + '_iframecontainer';\n      }\n      info.height = info.iframeHeight ? info.iframeHeight : elm.offsetHeight;\n      return info;\n    };\n    var createThemeFalseResult = function (element) {\n      return {\n        editorContainer: element,\n        iframeContainer: element\n      };\n    };\n    var renderThemeFalseIframe = function (targetElement) {\n      var iframeContainer = DOM$4.create('div');\n      DOM$4.insertAfter(iframeContainer, targetElement);\n      return createThemeFalseResult(iframeContainer);\n    };\n    var renderThemeFalse = function (editor) {\n      var targetElement = editor.getElement();\n      return editor.inline ? createThemeFalseResult(null) : renderThemeFalseIframe(targetElement);\n    };\n    var renderThemeUi = function (editor) {\n      var settings = editor.settings, elm = editor.getElement();\n      editor.orgDisplay = elm.style.display;\n      if (isString(settings.theme)) {\n        return renderFromLoadedTheme(editor);\n      } else if (isFunction(settings.theme)) {\n        return renderFromThemeFunc(editor);\n      } else {\n        return renderThemeFalse(editor);\n      }\n    };\n    var init$2 = function (editor) {\n      var settings = editor.settings;\n      var elm = editor.getElement();\n      var boxInfo;\n      editor.rtl = settings.rtl_ui || editor.editorManager.i18n.rtl;\n      editor.editorManager.i18n.setCode(settings.language);\n      settings.aria_label = settings.aria_label || DOM$4.getAttrib(elm, 'aria-label', editor.getLang('aria.rich_text_area'));\n      editor.fire('ScriptsLoaded');\n      initTheme(editor);\n      initPlugins(editor);\n      boxInfo = renderThemeUi(editor);\n      editor.editorContainer = boxInfo.editorContainer ? boxInfo.editorContainer : null;\n      if (settings.content_css) {\n        Tools.each(Tools.explode(settings.content_css), function (u) {\n          editor.contentCSS.push(editor.documentBaseURI.toAbsolute(u));\n        });\n      }\n      if (settings.content_editable) {\n        return InitContentBody.initContentBody(editor);\n      } else {\n        return InitIframe.init(editor, boxInfo);\n      }\n    };\n    var Init = { init: init$2 };\n\n    var DOM$5 = DOMUtils$1.DOM;\n    var hasSkipLoadPrefix = function (name) {\n      return name.charAt(0) === '-';\n    };\n    var loadLanguage = function (scriptLoader, editor) {\n      var settings = editor.settings;\n      if (settings.language && settings.language !== 'en' && !settings.language_url) {\n        settings.language_url = editor.editorManager.baseURL + '/langs/' + settings.language + '.js';\n      }\n      if (settings.language_url && !editor.editorManager.i18n.data[settings.language]) {\n        scriptLoader.add(settings.language_url);\n      }\n    };\n    var loadTheme = function (scriptLoader, editor, suffix, callback) {\n      var settings = editor.settings, theme = settings.theme;\n      if (isString(theme)) {\n        if (!hasSkipLoadPrefix(theme) && !ThemeManager.urls.hasOwnProperty(theme)) {\n          var themeUrl = settings.theme_url;\n          if (themeUrl) {\n            ThemeManager.load(theme, editor.documentBaseURI.toAbsolute(themeUrl));\n          } else {\n            ThemeManager.load(theme, 'themes/' + theme + '/theme' + suffix + '.js');\n          }\n        }\n        scriptLoader.loadQueue(function () {\n          ThemeManager.waitFor(theme, callback);\n        });\n      } else {\n        callback();\n      }\n    };\n    var loadPlugins = function (settings, suffix) {\n      if (Tools.isArray(settings.plugins)) {\n        settings.plugins = settings.plugins.join(' ');\n      }\n      Tools.each(settings.external_plugins, function (url, name) {\n        PluginManager$1.load(name, url);\n        settings.plugins += ' ' + name;\n      });\n      Tools.each(settings.plugins.split(/[ ,]/), function (plugin) {\n        plugin = Tools.trim(plugin);\n        if (plugin && !PluginManager$1.urls[plugin]) {\n          if (hasSkipLoadPrefix(plugin)) {\n            plugin = plugin.substr(1, plugin.length);\n            var dependencies = PluginManager$1.dependencies(plugin);\n            Tools.each(dependencies, function (dep) {\n              var defaultSettings = {\n                prefix: 'plugins/',\n                resource: dep,\n                suffix: '/plugin' + suffix + '.js'\n              };\n              dep = PluginManager$1.createUrl(defaultSettings, dep);\n              PluginManager$1.load(dep.resource, dep);\n            });\n          } else {\n            PluginManager$1.load(plugin, {\n              prefix: 'plugins/',\n              resource: plugin,\n              suffix: '/plugin' + suffix + '.js'\n            });\n          }\n        }\n      });\n    };\n    var loadScripts = function (editor, suffix) {\n      var scriptLoader = ScriptLoader.ScriptLoader;\n      loadTheme(scriptLoader, editor, suffix, function () {\n        loadLanguage(scriptLoader, editor);\n        loadPlugins(editor.settings, suffix);\n        scriptLoader.loadQueue(function () {\n          if (!editor.removed) {\n            Init.init(editor);\n          }\n        }, editor, function (urls) {\n          ErrorReporter.pluginLoadError(editor, urls[0]);\n          if (!editor.removed) {\n            Init.init(editor);\n          }\n        });\n      });\n    };\n    var render = function (editor) {\n      var settings = editor.settings, id = editor.id;\n      var readyHandler = function () {\n        DOM$5.unbind(domGlobals.window, 'ready', readyHandler);\n        editor.render();\n      };\n      if (!EventUtils.Event.domLoaded) {\n        DOM$5.bind(domGlobals.window, 'ready', readyHandler);\n        return;\n      }\n      if (!editor.getElement()) {\n        return;\n      }\n      if (!Env.contentEditable) {\n        return;\n      }\n      if (!settings.inline) {\n        editor.orgVisibility = editor.getElement().style.visibility;\n        editor.getElement().style.visibility = 'hidden';\n      } else {\n        editor.inline = true;\n      }\n      var form = editor.getElement().form || DOM$5.getParent(id, 'form');\n      if (form) {\n        editor.formElement = form;\n        if (settings.hidden_input && !/TEXTAREA|INPUT/i.test(editor.getElement().nodeName)) {\n          DOM$5.insertAfter(DOM$5.create('input', {\n            type: 'hidden',\n            name: id\n          }), id);\n          editor.hasHiddenInput = true;\n        }\n        editor.formEventDelegate = function (e) {\n          editor.fire(e.type, e);\n        };\n        DOM$5.bind(form, 'submit reset', editor.formEventDelegate);\n        editor.on('reset', function () {\n          editor.setContent(editor.startContent, { format: 'raw' });\n        });\n        if (settings.submit_patch && !form.submit.nodeType && !form.submit.length && !form._mceOldSubmit) {\n          form._mceOldSubmit = form.submit;\n          form.submit = function () {\n            editor.editorManager.triggerSave();\n            editor.setDirty(false);\n            return form._mceOldSubmit(form);\n          };\n        }\n      }\n      editor.windowManager = WindowManager(editor);\n      editor.notificationManager = NotificationManager(editor);\n      if (settings.encoding === 'xml') {\n        editor.on('GetContent', function (e) {\n          if (e.save) {\n            e.content = DOM$5.encode(e.content);\n          }\n        });\n      }\n      if (settings.add_form_submit_trigger) {\n        editor.on('submit', function () {\n          if (editor.initialized) {\n            editor.save();\n          }\n        });\n      }\n      if (settings.add_unload_trigger) {\n        editor._beforeUnload = function () {\n          if (editor.initialized && !editor.destroyed && !editor.isHidden()) {\n            editor.save({\n              format: 'raw',\n              no_events: true,\n              set_dirty: false\n            });\n          }\n        };\n        editor.editorManager.on('BeforeUnload', editor._beforeUnload);\n      }\n      editor.editorManager.add(editor);\n      loadScripts(editor, editor.suffix);\n    };\n    var Render = { render: render };\n\n    var add$4 = function (editor, name, settings) {\n      var sidebars = editor.sidebars ? editor.sidebars : [];\n      sidebars.push({\n        name: name,\n        settings: settings\n      });\n      editor.sidebars = sidebars;\n    };\n    var Sidebar = { add: add$4 };\n\n    var each$k = Tools.each, trim$4 = Tools.trim;\n    var queryParts = 'source protocol authority userInfo user password host port relative path directory file query anchor'.split(' ');\n    var DEFAULT_PORTS = {\n      ftp: 21,\n      http: 80,\n      https: 443,\n      mailto: 25\n    };\n    var URI = function (url, settings) {\n      var self = this;\n      var baseUri, baseUrl;\n      url = trim$4(url);\n      settings = self.settings = settings || {};\n      baseUri = settings.base_uri;\n      if (/^([\\w\\-]+):([^\\/]{2})/i.test(url) || /^\\s*#/.test(url)) {\n        self.source = url;\n        return;\n      }\n      var isProtocolRelative = url.indexOf('//') === 0;\n      if (url.indexOf('/') === 0 && !isProtocolRelative) {\n        url = (baseUri ? baseUri.protocol || 'http' : 'http') + '://mce_host' + url;\n      }\n      if (!/^[\\w\\-]*:?\\/\\//.test(url)) {\n        baseUrl = settings.base_uri ? settings.base_uri.path : new URI(domGlobals.document.location.href).directory;\n        if (settings.base_uri.protocol == '') {\n          url = '//mce_host' + self.toAbsPath(baseUrl, url);\n        } else {\n          url = /([^#?]*)([#?]?.*)/.exec(url);\n          url = (baseUri && baseUri.protocol || 'http') + '://mce_host' + self.toAbsPath(baseUrl, url[1]) + url[2];\n        }\n      }\n      url = url.replace(/@@/g, '(mce_at)');\n      url = /^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@\\/]*):?([^:@\\/]*))?@)?([^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/.exec(url);\n      each$k(queryParts, function (v, i) {\n        var part = url[i];\n        if (part) {\n          part = part.replace(/\\(mce_at\\)/g, '@@');\n        }\n        self[v] = part;\n      });\n      if (baseUri) {\n        if (!self.protocol) {\n          self.protocol = baseUri.protocol;\n        }\n        if (!self.userInfo) {\n          self.userInfo = baseUri.userInfo;\n        }\n        if (!self.port && self.host === 'mce_host') {\n          self.port = baseUri.port;\n        }\n        if (!self.host || self.host === 'mce_host') {\n          self.host = baseUri.host;\n        }\n        self.source = '';\n      }\n      if (isProtocolRelative) {\n        self.protocol = '';\n      }\n    };\n    URI.prototype = {\n      setPath: function (path) {\n        var self = this;\n        path = /^(.*?)\\/?(\\w+)?$/.exec(path);\n        self.path = path[0];\n        self.directory = path[1];\n        self.file = path[2];\n        self.source = '';\n        self.getURI();\n      },\n      toRelative: function (uri) {\n        var self = this;\n        var output;\n        if (uri === './') {\n          return uri;\n        }\n        uri = new URI(uri, { base_uri: self });\n        if (uri.host !== 'mce_host' && self.host !== uri.host && uri.host || self.port !== uri.port || self.protocol !== uri.protocol && uri.protocol !== '') {\n          return uri.getURI();\n        }\n        var tu = self.getURI(), uu = uri.getURI();\n        if (tu === uu || tu.charAt(tu.length - 1) === '/' && tu.substr(0, tu.length - 1) === uu) {\n          return tu;\n        }\n        output = self.toRelPath(self.path, uri.path);\n        if (uri.query) {\n          output += '?' + uri.query;\n        }\n        if (uri.anchor) {\n          output += '#' + uri.anchor;\n        }\n        return output;\n      },\n      toAbsolute: function (uri, noHost) {\n        uri = new URI(uri, { base_uri: this });\n        return uri.getURI(noHost && this.isSameOrigin(uri));\n      },\n      isSameOrigin: function (uri) {\n        if (this.host == uri.host && this.protocol == uri.protocol) {\n          if (this.port == uri.port) {\n            return true;\n          }\n          var defaultPort = DEFAULT_PORTS[this.protocol];\n          if (defaultPort && (this.port || defaultPort) == (uri.port || defaultPort)) {\n            return true;\n          }\n        }\n        return false;\n      },\n      toRelPath: function (base, path) {\n        var items, breakPoint = 0, out = '', i, l;\n        base = base.substring(0, base.lastIndexOf('/'));\n        base = base.split('/');\n        items = path.split('/');\n        if (base.length >= items.length) {\n          for (i = 0, l = base.length; i < l; i++) {\n            if (i >= items.length || base[i] !== items[i]) {\n              breakPoint = i + 1;\n              break;\n            }\n          }\n        }\n        if (base.length < items.length) {\n          for (i = 0, l = items.length; i < l; i++) {\n            if (i >= base.length || base[i] !== items[i]) {\n              breakPoint = i + 1;\n              break;\n            }\n          }\n        }\n        if (breakPoint === 1) {\n          return path;\n        }\n        for (i = 0, l = base.length - (breakPoint - 1); i < l; i++) {\n          out += '../';\n        }\n        for (i = breakPoint - 1, l = items.length; i < l; i++) {\n          if (i !== breakPoint - 1) {\n            out += '/' + items[i];\n          } else {\n            out += items[i];\n          }\n        }\n        return out;\n      },\n      toAbsPath: function (base, path) {\n        var i, nb = 0, o = [], tr, outPath;\n        tr = /\\/$/.test(path) ? '/' : '';\n        base = base.split('/');\n        path = path.split('/');\n        each$k(base, function (k) {\n          if (k) {\n            o.push(k);\n          }\n        });\n        base = o;\n        for (i = path.length - 1, o = []; i >= 0; i--) {\n          if (path[i].length === 0 || path[i] === '.') {\n            continue;\n          }\n          if (path[i] === '..') {\n            nb++;\n            continue;\n          }\n          if (nb > 0) {\n            nb--;\n            continue;\n          }\n          o.push(path[i]);\n        }\n        i = base.length - nb;\n        if (i <= 0) {\n          outPath = o.reverse().join('/');\n        } else {\n          outPath = base.slice(0, i).join('/') + '/' + o.reverse().join('/');\n        }\n        if (outPath.indexOf('/') !== 0) {\n          outPath = '/' + outPath;\n        }\n        if (tr && outPath.lastIndexOf('/') !== outPath.length - 1) {\n          outPath += tr;\n        }\n        return outPath;\n      },\n      getURI: function (noProtoHost) {\n        var s;\n        var self = this;\n        if (!self.source || noProtoHost) {\n          s = '';\n          if (!noProtoHost) {\n            if (self.protocol) {\n              s += self.protocol + '://';\n            } else {\n              s += '//';\n            }\n            if (self.userInfo) {\n              s += self.userInfo + '@';\n            }\n            if (self.host) {\n              s += self.host;\n            }\n            if (self.port) {\n              s += ':' + self.port;\n            }\n          }\n          if (self.path) {\n            s += self.path;\n          }\n          if (self.query) {\n            s += '?' + self.query;\n          }\n          if (self.anchor) {\n            s += '#' + self.anchor;\n          }\n          self.source = s;\n        }\n        return self.source;\n      }\n    };\n    URI.parseDataUri = function (uri) {\n      var type, matches;\n      uri = decodeURIComponent(uri).split(',');\n      matches = /data:([^;]+)/.exec(uri[0]);\n      if (matches) {\n        type = matches[1];\n      }\n      return {\n        type: type,\n        data: uri[1]\n      };\n    };\n    URI.getDocumentBaseUrl = function (loc) {\n      var baseUrl;\n      if (loc.protocol.indexOf('http') !== 0 && loc.protocol !== 'file:') {\n        baseUrl = loc.href;\n      } else {\n        baseUrl = loc.protocol + '//' + loc.host + loc.pathname;\n      }\n      if (/^[^:]+:\\/\\/\\/?[^\\/]+\\//.test(baseUrl)) {\n        baseUrl = baseUrl.replace(/[\\?#].*$/, '').replace(/[\\/\\\\][^\\/]+$/, '');\n        if (!/[\\/\\\\]$/.test(baseUrl)) {\n          baseUrl += '/';\n        }\n      }\n      return baseUrl;\n    };\n\n    var defaultFormat = 'html';\n    var trimEmptyContents = function (editor, html) {\n      var blockName = Settings.getForcedRootBlock(editor);\n      var emptyRegExp = new RegExp('^(<' + blockName + '[^>]*>(&nbsp;|&#160;|\\\\s|\\xA0|<br \\\\/>|)<\\\\/' + blockName + '>[\\r\\n]*|<br \\\\/>[\\r\\n]*)$');\n      return html.replace(emptyRegExp, '');\n    };\n    var getContentFromBody = function (editor, args, body) {\n      var content;\n      args.format = args.format ? args.format : defaultFormat;\n      args.get = true;\n      args.getInner = true;\n      if (!args.no_events) {\n        editor.fire('BeforeGetContent', args);\n      }\n      if (args.format === 'raw') {\n        content = Tools.trim(TrimHtml.trimExternal(editor.serializer, body.innerHTML));\n      } else if (args.format === 'text') {\n        content = Zwsp.trim(body.innerText || body.textContent);\n      } else if (args.format === 'tree') {\n        return editor.serializer.serialize(body, args);\n      } else {\n        content = trimEmptyContents(editor, editor.serializer.serialize(body, args));\n      }\n      if (args.format !== 'text' && !isWsPreserveElement(Element.fromDom(body))) {\n        args.content = Tools.trim(content);\n      } else {\n        args.content = content;\n      }\n      if (!args.no_events) {\n        editor.fire('GetContent', args);\n      }\n      return args.content;\n    };\n    var getContent$1 = function (editor, args) {\n      if (args === void 0) {\n        args = {};\n      }\n      return Option.from(editor.getBody()).fold(constant(args.format === 'tree' ? new Node$1('body', 11) : ''), function (body) {\n        return getContentFromBody(editor, args, body);\n      });\n    };\n\n    var traverse = function (node, fn) {\n      fn(node);\n      if (node.firstChild) {\n        traverse(node.firstChild, fn);\n      }\n      if (node.next) {\n        traverse(node.next, fn);\n      }\n    };\n    var findMatchingNodes = function (nodeFilters, attributeFilters, node) {\n      var nodeMatches = {};\n      var attrMatches = {};\n      var matches = [];\n      if (node.firstChild) {\n        traverse(node.firstChild, function (node) {\n          each(nodeFilters, function (filter) {\n            if (filter.name === node.name) {\n              if (nodeMatches[filter.name]) {\n                nodeMatches[filter.name].nodes.push(node);\n              } else {\n                nodeMatches[filter.name] = {\n                  filter: filter,\n                  nodes: [node]\n                };\n              }\n            }\n          });\n          each(attributeFilters, function (filter) {\n            if (typeof node.attr(filter.name) === 'string') {\n              if (attrMatches[filter.name]) {\n                attrMatches[filter.name].nodes.push(node);\n              } else {\n                attrMatches[filter.name] = {\n                  filter: filter,\n                  nodes: [node]\n                };\n              }\n            }\n          });\n        });\n      }\n      for (var name in nodeMatches) {\n        if (nodeMatches.hasOwnProperty(name)) {\n          matches.push(nodeMatches[name]);\n        }\n      }\n      for (var name in attrMatches) {\n        if (attrMatches.hasOwnProperty(name)) {\n          matches.push(attrMatches[name]);\n        }\n      }\n      return matches;\n    };\n    var filter$3 = function (nodeFilters, attributeFilters, node) {\n      var matches = findMatchingNodes(nodeFilters, attributeFilters, node);\n      each(matches, function (match) {\n        each(match.filter.callbacks, function (callback) {\n          callback(match.nodes, match.filter.name, {});\n        });\n      });\n    };\n\n    var defaultFormat$1 = 'html';\n    var isTreeNode = function (content) {\n      return content instanceof Node$1;\n    };\n    var moveSelection = function (editor) {\n      if (EditorFocus.hasFocus(editor)) {\n        CaretFinder.firstPositionIn(editor.getBody()).each(function (pos) {\n          var node = pos.getNode();\n          var caretPos = NodeType.isTable(node) ? CaretFinder.firstPositionIn(node).getOr(pos) : pos;\n          editor.selection.setRng(caretPos.toRange());\n        });\n      }\n    };\n    var setEditorHtml = function (editor, html) {\n      editor.dom.setHTML(editor.getBody(), html);\n      moveSelection(editor);\n    };\n    var setContentString = function (editor, body, content, args) {\n      var forcedRootBlockName, padd;\n      if (content.length === 0 || /^\\s+$/.test(content)) {\n        padd = '<br data-mce-bogus=\"1\">';\n        if (body.nodeName === 'TABLE') {\n          content = '<tr><td>' + padd + '</td></tr>';\n        } else if (/^(UL|OL)$/.test(body.nodeName)) {\n          content = '<li>' + padd + '</li>';\n        }\n        forcedRootBlockName = Settings.getForcedRootBlock(editor);\n        if (forcedRootBlockName && editor.schema.isValidChild(body.nodeName.toLowerCase(), forcedRootBlockName.toLowerCase())) {\n          content = padd;\n          content = editor.dom.createHTML(forcedRootBlockName, editor.settings.forced_root_block_attrs, content);\n        } else if (!content) {\n          content = '<br data-mce-bogus=\"1\">';\n        }\n        setEditorHtml(editor, content);\n        editor.fire('SetContent', args);\n      } else {\n        if (args.format !== 'raw') {\n          content = HtmlSerializer({ validate: editor.validate }, editor.schema).serialize(editor.parser.parse(content, {\n            isRootContent: true,\n            insert: true\n          }));\n        }\n        args.content = isWsPreserveElement(Element.fromDom(body)) ? content : Tools.trim(content);\n        setEditorHtml(editor, args.content);\n        if (!args.no_events) {\n          editor.fire('SetContent', args);\n        }\n      }\n      return args.content;\n    };\n    var setContentTree = function (editor, body, content, args) {\n      filter$3(editor.parser.getNodeFilters(), editor.parser.getAttributeFilters(), content);\n      var html = HtmlSerializer({ validate: editor.validate }, editor.schema).serialize(content);\n      args.content = isWsPreserveElement(Element.fromDom(body)) ? html : Tools.trim(html);\n      setEditorHtml(editor, args.content);\n      if (!args.no_events) {\n        editor.fire('SetContent', args);\n      }\n      return content;\n    };\n    var setContent$1 = function (editor, content, args) {\n      if (args === void 0) {\n        args = {};\n      }\n      args.format = args.format ? args.format : defaultFormat$1;\n      args.set = true;\n      args.content = isTreeNode(content) ? '' : content;\n      if (!isTreeNode(content) && !args.no_events) {\n        editor.fire('BeforeSetContent', args);\n        content = args.content;\n      }\n      return Option.from(editor.getBody()).fold(constant(content), function (body) {\n        return isTreeNode(content) ? setContentTree(editor, body, content, args) : setContentString(editor, body, content, args);\n      });\n    };\n\n    var DOM$6 = DOMUtils$1.DOM;\n    var restoreOriginalStyles = function (editor) {\n      DOM$6.setStyle(editor.id, 'display', editor.orgDisplay);\n    };\n    var safeDestroy = function (x) {\n      return Option.from(x).each(function (x) {\n        return x.destroy();\n      });\n    };\n    var clearDomReferences = function (editor) {\n      editor.contentAreaContainer = editor.formElement = editor.container = editor.editorContainer = null;\n      editor.bodyElement = editor.contentDocument = editor.contentWindow = null;\n      editor.iframeElement = editor.targetElm = null;\n      if (editor.selection) {\n        editor.selection = editor.selection.win = editor.selection.dom = editor.selection.dom.doc = null;\n      }\n    };\n    var restoreForm = function (editor) {\n      var form = editor.formElement;\n      if (form) {\n        if (form._mceOldSubmit) {\n          form.submit = form._mceOldSubmit;\n          form._mceOldSubmit = null;\n        }\n        DOM$6.unbind(form, 'submit reset', editor.formEventDelegate);\n      }\n    };\n    var remove$7 = function (editor) {\n      if (!editor.removed) {\n        var _selectionOverrides = editor._selectionOverrides, editorUpload = editor.editorUpload;\n        var body = editor.getBody();\n        var element = editor.getElement();\n        if (body) {\n          editor.save({ is_removing: true });\n        }\n        editor.removed = true;\n        editor.unbindAllNativeEvents();\n        if (editor.hasHiddenInput && element) {\n          DOM$6.remove(element.nextSibling);\n        }\n        Events.fireRemove(editor);\n        editor.editorManager.remove(editor);\n        if (!editor.inline && body) {\n          restoreOriginalStyles(editor);\n        }\n        Events.fireDetach(editor);\n        DOM$6.remove(editor.getContainer());\n        safeDestroy(_selectionOverrides);\n        safeDestroy(editorUpload);\n        editor.destroy();\n      }\n    };\n    var destroy = function (editor, automatic) {\n      var selection = editor.selection, dom = editor.dom;\n      if (editor.destroyed) {\n        return;\n      }\n      if (!automatic && !editor.removed) {\n        editor.remove();\n        return;\n      }\n      if (!automatic) {\n        editor.editorManager.off('beforeunload', editor._beforeUnload);\n        if (editor.theme && editor.theme.destroy) {\n          editor.theme.destroy();\n        }\n        safeDestroy(selection);\n        safeDestroy(dom);\n      }\n      restoreForm(editor);\n      clearDomReferences(editor);\n      editor.destroyed = true;\n    };\n\n    var DOM$7 = DOMUtils$1.DOM;\n    var extend$4 = Tools.extend, each$l = Tools.each;\n    var resolve$4 = Tools.resolve;\n    var ie$2 = Env.ie;\n    var Editor = function (id, settings, editorManager) {\n      var self = this;\n      var documentBaseUrl = self.documentBaseUrl = editorManager.documentBaseURL;\n      var baseUri = editorManager.baseURI;\n      settings = getEditorSettings(self, id, documentBaseUrl, editorManager.defaultSettings, settings);\n      self.settings = settings;\n      AddOnManager.language = settings.language || 'en';\n      AddOnManager.languageLoad = settings.language_load;\n      AddOnManager.baseURL = editorManager.baseURL;\n      self.id = id;\n      self.setDirty(false);\n      self.plugins = {};\n      self.documentBaseURI = new URI(settings.document_base_url, { base_uri: baseUri });\n      self.baseURI = baseUri;\n      self.contentCSS = [];\n      self.contentStyles = [];\n      self.shortcuts = new Shortcuts(self);\n      self.loadedCSS = {};\n      self.editorCommands = new EditorCommands(self);\n      self.suffix = editorManager.suffix;\n      self.editorManager = editorManager;\n      self.inline = settings.inline;\n      self.buttons = {};\n      self.menuItems = {};\n      if (settings.cache_suffix) {\n        Env.cacheSuffix = settings.cache_suffix.replace(/^[\\?\\&]+/, '');\n      }\n      if (settings.override_viewport === false) {\n        Env.overrideViewPort = false;\n      }\n      editorManager.fire('SetupEditor', { editor: self });\n      self.execCallback('setup', self);\n      self.$ = DomQuery.overrideDefaults(function () {\n        return {\n          context: self.inline ? self.getBody() : self.getDoc(),\n          element: self.getBody()\n        };\n      });\n    };\n    Editor.prototype = {\n      render: function () {\n        Render.render(this);\n      },\n      focus: function (skipFocus) {\n        EditorFocus.focus(this, skipFocus);\n      },\n      hasFocus: function () {\n        return EditorFocus.hasFocus(this);\n      },\n      execCallback: function (name) {\n        var x = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n          x[_i - 1] = arguments[_i];\n        }\n        var self = this;\n        var callback = self.settings[name], scope;\n        if (!callback) {\n          return;\n        }\n        if (self.callbackLookup && (scope = self.callbackLookup[name])) {\n          callback = scope.func;\n          scope = scope.scope;\n        }\n        if (typeof callback === 'string') {\n          scope = callback.replace(/\\.\\w+$/, '');\n          scope = scope ? resolve$4(scope) : 0;\n          callback = resolve$4(callback);\n          self.callbackLookup = self.callbackLookup || {};\n          self.callbackLookup[name] = {\n            func: callback,\n            scope: scope\n          };\n        }\n        return callback.apply(scope || self, Array.prototype.slice.call(arguments, 1));\n      },\n      translate: function (text) {\n        if (text && Tools.is(text, 'string')) {\n          var lang_1 = this.settings.language || 'en', i18n_1 = this.editorManager.i18n;\n          text = i18n_1.data[lang_1 + '.' + text] || text.replace(/\\{\\#([^\\}]+)\\}/g, function (a, b) {\n            return i18n_1.data[lang_1 + '.' + b] || '{#' + b + '}';\n          });\n        }\n        return this.editorManager.translate(text);\n      },\n      getLang: function (name, defaultVal) {\n        return this.editorManager.i18n.data[(this.settings.language || 'en') + '.' + name] || (defaultVal !== undefined ? defaultVal : '{#' + name + '}');\n      },\n      getParam: function (name, defaultVal, type) {\n        return getParam(this, name, defaultVal, type);\n      },\n      nodeChanged: function (args) {\n        this._nodeChangeDispatcher.nodeChanged(args);\n      },\n      addButton: function (name, settings) {\n        var self = this;\n        if (settings.cmd) {\n          settings.onclick = function () {\n            self.execCommand(settings.cmd);\n          };\n        }\n        if (settings.stateSelector && typeof settings.active === 'undefined') {\n          settings.active = false;\n        }\n        if (!settings.text && !settings.icon) {\n          settings.icon = name;\n        }\n        settings.tooltip = settings.tooltip || settings.title;\n        self.buttons[name] = settings;\n      },\n      addSidebar: function (name, settings) {\n        return Sidebar.add(this, name, settings);\n      },\n      addMenuItem: function (name, settings) {\n        var self = this;\n        if (settings.cmd) {\n          settings.onclick = function () {\n            self.execCommand(settings.cmd);\n          };\n        }\n        self.menuItems[name] = settings;\n      },\n      addContextToolbar: function (predicate, items) {\n        var self = this;\n        var selector;\n        self.contextToolbars = self.contextToolbars || [];\n        if (typeof predicate === 'string') {\n          selector = predicate;\n          predicate = function (elm) {\n            return self.dom.is(elm, selector);\n          };\n        }\n        self.contextToolbars.push({\n          id: Uuid.uuid('mcet'),\n          predicate: predicate,\n          items: items\n        });\n      },\n      addCommand: function (name, callback, scope) {\n        this.editorCommands.addCommand(name, callback, scope);\n      },\n      addQueryStateHandler: function (name, callback, scope) {\n        this.editorCommands.addQueryStateHandler(name, callback, scope);\n      },\n      addQueryValueHandler: function (name, callback, scope) {\n        this.editorCommands.addQueryValueHandler(name, callback, scope);\n      },\n      addShortcut: function (pattern, desc, cmdFunc, scope) {\n        this.shortcuts.add(pattern, desc, cmdFunc, scope);\n      },\n      execCommand: function (cmd, ui, value, args) {\n        return this.editorCommands.execCommand(cmd, ui, value, args);\n      },\n      queryCommandState: function (cmd) {\n        return this.editorCommands.queryCommandState(cmd);\n      },\n      queryCommandValue: function (cmd) {\n        return this.editorCommands.queryCommandValue(cmd);\n      },\n      queryCommandSupported: function (cmd) {\n        return this.editorCommands.queryCommandSupported(cmd);\n      },\n      show: function () {\n        var self = this;\n        if (self.hidden) {\n          self.hidden = false;\n          if (self.inline) {\n            self.getBody().contentEditable = true;\n          } else {\n            DOM$7.show(self.getContainer());\n            DOM$7.hide(self.id);\n          }\n          self.load();\n          self.fire('show');\n        }\n      },\n      hide: function () {\n        var self = this, doc = self.getDoc();\n        if (!self.hidden) {\n          if (ie$2 && doc && !self.inline) {\n            doc.execCommand('SelectAll');\n          }\n          self.save();\n          if (self.inline) {\n            self.getBody().contentEditable = false;\n            if (self === self.editorManager.focusedEditor) {\n              self.editorManager.focusedEditor = null;\n            }\n          } else {\n            DOM$7.hide(self.getContainer());\n            DOM$7.setStyle(self.id, 'display', self.orgDisplay);\n          }\n          self.hidden = true;\n          self.fire('hide');\n        }\n      },\n      isHidden: function () {\n        return !!this.hidden;\n      },\n      setProgressState: function (state, time) {\n        this.fire('ProgressState', {\n          state: state,\n          time: time\n        });\n      },\n      load: function (args) {\n        var self = this;\n        var elm = self.getElement(), html;\n        if (self.removed) {\n          return '';\n        }\n        if (elm) {\n          args = args || {};\n          args.load = true;\n          html = self.setContent(elm.value !== undefined ? elm.value : elm.innerHTML, args);\n          args.element = elm;\n          if (!args.no_events) {\n            self.fire('LoadContent', args);\n          }\n          args.element = elm = null;\n          return html;\n        }\n      },\n      save: function (args) {\n        var self = this;\n        var elm = self.getElement(), html, form;\n        if (!elm || !self.initialized || self.removed) {\n          return;\n        }\n        args = args || {};\n        args.save = true;\n        args.element = elm;\n        html = args.content = self.getContent(args);\n        if (!args.no_events) {\n          self.fire('SaveContent', args);\n        }\n        if (args.format === 'raw') {\n          self.fire('RawSaveContent', args);\n        }\n        html = args.content;\n        if (!/TEXTAREA|INPUT/i.test(elm.nodeName)) {\n          if (args.is_removing || !self.inline) {\n            elm.innerHTML = html;\n          }\n          if (form = DOM$7.getParent(self.id, 'form')) {\n            each$l(form.elements, function (elm) {\n              if (elm.name === self.id) {\n                elm.value = html;\n                return false;\n              }\n            });\n          }\n        } else {\n          elm.value = html;\n        }\n        args.element = elm = null;\n        if (args.set_dirty !== false) {\n          self.setDirty(false);\n        }\n        return html;\n      },\n      setContent: function (content, args) {\n        return setContent$1(this, content, args);\n      },\n      getContent: function (args) {\n        return getContent$1(this, args);\n      },\n      insertContent: function (content, args) {\n        if (args) {\n          content = extend$4({ content: content }, args);\n        }\n        this.execCommand('mceInsertContent', false, content);\n      },\n      isDirty: function () {\n        return !this.isNotDirty;\n      },\n      setDirty: function (state) {\n        var oldState = !this.isNotDirty;\n        this.isNotDirty = !state;\n        if (state && state !== oldState) {\n          this.fire('dirty');\n        }\n      },\n      setMode: function (mode) {\n        setMode(this, mode);\n      },\n      getContainer: function () {\n        var self = this;\n        if (!self.container) {\n          self.container = DOM$7.get(self.editorContainer || self.id + '_parent');\n        }\n        return self.container;\n      },\n      getContentAreaContainer: function () {\n        return this.contentAreaContainer;\n      },\n      getElement: function () {\n        if (!this.targetElm) {\n          this.targetElm = DOM$7.get(this.id);\n        }\n        return this.targetElm;\n      },\n      getWin: function () {\n        var self = this;\n        var elm;\n        if (!self.contentWindow) {\n          elm = self.iframeElement;\n          if (elm) {\n            self.contentWindow = elm.contentWindow;\n          }\n        }\n        return self.contentWindow;\n      },\n      getDoc: function () {\n        var self = this;\n        var win;\n        if (!self.contentDocument) {\n          win = self.getWin();\n          if (win) {\n            self.contentDocument = win.document;\n          }\n        }\n        return self.contentDocument;\n      },\n      getBody: function () {\n        var doc = this.getDoc();\n        return this.bodyElement || (doc ? doc.body : null);\n      },\n      convertURL: function (url, name, elm) {\n        var self = this, settings = self.settings;\n        if (settings.urlconverter_callback) {\n          return self.execCallback('urlconverter_callback', url, elm, true, name);\n        }\n        if (!settings.convert_urls || elm && elm.nodeName === 'LINK' || url.indexOf('file:') === 0 || url.length === 0) {\n          return url;\n        }\n        if (settings.relative_urls) {\n          return self.documentBaseURI.toRelative(url);\n        }\n        url = self.documentBaseURI.toAbsolute(url, settings.remove_script_host);\n        return url;\n      },\n      addVisual: function (elm) {\n        var self = this;\n        var settings = self.settings;\n        var dom = self.dom;\n        var cls;\n        elm = elm || self.getBody();\n        if (self.hasVisual === undefined) {\n          self.hasVisual = settings.visual;\n        }\n        each$l(dom.select('table,a', elm), function (elm) {\n          var value;\n          switch (elm.nodeName) {\n          case 'TABLE':\n            cls = settings.visual_table_class || 'mce-item-table';\n            value = dom.getAttrib(elm, 'border');\n            if ((!value || value === '0') && self.hasVisual) {\n              dom.addClass(elm, cls);\n            } else {\n              dom.removeClass(elm, cls);\n            }\n            return;\n          case 'A':\n            if (!dom.getAttrib(elm, 'href')) {\n              value = dom.getAttrib(elm, 'name') || elm.id;\n              cls = settings.visual_anchor_class || 'mce-item-anchor';\n              if (value && self.hasVisual) {\n                dom.addClass(elm, cls);\n              } else {\n                dom.removeClass(elm, cls);\n              }\n            }\n            return;\n          }\n        });\n        self.fire('VisualAid', {\n          element: elm,\n          hasVisual: self.hasVisual\n        });\n      },\n      remove: function () {\n        remove$7(this);\n      },\n      destroy: function (automatic) {\n        destroy(this, automatic);\n      },\n      uploadImages: function (callback) {\n        return this.editorUpload.uploadImages(callback);\n      },\n      _scanForImages: function () {\n        return this.editorUpload.scanForImages();\n      }\n    };\n    extend$4(Editor.prototype, EditorObservable$1);\n\n    var isEditorUIElement = function (elm) {\n      return elm.className.toString().indexOf('mce-') !== -1;\n    };\n    var FocusManager = { isEditorUIElement: isEditorUIElement };\n\n    var isManualNodeChange = function (e) {\n      return e.type === 'nodechange' && e.selectionChange;\n    };\n    var registerPageMouseUp = function (editor, throttledStore) {\n      var mouseUpPage = function () {\n        throttledStore.throttle();\n      };\n      DOMUtils$1.DOM.bind(domGlobals.document, 'mouseup', mouseUpPage);\n      editor.on('remove', function () {\n        DOMUtils$1.DOM.unbind(domGlobals.document, 'mouseup', mouseUpPage);\n      });\n    };\n    var registerFocusOut = function (editor) {\n      editor.on('focusout', function () {\n        SelectionBookmark.store(editor);\n      });\n    };\n    var registerMouseUp = function (editor, throttledStore) {\n      editor.on('mouseup touchend', function (e) {\n        throttledStore.throttle();\n      });\n    };\n    var registerEditorEvents = function (editor, throttledStore) {\n      var browser = PlatformDetection$1.detect().browser;\n      if (browser.isIE()) {\n        registerFocusOut(editor);\n      } else {\n        registerMouseUp(editor, throttledStore);\n      }\n      editor.on('keyup nodechange', function (e) {\n        if (!isManualNodeChange(e)) {\n          SelectionBookmark.store(editor);\n        }\n      });\n    };\n    var register$3 = function (editor) {\n      var throttledStore = first(function () {\n        SelectionBookmark.store(editor);\n      }, 0);\n      if (editor.inline) {\n        registerPageMouseUp(editor, throttledStore);\n      }\n      editor.on('init', function () {\n        registerEditorEvents(editor, throttledStore);\n      });\n      editor.on('remove', function () {\n        throttledStore.cancel();\n      });\n    };\n    var SelectionRestore = { register: register$3 };\n\n    var documentFocusInHandler;\n    var DOM$8 = DOMUtils$1.DOM;\n    var isEditorUIElement$1 = function (elm) {\n      return FocusManager.isEditorUIElement(elm);\n    };\n    var isUIElement = function (editor, elm) {\n      var customSelector = editor ? editor.settings.custom_ui_selector : '';\n      var parent = DOM$8.getParent(elm, function (elm) {\n        return isEditorUIElement$1(elm) || (customSelector ? editor.dom.is(elm, customSelector) : false);\n      });\n      return parent !== null;\n    };\n    var getActiveElement = function () {\n      try {\n        return domGlobals.document.activeElement;\n      } catch (ex) {\n        return domGlobals.document.body;\n      }\n    };\n    var registerEvents = function (editorManager, e) {\n      var editor = e.editor;\n      SelectionRestore.register(editor);\n      editor.on('focusin', function () {\n        var self = this;\n        var focusedEditor = editorManager.focusedEditor;\n        if (focusedEditor !== self) {\n          if (focusedEditor) {\n            focusedEditor.fire('blur', { focusedEditor: self });\n          }\n          editorManager.setActive(self);\n          editorManager.focusedEditor = self;\n          self.fire('focus', { blurredEditor: focusedEditor });\n          self.focus(true);\n        }\n      });\n      editor.on('focusout', function () {\n        var self = this;\n        Delay.setEditorTimeout(self, function () {\n          var focusedEditor = editorManager.focusedEditor;\n          if (!isUIElement(self, getActiveElement()) && focusedEditor === self) {\n            self.fire('blur', { focusedEditor: null });\n            editorManager.focusedEditor = null;\n          }\n        });\n      });\n      if (!documentFocusInHandler) {\n        documentFocusInHandler = function (e) {\n          var activeEditor = editorManager.activeEditor;\n          var target;\n          target = e.target;\n          if (activeEditor && target.ownerDocument === domGlobals.document) {\n            if (target !== domGlobals.document.body && !isUIElement(activeEditor, target) && editorManager.focusedEditor === activeEditor) {\n              activeEditor.fire('blur', { focusedEditor: null });\n              editorManager.focusedEditor = null;\n            }\n          }\n        };\n        DOM$8.bind(domGlobals.document, 'focusin', documentFocusInHandler);\n      }\n    };\n    var unregisterDocumentEvents = function (editorManager, e) {\n      if (editorManager.focusedEditor === e.editor) {\n        editorManager.focusedEditor = null;\n      }\n      if (!editorManager.activeEditor) {\n        DOM$8.unbind(domGlobals.document, 'focusin', documentFocusInHandler);\n        documentFocusInHandler = null;\n      }\n    };\n    var setup$h = function (editorManager) {\n      editorManager.on('AddEditor', curry(registerEvents, editorManager));\n      editorManager.on('RemoveEditor', curry(unregisterDocumentEvents, editorManager));\n    };\n    var FocusController = {\n      setup: setup$h,\n      isEditorUIElement: isEditorUIElement$1,\n      isUIElement: isUIElement\n    };\n\n    var DOM$9 = DOMUtils$1.DOM;\n    var explode$4 = Tools.explode, each$m = Tools.each, extend$5 = Tools.extend;\n    var instanceCounter = 0, beforeUnloadDelegate, EditorManager, boundGlobalEvents = false;\n    var legacyEditors = [];\n    var editors = [];\n    var isValidLegacyKey = function (id) {\n      return id !== 'length';\n    };\n    var globalEventDelegate = function (e) {\n      var type = e.type;\n      each$m(EditorManager.get(), function (editor) {\n        switch (type) {\n        case 'scroll':\n          editor.fire('ScrollWindow', e);\n          break;\n        case 'resize':\n          editor.fire('ResizeWindow', e);\n          break;\n        }\n      });\n    };\n    var toggleGlobalEvents = function (state) {\n      if (state !== boundGlobalEvents) {\n        if (state) {\n          DomQuery(window).on('resize scroll', globalEventDelegate);\n        } else {\n          DomQuery(window).off('resize scroll', globalEventDelegate);\n        }\n        boundGlobalEvents = state;\n      }\n    };\n    var removeEditorFromList = function (targetEditor) {\n      var oldEditors = editors;\n      delete legacyEditors[targetEditor.id];\n      for (var i = 0; i < legacyEditors.length; i++) {\n        if (legacyEditors[i] === targetEditor) {\n          legacyEditors.splice(i, 1);\n          break;\n        }\n      }\n      editors = filter(editors, function (editor) {\n        return targetEditor !== editor;\n      });\n      if (EditorManager.activeEditor === targetEditor) {\n        EditorManager.activeEditor = editors.length > 0 ? editors[0] : null;\n      }\n      if (EditorManager.focusedEditor === targetEditor) {\n        EditorManager.focusedEditor = null;\n      }\n      return oldEditors.length !== editors.length;\n    };\n    var purgeDestroyedEditor = function (editor) {\n      if (editor && editor.initialized && !(editor.getContainer() || editor.getBody()).parentNode) {\n        removeEditorFromList(editor);\n        editor.unbindAllNativeEvents();\n        editor.destroy(true);\n        editor.removed = true;\n        editor = null;\n      }\n      return editor;\n    };\n    EditorManager = {\n      defaultSettings: {},\n      $: DomQuery,\n      majorVersion: '4',\n      minorVersion: '9.11',\n      releaseDate: '2020-07-13',\n      editors: legacyEditors,\n      i18n: I18n,\n      activeEditor: null,\n      settings: {},\n      setup: function () {\n        var self = this;\n        var baseURL, documentBaseURL, suffix = '';\n        documentBaseURL = URI.getDocumentBaseUrl(domGlobals.document.location);\n        if (/^[^:]+:\\/\\/\\/?[^\\/]+\\//.test(documentBaseURL)) {\n          documentBaseURL = documentBaseURL.replace(/[\\?#].*$/, '').replace(/[\\/\\\\][^\\/]+$/, '');\n          if (!/[\\/\\\\]$/.test(documentBaseURL)) {\n            documentBaseURL += '/';\n          }\n        }\n        var preInit = window.tinymce || window.tinyMCEPreInit;\n        if (preInit) {\n          baseURL = preInit.base || preInit.baseURL;\n          suffix = preInit.suffix;\n        } else {\n          var scripts = domGlobals.document.getElementsByTagName('script');\n          for (var i = 0; i < scripts.length; i++) {\n            var src = scripts[i].src || '';\n            if (src === '') {\n              continue;\n            }\n            var srcScript = src.substring(src.lastIndexOf('/'));\n            if (/tinymce(\\.full|\\.jquery|)(\\.min|\\.dev|)\\.js/.test(src)) {\n              if (srcScript.indexOf('.min') !== -1) {\n                suffix = '.min';\n              }\n              baseURL = src.substring(0, src.lastIndexOf('/'));\n              break;\n            }\n          }\n          if (!baseURL && domGlobals.document.currentScript) {\n            var src = domGlobals.document.currentScript.src;\n            if (src.indexOf('.min') !== -1) {\n              suffix = '.min';\n            }\n            baseURL = src.substring(0, src.lastIndexOf('/'));\n          }\n        }\n        self.baseURL = new URI(documentBaseURL).toAbsolute(baseURL);\n        self.documentBaseURL = documentBaseURL;\n        self.baseURI = new URI(self.baseURL);\n        self.suffix = suffix;\n        FocusController.setup(self);\n      },\n      overrideDefaults: function (defaultSettings) {\n        var baseUrl, suffix;\n        baseUrl = defaultSettings.base_url;\n        if (baseUrl) {\n          this.baseURL = new URI(this.documentBaseURL).toAbsolute(baseUrl.replace(/\\/+$/, ''));\n          this.baseURI = new URI(this.baseURL);\n        }\n        suffix = defaultSettings.suffix;\n        if (defaultSettings.suffix) {\n          this.suffix = suffix;\n        }\n        this.defaultSettings = defaultSettings;\n        var pluginBaseUrls = defaultSettings.plugin_base_urls;\n        for (var name in pluginBaseUrls) {\n          AddOnManager.PluginManager.urls[name] = pluginBaseUrls[name];\n        }\n      },\n      init: function (settings) {\n        var self = this;\n        var result, invalidInlineTargets;\n        invalidInlineTargets = Tools.makeMap('area base basefont br col frame hr img input isindex link meta param embed source wbr track ' + 'colgroup option tbody tfoot thead tr script noscript style textarea video audio iframe object menu', ' ');\n        var isInvalidInlineTarget = function (settings, elm) {\n          return settings.inline && elm.tagName.toLowerCase() in invalidInlineTargets;\n        };\n        var createId = function (elm) {\n          var id = elm.id;\n          if (!id) {\n            id = elm.name;\n            if (id && !DOM$9.get(id)) {\n              id = elm.name;\n            } else {\n              id = DOM$9.uniqueId();\n            }\n            elm.setAttribute('id', id);\n          }\n          return id;\n        };\n        var execCallback = function (name) {\n          var callback = settings[name];\n          if (!callback) {\n            return;\n          }\n          return callback.apply(self, Array.prototype.slice.call(arguments, 2));\n        };\n        var hasClass = function (elm, className) {\n          return className.constructor === RegExp ? className.test(elm.className) : DOM$9.hasClass(elm, className);\n        };\n        var findTargets = function (settings) {\n          var l, targets = [];\n          if (Env.ie && Env.ie < 11) {\n            ErrorReporter.initError('TinyMCE does not support the browser you are using. For a list of supported' + ' browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/');\n            return [];\n          }\n          if (settings.types) {\n            each$m(settings.types, function (type) {\n              targets = targets.concat(DOM$9.select(type.selector));\n            });\n            return targets;\n          } else if (settings.selector) {\n            return DOM$9.select(settings.selector);\n          } else if (settings.target) {\n            return [settings.target];\n          }\n          switch (settings.mode) {\n          case 'exact':\n            l = settings.elements || '';\n            if (l.length > 0) {\n              each$m(explode$4(l), function (id) {\n                var elm;\n                if (elm = DOM$9.get(id)) {\n                  targets.push(elm);\n                } else {\n                  each$m(domGlobals.document.forms, function (f) {\n                    each$m(f.elements, function (e) {\n                      if (e.name === id) {\n                        id = 'mce_editor_' + instanceCounter++;\n                        DOM$9.setAttrib(e, 'id', id);\n                        targets.push(e);\n                      }\n                    });\n                  });\n                }\n              });\n            }\n            break;\n          case 'textareas':\n          case 'specific_textareas':\n            each$m(DOM$9.select('textarea'), function (elm) {\n              if (settings.editor_deselector && hasClass(elm, settings.editor_deselector)) {\n                return;\n              }\n              if (!settings.editor_selector || hasClass(elm, settings.editor_selector)) {\n                targets.push(elm);\n              }\n            });\n            break;\n          }\n          return targets;\n        };\n        var provideResults = function (editors) {\n          result = editors;\n        };\n        var initEditors = function () {\n          var initCount = 0;\n          var editors = [];\n          var targets;\n          var createEditor = function (id, settings, targetElm) {\n            var editor = new Editor(id, settings, self);\n            editors.push(editor);\n            editor.on('init', function () {\n              if (++initCount === targets.length) {\n                provideResults(editors);\n              }\n            });\n            editor.targetElm = editor.targetElm || targetElm;\n            editor.render();\n          };\n          DOM$9.unbind(window, 'ready', initEditors);\n          execCallback('onpageload');\n          targets = DomQuery.unique(findTargets(settings));\n          if (settings.types) {\n            each$m(settings.types, function (type) {\n              Tools.each(targets, function (elm) {\n                if (DOM$9.is(elm, type.selector)) {\n                  createEditor(createId(elm), extend$5({}, settings, type), elm);\n                  return false;\n                }\n                return true;\n              });\n            });\n            return;\n          }\n          Tools.each(targets, function (elm) {\n            purgeDestroyedEditor(self.get(elm.id));\n          });\n          targets = Tools.grep(targets, function (elm) {\n            return !self.get(elm.id);\n          });\n          if (targets.length === 0) {\n            provideResults([]);\n          } else {\n            each$m(targets, function (elm) {\n              if (isInvalidInlineTarget(settings, elm)) {\n                ErrorReporter.initError('Could not initialize inline editor on invalid inline target element', elm);\n              } else {\n                createEditor(createId(elm), settings, elm);\n              }\n            });\n          }\n        };\n        self.settings = settings;\n        DOM$9.bind(window, 'ready', initEditors);\n        return new promiseObj(function (resolve) {\n          if (result) {\n            resolve(result);\n          } else {\n            provideResults = function (editors) {\n              resolve(editors);\n            };\n          }\n        });\n      },\n      get: function (id) {\n        if (arguments.length === 0) {\n          return editors.slice(0);\n        } else if (isString(id)) {\n          return find(editors, function (editor) {\n            return editor.id === id;\n          }).getOr(null);\n        } else if (isNumber(id)) {\n          return editors[id] ? editors[id] : null;\n        } else {\n          return null;\n        }\n      },\n      add: function (editor) {\n        var self = this;\n        var existingEditor;\n        existingEditor = legacyEditors[editor.id];\n        if (existingEditor === editor) {\n          return editor;\n        }\n        if (self.get(editor.id) === null) {\n          if (isValidLegacyKey(editor.id)) {\n            legacyEditors[editor.id] = editor;\n          }\n          legacyEditors.push(editor);\n          editors.push(editor);\n        }\n        toggleGlobalEvents(true);\n        self.activeEditor = editor;\n        self.fire('AddEditor', { editor: editor });\n        if (!beforeUnloadDelegate) {\n          beforeUnloadDelegate = function () {\n            self.fire('BeforeUnload');\n          };\n          DOM$9.bind(window, 'beforeunload', beforeUnloadDelegate);\n        }\n        return editor;\n      },\n      createEditor: function (id, settings) {\n        return this.add(new Editor(id, settings, this));\n      },\n      remove: function (selector) {\n        var self = this;\n        var i, editor;\n        if (!selector) {\n          for (i = editors.length - 1; i >= 0; i--) {\n            self.remove(editors[i]);\n          }\n          return;\n        }\n        if (isString(selector)) {\n          each$m(DOM$9.select(selector), function (elm) {\n            editor = self.get(elm.id);\n            if (editor) {\n              self.remove(editor);\n            }\n          });\n          return;\n        }\n        editor = selector;\n        if (isNull(self.get(editor.id))) {\n          return null;\n        }\n        if (removeEditorFromList(editor)) {\n          self.fire('RemoveEditor', { editor: editor });\n        }\n        if (editors.length === 0) {\n          DOM$9.unbind(window, 'beforeunload', beforeUnloadDelegate);\n        }\n        editor.remove();\n        toggleGlobalEvents(editors.length > 0);\n        return editor;\n      },\n      execCommand: function (cmd, ui, value) {\n        var self = this, editor = self.get(value);\n        switch (cmd) {\n        case 'mceAddEditor':\n          if (!self.get(value)) {\n            new Editor(value, self.settings, self).render();\n          }\n          return true;\n        case 'mceRemoveEditor':\n          if (editor) {\n            editor.remove();\n          }\n          return true;\n        case 'mceToggleEditor':\n          if (!editor) {\n            self.execCommand('mceAddEditor', 0, value);\n            return true;\n          }\n          if (editor.isHidden()) {\n            editor.show();\n          } else {\n            editor.hide();\n          }\n          return true;\n        }\n        if (self.activeEditor) {\n          return self.activeEditor.execCommand(cmd, ui, value);\n        }\n        return false;\n      },\n      triggerSave: function () {\n        each$m(editors, function (editor) {\n          editor.save();\n        });\n      },\n      addI18n: function (code, items) {\n        I18n.add(code, items);\n      },\n      translate: function (text) {\n        return I18n.translate(text);\n      },\n      setActive: function (editor) {\n        var activeEditor = this.activeEditor;\n        if (this.activeEditor !== editor) {\n          if (activeEditor) {\n            activeEditor.fire('deactivate', { relatedTarget: editor });\n          }\n          editor.fire('activate', { relatedTarget: activeEditor });\n        }\n        this.activeEditor = editor;\n      }\n    };\n    extend$5(EditorManager, Observable);\n    EditorManager.setup();\n    var EditorManager$1 = EditorManager;\n\n    function RangeUtils(dom) {\n      var walk = function (rng, callback) {\n        return RangeWalk.walk(dom, rng, callback);\n      };\n      var split = SplitRange.split;\n      var normalize = function (rng) {\n        return NormalizeRange.normalize(dom, rng).fold(constant(false), function (normalizedRng) {\n          rng.setStart(normalizedRng.startContainer, normalizedRng.startOffset);\n          rng.setEnd(normalizedRng.endContainer, normalizedRng.endOffset);\n          return true;\n        });\n      };\n      return {\n        walk: walk,\n        split: split,\n        normalize: normalize\n      };\n    }\n    (function (RangeUtils) {\n      RangeUtils.compareRanges = RangeCompare.isEq;\n      RangeUtils.getCaretRangeFromPoint = CaretRangeFromPoint.fromPoint;\n      RangeUtils.getSelectedNode = getSelectedNode;\n      RangeUtils.getNode = getNode;\n    }(RangeUtils || (RangeUtils = {})));\n    var RangeUtils$1 = RangeUtils;\n\n    var min = Math.min, max = Math.max, round$2 = Math.round;\n    var relativePosition = function (rect, targetRect, rel) {\n      var x, y, w, h, targetW, targetH;\n      x = targetRect.x;\n      y = targetRect.y;\n      w = rect.w;\n      h = rect.h;\n      targetW = targetRect.w;\n      targetH = targetRect.h;\n      rel = (rel || '').split('');\n      if (rel[0] === 'b') {\n        y += targetH;\n      }\n      if (rel[1] === 'r') {\n        x += targetW;\n      }\n      if (rel[0] === 'c') {\n        y += round$2(targetH / 2);\n      }\n      if (rel[1] === 'c') {\n        x += round$2(targetW / 2);\n      }\n      if (rel[3] === 'b') {\n        y -= h;\n      }\n      if (rel[4] === 'r') {\n        x -= w;\n      }\n      if (rel[3] === 'c') {\n        y -= round$2(h / 2);\n      }\n      if (rel[4] === 'c') {\n        x -= round$2(w / 2);\n      }\n      return create$4(x, y, w, h);\n    };\n    var findBestRelativePosition = function (rect, targetRect, constrainRect, rels) {\n      var pos, i;\n      for (i = 0; i < rels.length; i++) {\n        pos = relativePosition(rect, targetRect, rels[i]);\n        if (pos.x >= constrainRect.x && pos.x + pos.w <= constrainRect.w + constrainRect.x && pos.y >= constrainRect.y && pos.y + pos.h <= constrainRect.h + constrainRect.y) {\n          return rels[i];\n        }\n      }\n      return null;\n    };\n    var inflate = function (rect, w, h) {\n      return create$4(rect.x - w, rect.y - h, rect.w + w * 2, rect.h + h * 2);\n    };\n    var intersect = function (rect, cropRect) {\n      var x1, y1, x2, y2;\n      x1 = max(rect.x, cropRect.x);\n      y1 = max(rect.y, cropRect.y);\n      x2 = min(rect.x + rect.w, cropRect.x + cropRect.w);\n      y2 = min(rect.y + rect.h, cropRect.y + cropRect.h);\n      if (x2 - x1 < 0 || y2 - y1 < 0) {\n        return null;\n      }\n      return create$4(x1, y1, x2 - x1, y2 - y1);\n    };\n    var clamp$1 = function (rect, clampRect, fixedSize) {\n      var underflowX1, underflowY1, overflowX2, overflowY2, x1, y1, x2, y2, cx2, cy2;\n      x1 = rect.x;\n      y1 = rect.y;\n      x2 = rect.x + rect.w;\n      y2 = rect.y + rect.h;\n      cx2 = clampRect.x + clampRect.w;\n      cy2 = clampRect.y + clampRect.h;\n      underflowX1 = max(0, clampRect.x - x1);\n      underflowY1 = max(0, clampRect.y - y1);\n      overflowX2 = max(0, x2 - cx2);\n      overflowY2 = max(0, y2 - cy2);\n      x1 += underflowX1;\n      y1 += underflowY1;\n      if (fixedSize) {\n        x2 += underflowX1;\n        y2 += underflowY1;\n        x1 -= overflowX2;\n        y1 -= overflowY2;\n      }\n      x2 -= overflowX2;\n      y2 -= overflowY2;\n      return create$4(x1, y1, x2 - x1, y2 - y1);\n    };\n    var create$4 = function (x, y, w, h) {\n      return {\n        x: x,\n        y: y,\n        w: w,\n        h: h\n      };\n    };\n    var fromClientRect = function (clientRect) {\n      return create$4(clientRect.left, clientRect.top, clientRect.width, clientRect.height);\n    };\n    var Rect = {\n      inflate: inflate,\n      relativePosition: relativePosition,\n      findBestRelativePosition: findBestRelativePosition,\n      intersect: intersect,\n      clamp: clamp$1,\n      create: create$4,\n      fromClientRect: fromClientRect\n    };\n\n    var types = {};\n    var Factory = {\n      add: function (type, typeClass) {\n        types[type.toLowerCase()] = typeClass;\n      },\n      has: function (type) {\n        return !!types[type.toLowerCase()];\n      },\n      get: function (type) {\n        var lctype = type.toLowerCase();\n        var controlType = types.hasOwnProperty(lctype) ? types[lctype] : null;\n        if (controlType === null) {\n          throw new Error('Could not find module for type: ' + type);\n        }\n        return controlType;\n      },\n      create: function (type, settings) {\n        var ControlType;\n        if (typeof type === 'string') {\n          settings = settings || {};\n          settings.type = type;\n        } else {\n          settings = type;\n          type = settings.type;\n        }\n        type = type.toLowerCase();\n        ControlType = types[type];\n        if (!ControlType) {\n          throw new Error('Could not find control by type: ' + type);\n        }\n        ControlType = new ControlType(settings);\n        ControlType.type = type;\n        return ControlType;\n      }\n    };\n\n    var each$n = Tools.each, extend$6 = Tools.extend;\n    var extendClass, initializing;\n    var Class = function () {\n    };\n    Class.extend = extendClass = function (prop) {\n      var self = this;\n      var _super = self.prototype;\n      var prototype, name, member;\n      var Class = function () {\n        var i, mixins, mixin;\n        var self = this;\n        if (!initializing) {\n          if (self.init) {\n            self.init.apply(self, arguments);\n          }\n          mixins = self.Mixins;\n          if (mixins) {\n            i = mixins.length;\n            while (i--) {\n              mixin = mixins[i];\n              if (mixin.init) {\n                mixin.init.apply(self, arguments);\n              }\n            }\n          }\n        }\n      };\n      var dummy = function () {\n        return this;\n      };\n      var createMethod = function (name, fn) {\n        return function () {\n          var self = this;\n          var tmp = self._super;\n          var ret;\n          self._super = _super[name];\n          ret = fn.apply(self, arguments);\n          self._super = tmp;\n          return ret;\n        };\n      };\n      initializing = true;\n      prototype = new self();\n      initializing = false;\n      if (prop.Mixins) {\n        each$n(prop.Mixins, function (mixin) {\n          for (var name_1 in mixin) {\n            if (name_1 !== 'init') {\n              prop[name_1] = mixin[name_1];\n            }\n          }\n        });\n        if (_super.Mixins) {\n          prop.Mixins = _super.Mixins.concat(prop.Mixins);\n        }\n      }\n      if (prop.Methods) {\n        each$n(prop.Methods.split(','), function (name) {\n          prop[name] = dummy;\n        });\n      }\n      if (prop.Properties) {\n        each$n(prop.Properties.split(','), function (name) {\n          var fieldName = '_' + name;\n          prop[name] = function (value) {\n            var self = this;\n            if (value !== undefined) {\n              self[fieldName] = value;\n              return self;\n            }\n            return self[fieldName];\n          };\n        });\n      }\n      if (prop.Statics) {\n        each$n(prop.Statics, function (func, name) {\n          Class[name] = func;\n        });\n      }\n      if (prop.Defaults && _super.Defaults) {\n        prop.Defaults = extend$6({}, _super.Defaults, prop.Defaults);\n      }\n      for (name in prop) {\n        member = prop[name];\n        if (typeof member === 'function' && _super[name]) {\n          prototype[name] = createMethod(name, member);\n        } else {\n          prototype[name] = member;\n        }\n      }\n      Class.prototype = prototype;\n      Class.constructor = Class;\n      Class.extend = extendClass;\n      return Class;\n    };\n\n    var min$1 = Math.min, max$1 = Math.max, round$3 = Math.round;\n    var Color = function (value) {\n      var self = {};\n      var r = 0, g = 0, b = 0;\n      var rgb2hsv = function (r, g, b) {\n        var h, s, v, d, minRGB, maxRGB;\n        h = 0;\n        s = 0;\n        v = 0;\n        r = r / 255;\n        g = g / 255;\n        b = b / 255;\n        minRGB = min$1(r, min$1(g, b));\n        maxRGB = max$1(r, max$1(g, b));\n        if (minRGB === maxRGB) {\n          v = minRGB;\n          return {\n            h: 0,\n            s: 0,\n            v: v * 100\n          };\n        }\n        d = r === minRGB ? g - b : b === minRGB ? r - g : b - r;\n        h = r === minRGB ? 3 : b === minRGB ? 1 : 5;\n        h = 60 * (h - d / (maxRGB - minRGB));\n        s = (maxRGB - minRGB) / maxRGB;\n        v = maxRGB;\n        return {\n          h: round$3(h),\n          s: round$3(s * 100),\n          v: round$3(v * 100)\n        };\n      };\n      var hsvToRgb = function (hue, saturation, brightness) {\n        var side, chroma, x, match;\n        hue = (parseInt(hue, 10) || 0) % 360;\n        saturation = parseInt(saturation, 10) / 100;\n        brightness = parseInt(brightness, 10) / 100;\n        saturation = max$1(0, min$1(saturation, 1));\n        brightness = max$1(0, min$1(brightness, 1));\n        if (saturation === 0) {\n          r = g = b = round$3(255 * brightness);\n          return;\n        }\n        side = hue / 60;\n        chroma = brightness * saturation;\n        x = chroma * (1 - Math.abs(side % 2 - 1));\n        match = brightness - chroma;\n        switch (Math.floor(side)) {\n        case 0:\n          r = chroma;\n          g = x;\n          b = 0;\n          break;\n        case 1:\n          r = x;\n          g = chroma;\n          b = 0;\n          break;\n        case 2:\n          r = 0;\n          g = chroma;\n          b = x;\n          break;\n        case 3:\n          r = 0;\n          g = x;\n          b = chroma;\n          break;\n        case 4:\n          r = x;\n          g = 0;\n          b = chroma;\n          break;\n        case 5:\n          r = chroma;\n          g = 0;\n          b = x;\n          break;\n        default:\n          r = g = b = 0;\n        }\n        r = round$3(255 * (r + match));\n        g = round$3(255 * (g + match));\n        b = round$3(255 * (b + match));\n      };\n      var toHex = function () {\n        var hex = function (val) {\n          val = parseInt(val, 10).toString(16);\n          return val.length > 1 ? val : '0' + val;\n        };\n        return '#' + hex(r) + hex(g) + hex(b);\n      };\n      var toRgb = function () {\n        return {\n          r: r,\n          g: g,\n          b: b\n        };\n      };\n      var toHsv = function () {\n        return rgb2hsv(r, g, b);\n      };\n      var parse = function (value) {\n        var matches;\n        if (typeof value === 'object') {\n          if ('r' in value) {\n            r = value.r;\n            g = value.g;\n            b = value.b;\n          } else if ('v' in value) {\n            hsvToRgb(value.h, value.s, value.v);\n          }\n        } else {\n          if (matches = /rgb\\s*\\(\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*,\\s*([0-9]+)[^\\)]*\\)/gi.exec(value)) {\n            r = parseInt(matches[1], 10);\n            g = parseInt(matches[2], 10);\n            b = parseInt(matches[3], 10);\n          } else if (matches = /#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(value)) {\n            r = parseInt(matches[1], 16);\n            g = parseInt(matches[2], 16);\n            b = parseInt(matches[3], 16);\n          } else if (matches = /#([0-F])([0-F])([0-F])/gi.exec(value)) {\n            r = parseInt(matches[1] + matches[1], 16);\n            g = parseInt(matches[2] + matches[2], 16);\n            b = parseInt(matches[3] + matches[3], 16);\n          }\n        }\n        r = r < 0 ? 0 : r > 255 ? 255 : r;\n        g = g < 0 ? 0 : g > 255 ? 255 : g;\n        b = b < 0 ? 0 : b > 255 ? 255 : b;\n        return self;\n      };\n      if (value) {\n        parse(value);\n      }\n      self.toRgb = toRgb;\n      self.toHsv = toHsv;\n      self.toHex = toHex;\n      self.parse = parse;\n      return self;\n    };\n\n    var serialize = function (o, quote) {\n      var i, v, t, name;\n      quote = quote || '\"';\n      if (o === null) {\n        return 'null';\n      }\n      t = typeof o;\n      if (t === 'string') {\n        v = '\\bb\\tt\\nn\\ff\\rr\"\"\\'\\'\\\\\\\\';\n        return quote + o.replace(/([\\u0080-\\uFFFF\\x00-\\x1f\\\"\\'\\\\])/g, function (a, b) {\n          if (quote === '\"' && a === '\\'') {\n            return a;\n          }\n          i = v.indexOf(b);\n          if (i + 1) {\n            return '\\\\' + v.charAt(i + 1);\n          }\n          a = b.charCodeAt().toString(16);\n          return '\\\\u' + '0000'.substring(a.length) + a;\n        }) + quote;\n      }\n      if (t === 'object') {\n        if (o.hasOwnProperty && Object.prototype.toString.call(o) === '[object Array]') {\n          for (i = 0, v = '['; i < o.length; i++) {\n            v += (i > 0 ? ',' : '') + serialize(o[i], quote);\n          }\n          return v + ']';\n        }\n        v = '{';\n        for (name in o) {\n          if (o.hasOwnProperty(name)) {\n            v += typeof o[name] !== 'function' ? (v.length > 1 ? ',' + quote : quote) + name + quote + ':' + serialize(o[name], quote) : '';\n          }\n        }\n        return v + '}';\n      }\n      return '' + o;\n    };\n    var JSON$1 = {\n      serialize: serialize,\n      parse: function (text) {\n        try {\n          return JSON.parse(text);\n        } catch (ex) {\n        }\n      }\n    };\n\n    var JSONP = {\n      callbacks: {},\n      count: 0,\n      send: function (settings) {\n        var self = this, dom = DOMUtils$1.DOM, count = settings.count !== undefined ? settings.count : self.count;\n        var id = 'tinymce_jsonp_' + count;\n        self.callbacks[count] = function (json) {\n          dom.remove(id);\n          delete self.callbacks[count];\n          settings.callback(json);\n        };\n        dom.add(dom.doc.body, 'script', {\n          id: id,\n          src: settings.url,\n          type: 'text/javascript'\n        });\n        self.count++;\n      }\n    };\n\n    var XHR = {\n      send: function (settings) {\n        var xhr, count = 0;\n        var ready = function () {\n          if (!settings.async || xhr.readyState === 4 || count++ > 10000) {\n            if (settings.success && count < 10000 && xhr.status === 200) {\n              settings.success.call(settings.success_scope, '' + xhr.responseText, xhr, settings);\n            } else if (settings.error) {\n              settings.error.call(settings.error_scope, count > 10000 ? 'TIMED_OUT' : 'GENERAL', xhr, settings);\n            }\n            xhr = null;\n          } else {\n            setTimeout(ready, 10);\n          }\n        };\n        settings.scope = settings.scope || this;\n        settings.success_scope = settings.success_scope || settings.scope;\n        settings.error_scope = settings.error_scope || settings.scope;\n        settings.async = settings.async === false ? false : true;\n        settings.data = settings.data || '';\n        XHR.fire('beforeInitialize', { settings: settings });\n        xhr = XMLHttpRequest();\n        if (xhr) {\n          if (xhr.overrideMimeType) {\n            xhr.overrideMimeType(settings.content_type);\n          }\n          xhr.open(settings.type || (settings.data ? 'POST' : 'GET'), settings.url, settings.async);\n          if (settings.crossDomain) {\n            xhr.withCredentials = true;\n          }\n          if (settings.content_type) {\n            xhr.setRequestHeader('Content-Type', settings.content_type);\n          }\n          if (settings.requestheaders) {\n            Tools.each(settings.requestheaders, function (header) {\n              xhr.setRequestHeader(header.key, header.value);\n            });\n          }\n          xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n          xhr = XHR.fire('beforeSend', {\n            xhr: xhr,\n            settings: settings\n          }).xhr;\n          xhr.send(settings.data);\n          if (!settings.async) {\n            return ready();\n          }\n          setTimeout(ready, 10);\n        }\n      }\n    };\n    Tools.extend(XHR, Observable);\n\n    var extend$7 = Tools.extend;\n    var JSONRequest = function (settings) {\n      this.settings = extend$7({}, settings);\n      this.count = 0;\n    };\n    JSONRequest.sendRPC = function (o) {\n      return new JSONRequest().send(o);\n    };\n    JSONRequest.prototype = {\n      send: function (args) {\n        var ecb = args.error, scb = args.success;\n        args = extend$7(this.settings, args);\n        args.success = function (c, x) {\n          c = JSON$1.parse(c);\n          if (typeof c === 'undefined') {\n            c = { error: 'JSON Parse error.' };\n          }\n          if (c.error) {\n            ecb.call(args.error_scope || args.scope, c.error, x);\n          } else {\n            scb.call(args.success_scope || args.scope, c.result);\n          }\n        };\n        args.error = function (ty, x) {\n          if (ecb) {\n            ecb.call(args.error_scope || args.scope, ty, x);\n          }\n        };\n        args.data = JSON$1.serialize({\n          id: args.id || 'c' + this.count++,\n          method: args.method,\n          params: args.params\n        });\n        args.content_type = 'application/json';\n        XHR.send(args);\n      }\n    };\n\n    var create$5 = function () {\n      return function () {\n        var data = {};\n        var keys = [];\n        var storage = {\n          getItem: function (key) {\n            var item = data[key];\n            return item ? item : null;\n          },\n          setItem: function (key, value) {\n            keys.push(key);\n            data[key] = String(value);\n          },\n          key: function (index) {\n            return keys[index];\n          },\n          removeItem: function (key) {\n            keys = keys.filter(function (k) {\n              return k === key;\n            });\n            delete data[key];\n          },\n          clear: function () {\n            keys = [];\n            data = {};\n          },\n          length: 0\n        };\n        Object.defineProperty(storage, 'length', {\n          get: function () {\n            return keys.length;\n          },\n          configurable: false,\n          enumerable: false\n        });\n        return storage;\n      }();\n    };\n\n    var localStorage;\n    try {\n      localStorage = domGlobals.window.localStorage;\n    } catch (e) {\n      localStorage = create$5();\n    }\n    var LocalStorage = localStorage;\n\n    var tinymce = EditorManager$1;\n    var publicApi = {\n      geom: { Rect: Rect },\n      util: {\n        Promise: promiseObj,\n        Delay: Delay,\n        Tools: Tools,\n        VK: VK,\n        URI: URI,\n        Class: Class,\n        EventDispatcher: Dispatcher,\n        Observable: Observable,\n        I18n: I18n,\n        XHR: XHR,\n        JSON: JSON$1,\n        JSONRequest: JSONRequest,\n        JSONP: JSONP,\n        LocalStorage: LocalStorage,\n        Color: Color\n      },\n      dom: {\n        EventUtils: EventUtils,\n        Sizzle: Sizzle,\n        DomQuery: DomQuery,\n        TreeWalker: TreeWalker,\n        DOMUtils: DOMUtils$1,\n        ScriptLoader: ScriptLoader,\n        RangeUtils: RangeUtils$1,\n        Serializer: DomSerializer$1,\n        ControlSelection: ControlSelection,\n        BookmarkManager: BookmarkManager$1,\n        Selection: Selection$1,\n        Event: EventUtils.Event\n      },\n      html: {\n        Styles: Styles,\n        Entities: Entities,\n        Node: Node$1,\n        Schema: Schema,\n        SaxParser: SaxParser$1,\n        DomParser: DomParser,\n        Writer: Writer,\n        Serializer: HtmlSerializer\n      },\n      ui: { Factory: Factory },\n      Env: Env,\n      AddOnManager: AddOnManager,\n      Annotator: Annotator,\n      Formatter: Formatter,\n      UndoManager: UndoManager,\n      EditorCommands: EditorCommands,\n      WindowManager: WindowManager,\n      NotificationManager: NotificationManager,\n      EditorObservable: EditorObservable$1,\n      Shortcuts: Shortcuts,\n      Editor: Editor,\n      FocusManager: FocusManager,\n      EditorManager: EditorManager$1,\n      DOM: DOMUtils$1.DOM,\n      ScriptLoader: ScriptLoader.ScriptLoader,\n      PluginManager: AddOnManager.PluginManager,\n      ThemeManager: AddOnManager.ThemeManager,\n      trim: Tools.trim,\n      isArray: Tools.isArray,\n      is: Tools.is,\n      toArray: Tools.toArray,\n      makeMap: Tools.makeMap,\n      each: Tools.each,\n      map: Tools.map,\n      grep: Tools.grep,\n      inArray: Tools.inArray,\n      extend: Tools.extend,\n      create: Tools.create,\n      walk: Tools.walk,\n      createNS: Tools.createNS,\n      resolve: Tools.resolve,\n      explode: Tools.explode,\n      _addCacheSuffix: Tools._addCacheSuffix,\n      isOpera: Env.opera,\n      isWebKit: Env.webkit,\n      isIE: Env.ie,\n      isGecko: Env.gecko,\n      isMac: Env.mac\n    };\n    tinymce = Tools.extend(tinymce, publicApi);\n    var Tinymce = tinymce;\n\n    var exportToModuleLoaders = function (tinymce) {\n      if (typeof module === 'object') {\n        try {\n          module.exports = tinymce;\n        } catch (_) {\n        }\n      }\n    };\n    var exportToWindowGlobal = function (tinymce) {\n      window.tinymce = tinymce;\n      window.tinyMCE = tinymce;\n    };\n    exportToWindowGlobal(Tinymce);\n    exportToModuleLoaders(Tinymce);\n\n}(window));\n})();\n","/* globals __VUE_SSR_CONTEXT__ */\n\n// IMPORTANT: Do NOT use ES2015 features in this file (except for modules).\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nexport default function normalizeComponent (\n  scriptExports,\n  render,\n  staticRenderFns,\n  functionalTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier, /* server only */\n  shadowMode /* vue-cli only */\n) {\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (render) {\n    options.render = render\n    options.staticRenderFns = staticRenderFns\n    options._compiled = true\n  }\n\n  // functional template\n  if (functionalTemplate) {\n    options.functional = true\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = 'data-v-' + scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) { // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = shadowMode\n      ? function () {\n        injectStyles.call(\n          this,\n          (options.functional ? this.parent : this).$root.$options.shadowRoot\n        )\n      }\n      : injectStyles\n  }\n\n  if (hook) {\n    if (options.functional) {\n      // for template-only hot-reload because in that case the render fn doesn't\n      // go through the normalizer\n      options._injectStyles = hook\n      // register for functional component in vue file\n      var originalRender = options.render\n      options.render = function renderWithStyleInjection (h, context) {\n        hook.call(context)\n        return originalRender(h, context)\n      }\n    } else {\n      // inject component registration as beforeCreate hook\n      var existing = options.beforeCreate\n      options.beforeCreate = existing\n        ? [].concat(existing, hook)\n        : [hook]\n    }\n  }\n\n  return {\n    exports: scriptExports,\n    options: options\n  }\n}\n","/**\n * Translates the list format produced by css-loader into something\n * easier to manipulate.\n */\nexport default function listToStyles (parentId, list) {\n  var styles = []\n  var newStyles = {}\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i]\n    var id = item[0]\n    var css = item[1]\n    var media = item[2]\n    var sourceMap = item[3]\n    var part = {\n      id: parentId + ':' + i,\n      css: css,\n      media: media,\n      sourceMap: sourceMap\n    }\n    if (!newStyles[id]) {\n      styles.push(newStyles[id] = { id: id, parts: [part] })\n    } else {\n      newStyles[id].parts.push(part)\n    }\n  }\n  return styles\n}\n","/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n  Modified by Evan You @yyx990803\n*/\n\nimport listToStyles from './listToStyles'\n\nvar hasDocument = typeof document !== 'undefined'\n\nif (typeof DEBUG !== 'undefined' && DEBUG) {\n  if (!hasDocument) {\n    throw new Error(\n    'vue-style-loader cannot be used in a non-browser environment. ' +\n    \"Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.\"\n  ) }\n}\n\n/*\ntype StyleObject = {\n  id: number;\n  parts: Array<StyleObjectPart>\n}\n\ntype StyleObjectPart = {\n  css: string;\n  media: string;\n  sourceMap: ?string\n}\n*/\n\nvar stylesInDom = {/*\n  [id: number]: {\n    id: number,\n    refs: number,\n    parts: Array<(obj?: StyleObjectPart) => void>\n  }\n*/}\n\nvar head = hasDocument && (document.head || document.getElementsByTagName('head')[0])\nvar singletonElement = null\nvar singletonCounter = 0\nvar isProduction = false\nvar noop = function () {}\nvar options = null\nvar ssrIdKey = 'data-vue-ssr-id'\n\n// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n// tags it will allow on a page\nvar isOldIE = typeof navigator !== 'undefined' && /msie [6-9]\\b/.test(navigator.userAgent.toLowerCase())\n\nexport default function addStylesClient (parentId, list, _isProduction, _options) {\n  isProduction = _isProduction\n\n  options = _options || {}\n\n  var styles = listToStyles(parentId, list)\n  addStylesToDom(styles)\n\n  return function update (newList) {\n    var mayRemove = []\n    for (var i = 0; i < styles.length; i++) {\n      var item = styles[i]\n      var domStyle = stylesInDom[item.id]\n      domStyle.refs--\n      mayRemove.push(domStyle)\n    }\n    if (newList) {\n      styles = listToStyles(parentId, newList)\n      addStylesToDom(styles)\n    } else {\n      styles = []\n    }\n    for (var i = 0; i < mayRemove.length; i++) {\n      var domStyle = mayRemove[i]\n      if (domStyle.refs === 0) {\n        for (var j = 0; j < domStyle.parts.length; j++) {\n          domStyle.parts[j]()\n        }\n        delete stylesInDom[domStyle.id]\n      }\n    }\n  }\n}\n\nfunction addStylesToDom (styles /* Array<StyleObject> */) {\n  for (var i = 0; i < styles.length; i++) {\n    var item = styles[i]\n    var domStyle = stylesInDom[item.id]\n    if (domStyle) {\n      domStyle.refs++\n      for (var j = 0; j < domStyle.parts.length; j++) {\n        domStyle.parts[j](item.parts[j])\n      }\n      for (; j < item.parts.length; j++) {\n        domStyle.parts.push(addStyle(item.parts[j]))\n      }\n      if (domStyle.parts.length > item.parts.length) {\n        domStyle.parts.length = item.parts.length\n      }\n    } else {\n      var parts = []\n      for (var j = 0; j < item.parts.length; j++) {\n        parts.push(addStyle(item.parts[j]))\n      }\n      stylesInDom[item.id] = { id: item.id, refs: 1, parts: parts }\n    }\n  }\n}\n\nfunction createStyleElement () {\n  var styleElement = document.createElement('style')\n  styleElement.type = 'text/css'\n  head.appendChild(styleElement)\n  return styleElement\n}\n\nfunction addStyle (obj /* StyleObjectPart */) {\n  var update, remove\n  var styleElement = document.querySelector('style[' + ssrIdKey + '~=\"' + obj.id + '\"]')\n\n  if (styleElement) {\n    if (isProduction) {\n      // has SSR styles and in production mode.\n      // simply do nothing.\n      return noop\n    } else {\n      // has SSR styles but in dev mode.\n      // for some reason Chrome can't handle source map in server-rendered\n      // style tags - source maps in <style> only works if the style tag is\n      // created and inserted dynamically. So we remove the server rendered\n      // styles and inject new ones.\n      styleElement.parentNode.removeChild(styleElement)\n    }\n  }\n\n  if (isOldIE) {\n    // use singleton mode for IE9.\n    var styleIndex = singletonCounter++\n    styleElement = singletonElement || (singletonElement = createStyleElement())\n    update = applyToSingletonTag.bind(null, styleElement, styleIndex, false)\n    remove = applyToSingletonTag.bind(null, styleElement, styleIndex, true)\n  } else {\n    // use multi-style-tag mode in all other cases\n    styleElement = createStyleElement()\n    update = applyToTag.bind(null, styleElement)\n    remove = function () {\n      styleElement.parentNode.removeChild(styleElement)\n    }\n  }\n\n  update(obj)\n\n  return function updateStyle (newObj /* StyleObjectPart */) {\n    if (newObj) {\n      if (newObj.css === obj.css &&\n          newObj.media === obj.media &&\n          newObj.sourceMap === obj.sourceMap) {\n        return\n      }\n      update(obj = newObj)\n    } else {\n      remove()\n    }\n  }\n}\n\nvar replaceText = (function () {\n  var textStore = []\n\n  return function (index, replacement) {\n    textStore[index] = replacement\n    return textStore.filter(Boolean).join('\\n')\n  }\n})()\n\nfunction applyToSingletonTag (styleElement, index, remove, obj) {\n  var css = remove ? '' : obj.css\n\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = replaceText(index, css)\n  } else {\n    var cssNode = document.createTextNode(css)\n    var childNodes = styleElement.childNodes\n    if (childNodes[index]) styleElement.removeChild(childNodes[index])\n    if (childNodes.length) {\n      styleElement.insertBefore(cssNode, childNodes[index])\n    } else {\n      styleElement.appendChild(cssNode)\n    }\n  }\n}\n\nfunction applyToTag (styleElement, obj) {\n  var css = obj.css\n  var media = obj.media\n  var sourceMap = obj.sourceMap\n\n  if (media) {\n    styleElement.setAttribute('media', media)\n  }\n  if (options.ssrId) {\n    styleElement.setAttribute(ssrIdKey, obj.id)\n  }\n\n  if (sourceMap) {\n    // https://developer.chrome.com/devtools/docs/javascript-debugging\n    // this makes source maps inside style tags work properly in Chrome\n    css += '\\n/*# sourceURL=' + sourceMap.sources[0] + ' */'\n    // http://stackoverflow.com/a/26603875\n    css += '\\n/*# sourceMappingURL=data:application/json;base64,' + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + ' */'\n  }\n\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild)\n    }\n    styleElement.appendChild(document.createTextNode(css))\n  }\n}\n","\n\n\n\n\n\n\n\n\n\n\nimport { Vue } from \"vue/types/vue\";\nimport { ThisTypedComponentOptionsWithRecordProps } from \"vue/types/options\";\nimport tinymce from '../external/TinymceVue.vue'\nconst intellisense: <D, M, C, P>(\n  x: ThisTypedComponentOptionsWithRecordProps<Vue, D, M, C, P>\n) => void = (x) => x;\n\nexport default intellisense({\n  name: \"tinymcetest\",\n  components: {\n    tinymce\n  },\n  data() {\n    return {\n          data : '',\n      };\n  },\n  methods: {\n    resetClickHandler(){\n      console.log(\"before reset: \", this.data)\n      this.data = \"\";        \n    },\n    contentClickHandler(){\n      // this.data += \" asdasdasdasdas\";\n      // console.log(this.data)\n      // let obj = {\n      //   data: \"ilker\"\n      // };\n      this.data = \"hello\"\n      this.$emit(\"testEvent\", this.data)\n    }\n  }\n});\n","var render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"div\", [_c(\"textarea\", { attrs: { id: _vm.id } })])\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<template>\n  <div>\n      <textarea :id=\"id\"></textarea>\n  </div>\n</template>\n\n<script>\n   // Import TinyMCE\n    import tinymce from 'tinymce/tinymce';\n    // A theme is also required\n    import 'tinymce/themes/modern/theme';\n    // Any plugins you want to use has to be imported\n    import 'tinymce/plugins/advlist';\n    import 'tinymce/plugins/wordcount';\n    import 'tinymce/plugins/autolink';\n    import 'tinymce/plugins/autosave';\n    import 'tinymce/plugins/charmap';\n    import 'tinymce/plugins/codesample';\n    import 'tinymce/plugins/contextmenu';\n    import 'tinymce/plugins/emoticons';\n    import 'tinymce/plugins/fullscreen';\n    import 'tinymce/plugins/hr';\n    import 'tinymce/plugins/imagetools';\n    import 'tinymce/plugins/insertdatetime';\n    import 'tinymce/plugins/link';\n    import 'tinymce/plugins/media';\n    import 'tinymce/plugins/noneditable';\n    import 'tinymce/plugins/paste';\n    import 'tinymce/plugins/print';\n    import 'tinymce/plugins/searchreplace';\n    import 'tinymce/plugins/tabfocus';\n    import 'tinymce/plugins/template';\n    import 'tinymce/plugins/textpattern';\n    import 'tinymce/plugins/visualblocks';\n    import 'tinymce/plugins/anchor';\n    import 'tinymce/plugins/autoresize';\n    import 'tinymce/plugins/bbcode';\n    import 'tinymce/plugins/code';\n    import 'tinymce/plugins/colorpicker';\n    import 'tinymce/plugins/directionality';\n    import 'tinymce/plugins/fullpage';\n    import 'tinymce/plugins/help';\n    import 'tinymce/plugins/image';\n    import 'tinymce/plugins/importcss';\n    import 'tinymce/plugins/legacyoutput';\n    import 'tinymce/plugins/lists';\n    import 'tinymce/plugins/nonbreaking';\n    import 'tinymce/plugins/pagebreak';\n    import 'tinymce/plugins/preview';\n    import 'tinymce/plugins/save';\n    import 'tinymce/plugins/spellchecker';\n    import 'tinymce/plugins/table';\n    import 'tinymce/plugins/textcolor';\n    import 'tinymce/plugins/toc';\n    import 'tinymce/plugins/visualchars';\n    import \"tinymce/plugins/codesample/css/prism.css\";\n    import \"tinymce/skins/lightgray/skin.min.css\";\n    export default {\n        name: 'tinymce',\n        props: { \n                id : {\n                    type : String,\n                    required : true\n                },\n                htmlClass : { default : '', type : String},\n                value : { default : '' },\n                plugins : { default : function(){ \n                                    return [\n                                        'advlist autolink lists link image charmap print preview hr anchor pagebreak',\n                                        'searchreplace wordcount visualblocks visualchars code fullscreen',\n                                        'insertdatetime media nonbreaking save table contextmenu directionality',\n                                        'template paste textcolor colorpicker textpattern imagetools toc help emoticons hr codesample'\n                                    ];\n                                } , type: Array\n                            },\n                toolbar1: { default :'formatselect | bold italic  strikethrough  forecolor backcolor | link | alignleft aligncenter alignright alignjustify  | numlist bullist outdent indent  | removeformat', type: String},\n                toolbar2: { default : '', type: String },\n                other_options: { default : function() { return {}; }, type: Object},\n                readonly: { default: false, type: Boolean }\n        },\n        data(){\n            return {\n                content : '',\n                editor : null,\n                cTinyMce : null,\n                checkerTimeout: null,\n                isTyping : false\n            }; \n        },\n        mounted(){\n            this.content = this.value;\n            setTimeout(() => {\n                this.init()\n            });\n            //this.$nextTick(()=> this.init());\n        },\n        beforeDestroy () {\n            this.editor.destroy();\n        },\n        watch: {\n            value : function (newValue){\n                if(!this.isTyping){\n                    if(this.editor !== null)\n                        this.editor.setContent(newValue);\n                    else\n                        this.content = newValue;\n                }\n            },\n            readonly(value){\n                if(value){\n                    this.editor.setMode('readonly');\n                } else {\n                    this.editor.setMode('design');\n                }\n            }\n        },\n        methods: {\n            init(){\n                let options = {\n                    selector: '#' + this.id,\n                    skin: false,\n                    toolbar1: this.toolbar1,\n                    toolbar2: this.toolbar2,\n                    plugins: this.plugins,\n                    init_instance_callback : this.initEditor\n                };\n                tinymce.init(this.concatAssciativeArrays(options, this.other_options));\n                //var ed = this.editor.get('id');     // get editor instance\n                //var range = ed.selection.getRng().startOffset;     // get range\n\n                //alert(range);\n            },\n            initEditor(editor) {\n                this.editor = editor;\n                editor.on('KeyUp', () => {\n                    this.submitNewContent();\n                });\n                editor.on('Change', (e) => {\n                    if(this.editor.getContent() !== this.value){\n                        this.submitNewContent();\n                    }\n                    this.$emit('editorChange', e);\n                });\n                editor.on('init', () => {\n                    editor.setContent(this.content);\n                    this.$emit('input', this.content);\n                });\n                if(this.readonly){\n                    this.editor.setMode('readonly');\n                } else {\n                    this.editor.setMode('design');\n                }\n                this.$emit('editorInit', editor);\n            },\n            concatAssciativeArrays(array1, array2){\n                if(array2.length === 0) return array1;\n                if(array1.length === 0) return array2;\n                let dest = [];\n                for ( let key in array1) dest[key] = array1[key];\n                for ( let key in array2) dest[key] = array2[key];\n                return dest;\n            },\n            submitNewContent(){\n                this.isTyping = true;\n                if(this.checkerTimeout !== null)\n                    clearTimeout(this.checkerTimeout);\n                    this.checkerTimeout = setTimeout(()=>{\n                        this.isTyping = false;\n                    }, 300);\n                this.$emit('input', this.editor.getContent());\n            }\n        }\n    }\n</script>","import mod from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/source-map-loader/dist/cjs.js!./TinymceVue.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/source-map-loader/dist/cjs.js!./TinymceVue.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TinymceVue.vue?vue&type=template&id=42f0f192&\"\nimport script from \"./TinymceVue.vue?vue&type=script&lang=js&\"\nexport * from \"./TinymceVue.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\Users\\\\200602\\\\Desktop\\\\deneme\\\\named_comps\\\\nc_texteditor\\\\nc_clear_test\\\\tinymcetest\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('42f0f192')) {\n      api.createRecord('42f0f192', component.options)\n    } else {\n      api.reload('42f0f192', component.options)\n    }\n    module.hot.accept(\"./TinymceVue.vue?vue&type=template&id=42f0f192&\", function () {\n      api.rerender('42f0f192', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/external/TinymceVue.vue\"\nexport default component.exports","import mod from \"-!../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tinymcetest.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/ts-loader/index.js??clonedRuleSet-1[0].rules[0]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tinymcetest.vue?vue&type=script&lang=ts&\"","var render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    [\n      _c(\"tinymce\", {\n        attrs: { id: \"d1\" },\n        model: {\n          value: _vm.data,\n          callback: function ($$v) {\n            _vm.data = $$v\n          },\n          expression: \"data\",\n        },\n      }),\n      _vm._v(\" \"),\n      _c(\n        \"button\",\n        { attrs: { type: \"button\" }, on: { click: _vm.resetClickHandler } },\n        [_vm._v(\"Reset\")]\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"button\",\n        { attrs: { type: \"button\" }, on: { click: _vm.contentClickHandler } },\n        [_vm._v(\"SetContent\")]\n      ),\n      _vm._v(\" \"),\n      _c(\"div\", [_vm._v(_vm._s(_vm.data))]),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../css-loader/dist/cjs.js!./prism.css\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"bfb5b6e0\", content, false, {});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../../css-loader/dist/cjs.js!./prism.css\", function() {\n     var newContent = require(\"!!../../../../css-loader/dist/cjs.js!./prism.css\");\n     if(newContent.__esModule) newContent = newContent.default;\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../css-loader/dist/cjs.js!./skin.min.css\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"5ada5776\", content, false, {});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../css-loader/dist/cjs.js!./skin.min.css\", function() {\n     var newContent = require(\"!!../../../css-loader/dist/cjs.js!./skin.min.css\");\n     if(newContent.__esModule) newContent = newContent.default;\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tinymcetest.vue?vue&type=style&index=0&id=9d7cc094&scoped=true&lang=css&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"13a5ed8c\", content, false, {});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tinymcetest.vue?vue&type=style&index=0&id=9d7cc094&scoped=true&lang=css&\", function() {\n     var newContent = require(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tinymcetest.vue?vue&type=style&index=0&id=9d7cc094&scoped=true&lang=css&\");\n     if(newContent.__esModule) newContent = newContent.default;\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.b = document.baseURI || self.location.href;\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t919: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n// no on chunks loaded\n\n// no jsonp function","import { render, staticRenderFns } from \"./tinymcetest.vue?vue&type=template&id=9d7cc094&scoped=true&\"\nimport script from \"./tinymcetest.vue?vue&type=script&lang=ts&\"\nexport * from \"./tinymcetest.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./tinymcetest.vue?vue&type=style&index=0&id=9d7cc094&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9d7cc094\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\Users\\\\200602\\\\Desktop\\\\deneme\\\\named_comps\\\\nc_texteditor\\\\nc_clear_test\\\\tinymcetest\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('9d7cc094')) {\n      api.createRecord('9d7cc094', component.options)\n    } else {\n      api.reload('9d7cc094', component.options)\n    }\n    module.hot.accept(\"./tinymcetest.vue?vue&type=template&id=9d7cc094&scoped=true&\", function () {\n      api.rerender('9d7cc094', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/namedComps/tinymcetest.vue\"\nexport default component.exports"],"names":["___CSS_LOADER_EXPORT___","push","module","id","___CSS_LOADER_URL_IMPORT_0___","URL","___CSS_LOADER_URL_IMPORT_1___","___CSS_LOADER_URL_IMPORT_2___","___CSS_LOADER_URL_IMPORT_3___","___CSS_LOADER_URL_IMPORT_4___","___CSS_LOADER_URL_IMPORT_5___","___CSS_LOADER_URL_IMPORT_6___","___CSS_LOADER_URL_IMPORT_7___","___CSS_LOADER_URL_IMPORT_8___","___CSS_LOADER_URL_IMPORT_9___","___CSS_LOADER_URL_REPLACEMENT_0___","___CSS_LOADER_URL_REPLACEMENT_1___","___CSS_LOADER_URL_REPLACEMENT_2___","___CSS_LOADER_URL_REPLACEMENT_3___","hash","___CSS_LOADER_URL_REPLACEMENT_4___","___CSS_LOADER_URL_REPLACEMENT_5___","___CSS_LOADER_URL_REPLACEMENT_6___","___CSS_LOADER_URL_REPLACEMENT_7___","___CSS_LOADER_URL_REPLACEMENT_8___","___CSS_LOADER_URL_REPLACEMENT_9___","___CSS_LOADER_URL_REPLACEMENT_10___","___CSS_LOADER_URL_REPLACEMENT_11___","exports","cssWithMappingToString","list","toString","this","map","item","content","needLayer","concat","length","join","i","modules","media","dedupe","supports","layer","undefined","alreadyImportedModules","k","_k","url","options","String","__esModule","default","test","slice","needQuotes","replace","cssMapping","btoa","base64","unescape","encodeURIComponent","JSON","stringify","data","sourceMapping","sourceURLs","sources","source","sourceRoot","global","tinymce","util","Tools","resolve","global$1","Actions","editor","listName","styleValue","cmd","execCommand","Commands","addCommand","ui","value","Settings","styles","getParam","split","ListUtils","node","nodeName","elm","$","contains","getBody","isChildOfBody","listElm","dom","getParent","selection","getNode","getStyle","ListStyles","text","chr","toUpperCase","styleValueToText","listState","e","ctrl","control","on","tableCellIndex","predicate","index","findIndex","parents","lists","grep","active","updateSelection","listStyleType","items","each","settings","addControl","tooltip","addButton","type","menu","onPostRender","onshow","onselect","onclick","addSplitButton","Buttons","add","plugin","plugins","inArray","hasPlugin","Anchor","selectedNode","tagName","getAttrib","name","removeAttribute","undoManager","focus","collapse","createHTML","Dialog","currentId","windowManager","open","title","body","size","label","onsubmit","newId","alert","insertAnchor","preventDefault","setContentEditable","state","nodes","attr","firstChild","FilterContent","parser","addNodeFilter","serializer","icon","stateSelector","addMenuItem","context","scopeIndex","container","nodeType","len","setStart","rng","offset","hasChildNodes","setStartBefore","setEnd","setEndAfter","parseCurrentLine","endOffset","delimiter","end","start","endContainer","bookmark","matches","prev","rngText","autoLinkPattern","defaultLinkTarget","getRng","cloneRange","startOffset","previousSibling","nextSibling","nodeValue","charCodeAt","rangeString","rangeEqualsDelimiterOrSpace","charAt","trim","match","getBookmark","setRng","setAttrib","moveToBookmark","nodeChanged","Keys","autoUrlDetectState","keyCode","handleEnter","ie","ex","handleEclipse","handleSpacebar","Cell","initial","get","set","v","clone","global$2","parseInt","getElement","offsetHeight","wait","oldSize","times","interval","callback","setEditorTimeout","resize","toggleScrolling","style","overflowY","scrollTop","deltaSize","doc","resizeHeight","myHeight","marginTop","marginBottom","paddingTop","paddingBottom","borderTop","borderBottom","getDoc","fullscreen","isFullscreen","isNaN","scrollHeight","webkit","clientHeight","maxHeight","setStyle","iframeElement","Resize","setup","overflowPadding","bottomMargin","setStyles","paddingLeft","paddingRight","inline","domGlobals","parse","timeString","defaultTime","toParse","parsedTime","exec","s","m","getAutoSavePrefix","prefix","document","location","pathname","search","isEmpty","html","forcedRootBlockName","forced_root_block","innerHTML","RegExp","hasDraft","time","getItem","Date","getTime","autosave_retention","getAutoSaveRetention","removeDraft","fire","removeItem","fireRemoveDraft","storeDraft","isDirty","setItem","getContent","format","no_events","fireStoreDraft","restoreDraft","setContent","fireRestoreDraft","startStoreDraft","started","autosave_interval","getAutoSaveInterval","setInterval","removed","restoreLastDraft","transact","curry","fn","initialArgs","_i","arguments","restArgs","all","apply","global$3","_beforeUnloadHandler","msg","autosave","shouldAskBeforeUnload","translate","postRender","disabled","window","onbeforeunload","register","shouldRestoreWhenEmpty","Convert","rep","re","str","init","Events","evtChr","charmap","charmap_append","isArray","getCharsFromSetting","settingValue","charmapFilter","CharMap","userCharMap","userCharMapAppend","extendCharMap","Api","getCharMap","insertChar","GridHtml","gridHtml","x","y","width","Math","min","height","ceil","charCode","chrText","fromCharCode","getParentTd","parentNode","win","charMapPanel","target","charDiv","hasAttribute","charCodeString","getAttribute","ctrlKey","close","onmouseover","td","find","spacing","padding","layout","direction","align","minWidth","minHeight","border","buttons","DOM","getViewPort","h","Content","setCursorLocation","source_view","multiline","spellcheck","onSubmit","code","codesample_content_css","codesample_languages","w","_self","WorkerGlobalScope","self","Prism","lang","_","encode","tokens","Token","alias","o","Object","prototype","call","key","hasOwnProperty","languages","extend","redef","insertBefore","inside","before","insert","root","grammar","newToken","ret","token","DFS","highlightAll","async","elements","querySelectorAll","element","highlightElement","language","parent","className","textContent","env","hooks","run","Worker","worker","filename","onmessage","evt","highlightedCode","postMessage","immediateClose","highlight","tokenize","strarr","rest","tokenloop","patterns","j","pattern","lookbehind","lookbehindLength","lastIndex","from","to","after","args","wrapped","Array","splice","callbacks","tag","classes","attributes","aliases","addEventListener","message","markup","comment","prolog","doctype","cdata","punctuation","namespace","entity","xml","mathml","svg","css","atrule","rule","selector","string","property","important","function","clike","javascript","keyword","number","regex","interpolation","script","js","c","operator","macro","boolean","csharp","preprocessor","cpp","java","php","constant","variable","package","tokenStack","backupCode","t","python","ruby","symbol","builtin","Utils","isCodeSample","indexOf","trimArg","predicateFn","arg1","arg2","getSelectedCodeSample","CodeSample","select","insertContent","removeAttr","Languages","customLanguages","currentLanguage","currentLanguages","currentCode","maxWidth","values","ariaLabel","flex","autofocus","isCollapsed","formatter","toggle","filter","idx","$elm","empty","append","unprocessedCodeSamples","contentEditable","replaceChild","createTextNode","LoadCss","pluginUrl","addedInlineCss","addedCss","linkElm","contentCss","create","rel","href","getElementsByTagName","appendChild","ev","showPreview","hexColor","getEl","background","setColor","color","rgb","toRgb","fromJSON","r","g","b","hex","toHex","substr","onchange","labelGap","defaults","colorPickerCtrl","toJSON","color_picker_callback","visibleState","isContextMenuVisible","contextmenu_never_use_native","getUiContainer","ui_container","nu","transpose","pos","dx","dy","transposeUiContainer","containerPos","getPos","scrollLeft","Coords","pageX","pageY","fromPageXY","iframePos","getContentAreaContainer","clientX","clientY","fromClientXY","ContextMenu","contextmenu","menuItems","shortcut","uiContainer","renderTo","remove","renderMenu","show","moveTo","Bind","isNativeOverrideKeyEvent","Direction","dir","curDir","blocks","getSelectedBlocks","block","getRoot","generateSelector","emoticons","PanelHtml","emoticonsHtml","row","emoticonUrl","panelHtml","panel","role","autohide","src","alt","insertEmoticon","hide","global$4","parseHeader","head","validate","root_name","Parser","headerFragment","getAttr","fontface","fontsize","xml_pi","docencoding","getAll","meta","httpEquiv","toLowerCase","langcode","stylesheets","link","langdir","visited_color","link_color","active_color","headElement","setAttr","addHeadNode","substring","shortEnded","currentStyleSheetsMap","stylesheet","setAttribs","vLink","aLink","indent","apply_source_formatting","indent_before","indent_after","serialize","headState","headHtml","Protect","protect","escape","a","low","getDefaultHeader","header","piEncoding","footState","startPos","endPos","headElm","styleSheet","cssText","removeChild","handleSetContent","foot","handleGetContent","fullscreenState","editorContainerStyle","editorContainer","iframe","iframeStyle","vp","documentElement","fullscreenInfo","offsetWidth","innerWidth","innerHeight","getWindowSize","removeResize","unbind","getContainer","iframeWidth","iframeHeight","containerWidth","containerHeight","removeClass","scrollPos","scrollTo","resizeHandler","off","removeHandler","newFullScreenInfo","addClass","bind","selectable","addShortcut","noop","eq","me","never","always","none","NONE","isNone","fold","n","is","isSome","getOr","getOrThunk","thunk","getOrDie","Error","getOrNull","getOrUndefined","or","orThunk","exists","forall","equals","equals_","toArray","freeze","some","constant_a","f","elementEq","Option","isFunction","isPrototypeOf","constructor","typeOf","nativeIndexOf","xs","ts","mac","access","KeyboardShortcuts","shortcuts","action","KeyboardShortcutsTab","shortcutLisString","makeAriaLabel","keys","PluginUrls","makeLink","obj","fullMatch","maybeUrlize","pred","getMetadata","pluginLister","pluginKeys","keys$1","forced_plugins","getPluginKeys","pluginLis","count","pluginsString","installedPlugins","PluginsTab","ButtonsRow","major","minor","changeLogLink","majorVersion","minorVersion","bodyType","merger","image_dimensions","image_advtab","image_description","image_title","image_caption","Global","Function","p","scope","parts","path","Global$1","actual","unsafe","parseIntAndGetMax","val1","val2","max","img","createElement","done","onload","clientWidth","onerror","visibility","position","bottom","left","inputList","itemCallback","startItems","appendItems","output","menuItem","margin","splitMargin","imageList","send","success","imgElm","selectImage","blob","reject","reader","result","error","readAsDataURL","merge","old","objects","curObject","getHspace","image","marginLeft","marginRight","getVspace","getBorder","borderWidth","hasCaption","setAttribute","toggleCaption","figureElm","insertAfter","removeFigure","class","wrapInFigure","normalizeStyle","normalizeCss","attrValue","setSize","getSize","setHspace","pxValue","setVspace","setBorder","setBorderStyle","borderStyle","isFigure","getStyleValue","hspace","vspace","getBorderStyle","read","caption","updateProp","oldData","newData","normalized","write","_name","_value","mergedCss","compressed","getSelectedImage","splitTextBlock","figure","textBlock","schema","getTextBlockElements","readImageDataFromSelection","insertImageAtCaret","outerHTML","insertedElm","insertOrUpdateImage","syncSrcAttr","writeImageDataToSelection","deleteImage","updateVSpaceHSpaceBorder","rootControl","parseStyle","serializeStyle","updateStyle","AdvTab","pack","packV","columns","doSyncSize","widthCtrl","heightCtrl","doSizeControls","constrained","checked","doUpdateSize","isContrained","oldWidth","oldHeight","newWidth","newHeight","round","updateSize","SizeManager","recalcSize","maxLength","onBeforeCall","getGeneralItems","imageListCtrl","generalFormItems","filetype","srcURL","prependURL","absoluteURLPattern","convertURL","documentBaseURI","toAbsolute","onSrcChange","onbeforecall","textStyle","getCssText","MainTab","createObjectURL","u","revokeObjectURL","global$5","Uploader","defaultHandler","blobInfo","failure","progress","xhr","formData","withCredentials","credentials","upload","onprogress","loaded","total","status","json","path1","path2","responseText","basePath","FormData","handler","uploadBlob","onFileInput","Throbber","throbber","file","blobUri","uploader","finalize","then","dataUrl","editorUpload","blobCache","activateTab","catch","err","acceptExts","UploadTab","accept","submitForm","uploadImagesAuto","showDialog","altCtrl","lastControl","hasImageClass","toggleContentEditableState","toggleContentEditable","prependToContext","canvas","tCanvas","get2dContext","drawImage","getContext","getWidth","naturalWidth","getHeight","naturalHeight","Promise","TypeError","_state","_deferreds","doResolve","asap","immediateFn","setImmediate","setTimeout","thisArg","handle","deferred","cb","onFulfilled","onRejected","newValue","finale","_a","Handler","reason","remaining","res","val","race","values_1","promise","imageToBlob","dataUriToBlob","XMLHttpRequest","responseType","response","_this","corsError","genericError","anyUriToBlob","blobToImage","blobUrl","Image","removeListeners","removeEventListener","complete","uri","mimetype","sliceSize","byteCharacters","atob","bytesLength","slicesCount","byteArrays","sliceIndex","begin","bytes","Uint8Array","Blob","dataUriToBlobSync","canvasToBlob","quality","HTMLCanvasElement","toBlob","toDataURL","blobToCanvas","revokeImageUrl","create$1","getCanvas","initialType","toAdjustedDataURL","canvasToDataURL","getType","toBase64","toAdjustedBlob","toAdjustedBase64","dataurl","toCanvas","fromBlob","FileReader","onloadend","blobToDataUri","fromCanvas","clamp","parsedValue","parseFloat","DELTA_INDEX","multiply","matrix1","matrix2","col","out","adjust","matrix","adjustValue","colorFilter","ir","applyMatrix","pixelsData","m0","m1","m2","m3","m4","m5","m6","m7","m8","m9","m10","m11","m12","m13","m14","m15","m16","m17","m18","m19","pixels","getImageData","putImageData","applyColorFilter","convoluteFilter","pIn","pOut","aMatrix","side","sqrt","halfSide","floor","rgba","drgba","cy","cx","scx","innerOffset","wt","pixelsIn","pixelsOut","applyConvoluteFilter","functionColorFilter","colorFn","lookup","lookupData","applyLookup","filterImpl","complexAdjustableColorFilter","matrixAdjustFn","basicConvolutionFilter","kernel","invert","brightness","hue","angle","PI","cosVal","cos","sinVal","sin","lumR","lumG","lumB","saturate","contrast","grayscale","sepia","colorize","adjustR","adjustG","adjustB","adjustColors","sharpen","emboss","gamma","pow","exposure","exp","scale","dW","dH","sW","sH","wRatio","hRatio","scaleCapped","scaled","_scale","rotate","translateX","translateY","applyRotate","flip","axis","applyFlip","crop","applyCrop","invert$1","sharpen$1","emboss$1","gamma$1","exposure$1","colorize$1","brightness$1","hue$1","saturate$1","contrast$1","grayscale$1","sepia$1","flip$1","crop$1","resize$2","newCanvas","resize$1","rotate$1","blobToImageResult","global$6","global$7","LoadImage","global$8","global$9","global$a","ImagePanel","Defaults","rect","imageSize","viewRect","toggleCropRect","imageSrc","$img","lastRect","$el","replaceWith","bg","inflate","zoomFit","repaintImage","zoom","_super","pw","ph","$bg","top","cropRect","setRect","setClampRect","setViewPortRect","bindStates","setupCropRect","currentRect","viewPortRect","clampRect","containerElm","instance","handles","dragHelpers","blockers","getRelativeRect","outerRect","innerRect","moveRect","startRect","deltaX","deltaY","deltaW","deltaH","setInnerRect","repaint","updateElementRect","xMul","yMul","relativeRect","appendTo","blocker","ownerDocument","drag","activeHandle","moveAndBlock","stopPropagation","LEFT","RIGHT","UP","DOWN","ENTER","SPACEBAR","toggleVisibility","selectors","getInnerRect","destroy","helper","CropRect","createState","destroyState","destroyStates","states","currentState","mainPanel","filtersPanel","tempState","cropPanel","resizePanel","flipRotatePanel","imagePanel","sidePanel","mainViewContainer","invertPanel","brightnessPanel","huePanel","saturatePanel","contrastPanel","grayscalePanel","sepiaPanel","colorizePanel","sharpenPanel","embossPanel","gammaPanel","exposurePanel","panels","ratioW","ratioH","undoStack","canUndo","canRedo","undo","redo","UndoStack","reverseIfRtl","rtl","reverse","floatToPercent","updateButtonUndoStates","statusbar","disableUndoRedo","displayState","switchPanel","targetPanel","hidePanels","addTempState","addBlobState","imageResultToBlob","cancel","tempAction","waitForTempState","applyCall","applyTempState","createPanel","createFilterPanel","subtype","newTempState","createVariableFilterPanel","ondragend","update","minValue","maxValue","previewFilter","onkeyup","arg","createRgbFilterPanel","edit","imageResult","ImageSize","getImageSize","isPxValue","setImageSize","getNaturalImageSize","isValue","reduce","fr","readAsText","headers","onreadystatechange","readyState","setRequestHeader","friendlyHttpErrors","friendlyServiceErrors","getHttpErrorMsg","handleHttpError","getServiceErrorMsg","handleServiceError","serviceError","errorType","getServiceError","Errors","requestServiceBlob","apiKey","separator","appendApiKey","Proxy","requestBlob","count$1","displayError","notificationManager","isLocalImage","host","isCorsImage","getCorsHosts","imageToBlob$2","getCredentialsHosts","isCorsWithCredentialsImage","getProxyUrl","getApiKey","findSelectedBlob","getByUri","cancelTimedUpload","imageUploadTimerState","clearTimeout","updateSelectedImage","uploadImmediately","selectedImage","shouldReuseFilename","extractFilename","imageLoadedHandler","imageUploadTimer","getUploadTimeout","startTimedUpload","selectedImageOperation","_scanForImages","flippedSize","originalSize","handleDialogBlob","blobToImage$1","newImage","newSize","imagetools_proxy","mceImageRotateLeft","mceImageRotateRight","mceImageFlipVertical","mceImageFlipHorizontal","mceEditImage","UploadSelectedImage","lastSelectedImageState","lastSelectedImage","ContextToolbar","addContextToolbar","getToolbarItems","compileFilter","getSelectors","fileFilter","contentCSSUrls","imported","rules","cacheSuffix","skin","skin_url","baseURL","isSkinContentCss","imports","cssRules","cssRule","selectorText","contentCSS","styleSheets","defaultConvertSelectorToFormat","elementName","inlineSelectorElements","makeMap","getBlockElements","isExclusiveMode","group","ImportCss","globallyUniqueSelectors","selectorFilter","groups","original","compileUserDefinedGroups","processSelector","isUniqueSelector","markUniqueSelector","selector_converter","convertSelectorToFormat","importcss","formatName","uniqueId","itemDefaults","selectorGroups","getGroupsBySelector","renderNew","getTimeFormat","getFormats","formats","daysShort","daysLong","monthsShort","monthsLong","addZeros","getDateTime","fmt","date","getFullYear","getYear","getMonth","getDate","getHours","getMinutes","getSeconds","getDay","userTime","computerTime","timeElm","getStart","newTimeElm","datetime","updateElement","lastFormatState","createMenuItems","lastFormat","Formats","inline_styles","alignElements","fontSizes","explode","font_size_style_values","alignleft","aligncenter","alignright","alignjustify","bold","fontWeight","italic","fontStyle","underline","textDecoration","exact","strikethrough","fontname","face","vars","forecolor","hilitecolor","backgroundColor","addValidElements","getElementRule","attributesOrder","overrideFormats","fontsizeFormats","fixedWidth","fontElm","fonts","createFormats","font_formats","font","raw","getTargetList","editorSettings","target_list","getRelList","rel_list","getLinkClassList","link_class_list","link_assume_external_targets","link_context_toolbar","link_list","default_link_target","link_title","allow_unsafe_link_target","OpenUrl","createEvent","initMouseEvent","dispatchEvent","appendClickRemove","opener","toggleTargetRules","isUnsafe","newRel","removeTargetRules","addTargetRules","sort","getAnchorElement","selectedElm","isImageFigure","isLink","unlinkImageFigure","fig","getParents","linkImageFigure","attrs","attachState","anchorElm","linkAttrs","attach","innerText","trimCaretContainers","buildListItems","delayedConfirm","confirm","linkList","initialText","onlyText","textListCtrl","linkListCtrl","relListCtrl","targetListCtrl","classListCtrl","linkTitleCtrl","linkListChangeHandler","textCtrl","updateText","inp","onpaste","anchorList","anchor","selected","unshift","buildAnchorListControl","assumeExternalTargets","insertLink","removeLink","resultData","createLinkList","getLink","getSelectedLink","gotoLink","targetEl","scrollIntoView","sel","startContainer","metaKeyPressed","altKey","shiftKey","metaKey","hasOnlyAltModifier","readonly","Keyboard","Controls","onpostrender","called","isBr","NodeType","blockElements","isBlock","keepBookmarks","isChildOf","getNormalizedPoint","childNodes","Range","outRng","rangeStart","rangeEnd","Bookmark","setupEndPoint","offsetNode","collapsed","restoreEndPoint","nodeIndex","createRng","not","isType","isString","isBoolean","isNumber","nativeSlice","nativePush","foldl","acc","flatten","last","HTMLElement","htmlElement","getParentList","selectionStart","getClosestListRootElm","getSelectedListItems","selectedBlocks","elms","listItemsElms","unique","findParentListItemsNodes","parentTableCell","findLastParentListNode","parentLists","getUniqueListRoots","listRoots","Selection","isList","getSelectedSubLists","parentList","isParentListSelected","findSubLists","getSelectedDlItems","getSelectedListRoots","selectedLists","firstList","subsequentLists","getSelectedLists","fromDom","Element","fromHtml","div","console","fromTag","fromText","fromPoint","docElm","elementFromPoint","lift2","oa","ob","compareDocumentPosition","Node","DOCUMENT_POSITION_CONTAINED_BY","unknown","Version","detect","versionRegexes","agent","cleanedAgent","regexes","firstMatch","Number","find$1","edge","chrome","opera","firefox","safari","isBrowser","current","nu$1","info","version","isEdge","isChrome","isIE","isOpera","isFirefox","isSafari","Browser","windows","android","linux","solaris","freebsd","isOS","nu$2","isWindows","isiOS","isAndroid","isOSX","isLinux","isSolaris","isFreeBSD","OperatingSystem","ios","osx","detect$1","candidates","userAgent","candidate","UaString","browsers","browser","oses","os","normalVersionRegex","checkContains","uastring","PlatformInfo","PlatformDetection","deviceType","isiPad","isiPhone","isAndroid3","isAndroid4","isTablet","isTouch","isPhone","iOSwebview","isWebView","DeviceType","detect$3","navigator","PlatformDetection$1","ELEMENT","ATTRIBUTE_NODE","CDATA_SECTION_NODE","COMMENT_NODE","DOCUMENT_NODE","DOCUMENT_TYPE_NODE","DOCUMENT_FRAGMENT_NODE","ELEMENT_NODE","ELEMENT$1","TEXT_NODE","PROCESSING_INSTRUCTION_NODE","ENTITY_REFERENCE_NODE","ENTITY_NODE","NOTATION_NODE","e1","e2","contains$1","d1","d2","is$1","elem","msMatchesSelector","webkitMatchesSelector","mozMatchesSelector","children","child","cs","lastChild","fields","Immutable","marker","append$1","isElement","setAll","props","each$1","rawSet","internalSet","getPropertyValue","isSupported","setProperty","deep","isDeep","cloneNode","clone$1","mutate","shallowAs","children$1","joinSegment","createSegment","listType","segment","writeShallow","cast","entry","newCast","depth","createItem","itemAttributes","appendItem","listAttributes","normalizeSegment","writeDeep","tail","segments","createSegments","joinSegments","populateSegments","isList$1","el","hasFirstChildList","isIndented","isSelected","cloneItemContent","li","normalizeEntries","entries","previousSiblingEntry","matchingEntry","parseItem","itemSelection","selectionState","currentItemEntry","createEntry","childListEntries","parseList","createTextBlock","contentNode","blockName","hasContentNode","fragment","createFragment","forced_root_block_attrs","outdentedComposer","createDocumentFragment","indentedComposer","composeList","contentDocument","getItemSelection","selectedListItems","listsIndentation","indentation","entrySets","sourceList","parseLists","entrySet","indentEntry","indentSelectedEntries","wasType","groupBy","composeEntries","DOM$1","SplitList","ul","tmpRng","bookmarks","newBlock","targetNode","setStartAfter","extractContents","indentDlItem","dlIndentation","dlItems","dl","outdentDlItem","selectionIndentation","isHandled","indentListSelection","outdentListSelection","flattenListSelection","updateListWithDetails","detail","updateListStyle","updateListAttrs","getEndPointNode","applyList","listItemName","getContentEditable","textBlocks","startNode","endNode","siblings","isBookmarkNode","getSelectedTextBlocks","listBlock","sibling","sib","sibStyle","detailStyle","hasCompatibleStyle","rename","removeStyles","mergeWithAdjacentLists","shouldMerge","list1","list2","isValidLists","hasSameListStyle","elm2","toggleMultipleLists","hasListStyleDetail","newList","updateList","ToggleList","toggleList","selectedSubLists","toggleSingleList","DOM$2","normalizeList","NormalizeLists","findNextCaretContainer","isForward","nonEmptyBlocks","walker","getNonEmptyElements","next","hasOnlyOneBlockChild","moveChildren","fromElm","toElm","targetElm","unwrapSingleBlockChild","mergeLiElements","listNode","nestedLists","mergeForward","fromLi","toLi","mergeIntoEmptyLi","backspaceDeleteFromListToListCaret","otherLi","selectionStartElm","resolvedBookmark","mergeBackward","backspaceDeleteCaret","otherLi_1","parentBlock","removeBlock","backspaceDeleteIntoListCaret","backspaceDelete","backspaceDeleteRange","Delete","BACKSPACE","DELETE","queryListCommandState","command","addQueryStateHandler","TAB","setupTabKey","has","VideoScript","prefixes","trimPx","HtmlToData","isEphoxEmbed","allow_conditional_comments","special","source1","source2","poster","getEphoxEmbedData","movie","videoScript","Mime","mime","mp3","wav","mp4","webm","ogg","swf","pop","addPx","setAttributes","updatedAttrs","UpdateHtml","updateAll","hasImage","writer","sourceCount","styleMap","updateEphoxEmbed","imgAttrs","urlPatterns","allowFullscreen","getUrl","newUrl","_loop_1","DataToHtml","dataIn","embed","source1mime","source2mime","matchPattern","audioTemplateCallback","videoTemplateCallback","getIframeHtml","getFlashHtml","getAudioHtml","getScriptHtml","getVideoHtml","cache","loadedData","Service","embedHandler","dataToHtml","rej","wrappedResolve","embedPromise","defaultPromise","addPx$1","Size","getMaxWidth","getMaxHeight","setMaxWidth","setMaxHeight","onChange","embedChange","handleError","errorMessage","getSource","addEmbedHtml","handleInsert","beforeObjects","afterObjects","selectPlaceholder","populateMeta","advancedFormItems","dataEmbed","getData","embedTextBox","rows","forId","Sanitize","blocked","attrName","createPlaceholderNode","placeHolder","retainAttributesAndInnerHtml","transparentSrc","createPreviewIframeNode","previewWrapper","previewNode","shimNode","allowfullscreen","frameborder","sourceNode","attribs","ai","innerHtml","isWithinEphoxEmbed","Nodes","ceFalse","specialElements","getSpecialElements","boolAttrs","getBoolAttrs","addAttributeFilter","realElm","innerNode","realElmName","ResolveName","hasClass","objectType","nbsp","visualchars","isEnabled","isVisualCharsEnabled","repeats","stringRepeat","spaces","isDefaultPrevented","stopImmediatePropagation","nonEditableRegExps","checkClassName","replaceMatchWithSpan","cls","prevChar","findStartTagIndex","lastIndexOf","tagHtml","editClass","nonEditClass","contentEditableAttrName","hasEditClass","hasNonEditClass","convertRegExpsToNonEditable","getPageBreakClass","getPlaceholderHtml","separatorHtml","pageBreakSeparatorRegExp","pagebreak_split_block","DetectProPlugin","log","clipboard","quirks","internal","isWordHtml","wordContent","ieFake","userIsInformedState","pasteFormat","shouldInformUserAboutPlainText","displayNotification","pasteHtml","pasteText","internalMimeType","internalMark","InternalHtml","toBRs","toBlockElements","rootTag","rootAttrs","tagOpen","encodeAllRaw","openContainer","tagClose","paragraphs","Newlines","domParser","shortEndedElements","getShortEndedElements","ignoreElements","walk","currentNode","trimHtml","s1","s2","createIdGenerator","isMsEdge","isNumericList","found","convertFakeListsToProperLists","currentListNode","prevListNode","lastLevel","getText","txt","trimListStart","regExp","removeIgnoredNodes","_listIgnore","convertParagraphToLi","paragraphNode","level","_listLevel","wrap","nodeText","filterStyles","validStyles","outputStyles","WordFilter","preProcess","retainStyleProperties","validElements","valid_elements","valid_children","unwrap","rootNode","filterWordContent","isWordContent","processResult","cancelled","filterContent","preProcessArgs","filteredContent","isRootContent","preProcess$1","hasEventListeners","tempBody","postProcessArgs","postProcessFilter","ProcessFilters","paste","isAbsoluteUrl","isImageUrl","linkSelection","pasteHtmlFn","extra","createLink","insertImage","createImage","SmartPaste","smartInsertContent","from$1","exports$1","define","require","amd","EphoxContactWrapper","cachedSetTimeout","cachedClearTimeout","process","defaultSetTimout","defaultClearTimeout","runTimeout","fun","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","timeout","runClearTimeout","Item","array","nextTick","argv","versions","addListener","once","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","umask","setTimeoutFunc","_handled","_immediateFn","_unhandledRejectionFn","prom","arr","warn","_setImmediateFn","_setUnhandledRejectionFn","clearImmediate","immediateIds","nextImmediateId","Timeout","clearFn","_id","_clearFn","clearInterval","unref","ref","enroll","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","_onTimeout","promisePolyfill","boltExport","baseFn","nCallback","isReady","cbs","LazyValue","pure","errorReporter","make","fab","aFutureB","toPromise","anonBind","futureB","toLazy","toCached","Future","par","asyncValues","asyncValue","mapM","futures","pasteHtml$1","internalFlag","getDataTransferItems","dataTransfer","legacyText","types","contentType","hasContentType","clipboardContent","mimeType","hasHtmlOrText","pasteImageData","clipboardData","paste_data_images","images","getAsFile","files","filter$1","getImagesFromDataTransfer","blobResults","imageItem","images_reuse_filename","images_dataimg_filter","existingBlobInfo","findFirst","cachedBlobInfo","pasteImage","isKeyboardPasteEvent","registerEventHandlers","pasteBin","subject","keyboardPastePlainTextState","keyboardPasteEvent","clear","isSet","insertClipboardContent","isKeyBoardPaste","plainTextMode","isPlainTextHtml","getHtml","isDefaultContent","removePasteBinOnKeyUp","clipboardEvent","getClipboardContent","isBrokenAndroidClipboardEvent","getLastRng","getPasteBinParent","delegatePasteEvents","pasteBinElm","pasteBinDefaultContent","isExternalPasteBin","isDefault","PasteBin","lastRng","lastRngCell","gecko","pasteBinClone","pasteBinClones","dirtyWrappers","cleanWrapper","copyAndRemove","shift","Clipboard","isWebKitFakeUrl","isDataUri","isPasteInsert","allow_html_data_urls","registerEventsAndFilters","noop$1","setHtml5Clipboard","iOS","setData","hasWorkingClipboardApi","clearData","setClipboardData","fallback","markedHtml","outer","inner","contenteditable","overflow","range","offscreenRange","selectNodeContents","contextual","hasSelectedContent","isTableSelection","CutCopy","cut","copy","global$b","getCaretRangeFromEvent","getCaretRangeFromPoint","setFocusedRange","DragDrop","draggingInternallyState","dropContent","plainTextContent","content_1","PrePostProcess","postProcess","addPreProcessFilter","filterFunc","removeExplorerBrElementsAfterBlocks","explorerBlocksRegExp","removeWebKitStyles","webKitStyles","webKitStylesSetting","dom_1","node_1","inputStyles","decode","inputValue","currentValue","removeUnderlineAndFontInAnchor","Quirks","addPostProcessFilter","stateChange","getPreviewHtml","contentStyle","getURI","bodyId","body_id","bodyClass","body_class","dirAttr","directionality","IframeContent","sandbox","previewHtml","contentWindow","dialogHtml","dialogWidth","dialogHeight","iframeElm","getWin","print","displayErrorMessage","formObj","save","execCallback","setDirty","submit","startContent","stateToggle","isContentEditableFalse","FindReplaceText","findAndReplaceDOMText","replacementNode","captureGroup","blockElementsMap","hiddenTextElementsMap","shortEndedElementsMap","getMatchIndexes","cg","getWhiteSpaceElements","replaceFn","startNodeIndex","endNodeIndex","innerNodes","atIndex","curNode","matchLocation","matchIndex","stepThroughMatches","makeReplacementNode","stencilNode_1","fill","elA","l","innerEl","elB","genReplacer","getElmIndex","findSpansByIndex","spans","moveSelection","currentIndexState","forward","testIndex","removeNode","isMatchSpan","keepEditorSelection","hasNext","hasPrev","matchCase","wholeWord","markAllMatches","currentMatchIndex","hasMore","nextIndex","selectedText","updateButtonStates","notFoundAlert","onClose","caseState","defaultLanguage","defaultPattern","suggestionsMenu","DomTextMatcher","createMatch","getWrappersByIndex","wrappers","dataIndex","rangeFromMatch","filteredMatches","reset","matchFromElement","elementFromMatch","stencil","deleteContents","insertNode","getTextMatcher","textMatcherState","textMatcher","sendRpcCall","currentLanguageState","successCallback","errorCallback","userSpellcheckCallback","spellCheckCallback","method","doneCallback","postData","content_type","defaultSpellcheckCallback","spellchecker","checkIfFinished","startedState","finish","markErrors","lastSuggestionsState","suggestions","hasDictionarySupport","words","dictionary","setProgressState","addToDictionary","word","ignoreWord","span","getWordCharPattern","getLanguage","languageValues","languageMenuItems","langPair","getItems","languageValue","startSpellchecking","buttonArgs","selectedLanguage","SuggestionsMenu","suggestion","onautohide","onhide","targetPos","showSuggestions","getTabFocusElements","tabCancel","tabHandler","focusEditor","canSelectRecursive","display","canSelect","tabIndex","compose","fa","fb","identity","foldr","eachr","map$1","tupleMap","tuple","struct","reqMessage","required","unsuppMessage","unsupported","validateStrArr","checkDupes","everything","sorted","d","MixedBag","optional","req","opt","COMMENT","DOCUMENT","TEXT","isType$1","isComment","isText","cached","inBody","set$1","setAll$1","get$1","getComputedStyle","getUnsafeProperty","getRaw","remove$1","removeProperty","internalRemove","DOCUMENT$1","bypassSelector","childElementCount","contains$2","owner","isRoot","stop","rawParent","prevSibling","prepend","firstChild$1","wrapper","after$1","rogue","remove$2","grid","address","detailnew","extended","rowdata","elementnew","rowdatanew","rowcells","rowdetails","bounds","descendants","ancestors$1","ancestors","children$2","descendants$1","base","ClosestOrAncestor","ancestor","ancestor$1","child$2","child$1","descendant$1","querySelector","one","closest$1","filterFirstLayer","LayerSelector","firstLayer","tags","neighbours","TableLookup","DetailsList","table","parentSection","parentName","cells","cell","rowspan","colspan","example","section","column","filterItems","warehouse","Warehouse","generate","maxRows","maxColumns","details","currentRow","cc","newpos","grid$1","getAt","findItem","comparator","filtered","justCells","statsStruct","makeCell","seenSelected","rowIndex","CopySelected","selectedSelector","house","stats","totalColumns","minRow","minCol","maxRow","maxCol","startRow","endRow","startCol","endCol","findSelectedStats","unselectedCells","totalRows","fillInGaps","emptyRows","clean","api","getOption","NodeValue","get$2","set$2","getEnd","elementsWithCursorPosition","isCursorPosition","hasCursorPosition","first","descend","child_1","last$1","descendantRtl","shallow","copy$1","cloneChildren","createCell","replica","pasteReplace","newRow","TableFill","formatsToClone","sourceDom","targetDom","docu","lastNode","oldCell","newCell","firstText","formatSelector","clonedFormat","cloneFormats","gap","isWithin","finishCol","finishRow","CellBounds","leftEdge","rightEdge","topEdge","bottomEdge","isRect","detailIsWithin","getAnyBox","startCell","finishCell","startCoords","finishCoords","sc","fc","detailA","detailB","CellGroup","CellFinder","innerCell","c1","c2","getWarehouse","TablePositions","deltaRow","deltaColumn","firstTable","lastTable","optStartCell","optLastCell","lastCell","TagBoundaries","DomUniverse","up","closest","down","copyTo","destination","as","afterAll","appendAll","query","comparePosition","other","setText","isBoundary","isEmptyTag","leftRight","brokenPath","bisect","universe","ind","unsafeOne","look","commonElement","eq$1","ancestors$2","ps1","ps2","prune","pruned1","pruned2","shared","firstpath","secondpath","SubsetFn","ancs","common","finder","ps","topDown","startIndex","endIndex","sIndex","eIndex","unsafeSubset","sharedOne","all$1","breakToLeft$1","prior","breakToRight$1","second","breakPath$1","isTop","breaker","splits","breakage","right","nextChild","Parent","subset","breakToLeft","breakToRight","breakPath","DomParent","_universe","Identified","lookupTable","identify","getIsRoot","rootTable","boxes","startTable","finishTable","ancestorCells","lca","lcaTable","finishAncestorCells","startAncestorCells","CellSelection","sels","firstSelectedSelector","lastSelectedSelector","box","getLast","identified","expandTo","tbl","TableSelection","edges","firstAncestor","lastAncestor","fA","lA","firstSelected","lastSelected","Ephemera","attributeSelector","Adt","cases","constructors","adt","acase","argLength","branches","branchKeys","reqKey","params","type$1","multiple","single","SelectionTypes","cata","onNone","onMultiple","onSingle","selections","CellOperations","_env","noMenu","mergable","unmergable","paste$1","TableTargets","forMenu","notCell","pasteRows","generators","actions","cellSelection","extractSelected","getTextContent","serializeElements","domCell","targets","pasteCells","Dimension","getOffset","aggregate","properties","getOuter","cumulativeInclusions","api$1","getBoundingClientRect","get$3","api$2","get$4","getOuter$1","platform","getProp","px","num","toNumber","RuntimeSize","getCalculatedHeight","genericSizeRegex","percentageBasedSizeRegex","pixelBasedSizeRegex","setHeight","amount","normalizePixelSize","getter","setter","suffix","checkRange","convert","getTotalHeight","getHeightValue","getSpan","getRawWidth","normalizePercentageWidth","cellWidth","tableSize","pixelWidth","Sizes","setPixelWidth","setPercentageWidth","getPixelWidth","pixelMatch","percentMatch","normalizePixelWidth","choosePixelSize","getPercentageWidth","intWidth","choosePercentageSize","getGenericWidth","unit","setGenericWidth","get$5","CellMutations","main","Position","firstDefinedOrZero","absolute","defaultView","pageYOffset","pageXOffset","clientTop","clientLeft","viewport","offsetLeft","offsetTop","boxPosition","rowInfo","colInfo","rtlEdge","ltrEdge","getLeftEdge","getRightEdge","getTop","getTopEdge","getBottomEdge","findPositions","getInnerEdge","getOuterEdge","lines","cellOption","lastLine","BarPositions","delta","positions","optElements","step","ltr","ResizeDirection","TableDirection","directionAt","auto","isRtl","cols","TableGridSize","input","__assign","assign","cat","findMap","setIfNot","ignore","Redraw","newRows","newCells","renderOrRemoveSection","gridSection","sectionName","tb","isNew","tr","renderSection","removeSection","headSection","bodySection","footSection","clonedCell","classList","add$1","clazz","add$2","has$1","deduce","aa","extras","abs","decide","getBlock","isSingle","getFallback","inBlock","Blocks","rowsArr","dashNamespace","Styles","Bar","resizeBar","resizeRowBar","resizeColBar","wire","previous","drawBar","origin","cpOption","cp","bar","refreshGrid","hdirection","vdirection","rowPositions","tableWidth","rowBar","refreshRow","colPositions","tableHeight","colBar","refreshCol","each$2","bars","Bars","setCells","gridRow","getCell","GridRow","addCell","mutateCell","getCellElement","mapCells","cellLength","findDiff","comp","TableGrid","restOfRow","getRow","endColIndex","restOfColumn","getColumn","endRowIndex","Transitions","seen","ri","ci","updateSeen","rowCells","deriveRows","rendered","rowOfCells","findRow","toDetailList","findInWarehouse","operation","extract","adjustment","postAction","genWrappers","model","fromWarehouse","cursor","newElements","onCell","onPasteRows","lc","onCells","isError","onValue","mapError","toOption","onError","Result","fromOption","generator","rowFill","repititions","repeat","_row","colFill","Fitment","startAddress","gridA","gridB","rowRemainder","colRemainder","colRequired","rowRequired","rowDelta","colDelta","colLengthA","colLengthB","fillCols","MergingOperations","substitution","isToReplace","currentCell","uniqueCells","replacement","_loop_2","sub","isSpanning","matching","TableMerge","fittedGrid","mergeTables","fittedNewGrid","secondDelta","fittedOldGrid","ModificationOperations","between","exampleRow","exampleCol","replaceIn","isTarget","notStartRow","colIndex","notStartColumn","TransformOperations","targetRow","only","middle","ColumnContext","Deltas","neighbours$1","zero","newNext","minCellWidth","newThis","diffx","onLeft","singleColumnWidth","_prev","getSpan$1","CellUtils","hasColspan","hasRowspan","getInt","getRaw$1","getRawW","getRawH","getWidthFrom","backups","deduced","getDeduced","getHeightFrom","ColumnSizes","getRawWidths","getPixelWidths","getPercentageWidths","getPixelHeights","getRawHeights","measures","Recalculations","widths","heights","pixelSize","getCellDelta","getWidths","setElementWidth","setTableWidth","newWidths","_delta","chooseSize","floatWidth","_newWidths","change","percentageSize","fallbackWidth","TableSize","getWarehouse$1","getTableWarehouse","Adjustments","deltas","newSizes","newHeights","newCellSizes","newRowSizes","baseWith","handleUnsupported","invalidKeys","incorrect","invalidTypeMessage","handleExact","exactly","verifyGenerators","elementToData","Generators","toData","nuFrom","recent","getOrInit","makeNew","replaceOrInit","combine","blockList","Structure","universe$1","DomStructure","TableContent","markCell","rightSiblingIsBlock","rightSibling","isListItem","contents","advancedBr","outcome","elementFromGrid","findIn","bundle","uniqueRows","currentDetail","uniqueColumns","gridifyRows","pasteDetails","wh","TableOperations","insertRowBefore","targetIndex","newGrid","insertRowsBefore","newG","insertRowAfter","insertRowsAfter","insertColumnBefore","insertColumnsBefore","insertColumnAfter","insertColumnsAfter","splitCellIntoColumns","splitCellIntoRows","eraseColumns","_comparator","_genWrappers","eraseRows","makeColumnHeader","unmakeColumnHeader","makeRowHeader","unmakeRowHeader","mergeCells","_warehouse","unmergeCells","gridify","nuGrid","pasteRowsBefore","mergedGrid","pasteRowsAfter","getBody$1","getPixelWidth$1","getPixelHeight","addSizeSuffix","removeDataStyle","dataStyleCells","ltr$1","rtl$1","getDirection","defaultTableToolbar","defaultStyles","defaultAttributes","getDefaultAttributes","getDefaultStyles","hasAdvancedCellTab","hasAdvancedRowTab","hasAdvancedTableTab","hasAppearanceOptions","shouldStyleWithCss","getCellClassList","getRowClassList","getTableClassList","isPixelsForced","fireNewRow","fireNewCell","fireObjectResizeStart","fireObjectResized","TableActions","lazyWire","isTableBody","cloneElements","getCloneElements","execute","guard","deleteRow","deleteColumn","CopyRows","selectedCells","slicedGrid","slicedDetails","Styles$1","firstChildStyle","currentStyle","checkChildren","updateStyleField","borderColor","updateAdvancedFields","Helpers","createStyleForm","createColorPickAction","colorPickerCallback","getColorPickerCallback","formItemDefaults","alignH","onaction","extractAdvancedStyles","syncAdvancedStyleFields","isEqualNode","activeElement","onSubmitCellForm","cellElm","dataset","mceStyle","valign","CellDialog","matchNode","extractDataFromElement","generalCellForm","labelGapCalc","onSubmitRowForm","rowElm","toType","tableElm","oldParentElm","parentElm","switchRowType","RowDialog","generalRowForm","extractDataFromElement$1","DefaultRenderOptions","percentages","render$1","rowHeaders","columnHeaders","renderOpts","tbody","trs","placeCaretInCell","InsertTable","get$7","getOuter$2","fireEvents","selectFirstCellInTable","styleTDTH","onSubmitTableForm","captionElm","cellspacing","cellpadding","applyDataToElement","addVisual","TableDialog","isProps","colsCtrl","rowsCtrl","generalTableForm","extractDataFromElement$2","each$3","clipboardRows","getSelectionStartFromSelector","getSelectionStartCaption","getSelectionStartCell","getTableFromCell","actOnSelection","beforeSize","resizeChange","copyRowSelection","pasteOnSelection","clonedRows","mceTableSplitCells","mceTableMergeCells","mceTableInsertRowBefore","mceTableInsertRowAfter","mceTableInsertColBefore","mceTableInsertColAfter","mceTableDeleteCol","mceTableDeleteRow","mceTableCutRow","mceTableCopyRow","mceTablePasteRowBefore","mceTablePasteRowAfter","mceTableDelete","cellOrCaption","func","mceInsertTable","mceTableProps","mceTableRowProps","mceTableCellProps","ResizeWire","view","editable","Event","handlers","trigger","event","typeDefs","registry","rawEvent","prevent","kill","mkEvent","bind$1","useCapture","binder","bind$2","merge$3","Styles$2","DragMode","DragSink","DragApi","MouseDrag","compare","sink","dragApi","layerClass","Blocker","mdown","forceDrop","mup","drop","mmove","move","mout","delayDrop","mutation","InDrag","events","onEvent","mode","Movement","noDragState","inDragState","dragState","isOn","Dragging","rate","timer","movement","throttledDrop","throttle","runIfActive","go","Dragger","BarMutation","delegate","Mutation","xDelta","yDelta","isContentEditableTrue","resizeBarDragging","BarManager","resizing","hoverTable","getResizer","_dataRow","_dataCol","currentCol","getDelta","adjustHeight","adjustWidth","startAdjust","mousedown","findClosestEditableTable","findClosestContentEditable","mouseover","refresh","hideBars","showBars","TableResize","manager","beforeResize","afterResize","startDrag","TableWire","createContainer","ResizeHandler","startW","startRawW","selectionRng","isTable","rawWire","objectResizing","hasObjectResizing","hasTableResizeBars","sz","rawTable","percentW","targetPercentW","newCellSizes_1","newCellSize","lazyResize","adt$1","CellLocation","detect$4","CellNavigation","SimRange","adt$2","Situ","onBefore","onOn","onAfter","situ","adt$3","domRange","relative","exactFromRange","simRange","soffset","foffset","startSitu","finishSitu","getStart$1","selectNodeContentsUsing","relativeToNative","createRange","setEndBefore","setFinish","exactToNative","toRect","adt$4","fromRange","diagnose","ranges","getRanges","rev","doDiagnose","asLtrRange","inRect","locateOffset","textnode","rangeForOffset","rectForOffset","maxX","curDeltaX","searchForPoint","locateNode","selectNode","rects","getClientRects","locate","searchInChildren","getCollapseDirection","createCollapsedNode","collapseDirection","locateInElement","cursorRange","locateInEmpty","searchTextNodes","boundedX","boundedY","locate$1","availableSearch","caretPositionFromPoint","caretRangeFromPoint","beforeSpecial","name$1","preprocessRelative","preprocessExact","after$3","makeRange","same","doSetNativeRange","getSelection","removeAllRanges","addRange","doSetRange","setRangeFromRelative","setBaseAndExtent","setLegacyRtlRange","toNative","getDomRange","preprocess","doGetExact","anchorNode","focusNode","anchorOffset","focusOffset","rangeCount","firstRng","getRangeAt","readRange","setToElement","get$9","getExact","getFirstRect$1","getFirstRect","getAtPoint","fromPoint$1","backward","getCellFirstCursorPosition","getNewRowCursorPosition","rootElements","TabContext","body_1","isRoot_1","Response","Situs","Util","convertToRange","makeSitus","detect$5","selectRange","cellSel","KeySelection","sync","annotations","newSels","traverse","backtrack","_direction","transition","sidestep","advance","successors","go$1","succ","Walkers","hone","isLeaf","seekLeft","seekRight","universe$2","before$4","before$3","after$5","after$4","point","adt$5","failedUp","failedDown","isRow","BeforeAfter","verify","bridge","beforeOffset","afterOffset","afterCell","beforeCell","beforeBounds","getRect","afterBounds","isOverlapping","_sharedRow","onSuccess","onFailedUp","onFailedDown","inParent","gatherer","cand","gather","handleParent","findBr","br","adjacent","indexInParent","BrTags","handleBr","tgt","analysis","nu$3","Carets","moveUp","caret","moveDown","moveBottomTo","moveTopTo","getBottom","toCaret","getElemBox","Rectangles","getRangedRect","getPartialBox","adt$6","retry","inOutsideBlock","isOutside","upMovement","adjuster","guessBox","higherCaret","downMovement","lowerCaret","adjustTil","numRetries","isAtTable","adjustForTable","situsFromPoint","guess","newCaret","moved","adjusted","getInnerHeight","checkScroll","scrollBy","Retries","tryUp","tryDown","ieTryUp","ieTryDown","getJumpSize","platform$1","scan","tryCursor","situs","fromSitus","tryAgain","tryAt","otherRetry","ieRetry","TableKeys","brNeighbour","findSpot","spot","detection","inSameTable","simulate","VerticalMovement","precheck","seekLeft$1","lastOffset","seekRight$1","findCell","KeyDirection","isKey","keycode","isUp","isDown","SelectionKeys","isBackward","isNavigation","Rect","sr","WindowBridge","exactAdt","clearSelection","setSelection","setExact","setRelativeSelection","setRelative","selectContents","getScrollY","_DOC","by","rc","InputHandlers","clearState","mouseup","_event","MouseSelection","clearToNavigate","keydown","realEvent","which","attempts","navigation","keyup","SelectionAnnotation","ephemera","removeSelectionAttributes","addSelectionAttribute","hasInternalTarget","CellSelection$1","handlerStruct","mouseHandlers","keyHandlers","handleResponse","hasShiftKey","ns","wrappedEvent","wrapEvent","isMouseEvent","isLeftMouse","button","mouseDown","mouseOver","mouseUp","each$4","toolbar","getToolbar","MenuItems","tableCtrls","cellCtrls","mergeCtrls","unmergeCtrls","noTargetDisable","ctrlEnable","pushTable","pushCell","cellOpt","cellDom","mergeCtrl","unmergeCtrl","selectGrid","tx","ty","focusCell","toggleClass","insertTable","hasTableGrid","ariaHideMenu","aria","hideAll","generateTableGrid","lastX","lastY","onmousemove","tableProperties","deleteTable","getApi","setClipboardRows","sugarRows","getClipboardRows","Selections","addTempAttr","hasTabNavigation","templates","getLang","DateTimeHelper","replaceTemplateValues","templateValues","replaceVals","vl","Templates","templateList","dateFormat","insertIframeHtml","contentCssLinks_1","templateHtml","template","description","TextColor","colorMap","colors","defaultColorMap","getTextColorMap","getTextColorRows","getTextColorCols","ColorPickerHtml","hasColorPicker","getColorCellHtml","isNoColor","setDivColor","onButtonClick","_color","onPanelClick","buttonCtrl","currentColor","selectColor","hidePanel","customColorCells","lastId","resetColor","renderColorPicker","foreColor","ariaRemember","isInlinePattern","isBlockPattern","isReplacementPattern","sortPatterns","createPatternSet","inlinePatterns","blockPatterns","replacementPatterns","patternsState","setPatterns","newPatterns","getPatterns","il","jl","__spreadArrays","defaultPatterns","getPatternSet","findPattern","isMatchingPattern","hasContent","findInlinePattern","space","endPattern","findEndPattern","patternRng","startPattern","textNode","newRng","applyInlinePattern","foundPattern","formatArray","splitText","deleteData","splitContainer","forEach","splitAndApply","applyReplacementPattern","startSearch","findReplacementPattern","char","extractChar","insertData","applyReplacement","ch","newNode","selectionInsertText","checkKeyEvent","codes","KeyHandler","patternSet","applyReplacementPatternEnter","wrappedTextNode","applyInlinePatternEnter","firstTextNode","textBlockElm","applyBlockPattern","applyReplacementPatternSpace","lastChar","lastCharNode","applyInlinePatternSpace","chars","modifierPressed","charCodes","keyCodes","counter","tocId","guid","readHeaders","tocClass","headerTag","generateTocContentHtml","ii","nextLevel","closeTag","prevLevel","minLevel","getMinLevel","updateToc","$tocElm","Toc","hasHeaders","insertToc","isEmptyOrOffscren","generateTocHtml","toggleState","isToc","visualblocks_content_css","cssId","linkElements","VisualBlocks","enabledState","Bindings","toggleActiveState","charMap","charMapToRegExp","charMapToSelector","Data","regExpGlobal","Html","filterDescendants","isMatch","value$1","findParentElm","rootElm","replaceWithSpans","nodeList","withSpans","VisualChars","debouncedToggle","debounce","valueForToggling","register$1","regExps","UnicodeData","characterIndices","ALETTER","MIDNUMLET","MIDLETTER","MIDNUM","NUMERIC","CR","LF","NEWLINE","EXTEND","FORMAT","KATAKANA","EXTENDNUMLET","AT","OTHER","SETS","EMPTY_STRING","PUNCTUATION","WHITESPACE","SETS$1","setsLength","StringMapper","memoized","WordBoundary","prevType","nextNextType","nextType","EMPTY_STRING$1","WHITESPACE$1","PUNCTUATION$1","isProtocol","extractUrl","findWordEnd","peakedWord","WordGetter","includePunctuation","includeWhitespace","ignoreCase","doGetWords","whiteSpaceElements","isSeparator","treeWalker","WordCount","getCount","Statusbar","wordsToText","theme","debouncedUpdate","hasMenubar","getMenubar","getToolbarSize","getMenu","isSkinDisabled","getResize","A11y","UiContainer","getUiContainerDelta","setUiContainer","inheritUiContainer","fromCtrl","toCtrl","createToolbar","buttonGroup","toolbarItems","itemName","bindSelectorChanged","selectorChanged","disabledStateSelector","initialized","Toolbar","toolbars","defaultToolbar","mainToolbar","getIndexedToolbars","getToolbars","ariaRoot","toClientRect","geomRect","movePanelTo","userConstrain","elementRect","contentAreaRect","panelRect","ContextToolbars","scrollContainer","getContextToolbars","contextToolbars","reposition","shouldShow","relPos","relRect","testPositions","getInlineToolbarPositionHandler","targetRect","clientRect","controlSelection","isResizable","findBestRelativePosition","relativePosition","intersect","togglePositionClass","pos1","pos2","hideAllFloatingPanels","repositionHandler","requestAnimationFrame","findFrontMostMatch","showContextToolbar","autofix","fixed","oncancel","reposition_1","uiContainer_1","getScrollContainer","bindScrollEvent","reflow","hideAllContextToolbars","parentsAndSelf","defaultMenus","tools","help","createMenuNameItemPair","hasItemName","namedMenuItems","namedMenuItem","createMenu","editorMenuItems","menus","removedMenuItems","menuButton","isUserDefined","menuItemsPass1","menuItemsPass2","cleanupMenu","Menubar","menuButtons","defaultMenuBar","getDefaultMenubar","getRemovedMenuItems","menubar","enabledMenuNames","resizeTo","containerSize","iframeSize","getMinWidth","getMinHeight","dw","dh","sidebar","callbackName","showPanel","sidebars","btnCtrl","findSidebar","visible","Sidebar","SkinLoaded","_skinLoaded","editArea","editAreaContainer","Iframe","resizeHandleCtrl","startSize","skinUiCss","styleSheetLoader","load","onResizeStart","onResize","hasStatusbar","brandingLabel","isBrandingEnabled","switchMode","renderBefore","isReadOnly","setMode","iframeContainer","funcs","getElementById","getRuntimeStyle","setHTML","isStatic","isFixed","calculateRelativePosition","ctrlElm","selfW","selfH","targetW","targetH","getWindowViewPort","getViewPortRect","customUiContainer","scrollWidth","getUiContainerViewPort","Movable","testMoveRel","rels","moveRel","moveBy","layoutRect","constrain","constrainToViewport","BoxUtils","getSide","computedStyle","ClassList","_map","_change","curState","clsValue","Collection","Collection$1","proto","expression","chunker","whiteSpace","Selector","compile","filters","direct","compileNameFilter","compileIdFilter","compileClassesFilter","cmp","check","compileAttrFilter","notSelectors","parseChunks","compilePsuedoFilter","pseudo","_selectors","si","sl","fi","fl","collect","uniqueItems","__checked","prop","Collection$2","Binding","otherModel","otherName","bindings","fromSelfToOther","_bindings","global$c","isNode","isEqual","animationFrameRequested","Control","ObservableObject","Mixins","oldValue","dirtyCtrls","ReflowQueue","_layout","isNative","hasMouseWheelEventSupport","classPrefix","idCounter","proto$1","Statics","defaultClasses","applyClasses","_aria","_elmCache","borderBox","paddingBox","marginBox","hidden","Properties","getContainerElm","getParentCtrl","controlIdLookup","initLayoutRect","autoResize","startMinWidth","startMinHeight","initialSize","maxW","maxH","_layoutRect","contentW","contentH","innerW","innerH","minW","minH","scrollW","_lastLayoutRect","newRect","lastLayoutRect","deltaWidth","deltaHeight","repaintControls","curRect","bodyStyle","bodyElm","borderW","borderH","lastRepaintRect","_lastRepaintRect","_hasBody","updateLayoutRect","_lastRect","getEventDispatcher","resolveCallbackName","bubble","isPropagationStopped","parentControls","blur","ariaTarget","newItems","controls","_eventsRoot","renderHtml","preRender","render","parentEventsRoot","_nativeEvents","bindPendingEvents","parentCtrl","parentWidth","parentHeight","offsetParent","_eventDispatcher","toggleEvent","eventCtrl","eventRootCtrl","nativeEvents","mouseLeaveHandler","_lastHoverCtrl","mouseEnterHandler","lastParents","lastCtrl","fixWheelEvent","wheelDelta","wheelDeltaX","eventRootDelegates","_delegates","_hasMouseEnter","Control$1","hasTabstopData","KeyboardNavigation","focusedElement","focusedControl","getRole","getParentRole","getAriaProp","isTextInputElement","getFocusElements","canFocus","getNavigationRoot","targetControl","navigationRoot","moveFocusToIndex","moveFocus","lastAriaIndex","submenu","parentRole","enter","handleNonTabOrEscEvent","tab","focusFirst","focusElements","selectorCache","Container","_items","bodyClasses","containerCls","keyboard","focusCtrl","keyboardNav","oldItem","newItem","ctrlItems","defaultType","curItems","beforeItems","afterItems","recalc","updateWithTouchData","changedTouches","DragHelper","$eventOverlay","downButton","startX","startY","handleElement","handleElm","docSize","getDocumentSize","screenX","screenY","runtimeStyle","zIndex","opacity","documentClickHandler","documentScrollHandler","windowResizeHandler","hasModal","Scrollable","renderScroll","repaintScroll","hasScrollH","hasScrollV","repaintAxis","axisName","posName","sizeName","contentSizeName","hasScroll","ax","scrollBarElm","scrollThumbElm","ratio","posNameLower","sizeNameLower","autoScroll","_hasScroll","addScrollAxis","deltaPosName","scrollStart","axisId","draghelper","addScroll","bodyEl","Panel","_preBodyHtml","Resizable","resizeToContent","resizeBy","visiblePanels","zOrder","bindDocumentClickHandler","clickCtrl","skipOrHidePanels","repositionPanel","scrollY","toggleFixedChildPanels","_autoFixY","addRemove","topModal","FloatPanel","modal","modalBlockEl","currentZIndex","docElm_1","clientWidth_1","clientHeight_1","bindWindowResizeHandler","$modalBlockEl_1","prefix_1","popover","describedBy","removeVisiblePanel","bodyRole","isFixed$1","inlineToolbarContainer","Inline","fixedToolbarContainer","getFixedToolbarContainer","_fixed","bodyPos","scrollContainerPos","content_editable","ProgressState","Render","skinUrl","skinName","getSkinUrl","isInline","Tooltip","Widget","tooltips","_tooltip","disable","Progress","setValue","updateLiveRegion","ctx","progressBar","Notification","closeButton","notificationStyle","NotificationManagerImpl","getEditorContainer","closeCallback","extendedArgs","notif","notification","notifications","prePositionNotifications","firstItem","positionNotifications","getArgs","oldMetaValue","toggleFullScreenState","contentValue","overrideViewPort","toggleBodyFullScreenClasses","_fullscreen","checkFullscreenWindows","Window","closeClass","needsRecalc","headerW","headEl","headerH","headerHtml","footerHtml","slowRendering","_timer","_initial","dragHelper","getContentWindow","ifr","desktop","lastSize_1","handleWindowResize","MessageBox","OK","OK_CANCEL","YES_NO","YES_NO_CANCEL","msgBox","createButton","primary","onClick","onCancel","ThemeApi","renderUI","getNotificationManagerImpl","getWindowManagerImpl","commands","features","choiceCallback","getParams","setParams","Layout","firstControlClass","lastControlClass","containerClass","firstClass","lastClass","lastItem","controlClass","AbsoluteLayout","Button","btnStyle","btnElm","ariaPressed","textHtml","textCls","setButtonText","$span","iconElm","BrowseButton","click","ButtonGroup","Checkbox","global$d","ComboBox","subinput","showMenu","statusLevel","statusMessage","lineHeight","openElm","innerPadding","inputElm","documentMode","statusHtml","openBtnHtml","extraAttrs","placeholder","showAutoComplete","term","previewUrl","hideMenu","statusIconElm","focusIdx","ColorBox","repaintColor","PanelButton","panelSettings","popoverAlign","DOM$3","ColorButton","onClickHandler","global$e","ColorPicker","hsv","hueRootElm","huePointElm","svRootElm","svPointElm","updateColor","hueUpdate","updateSaturationAndValue","updateHue","toHsv","_repaint","_svdraghelper","_hdraghelper","_rendered","hueHtml","stops","gradientPrefix","stopsList","getOldIeFallbackHtml","DropZone","cfg","hidefocus","toggleDragClass","Path","_getDataPathHtml","ElementPath","isHidden","elementpath","outParents","FormItem","Form","formItem","recalcLabels","maxLabelWidth","labels","labelCtrl","labelWidth","FieldSet","unique$1","windows$1","hasContentEditableState","getElementText","getOrGenerateId","random","isValidAnchor","isAnchor","isEditable","isHeader","isChildOfContentEditableTrue","isValidHeader","headerTarget","headerId","getLevel","anchorTarget","anchorId","anchorText","getTargetElements","hasTitle","LinkTargets","getHeaderTargets","getAnchorTargets","history","toMenuItem","staticMenuItem","getSetting","defaultValue","fileType","fromHistoryMenuItems","historyItems","uniqueHistory","isUniqueUrl","fromMenuItems","toMenuItems","typeahead_urls","filterByQuery","anchorMenuItems","topAnchor","bottomAchor","lowerCaseTerm","setupAutoCompleteHandler","autocomplete","linkTargets","linkDetails","getTitle","addToHistory","setupLinkValidatorHandler","validatorHandler","filepicker_validator_handler","uiState","statusToUiState","FilePicker","clearHistory","actionCallback","fileBrowserCallback","fileBrowserCallbackTypes","activeEditor","file_picker_types","file_browser_callback_types","file_picker_callback","file_browser_callback","FitLayout","contLayoutRect","FlexLayout","contPaddingBox","contSettings","totalFlex","availableSpace","ctrlLayoutRect","maxSize","maxAlignEndPos","minSizeName","maxSizeName","beforeName","innerSizeName","deltaSizeName","alignAxisName","alignInnerSizeName","alignSizeName","alignMinSizeName","alignBeforeName","alignAfterName","alignDeltaSizeName","alignContentSizeName","maxSizeItems","maxFlexSize","FlowLayout","endClass","descendant","toggleFormat","addFormatChangedListener","changed","formatChanged","postRenderFormatToggle","Align","alignFormats","defaultAlign","alignMenuItems","onShowMenu","alignnone","getFirstFont","fontFamily","createFontNameListBoxChangeHandler","queryCommandValue","findMatchingValue","registerButtons","getFontItems","FontSelect","toPt","fontSize","precision","factor","findMatchingValue$1","pt","createFontSizeListBoxChangeHandler","registerButtons$1","fontsize_formats","getFontSizeItems","FontSizeSelect","hideMenuObjects","canApply","hideFormatMenuItems","formatMenu","newFormats","defaultStyleFormats","style_formats_merge","style_formats","preview","queryCommandState","createFormatMenu","registerMenuItems","style_formats_autohide","registerButtons$2","createListBoxChangeHandler","buildMenuItems","FormatSelect","createFormats$1","block_formats","lazyFormatSelectBoxItems","createCustomMenuItems","names","nameList","isSeparator$1","trimMenuItems","menuItems2","createInsertMenu","insertButtonItems","insert_button_items","outputMenuItems","createContextMenuItems","InsertButton","oncreatemenu","registerButtons$3","registerButtons$4","subscript","superscript","registerFormatButtons","outdent","selectall","visualaid","newdocument","removeformat","registerCommandButtons","blockquote","registerCommandToggleButtons","SimpleControls","registerMenuItems$1","toggleUndoRedoState","checkState","typeFn","UndoRedo","registerMenuItems$2","registerButtons$5","toggleVisualAidState","hasVisual","VisualAid","registerMenuItems$3","FormatControls","setupRtlMode","setupHideFloatPanels","setupUiContainer","GridLayout","posX","posY","ctrlSettings","spacingH","spacingV","alignV","maxY","ctrlMinWidth","ctrlMinHeight","availableWidth","availableHeight","reverseRows","colWidths","rowHeights","flexV","flexWidths","Iframe$1","InfoBox","severity","Label","strong","startMinH","targetCtrl","forName","Toolbar$1","MenuBar","MenuButton","_renderOpen","animate","activeMenu","menuLayoutRect","selfBottom","isChildOf$1","hasVisibleSiblingMenu","overCtrl","Menu","itemsFactory","hideThrobber","requestTime","_hasIcons","ListBox","lastItemCtrl","_values","setSelected","menuValues","valueExists","getSelectedItem","selectedItem","hasMenus","MenuItem","_parentMenu","_lastRel","iconHtml","escapeRegExp","markMatches","boldMatches","convertShortcut","textElm","_textStyle","hover","toggleTextStyle","Radio","ResizeHandle","resizeDragHelper","createOptions","strOptions","SelectBox","_options","minVal","maxVal","setAriaProp","updateSliderHandle","shortSizeName","stylePosName","handleEl","orientation","_minValue","_maxValue","Slider","_initValue","screenCordName","alter","fromFraction","handleKeyboard","startHandlePos","maxHandlePos","handlePos","_dragHelper","handleDrag","Spacer","SplitButton","mainButtonElm","menuButtonElm","_menuBtnText","StackLayout","TabPanel","activeTabElm","activeTabId","tabsHtml","activeTab","targetParent","headH","TextBox","Factory","ie11","ie12","iDevice","fileApi","phone","tablet","windowsPhone","isObject","isNull","rawIndexOf","partition","pass","fail","difference","a1","a2","nav","matchMediaQuery","matchMedia","appName","requestAnimationFramePromise","Env","caretAfter","experimentalShadowDom","canHaveCSP","promiseObj","wrappedSetTimeout","wrappedSetInterval","Delay","requestAnimationFrameFunc","vendors","setEditorInterval","mouseEventRe","deprecated","keyLocation","layerX","layerY","returnValue","webkitMovementX","webkitMovementY","keyIdentifier","returnFalse","returnTrue","addEvent","capture","attachEvent","removeEvent","detachEvent","fix","originalEvent","srcElement","defaultTarget","composedPath","getTargetFromShadowDom","eventDoc","cancelBubble","isImmediatePropagationStopped","hasIsDefaultPrevented","bindOnReady","eventUtils","domLoaded","isDocReady","readyHandler","waitForDomLoaded","tryScroll","doScroll","EventUtils","expando","hasFocusIn","hasMouseEnterLeave","mouseEnterLeave","mouseenter","mouseleave","executeHandlers","callbackList","fakeName","nativeHandler","defaultNativeHandler","related","currentTarget","relatedTarget","eventMap","parentWindow","support","Expr","isXML","outermostContext","sortInput","hasDuplicate","setDocument","docElem","documentIsHTML","rbuggyQSA","rbuggyMatches","preferredDoc","dirruns","classCache","createCache","tokenCache","compilerCache","sortOrder","strundefined","MAX_NEGATIVE","hasOwn","push_native","indexOf$1","whitespace","identifier","pseudos","rtrim","rcomma","rcombinators","rattributeQuotes","rpseudo","ridentifier","matchExpr","ID","CLASS","TAG","ATTR","PSEUDO","CHILD","bool","needsContext","rinputs","rheader","rnative","rquickExpr","rsibling","rescape","runescape","funescape","escaped","escapedWhitespace","high","els","Sizzle","results","seed","nid","newContext","newSelector","getElementsByClassName","qsa","toSelector","testContext","qsaError","cacheLength","markFunction","siblingCheck","cur","diff","sourceIndex","createInputPseudo","createButtonPseudo","createPositionalPseudo","argument","matchIndexes","hasCompare","getById","attrId","tmp","disconnectedMatch","adown","bup","sortDetached","aup","ap","bp","expr","matchesSelector","attrHandle","getAttributeNode","specified","uniqueSort","duplicates","detectDuplicates","sortStable","createPseudo","preFilter","excess","unquoted","nodeNameSelector","what","simple","ofType","outerCache","useCache","setFilters","matched","matcher","unmatched","elemLang","hasFocus","enabled","selectedIndex","even","odd","lt","gt","nth","radio","checkbox","password","addCombinator","combinator","checkNonElements","doneName","oldCache","newCache","elementMatcher","matchers","condense","newUnmatched","mapped","setMatcher","postFilter","postFinder","postSelector","temp","preMap","postMap","preexisting","elems","contexts","multipleContexts","matcherIn","matcherOut","matcherFromTokens","checkContext","leadingRelative","implicitRelative","matchContext","matchAnyContext","parseOnly","soFar","preFilters","setMatchers","elementMatchers","bySet","byElement","superMatcher","outermost","matchedCount","setMatched","contextBackup","dirrunsUnique","matcherFromGroupMatchers","compiled","isArray$1","findIndex$1","ArrUtils","collection","iteratee","accumulator","whiteSpaceRegExp","delim","ext","sp","cn","scn","de","createNS","onCreate","static","_addCacheSuffix","push$1","slice$1","rquickExpr$1","skipUniques","isDefined","isString$1","fragDoc","frag","domManipulate","targetNodes","sourceItem","getElementDocument","DomQuery","makeArray","lastParent","newWrapper","numericCssMap","booleanMap","propFix","for","cssFix","float","attrHooks","cssHooks","whiteSpaceRegExp$1","trim$1","hook","camel","dashed","prependTo","wrapAll","wrapInner","existingClassName","classState","object","until","siblingName","firstSibling","parentsUntil","nextUntil","prevUntil","overrideDefaults","appendHooks","targetHooks","maxlength","find$2","opera$1","android$1","trim$2","rTrim","hasOwnProperty$1","bifilter","Recurse","recurse","contains$3","prevSiblings","nextSiblings","browser$1","firstElement","bodyTop","captionTop","captionHeight","getTableCaptionDeltaY","module$1","StyleSheetLoader","maxLoadTime","idCount","loadedStates","appendToHead","loadedCallback","startTime","passed","failed","testCallback","waitCallback","waitForWebKitLinkLoaded","ownerNode","owningElement","waitForGeckoLinkLoaded","sheet","defer","contentCssCors","crossOrigin","webKitChunks","loadF","unbox","loadAll","urls","TreeWalker","findSibling","startName","prev2","findPreviousNode","namedEntities","baseEntities","reverseEntities","lazyLookup","mapToObject","isHeading","isTextBlock","isVoid","isTableSection","isTableCell","isWsPreserveElement","isNodeType","isElement$1","matchNodeNames","isText$1","isDocument","isDocumentFragment","isBr$1","isRestrictedNode","getPrototypeOf","hasPropValue","propName","propValue","hasAttributeValue","matchStyleValues","computed","isBogus","isBogusAll","trimNode","trimmedLength","previousIsSpan","nextIsSpan","surroundedBySpans","TrimNode","makeMap$1","attrsCharsRegExp","textCharsRegExp","rawCharsRegExp","entityRegExp","asciiMap","buildEntitiesLookup","radix","encodeRaw","encodeNumeric","encodeNamed","entities","Entities","getEncodeFunc","entitiesMap","nameMap","named","numeric","nativeDecode","mapCache","dummyObj","makeMap$2","extend$1","explode$1","inArray$1","compileElementMap","Schema","invalidStyles","schemaItems","whiteSpaceElementsMap","selfClosingElementsMap","boolAttrMap","validClasses","nonEmptyElementsMap","moveCaretBeforeOnEnterElementsMap","textBlockElementsMap","textInlineElementsMap","patternElements","customElementsMap","createLookupTable","option","extendWith","globalAttributes","blockContent","phrasingContent","flowContent","html4BlockContent","html4PhrasingContent","ni","arrayToMap","addAttrs","schemaItem","compileSchema","verify_html","valid_styles","invalid_styles","valid_classes","patternToRegExp","ei","al","attrData","attrType","outputName","globalAttributesOrder","elementRuleRegExp","attrRuleRegExp","hasPatternsRegExp","paddEmpty","removeEmpty","removeEmptyAttrs","attributesRequired","attributesDefault","attributesForced","forcedValue","validValues","attributePatterns","setValidElements","addCustomElements","customElements","customElementRegExp","text_block_elements","block_elements","cloneName","customRule","elmName","addValidChildren","validChildren","childRuleRegExp","custom_elements","extended_valid_elements","dd","dt","th","thead","tfoot","legend","area","param","parentsRequired","invalid_elements","getValidStyles","getValidClasses","getInvalidStyles","getTextInlineElements","getSelfClosingElements","getMoveCaretBeforeOnEnterElements","isValidChild","isValid","attrPatterns","getCustomElements","encodingItems","rgbRegExp","urlOrStrRegExp","styleRegExp","trimRightRegExp","encodingLookup","invisibleChar","isEncoded","urlConverter","url_converter","urlConverterScope","url_converter_scope","compress","noJoin","canCompress","keepSlashes","decodeSingleHexSequence","escSeq","decodeHexSequences","processUrl","url2","url3","str2","allow_script_urls","scriptUrl","allow_svg_data_urls","serializeStyles","styleList","each$5","grep$1","simpleSelectorRe","whiteSpaceRegExp$2","updateInternalStyleAttr","rawValue","findNodeIndex","lastNodeType","DOMUtils","addedStyles","boundEvents","ownEvents","proxy","getElementsByName","$$","defaultVal","getAttribs","originalValue","onSetAttrib","attrElm","root_element","selectorVal","_findSib","canHaveHTML","newElm","keepChildren","$node","oldElm","stdMode","boxModel","clone_1","argWin","actWin","getNext","getPrev","outHtml","update_styles","stylesArg","removeAllAttribs","removeAttributeNode","addStyle","styleElm","loadCSS","getOuterHTML","setOuterHTML","reference","referenceNode","attrNode","findCommonAncestor","pe","rgbVal","brCount","bogusVal","splitElm","replacementElm","bef","aft","pa","getContentEditableParent","dumpRng","keepValues","keep_values","keepUrlHook","setupAttrHooks","DOMUtils$1","each$6","grep$2","isFunction$1","ScriptLoader","scriptLoadedCallbacks","queueLoadedCallbacks","loading","isDone","markDone","loadQueue","loadScripts","scripts","failures","execCallbacks","loadingScripts","loadScript","notifyCallbacks","each$7","AddOnManager","_listeners","dependencies","createUrl","baseUrl","dep","resource","loadDependencies","addOnUrl","deps","urlString","requireLangPack","languageLoad","addOn","listener","addComponents","pluginName","waitFor","PluginManager","ThemeManager","remove$3","cleanClass","has$2","annotation","dataAnnotation","dataAnnotationId","annotationName","an","newStart","uid","findMarkers","changeCallbacks","withCallbacks","updateCallbacks","callbackMap","outputData","onNodeChange","fireNoAnnotation","fireCallbacks","setup$1","identifyParserNode","persistent","docDom","contentElements","Zwsp","isElement$2","isText$2","isCaretContainerBlock","isCaretContainerInline","isCaretContainer","isBeforeInline","isAtStart","isAfterInline","isAtEnd","insertBlock","blockNode","startsWithCaretContainer","endsWithCaretContainer","showCaretContainerBlock","caretContainer","brs","lastBr","isContentEditableTrue$1","isContentEditableFalse$1","isBr$2","isText$3","isInvalidTextElement","isAtomicInline","isTable$1","isCaretContainer$1","isCaretCandidate","isNonUiContentEditableFalse","isUnselectable","isEditableCaretCandidate","isInEditable","toStart","isValidOverflow","rect1","rect2","isAbove","halfHeight","isBelow","containsXY","overflowX","getSelectedNode","extendingChars","isExtendingChar","slice$2","Predicate","isElement$3","isCaretCandidate$1","isBlock$1","isFloated","isValidElementCaretCandidate","isNotPre","isText$4","isBr$3","resolveIndex","isWhiteSpace","isRange","isHiddenWhiteSpaceRange","isZeroRect","clientRects","brNode","getBrClientRect","ec","so","eo","getBoundingClientRectWebKitText","collapseAndInflateWidth","newClientRect","getCaretPositionClientRects","caretPosition","beforeNode","addUniqueAndValidRect","addCharacterOffset","CaretPosition","toRange","isVisible","fromRangeStart","fromRangeEnd","isTextPosition","isElementPosition","HDirection","CaretPosition$1","isText$5","isBogus$1","nodeIndex$1","normalizedParent","getChildNodes","equal","createPathItem","numTextFragments","normalizedNodeIndex","create$2","outputOffset","normalizedTextOffset","resolve$2","resolvePathItem","dataLen","targetOffset","findTextPosition","trimEmptyTextNode","rangeInsertNode","insertFragment","isContentEditableFalse$2","getPoint","trimmedOffset","getNormalizedTextOffset","findIndex$2","moveEndPoint","normalizeTableCellSelection","getOffsetBookmark","findAdjacentContentEditableFalseElm","getLocation","createBookmarkSpan","filled","getPersistentBookmark","rng2","endBookmarkNode","startBookmarkNode","keep","GetBookmark","getCaretBookmark","getRangeBookmark","getUndoBookmark","CARET_ID","isCaretNode","getParentCaretContainer","isElement$4","isText$6","setNodeValue","trimCount","trimmedText","removeUnchanged","remove$5","removeElementAndReposition","newPosition","removeTextCaretContainer","removeTextAndReposition","caretContainerNode","getNodeValue","CaretContainerRemove","removeAndReposition","removeElementCaretContainer","browser$2","isContentEditableFalse$3","getAbsoluteClientRect","scrollX","rootRect","FakeCaret","cursorInterval","lastVisualCaret","contentEditableFalseNodes","trimInlineCaretContainers","caretState","startBlink","isTableCell$1","insertInline","getCss","isFakeCaretTableBrowser","isFakeCaretTarget","isContentEditableFalse$4","isBlockLike","isCaretContainer$2","isCaretContainerBlock$1","isElement$5","isCaretCandidate$2","isForwards","isBackwards","skipCaretContainers","findNode","getParentBlock","isInSameBlock","caretPosition1","caretPosition2","getChildNodeAtRelativeOffset","relativeOffset","beforeAfter","isNodesInSameBlock","node1","node2","lean","before$2","normalizeRange","leanLeft","leanRight","getRelativeCefElm","getNormalizedRangeEndPoint","normalizedRange","getElementFromPosition","getVisualCaretPosition","walkFn","isMoveInsideSameBlock","inSameBlock","isContentEditableFalse$5","isText$7","isElement$6","isBr$4","isCaretCandidate$3","isAtomic$1","isAtomicContentEditableFalse","isEditableCaretCandidate$1","nodeAtIndex","getCaretCandidatePosition","findCaretPosition","nextNode","rootContentEditableFalseElm","Forwards","moveForwardFromBr","CaretWalker","Backwards","isBeforeOrStart","isAfterOrEnd","isBeforeAfterSameElement","shouldSkipPosition","fromPosition","navigate","navigateIgnore","ignoreFilter","positionIn","afterElement","walkToPositionIn","nextPosition","prevPosition","CaretFinder","firstPositionIn","lastPositionIn","addBogus","tryFindRangePosition","padEmptyCaretContainer","insertZwsp","setEndPoint","isValidTextNode","appendData","ResolveBookmark","isPathBookmark","resolvePaths","isStringPathBookmark","resolveCaretPositionBookmark","isIdBookmark","o1","o2","spos","epos","resolveId","isIndexBookmark","resolveIndex$1","isRangeBookmark","Bookmarks","isInlineBlock","isWhiteSpaceNode","normalizeStyleValue","FormatUtils","moveStart","getNonWhiteSpaceSibling","inc","ed","replaceVars","isEq","str1","getTextDecoration","decoration","isBookmarkNode$2","getParents$2","isWhiteSpaceNode$1","isTextBlock$2","findLeaf","isBogusBr","findParentContentEditable","findSpace","findWordEndPoint","lastTextNode","findSelectorEndPoint","curFormat","findBlockEndPoint","scopeRoot","findParentContainer","block_expand","ExpandRange","endPoint","leaf","excludeTrailingWhitespace","expand","each$8","RangeWalk","startPoint","exclude","collectSiblings","findEndPoint","walkBoundary","wrapName","isZeroWidth","isAnnotation","makeAnnotation","eDoc","decorate","_b","getOwnPropertySymbols","propertyIsEnumerable","__rest","master","_c","_d","_e","add$3","annotate","newWrappers","finishWrapper","processElements","processElement","wrap$1","processNodes","annotateWithBookmark","initialRng","shouldApplyToTrailingSpaces","applyWordGrab","Annotator","changes","annotationChanged","directory","markers","nodesAlready","findAll","map$2","listItems$1","isListItemPadded","isPadding","trimListItems","getParentLi","findLastOf","caretPos","newCaretPos","findFirstIn","InsertList","nonEmptyElements","hasOnlyOneChild","isPaddingNode","isPaddedEmptyBlock","isEmptyFragmentElement","domFragment","cleanupDomFragment","toDomFragment","liTarget","liElms","isAt","caretWalker","newPos","beforeRng","afterRng","cloneContents","getSplit","insertMiddle","each$9","ElementUtils","compareObjects","obj1","obj2","PaddingBr","allBrs","rawNode","getLastChildren","lastChildPrevSibling","makeMap$3","Writer","indentBefore","indentAfter","htmlOutput","entity_encoding","element_format","pi","HtmlSerializer","sortedAttrs","elementRule","expected","normalizeBlockSelectionRange","commonAncestorContainer","newEndPos","createRange$1","RangeNormalizer","isTableCell$2","selectionSetContent","isAfterNbsp","insertHtmlAtCaret","bookmarkHtml","hasSiblingText","trimOrPadLeftRight","caretElement","parentElement","canHaveChildren","trimNbspAfterDeleteAndPadValue","parserArgs","markFragmentElements","_selectionOverrides","showBlockCaretContainer","invalid","validInsertion","textInlineElements","root_1","elementUtils_1","testNode","reduceInlineTextElements","parentEditableFalseElm","nextRng","getContentEditableFalseParent","isPartOfFragment","findNextCaretRng","moveSelectionToMarker","trimBrsFromTableCell","InsertContent","processValue","strongRtl","getBodySetting","bodyObj","normalizePosition","normalizeForwards","normalizeBackwards","InlineUtils","isInlineTarget","findRootInline","findInlineParents","isAtZwsp","hasSameParentBlock","block1","block2","DeleteUtils","isBeforeRoot","placeCaretInEmptyBody","fromPos","firstPos","lastPos","normalizedFirstPos","normalizedLastPos","normalizedFromPos","nextPos","prevPos","hasWhitespacePreserveParent","rootElement","isContent","isWhitespace","isNamedAnchor","isBookmark","isBogus$2","isBogusAll$1","Empty","isEmptyNode","BlockPosition","BlockBoundary","getBlockPosition","readFromRange","fromBlockPos","toBlockPos","blockPos","blockPosition","lastPositionInBlock","skipLastBr","blockBoundary","isDifferentBlocks","parent1","parent2","hasSameParent","BlockMergeBoundary","parentsUntil$1","parents$1","Parents","getChildrenUntilBlockBoundary","extractChildren","removeEmptyRoot","nestedBlockMerge","fromBlock","toBlock","insertionPoint","sidelongBlockMerge","getInsertionPoint","findInsertionPoint","trimBr","mergeBlockInto","MergeBlocks","BlockBoundaryDelete","isRawNodeInTable","isEverythingSelected","noPrevious","noNext","isSelectionInTable","deleteRange","emptyEditor","deleteRangeMergeBlocks","BlockRangeDelete","isBr$5","parentBlocks","isBeforeBr","isAfterBr","getElementFromPrevPosition","findPreviousBr","findNextBr","isNbsp","isWhiteSpace$1","isContent$1","isChar","isBeforeSpace","isAfterSpace","isEmptyText","isNextToContentEditableFalse","isBeforeContentEditableFalse","isAfterContentEditableFalse","isNextToTable","isBeforeTable","isAfterTable","DeleteAction","moveToElement","moveToPosition","deleteEmptyBlockOrMoveToCef","toCefElm","blockElm","findCefPosition","isCompoundElement","isDeleteFromCefDifferentBlocks","getContentEditableAction","caretLocation","isAtContentEditableBlockCaret","getContentEditableBlockAction","deleteAction","skipMoveToActionFromInlineCefToContent","normalize$1","isEndOfContent","isStartOfContent","replaceData","isCollapsibleWhitespace","previousCharIsSpace","normalizeContent","normalizeWhitespaceAfter","whitespaceCount","needsReposition","getPreviousSiblingCaretPosition","afterOrEndOf","getNextSiblingCaretPosition","beforeOrStartOf","findCaretPositionBackwards","startPosition","findCaretPositionBackwardsFromElm","findCaretPositionForward","findCaretPositionForwardsFromElm","findCaretPosOutsideElmAfterDelete","findCaretPosition$1","isBlock$2","paddEmptyBlock","deleteNormalized","afterDeletePosOpt","normalizeWhitespace","prevTextOpt","nextTextOpt","oc","lift3","prevNode","whitespaceOffset","mergeTextNodes","normalizeWhitespaceBefore","DeleteElement","moveCaret","afterDeletePos","normalizedAfterDeletePos","isInlineElement","paddPos","read$2","hideFakeCaret","deleteElement$1","selectedElement","CefDelete","ceRoot","getContentEditableRoot","isText$8","startsWithCaretContainer$1","endsWithCaretContainer$1","createZwsp","insertInline$1","insertBefore$1","insertAfter$1","insertInlineBefore","insertInlineAfter","insertInlinePos","isPosCaretContainer","caretNode","BoundaryCaret","LazyEvaluator","fns","Location","rescope","nPos","isNotInsideFormatCaretContainer","findInsideRootInline","after$2","isValidLocation","readLocation","getName","outside","betweenInlines","fromInline","toInline","skipNoMovement","fromLocation","toLocation","location2","location1","findLocationSimple","findLocation","findLocationTraverse","BoundaryLocation","hasSelectionModifyApi","getSel","modify","WordSelection","setCaretPosition","isFeatureEnabled","inline_boundaries","renderCaretLocation","moveWord","moveNextWord","movePrevWord","BoundarySelection","findLocation$1","setupSelectedState","selectedInlines","targetInlines","toggleInlines","composing","safeRemoveCaretContainer","inlines","renderInsideInlineCaret","setCaretLocation","deleteFromTo","rangeFromPositions","backspaceDeleteCollapsed","rescope$1","toPosition","hasOnlyTwoOrLessPositionsLeft","InlineBoundaryDelete","isFeatureEnabled$1","tableCellRng","tableSelection","removeTable","emptyCells","getClosestCell","getClosestTable","isExpandedCellRng","cellRng","getTableFromCellRng","startParentTable","endParentTable","getTableCells","partialSelection","endCell","isWithinSameTable","getCellRangeFromStartTable","getTableSelectionFromRng","isRootFromElement","getCellRng","getTableSelectionFromCellRng","getCellIndex","getAction","getSelectedCells","TableDeleteAction","MultiRange","getCellsFromRanges","getCellsFromElement","getCellsFromElementOrRanges","rangeCells","TableCellSelection","deleteTableElement","deleteTableRange","startElm","getParentCaption","deleteCellRange","emptyElement","deleteCaptionRange","getParentCell","deleteCaretInsideCaption","fromCaption","isDeleteOfLastCharPos","emptyCaretCaption","toCaption","validateCaretCaption","deleteCaretCells","fromCell","toCell","deleteBetweenCells","deleteCaret","deleteCaretCaption","TableDelete","deleteRange$1","isEq$2","matchesUnInheritedFormatSelector","formatList","inherit","matchParents","matchName","matchItems","similar","onmatch","MatchFormat","matchAll","startElement","matchedFormatNames","checkedMap","defaultBlock","SplitRange","ZWSP$1","CARET_ID$1","isCaretContainerEmpty","getEmptyCaretContainers","findFirstTextNode","createCaretContainer","removeCaretContainerNode","trimZwspFromCaretContainer","removeCaretContainer","insertCaretContainerNode","formatNode","appendNode","insertFormatNodesIntoCaretContainer","formatNodes","innerMostFormatNode","setup$2","disableCaretContainer","isFormatElement","hasOnlyOneChild$1","deleteLastPosition","parentInlines","isFormatElement$1","innerMost","replaceWithCaretFormat","deleteCaret$1","getParentInlines","InlineFormatDelete","getPos$1","ScrollIntoView","alignToTop","viewPort","viewPortY","viewPortH","offsetY","scrollEvent","fireScrollIntoViewEvent","rngRect","bodyRect","isContentEditableTrue$2","isContentEditableFalse$6","showCaret","getNodeRange","renderCaretAtRange","caretPositionNode","caretPositionBeforeNode","renderRangeCaret","caretRange","moveToRange","deleteContentAndShowCaret","peekCaretPosition","trimEmptyTextNode$1","CefBoundaryDelete","getNextVisualCaretPosition","getPrevVisualCaretPosition","getNextPosFn","isBeforeContentEditableFalseFn","nextCaretPosition","deleteCefBoundaryText","nativeCommand","DeleteCommands","getSpecifiedFontProp","getProperty","getFontProp","getComputedFontProp","FontInfo","getFontSize","getFontFamily","round$1","findFirstCaretElement","getCaretElement","isRangeAtStartOfNode","fromFontSizeNumber","fontSizeNumber","fontClasses","RangeCompare","rng1","hasParent","findParent","hasParentWithName","isTable$2","isTableCell$3","isCeFalseCaretContainer","hasBrBeforeAfter","findTextNodeRelative","isAfterNode","lastInlineElement","parentBlockContainer","normalizeEndPoint","directionLeft","hasContentEditableFalseParent","isPrevNode","NormalizeRange","normRng","scrollToBr","brElm","moveSelectionToBr","extraBr","insertBrAtCaret","isAfterLastNodeInContainer","containerBlock","containerBlockName","isControlKey","hasRightSideContent","insertBrBefore","insertBrAfter","hasBrAfter","isAnchorLink","isInsideAnchor","insertBrOutsideAnchor","InsertBr","anchorLocation","readInlineAnchorLocation","browser$3","normalizeRng","isOrContains","isRngInRoot","shouldStore","nativeRangeToSelectionRange","getBookmark$2","bookmarkToNativeRng","SelectionBookmark","newBookmark","isListComponent","getBlocksToIndent","parentIsListComponent","indentUnit","indentValue","useMargin","indentStyleName","indentElement","each$a","extend$2","map$3","inArray$2","EditorCommands","addCommands","commandList","addQueryValueHandler","customCommand","skip_focus","queryCommandSupported","hasCustomCommand","execNativeCommand","isFormatMatch","storeSelection","restoreSelection","queryCommandEnabled","listParent","fontNameAction","fontSizeAction","editingHost","alignStates","Undo","Redo","fontNameQuery","fontSizeQuery","Dispatcher","bindingName","hi","beforeFire","customEventRootDelegates","toggleNativeEvent","Observable","setEditorCommandState","toggleReadOnly","hideResizeRect","getMode","getEventTarget","eventName","event_root","eventRoot","fireEvent","isListening","bindEventDelegate","eventRootElm","delegates","editorManager","editors","EditorObservable","bindPendingEventDelegates","_pendingNativeEvents","unbindAllNativeEvents","EditorObservable$1","sectionResult","mobilePlugins","defaultMobileSettings","normalizePlugins","pluginNames","trimmedPlugins","extractSections","hasSection","sections","getExternalPlugins","overrideSettings","userDefinedExternalPlugins","external_plugins","processPlugins","isTouchDevice","defaultOverrideSettings","forcedPlugins","combinedPlugins","combinePlugins","filterMobilePlugins","combineSettings","defaultSettings","extendedSettings","isOnMobile","sectionSettings","getSection","getFiltered","getParamObject","each$b","explode$2","keyCodeLookup","f1","f2","f3","f4","f5","f6","f7","f8","f9","f10","f11","f12","modifierNames","Shortcuts","pendingPatterns","parseShortcut","createShortcut","desc","cmdFunc","subpatterns","matchShortcut","executeShortcutAction","hasModifier","isFunctionKey","_doc","getFocusInElement","getCollapsedNode","normalizeSelection","normalize","focusBody","setActive","hasInlineFocus","rawBody","hasFocus$1","hasIframeFocus","activateEditor","EditorFocus","skipFocus","refreshContentEditable","contentEditableHost","getContentEditableHost","bookmarkRng","getComputedSizeProp","getClientWidth","getClientHeight","getMarginTop","getMarginLeft","EditorView","transposedPoint","getBoundingClientRect$1","isInsideElementContentArea","fromDomSafe","NotificationManager","getImplementation","unimplemented","closeNotification","otherNotification","addNotification","serviceMessage","service_message","registerEvents","getNotifications","WindowManager","funcBind","addWindow","fireOpenEvent","closeWindow","otherWindow","fireCloseEvent","getTopWindow","getWindows","I18n","setCode","newCode","_dir","getCode","langData","getLangData","$1","$2","pluginUrlToMessage","targetUrl","resolvePluginName","initError","ErrorReporter","pluginLoadError","pluginInitError","uploadError","PluginManager$1","uploadStatus","pendingPromises","handlerSuccess","handlerFailure","resolvePending","uploadBlobs","blobInfos","openNotification","isUploaded","isPending","pendingUploadBlobInfo","markPending","closeNotification_1","markUploaded","removeFailed","percent","uploadBlobInfo","parseDataUri","uriParts","decodeURIComponent","Conversions","rejectWithError","blobUriToBlob","ImageScanner","cachedPromises","getAllImages","promises","imageInfo","newPromise","dataUri","imageToBlobInfo","Uuid","rnd","EditorUpload","imageScanner","blobUriStatuses","createStatus","hasBlobUri","toBlobInfo","removeByUri","BlobCache","resultUri","getResultUri","urlFilters","aliveGuard","replaceString","replaceImageUrl","replacementUrl","replaceUrlInUndoStack","fragments","uploadImages","scanForImages","imageInfos","filteredResult","uploadInfo","replaceImageUri","isValidDataUriImage","dataImgFilter","resultItem","replaceBlobUris","addFilter","isBlockElement","isValidTarget","shouldRemoveTextNode","addRootBlocks","rootBlockNode","tempNode","rootNodeName","forcedRootBlock","hasBlockParent","ForceBlocks","getFirstChildren","getLastChildren$1","hasAllContentsSelected","getStartNode","getEndNode","moveEndPoint$1","hasAnyRanges","NodeChange","lastPath","nativeRng","fakeRng","currentPath","isSameElementPath","selectionChange","disable_nodechange","VDirection","VK","END","HOME","toArrayWithNode","getNodeClientRects","walkUntil","isAboveFn","isBeflowFn","targetClientRect","line","findUntil","upUntil","Up","downUntil","Down","isAboveLine","lineNumber","aboveLineNumber","isLine","isLineNumber","isContentEditableFalse$7","findNode$1","distanceToRectLeft","distanceToRectRight","isInside","findClosestClientRect","oldClientRect","oldDistance","newDistance","walkUntil$1","closestCaret","closestNodeRect","contentEditableFalseNodeRects","getFakeCaretTargets","targetNodeRects","targetNodeRect","checkPosFn","lineRects","findLineNodeRects","caretInfo","RangePoint","getAbsolutePosition","MousePosition","bodyPosition","getBodyPosition","scrollPosition","getScrollPosition","mousePosition","iframePosition","inlineScroll","iframeScroll","getBodyScroll","getMousePosition","isContentEditableFalse$8","isContentEditableTrue$3","removeElement","start$1","isLeftMouseButtonPressed","ceElm","elmPos","relX","relY","ghost","clonedElm","ghostElm","boxSizing","createGhost","dragging","targetElement","dragElement","isValidDropTarget","targetClone_1","cloneElm","targetClone","removeDragState","bindFakeDragEvents","pageDom","dragStartHandler","dragHandler","dropHandler","dragEndHandler","rootDocument","throttledPlaceCaretAt","placeCaretAt","hasDraggableElement","applyRelPos","moveGhost","move$1","DragDropOverrides","realTarget","blockIeDrop","CefFocus","renderFocusCaret","isContentEditableTrue$4","isContentEditableFalse$9","getContentEditableRoot$1","SelectionOverrides","selectedContentEditableNode","rootClass","fakeCaret","realSelectionId","setRange","getRange","isWithinCaretContainer","isRangeInCaretContainer","normalizeShortEndedElementSelection","setContentEditableSelection","$realSelectionContainer","origTargetClone","removeContentEditableSelection","contentEditableRoot","hasBetterMouseTarget","targetBlock","caretBlock","hasNormalCaretPosition","handleTouchSelect","isPasteBin","realSelectionElement","outerText","contentStyles","blockCaretContainer","trimComments","sanitizedText","findEndTagIndex","tokenRegExp","checkBogusAttribute","attrString","SaxParser","fix_self_closing","endRegExp","attrList","textData","isInternalElement","removeInternalElements","fillAttrsMap","isShortEnded","isValidElement","attribsValue","validAttributesMap","validAttributePatterns","processHtml","selfClosing","attrRegExp","fixSelfClosing","stack","filteredUrlAttrs","scriptUriRegExp","processEndTag","valid","parseAttribute","val3","attrRule","isValidPrefixAttrName","isInvalidUri","self_closing_elements","remove_internals","bogusValue","findEndTag","SaxParser$1","trimInternal","endTagIndex","matchLength","bogusAllRegExp","tempAttrs","trimContentRegExp","getTempAttrs","TrimHtml","trimExternal","Diff","vDown","vUp","buildScript","start1","end1","start2","end2","getMiddleSnake","diag","i2","buildSnake","snake","sum","getOuterHtml","insertAt","createFragment$1","Fragments","currentFragments","removeAt","applyDiff","undoLevelDocument","createFragmentedLevel","beforeBookmark","createCompleteLevel","getLevelContent","getCleanLevelContent","implementation","createHTMLDocument","Levels","trimmedFragments","trimmed","level1","level2","hasEqualContent","hasEqualCleanedContent","UndoManager","isFirstTypedCharacter","locks","isUnlocked","setTyping","typing","addNonTypingUndoLevel","endTyping","beforeChange","modKey","inputType","isInsertTextDataNull","currentLevel","custom_undo_redo_levels","hasUndo","hasRedo","callback1","callback2","postProcessHooks","filter$2","each$c","addPostProcessHook","isPre","pre","pre1","pre2","Hooks","MCE_ATTR_RE","each$d","isEq$5","isChildOfInlineParent","lastIdx","wrap$2","wrapWithSiblings","find$3","removeFormat","compareNode","stylesModified","matchName$1","links","isColorFormatAndAnchor","remove_similar","valueOut","rootBlockElm","list_block","removeNode$1","RemoveFormat","splitToFormatRoot","formatRoot","findFormatRoot","lastClone","firstClone","formatRootParent","mixed","wrapAndSplit","lastContentEditable","isRemoveBookmarkNode","removeRngStyle","isTableCell$4","hasContentAfter","expandedRng","newCaretContainer","removeCaretFormat","ceFalseOverride","each$e","isElementNode","findElementSibling","mergeSiblingsNodes","tmpSibling","elementUtils","processChildElements","hasStyle","applyStyle","unwrapEmptySpan","processUnderlineAndColor","MergeFormats","clear_child_styles","clearChildStyles","merge_siblings","merge_with_parents","each$f","applyFormat","setElementFormat","onformat","styleVal","applyNodeStyle","applyRngStyle","nodeSpecific","wrapElm","currentWrapElm","childCount","getChildElementNode","isElementNode$1","getChildCount","mergeStyles","wordcharRegex","importNode","applyCaretFormat","curSelNode","ApplyFormat","each$g","FormatChanged","formatChangeState","formatChangeData","currentFormats","matchedFormats","setup$5","formatChangeItems","addListeners","DefaultFormats","valigntop","verticalAlign","valignmiddle","valignbottom","textAlign","fontsize_class","each$h","parsedSelectorToHtml","ancestry","sItem","wrapInHtml","parentCandidate","parentRequired","ancestorName","elmRule","getRequiredParent","siblingElm","parseSelectorItem","$0","$3","$4","parseSelector","Preview","previewFrag","previewElm","parentFontSize","previewStyles","previewCss","preview_styles","removeVars","ToggleFormat","FormatShortcuts","Formatter","unregister","FormatRegistry","hasOwnProperty$2","DomSerializerFilters","htmlParser","internalName","cleanup","hasChildren","brNode1","brNode2","DomSerializerPreProcess","shouldFireEvent","impl","oldDoc","addFontToSpansFilter","removeAttrs","addFilters","convert_fonts_to_spans","font_size_legacy_values","addStrikeToSpanFilter","LegacyFilter","whiteSpaceRegExp$3","typeLookup","walk$2","Node$1","selfAttrs","selfAttr","cloneAttrs","refNode","paddEmptyNode","padd_empty_with_br","hasOnlyChild","isEmpty$2","whitespaceElements","isPadded","makeMap$4","each$i","explode$3","extend$3","DomParser","nodeFilters","attributeFilters","matchedNodes","matchedAttributes","filterNode","getAttributeFilters","getNodeFilters","isInWhiteSpacePreservedElement","invalidChildren","rootBlockName","startWhiteSpaceRegExp","endWhiteSpaceRegExp","allWhiteSpaceRegExp","isAllWhiteSpaceRegExp","createNode","removeWhitespaceBefore","textNodeNext","textVal","cloneAndExcludeBlocks","isLineBreakNode","attrFiltersLen","isPaddedWithNbsp","newParent","childNode","nonSplitableElements","textBlockElements","fixInvalidChildren","remove_trailing_brs","prevName","appendRel","allow_html_in_named_anchor","fix_list_elements","classValue","validClassesMap","register$2","toHtml","serializeNode","postProcess$1","DomSerializer","getInner","getHtmlFromNode","parseHtml","addRules","setRules","DomSerializer$1","domSerializer","BookmarkManager","BreakType","BookmarkManager$1","isContentEditableFalse$a","isContentEditableTrue$5","ControlSelection","selectedElmGhost","resizeHelper","resizeHandles","selectedHandle","selectedElmX","selectedElmY","startH","resizeStarted","startScrollWidth","startScrollHeight","editableDoc","nw","ne","se","sw","isImage","contextMenuSelectImage","isEventOnImageOutsideRange","getResizeTarget","object_resizing","resizeGhostElement","resizeHelperX","resizeHelperY","resize_img_proportional","endGhostResize","setSizeProp","showResizeRect","targetWidth","targetHeight","unbindResizeHandleEvents","unSelectabe","updateResizeRect","controlElm","isChildOrEqual","disableGeckoResize","isWithinContentEditableFalse","getContentEditableRoot$2","delayedSelect","throttledUpdateResizeRect","hasCeProperty","CaretRangeFromPoint","pointDoc","createTextRange","moveToPoint","moveToElementText","findClosestIeRange","findParent$1","moveOutOfContentEditableFalse","EventProcessRanges","fromElements","tableModel","tableRow","cellPosition","cellExists","findElementPos","extractRows","sx","sy","ey","SimpleTableModel","y2","x2","fillout","skipCellsX","tableElement","tableBody","createDomTable","modelRowsToDomRows","endElement","subTable","getFullySelectedListWrappers","findParentListContainer","listCont","getWrapElements","commonAnchorContainer","wrapElements","listWrappers","allWrappers","directListWrappers","emptyFragment","getFragmentFromRange","innerElm","getTableFragment","selectedTableCells","firstCell","fullTableModel","sectionedTableModel","FragmentReader","getSelectionFragment","GetSelectionContent","bin","tmpElm","getHtmlContent","SetSelectionContent","contentArgs","setupArgs","cleanContent","createContextualFragment","anyRng","pasteHTML","getEndpointElement","real","getStart$2","skipEmptyTextNodes","forwards","orig","each$j","isNativeIeSelection","isAttachedToDom","Selection$1","bookmarkManager","selectedRange","explicitRange","selectorChangedData","tryCompareBoundaryPoints","how","sourceRange","destinationRange","compareBoundaryPoints","START_TO_START","END_TO_END","isValidRange","ieRange","anchorRange","focusRange","select$1","compareEndPoints","setNode","endElm","currentSelectors","matchedSelectors","walk$3","getBreakType","currentPos","Br","Block","Wrap","getPositionsUntil","breakType","breakAt","Eol","getAdjacentLinePositions","getPositionsUntilBreak","findClosestHorizontalPositionFromPoint","lastDist","findClosestHorizontalPosition","getPositionsUntilPreviousLine","getPositionsUntilNextLine","getPositionsAbove","getPositionsBelow","isContentEditableFalse$b","getSelectedNode$1","moveToCeFalseHorizontally","rangeIsInContainerBlock","isRangeInCaretContainerBlock","moveToCeFalseVertically","walkerFn","linePositions","nextLinePositions","closestNextLineRect","caretClientRect","dist1","dist2","contentEditableFalseNode","caretPositions","isBelowFn","getClientRect","positionsUntil","exitPreBlock","moveH","newRange","getHorizontalRange","moveV","getVerticalRange","moveToLineEndPoint","isCefPosition","getClosestCell$1","getYAxisValue","isTargetCorner","corners","tds","deflate","getCorners","corner","newCorner","oldCorner","oldDist","newDist","findClosestCorner","getClosestCellAbove","getClosestCellBelow","findClosestPositionInAboveCell","findClosestPositionInBelowCell","isAtTableCellLine","lineInfo","startsWithWrapBreak","startsWithBrBreak","breakPos","hasNextBreak","isAtFirstTableCellLine","isAtLastTableCellLine","navigateHorizontally","isCaretAtStartOrEndOfTable","getTable","renderBlock","navigateVertically","getClosestAbovePosition","getClosestBelowPosition","moveH$1","moveV$1","rangeBefore","insertElement","insertEmptyLine","insertBr","insertBlock$1","isAtFirstOrLastLine","isAtLastLine","isAtFirstLine","moveCaretToNewEmptyLine","rootBlock","rootBlockAttrs","getClosestTargetBlock","moveV$2","match$1","matchesEvent","MatchKeys","ArrowKeys","executeKeydownOverride","DeleteBackspaceKeys","executeKeydownOverride$1","executeKeyupOverride","getParentBlock$2","NewLineUtils","firstNonWhiteSpaceNodeSibling","tempElm","editableRoot","hasParent$1","isListBlock","getContainerBlock","containerBlockParent","isFirstOrLastLi","InsertLi","createNewBlock","newBlockName","hasFirstChild","isEmptyAnchor","emptyBlock","containerAndSiblingName","canSplitBlock","normalizeZwspOffset","getEditableRoot$1","applyAttributes","forcedRootBlockAttrs","attrStyles","currentStyles","ruleName","getAllRaw","newStyles","attrClassesOpt","attrClasses","currentClassesOpt","currentClasses","filteredClasses","newClasses","appliedAttrs","remainingAttrs","setForcedBlockAttrs","InsertBlock","parentBlockName","clonedNode","isCaretAtStartOrEndOfBlock","normalizedOffset","insertNewBlockAfter","isTableCell$5","wrapSelfAndSiblingsInDefaultBlock","includeZwspInRange","trimZwsp","trimLeadingLineBreaks","firstChilds","trimInlineElementsOnLeftSideOfBlock","addBrToBlockIfNeeded","ContextSelectors","newLineAction","shouldBlockNewLine$1","isBrMode","requiredState","inListBlock","inPreBlock","shouldPutBrInPre$1","inBrContext","canInsertIntoEditableRoot","rootEditable","match$2","predicates","NewLineAction","InsertNewLine","EnterKey","handleEnterKeyEvent","insertTextAtPosition","insertNbspAtPosition","insertSpaceAtPosition","navigateIgnoreEmptyTextNodes","getClosestBlock","isAtBeforeAfterBlockBoundary","isAtBlockBoundary","isAtStartOfBlock","isAtEndOfBlock","isBeforeBlock","isAfterBlock","isInMiddleOfText","getClosestBlock$1","hasSpaceBefore","hasSpaceAfter","isInPre","isPreValue","isAtLineBoundary","isAtBeginningOfBody","isAtEndOfBody","needsToBeNbspRight","afterPos","needsToBeNbsp","needsToBeNbspLeft","isNbspAt","hasNbsp","normalizeNbspInMiddleOfTextNode","newText","normalizeNbspMiddle","normalizeNbsps","normalizeNbspAtStart","normalizeNbspAtEnd","normalizeNbspsInEditor","insertInlineBoundarySpaceOrNbsp","checkPos","needsToHaveNbsp","insertSpaceOrNbspAtSelection","locationToCaretPosition","setSelection$1","SpaceKey","executeKeydownOverride$2","removeIeControlRect","handleBlockContainer","findBlockCaretContainer","CaretContainerInput","browser$4","setup$c","keypressThrotter","setupIeInput","isComposing","HomeEndKeys","executeKeydownOverride$3","KeyboardOverrides","serializeRng","getAttributeApplyFunction","isSelectionAcrossElements","isGecko","isWebKit","mceInternalUrlPrefix","mceInternalDataType","selectAll","disableBackspaceIntoATable","bodyHeight","allRng","allContentsSelected","selectionHtml","internalContent","setMceInternalContent","getMceInternalContent","setAttributeNode","isTextBlockNode","setup$f","normalizeSelection$1","setup$g","preventSummaryToggle","filterDetails","initEditor","auto_focus","destroyed","autoFocus","InitContentBody","skipWrite","contentCssText","orgVisibility","iframeHTML","content_document","content_window","bodyElement","hex_colors","force_hex_style_colors","class_filter","createParser","annotator","_nodeChangeDispatcher","browser_spellcheck","gecko_spellcheck","nowrap","getStyleSheetLoader","content_style","appendStyle","normalizeHeight","normalizedHeight","createIframe","customAttrs","frameBorder","allowTransparency","createIframeElement","isDomainRelaxed","domain","hostname","bodyUuid","domainRelaxUrl","relaxDomain","contentAreaContainer","documentBaseUrl","InitIframe","boxInfo","orgDisplay","DOM$4","initPlugin","initializedPlugins","Plugin","pluginInstance","trimLegacyPrefix","createThemeFalseResult","renderThemeFalse","renderThemeFalseIframe","renderThemeUi","min_height","delta_width","delta_height","renderFromLoadedTheme","renderFromThemeFunc","Init","rtl_ui","i18n","aria_label","Theme","initTheme","initPlugins","content_css","DOM$5","hasSkipLoadPrefix","scriptLoader","themeUrl","theme_url","loadTheme","language_url","loadLanguage","loadPlugins","form","formElement","hidden_input","hasHiddenInput","formEventDelegate","submit_patch","_mceOldSubmit","triggerSave","encoding","add_form_submit_trigger","add_unload_trigger","_beforeUnload","set_dirty","each$k","trim$4","queryParts","DEFAULT_PORTS","ftp","http","https","mailto","URI","baseUri","base_uri","isProtocolRelative","protocol","toAbsPath","part","userInfo","port","setPath","toRelative","tu","uu","toRelPath","noHost","isSameOrigin","defaultPort","breakPoint","outPath","nb","noProtoHost","getDocumentBaseUrl","loc","getContentFromBody","emptyRegExp","trimEmptyContents","filter$3","nodeMatches","attrMatches","findMatchingNodes","isTreeNode","setEditorHtml","setContent$1","setContentTree","padd","setContentString","DOM$6","safeDestroy","remove$7","is_removing","restoreOriginalStyles","automatic","restoreForm","clearDomReferences","DOM$7","extend$4","each$l","resolve$4","ie$2","Editor","documentBaseURL","baseURI","popup_css","document_base_url","convert_urls","relative_urls","remove_script_host","visual","render_ui","ie7_compat","getDefaultSettings","getEditorSettings","language_load","loadedCSS","editorCommands","cache_suffix","override_viewport","callbackLookup","lang_1","i18n_1","addSidebar","focusedEditor","getContent$1","isNotDirty","oldState","urlconverter_callback","visual_table_class","visual_anchor_class","documentFocusInHandler","beforeUnloadDelegate","EditorManager","FocusManager","isEditorUIElement","registerEditorEvents","throttledStore","registerFocusOut","registerMouseUp","isManualNodeChange","SelectionRestore","mouseUpPage","registerPageMouseUp","DOM$8","isEditorUIElement$1","isUIElement","customSelector","custom_ui_selector","blurredEditor","getActiveElement","unregisterDocumentEvents","FocusController","DOM$9","explode$4","each$m","extend$5","instanceCounter","boundGlobalEvents","legacyEditors","globalEventDelegate","toggleGlobalEvents","removeEditorFromList","targetEditor","oldEditors","releaseDate","preInit","tinyMCEPreInit","srcScript","currentScript","base_url","pluginBaseUrls","plugin_base_urls","invalidInlineTargets","createId","provideResults","initEditors","initCount","createEditor","forms","editor_deselector","editor_selector","findTargets","isInvalidInlineTarget","addI18n","EditorManager$1","RangeUtils","normalizedRng","compareRanges","extendClass","initializing","RangeUtils$1","round$2","create$4","constrainRect","x1","y1","fixedSize","underflowX1","underflowY1","overflowX2","overflowY2","cx2","cy2","fromClientRect","typeClass","lctype","controlType","ControlType","each$n","extend$6","Class","member","mixins","mixin","dummy","createMethod","name_1","Methods","fieldName","min$1","max$1","round$3","quote","JSON$1","JSONP","XHR","ready","success_scope","error_scope","overrideMimeType","crossDomain","requestheaders","localStorage","extend$7","JSONRequest","sendRPC","ecb","scb","storage","defineProperty","configurable","enumerable","publicApi","geom","EventDispatcher","LocalStorage","Color","saturation","chroma","hsvToRgb","minRGB","maxRGB","rgb2hsv","Serializer","isMac","Tinymce","tinyMCE","exportToWindowGlobal","exportToModuleLoaders","normalizeComponent","scriptExports","staticRenderFns","functionalTemplate","injectStyles","scopeId","moduleIdentifier","shadowMode","_compiled","functional","_scopeId","$vnode","ssrContext","__VUE_SSR_CONTEXT__","_registeredComponents","_ssrRegister","$root","$options","shadowRoot","_injectStyles","originalRender","existing","beforeCreate","listToStyles","parentId","sourceMap","hasDocument","DEBUG","stylesInDom","singletonElement","singletonCounter","isProduction","ssrIdKey","isOldIE","addStylesClient","_isProduction","addStylesToDom","mayRemove","domStyle","refs","createStyleElement","styleElement","styleIndex","applyToSingletonTag","applyToTag","newObj","textStore","replaceText","Boolean","cssNode","ssrId","components","methods","resetClickHandler","contentClickHandler","$emit","_vm","_h","$createElement","_withStripped","component","__file","$$v","_v","_s","locals","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","definition","globalThis","Symbol","toStringTag"],"sourceRoot":""}